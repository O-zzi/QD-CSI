var wP=e=>{throw TypeError(e)};var j0=(e,t,r)=>t.has(e)||wP("Cannot "+r);var B=(e,t,r)=>(j0(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?wP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(j0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ht=(e,t,r)=>(j0(e,t,"access private method"),r);var Vp=(e,t,r,n)=>({set _(s){Pe(e,t,s,r)},get _(){return B(e,t,n)}});function wz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _$={exports:{}},hx={},k$={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=Symbol.for("react.element"),jz=Symbol.for("react.portal"),Nz=Symbol.for("react.fragment"),Sz=Symbol.for("react.strict_mode"),_z=Symbol.for("react.profiler"),kz=Symbol.for("react.provider"),Cz=Symbol.for("react.context"),Pz=Symbol.for("react.forward_ref"),Ez=Symbol.for("react.suspense"),Az=Symbol.for("react.memo"),Oz=Symbol.for("react.lazy"),jP=Symbol.iterator;function Tz(e){return e===null||typeof e!="object"?null:(e=jP&&e[jP]||e["@@iterator"],typeof e=="function"?e:null)}var C$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P$=Object.assign,E$={};function Md(e,t,r){this.props=e,this.context=t,this.refs=E$,this.updater=r||C$}Md.prototype.isReactComponent={};Md.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Md.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A$(){}A$.prototype=Md.prototype;function $S(e,t,r){this.props=e,this.context=t,this.refs=E$,this.updater=r||C$}var MS=$S.prototype=new A$;MS.constructor=$S;P$(MS,Md.prototype);MS.isPureReactComponent=!0;var NP=Array.isArray,O$=Object.prototype.hasOwnProperty,DS={current:null},T$={key:!0,ref:!0,__self:!0,__source:!0};function I$(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)O$.call(t,n)&&!T$.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Xm,type:e,key:i,ref:o,props:s,_owner:DS.current}}function Iz(e,t){return{$$typeof:Xm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function LS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xm}function Rz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var SP=/\/+/g;function N0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rz(""+e.key):t.toString(36)}function Fg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xm:case jz:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+N0(o,0):n,NP(s)?(r="",e!=null&&(r=e.replace(SP,"$&/")+"/"),Fg(s,t,r,"",function(u){return u})):s!=null&&(LS(s)&&(s=Iz(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(SP,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",NP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+N0(i,l);o+=Fg(i,t,r,c,s)}else if(c=Tz(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+N0(i,l++),o+=Fg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zp(e,t,r){if(e==null)return e;var n=[],s=0;return Fg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function $z(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bn={current:null},Ug={transition:null},Mz={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Ug,ReactCurrentOwner:DS};function R$(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:zp,forEach:function(e,t,r){zp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zp(e,function(){t++}),t},toArray:function(e){return zp(e,function(t){return t})||[]},only:function(e){if(!LS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=Md;yt.Fragment=Nz;yt.Profiler=_z;yt.PureComponent=$S;yt.StrictMode=Sz;yt.Suspense=Ez;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mz;yt.act=R$;yt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=P$({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=DS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O$.call(t,c)&&!T$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Xm,type:e.type,key:s,ref:i,props:n,_owner:o}};yt.createContext=function(e){return e={$$typeof:Cz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kz,_context:e},e.Consumer=e};yt.createElement=I$;yt.createFactory=function(e){var t=I$.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:Pz,render:e}};yt.isValidElement=LS;yt.lazy=function(e){return{$$typeof:Oz,_payload:{_status:-1,_result:e},_init:$z}};yt.memo=function(e,t){return{$$typeof:Az,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=Ug.transition;Ug.transition={};try{e()}finally{Ug.transition=t}};yt.unstable_act=R$;yt.useCallback=function(e,t){return Bn.current.useCallback(e,t)};yt.useContext=function(e){return Bn.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return Bn.current.useDeferredValue(e)};yt.useEffect=function(e,t){return Bn.current.useEffect(e,t)};yt.useId=function(){return Bn.current.useId()};yt.useImperativeHandle=function(e,t,r){return Bn.current.useImperativeHandle(e,t,r)};yt.useInsertionEffect=function(e,t){return Bn.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return Bn.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return Bn.current.useMemo(e,t)};yt.useReducer=function(e,t,r){return Bn.current.useReducer(e,t,r)};yt.useRef=function(e){return Bn.current.useRef(e)};yt.useState=function(e){return Bn.current.useState(e)};yt.useSyncExternalStore=function(e,t,r){return Bn.current.useSyncExternalStore(e,t,r)};yt.useTransition=function(){return Bn.current.useTransition()};yt.version="18.3.1";k$.exports=yt;var v=k$.exports;const M=It(v),mx=wz({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz=v,Lz=Symbol.for("react.element"),Fz=Symbol.for("react.fragment"),Uz=Object.prototype.hasOwnProperty,Bz=Dz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vz={key:!0,ref:!0,__self:!0,__source:!0};function $$(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Uz.call(t,n)&&!Vz.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Lz,type:e,key:i,ref:o,props:s,_owner:Bz.current}}hx.Fragment=Fz;hx.jsx=$$;hx.jsxs=$$;_$.exports=hx;var a=_$.exports,M$={exports:{}},ks={},D$={exports:{}},L$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,$){var H=A.length;A.push($);e:for(;0<H;){var Y=H-1>>>1,L=A[Y];if(0<s(L,$))A[Y]=$,A[H]=L,H=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var $=A[0],H=A.pop();if(H!==$){A[0]=H;e:for(var Y=0,L=A.length,K=L>>>1;Y<K;){var re=2*(Y+1)-1,ie=A[re],be=re+1,ee=A[be];if(0>s(ie,H))be<L&&0>s(ee,ie)?(A[Y]=ee,A[be]=H,Y=be):(A[Y]=ie,A[re]=H,Y=re);else if(be<L&&0>s(ee,H))A[Y]=ee,A[be]=H,Y=be;else break e}}return $}function s(A,$){var H=A.sortIndex-$.sortIndex;return H!==0?H:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=A)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function N(A){if(m=!1,w(A),!x)if(r(c)!==null)x=!0,D(j);else{var $=r(u);$!==null&&q(N,$.startTime-A)}}function j(A,$){x=!1,m&&(m=!1,y(k),k=-1),p=!0;var H=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||A&&!P());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var L=Y(f.expirationTime<=$);$=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var re=r(u);re!==null&&q(N,re.startTime-$),K=!1}return K}finally{f=null,h=H,p=!1}}var S=!1,_=null,k=-1,C=5,E=-1;function P(){return!(e.unstable_now()-E<C)}function R(){if(_!==null){var A=e.unstable_now();E=A;var $=!0;try{$=_(!0,A)}finally{$?O():(S=!1,_=null)}}else S=!1}var O;if(typeof g=="function")O=function(){g(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,T=I.port2;I.port1.onmessage=R,O=function(){T.postMessage(null)}}else O=function(){b(R,0)};function D(A){_=A,S||(S=!0,O())}function q(A,$){k=b(function(){A(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,D(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var H=h;h=$;try{return A()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=h;h=A;try{return $()}finally{h=H}},e.unstable_scheduleCallback=function(A,$,H){var Y=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,A){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,A={id:d++,callback:$,priorityLevel:A,startTime:H,expirationTime:L,sortIndex:-1},H>Y?(A.sortIndex=H,t(u,A),r(c)===null&&A===r(u)&&(m?(y(k),k=-1):m=!0,q(N,H-Y))):(A.sortIndex=L,t(c,A),x||p||(x=!0,D(j))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var $=h;return function(){var H=h;h=$;try{return A.apply(this,arguments)}finally{h=H}}}})(L$);D$.exports=L$;var qz=D$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zz=v,Ns=qz;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F$=new Set,wh={};function yc(e,t){Hu(e,t),Hu(e+"Capture",t)}function Hu(e,t){for(wh[e]=t,e=0;e<t.length;e++)F$.add(t[e])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nj=Object.prototype.hasOwnProperty,Wz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_P={},kP={};function Hz(e){return nj.call(kP,e)?!0:nj.call(_P,e)?!1:Wz.test(e)?kP[e]=!0:(_P[e]=!0,!1)}function Kz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gz(e,t,r,n){if(t===null||typeof t>"u"||Kz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new Vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pn[t]=new Vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new Vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new Vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new Vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new Vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new Vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new Vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new Vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var FS=/[\-:]([a-z])/g;function US(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(FS,US);pn[t]=new Vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(FS,US);pn[t]=new Vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(FS,US);pn[t]=new Vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new Vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function BS(e,t,r,n){var s=pn.hasOwnProperty(t)?pn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gz(t,r,s,n)&&(r=null),n||s===null?Hz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Li=zz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wp=Symbol.for("react.element"),nu=Symbol.for("react.portal"),su=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),sj=Symbol.for("react.profiler"),U$=Symbol.for("react.provider"),B$=Symbol.for("react.context"),qS=Symbol.for("react.forward_ref"),aj=Symbol.for("react.suspense"),ij=Symbol.for("react.suspense_list"),zS=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),V$=Symbol.for("react.offscreen"),CP=Symbol.iterator;function pf(e){return e===null||typeof e!="object"?null:(e=CP&&e[CP]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,S0;function Uf(e){if(S0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S0=t&&t[1]||""}return`
`+S0+e}var _0=!1;function k0(e,t){if(!e||_0)return"";_0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{_0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uf(e):""}function Yz(e){switch(e.tag){case 5:return Uf(e.type);case 16:return Uf("Lazy");case 13:return Uf("Suspense");case 19:return Uf("SuspenseList");case 0:case 2:case 15:return e=k0(e.type,!1),e;case 11:return e=k0(e.type.render,!1),e;case 1:return e=k0(e.type,!0),e;default:return""}}function oj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case su:return"Fragment";case nu:return"Portal";case sj:return"Profiler";case VS:return"StrictMode";case aj:return"Suspense";case ij:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B$:return(e.displayName||"Context")+".Consumer";case U$:return(e._context.displayName||"Context")+".Provider";case qS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zS:return t=e.displayName||null,t!==null?t:oj(e.type)||"Memo";case Xi:t=e._payload,e=e._init;try{return oj(e(t))}catch{}}return null}function Qz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oj(t);case 8:return t===VS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xz(e){var t=q$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hp(e){e._valueTracker||(e._valueTracker=Xz(e))}function z$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ov(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lj(e,t){var r=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function PP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W$(e,t){t=t.checked,t!=null&&BS(e,"checked",t,!1)}function cj(e,t){W$(e,t);var r=Io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uj(e,t.type,r):t.hasOwnProperty("defaultValue")&&uj(e,t.type,Io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uj(e,t,r){(t!=="number"||ov(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bf=Array.isArray;function wu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Io(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function AP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(Bf(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Io(r)}}function H$(e,t){var r=Io(t.value),n=Io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function OP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kp,G$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kp=Kp||document.createElement("div"),Kp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zz=["Webkit","ms","Moz","O"];Object.keys(Jf).forEach(function(e){Zz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jf[t]=Jf[e]})});function Y$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jf.hasOwnProperty(e)&&Jf[e]?(""+t).trim():t+"px"}function Q$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Y$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Jz=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hj(e,t){if(t){if(Jz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function mj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pj=null;function WS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gj=null,ju=null,Nu=null;function TP(e){if(e=ep(e)){if(typeof gj!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=xx(t),gj(e.stateNode,e.type,t))}}function X$(e){ju?Nu?Nu.push(e):Nu=[e]:ju=e}function Z$(){if(ju){var e=ju,t=Nu;if(Nu=ju=null,TP(e),t)for(e=0;e<t.length;e++)TP(t[e])}}function J$(e,t){return e(t)}function eM(){}var C0=!1;function tM(e,t,r){if(C0)return e(t,r);C0=!0;try{return J$(e,t,r)}finally{C0=!1,(ju!==null||Nu!==null)&&(eM(),Z$())}}function Nh(e,t){var r=e.stateNode;if(r===null)return null;var n=xx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var vj=!1;if(Si)try{var gf={};Object.defineProperty(gf,"passive",{get:function(){vj=!0}}),window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{vj=!1}function e9(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var eh=!1,lv=null,cv=!1,yj=null,t9={onError:function(e){eh=!0,lv=e}};function r9(e,t,r,n,s,i,o,l,c){eh=!1,lv=null,e9.apply(t9,arguments)}function n9(e,t,r,n,s,i,o,l,c){if(r9.apply(this,arguments),eh){if(eh){var u=lv;eh=!1,lv=null}else throw Error(pe(198));cv||(cv=!0,yj=u)}}function xc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IP(e){if(xc(e)!==e)throw Error(pe(188))}function s9(e){var t=e.alternate;if(!t){if(t=xc(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return IP(s),e;if(i===n)return IP(s),t;i=i.sibling}throw Error(pe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function nM(e){return e=s9(e),e!==null?sM(e):null}function sM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sM(e);if(t!==null)return t;e=e.sibling}return null}var aM=Ns.unstable_scheduleCallback,RP=Ns.unstable_cancelCallback,a9=Ns.unstable_shouldYield,i9=Ns.unstable_requestPaint,jr=Ns.unstable_now,o9=Ns.unstable_getCurrentPriorityLevel,HS=Ns.unstable_ImmediatePriority,iM=Ns.unstable_UserBlockingPriority,uv=Ns.unstable_NormalPriority,l9=Ns.unstable_LowPriority,oM=Ns.unstable_IdlePriority,px=null,La=null;function c9(e){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(px,e,void 0,(e.current.flags&128)===128)}catch{}}var ha=Math.clz32?Math.clz32:f9,u9=Math.log,d9=Math.LN2;function f9(e){return e>>>=0,e===0?32:31-(u9(e)/d9|0)|0}var Gp=64,Yp=4194304;function Vf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Vf(l):(i&=o,i!==0&&(n=Vf(i)))}else o=r&~s,o!==0?n=Vf(o):i!==0&&(n=Vf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ha(t),s=1<<r,n|=e[r],t&=~s;return n}function h9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ha(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=h9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lM(){var e=Gp;return Gp<<=1,!(Gp&4194240)&&(Gp=64),e}function P0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ha(t),e[t]=r}function p9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ha(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function KS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ha(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function cM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uM,GS,dM,fM,hM,bj=!1,Qp=[],bo=null,wo=null,jo=null,Sh=new Map,_h=new Map,no=[],g9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $P(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Sh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(t.pointerId)}}function vf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ep(t),t!==null&&GS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function v9(e,t,r,n,s){switch(t){case"focusin":return bo=vf(bo,e,t,r,n,s),!0;case"dragenter":return wo=vf(wo,e,t,r,n,s),!0;case"mouseover":return jo=vf(jo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Sh.set(i,vf(Sh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,_h.set(i,vf(_h.get(i)||null,e,t,r,n,s)),!0}return!1}function mM(e){var t=wl(e.target);if(t!==null){var r=xc(t);if(r!==null){if(t=r.tag,t===13){if(t=rM(r),t!==null){e.blockedOn=t,hM(e.priority,function(){dM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);pj=n,r.target.dispatchEvent(n),pj=null}else return t=ep(r),t!==null&&GS(t),e.blockedOn=r,!1;t.shift()}return!0}function MP(e,t,r){Bg(e)&&r.delete(t)}function y9(){bj=!1,bo!==null&&Bg(bo)&&(bo=null),wo!==null&&Bg(wo)&&(wo=null),jo!==null&&Bg(jo)&&(jo=null),Sh.forEach(MP),_h.forEach(MP)}function yf(e,t){e.blockedOn===t&&(e.blockedOn=null,bj||(bj=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,y9)))}function kh(e){function t(s){return yf(s,e)}if(0<Qp.length){yf(Qp[0],e);for(var r=1;r<Qp.length;r++){var n=Qp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bo!==null&&yf(bo,e),wo!==null&&yf(wo,e),jo!==null&&yf(jo,e),Sh.forEach(t),_h.forEach(t),r=0;r<no.length;r++)n=no[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<no.length&&(r=no[0],r.blockedOn===null);)mM(r),r.blockedOn===null&&no.shift()}var Su=Li.ReactCurrentBatchConfig,fv=!0;function x9(e,t,r,n){var s=Ft,i=Su.transition;Su.transition=null;try{Ft=1,YS(e,t,r,n)}finally{Ft=s,Su.transition=i}}function b9(e,t,r,n){var s=Ft,i=Su.transition;Su.transition=null;try{Ft=4,YS(e,t,r,n)}finally{Ft=s,Su.transition=i}}function YS(e,t,r,n){if(fv){var s=wj(e,t,r,n);if(s===null)L0(e,t,n,hv,r),$P(e,n);else if(v9(s,e,t,r,n))n.stopPropagation();else if($P(e,n),t&4&&-1<g9.indexOf(e)){for(;s!==null;){var i=ep(s);if(i!==null&&uM(i),i=wj(e,t,r,n),i===null&&L0(e,t,n,hv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else L0(e,t,n,null,r)}}var hv=null;function wj(e,t,r,n){if(hv=null,e=WS(n),e=wl(e),e!==null)if(t=xc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hv=e,null}function pM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o9()){case HS:return 1;case iM:return 4;case uv:case l9:return 16;case oM:return 536870912;default:return 16}default:return 16}}var vo=null,QS=null,Vg=null;function gM(){if(Vg)return Vg;var e,t=QS,r=t.length,n,s="value"in vo?vo.value:vo.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Vg=s.slice(e,1<n?1-n:void 0)}function qg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xp(){return!0}function DP(){return!1}function Cs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xp:DP,this.isPropagationStopped=DP,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xp)},persist:function(){},isPersistent:Xp}),t}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XS=Cs(Dd),Jm=lr({},Dd,{view:0,detail:0}),w9=Cs(Jm),E0,A0,xf,gx=lr({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xf&&(xf&&e.type==="mousemove"?(E0=e.screenX-xf.screenX,A0=e.screenY-xf.screenY):A0=E0=0,xf=e),E0)},movementY:function(e){return"movementY"in e?e.movementY:A0}}),LP=Cs(gx),j9=lr({},gx,{dataTransfer:0}),N9=Cs(j9),S9=lr({},Jm,{relatedTarget:0}),O0=Cs(S9),_9=lr({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),k9=Cs(_9),C9=lr({},Dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P9=Cs(C9),E9=lr({},Dd,{data:0}),FP=Cs(E9),A9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T9[e])?!!t[e]:!1}function ZS(){return I9}var R9=lr({},Jm,{key:function(e){if(e.key){var t=A9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZS,charCode:function(e){return e.type==="keypress"?qg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$9=Cs(R9),M9=lr({},gx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UP=Cs(M9),D9=lr({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZS}),L9=Cs(D9),F9=lr({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),U9=Cs(F9),B9=lr({},gx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V9=Cs(B9),q9=[9,13,27,32],JS=Si&&"CompositionEvent"in window,th=null;Si&&"documentMode"in document&&(th=document.documentMode);var z9=Si&&"TextEvent"in window&&!th,vM=Si&&(!JS||th&&8<th&&11>=th),BP=" ",VP=!1;function yM(e,t){switch(e){case"keyup":return q9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var au=!1;function W9(e,t){switch(e){case"compositionend":return xM(t);case"keypress":return t.which!==32?null:(VP=!0,BP);case"textInput":return e=t.data,e===BP&&VP?null:e;default:return null}}function H9(e,t){if(au)return e==="compositionend"||!JS&&yM(e,t)?(e=gM(),Vg=QS=vo=null,au=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vM&&t.locale!=="ko"?null:t.data;default:return null}}var K9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K9[e.type]:t==="textarea"}function bM(e,t,r,n){X$(n),t=mv(t,"onChange"),0<t.length&&(r=new XS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rh=null,Ch=null;function G9(e){OM(e,0)}function vx(e){var t=lu(e);if(z$(t))return e}function Y9(e,t){if(e==="change")return t}var wM=!1;if(Si){var T0;if(Si){var I0="oninput"in document;if(!I0){var zP=document.createElement("div");zP.setAttribute("oninput","return;"),I0=typeof zP.oninput=="function"}T0=I0}else T0=!1;wM=T0&&(!document.documentMode||9<document.documentMode)}function WP(){rh&&(rh.detachEvent("onpropertychange",jM),Ch=rh=null)}function jM(e){if(e.propertyName==="value"&&vx(Ch)){var t=[];bM(t,Ch,e,WS(e)),tM(G9,t)}}function Q9(e,t,r){e==="focusin"?(WP(),rh=t,Ch=r,rh.attachEvent("onpropertychange",jM)):e==="focusout"&&WP()}function X9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vx(Ch)}function Z9(e,t){if(e==="click")return vx(t)}function J9(e,t){if(e==="input"||e==="change")return vx(t)}function eW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var va=typeof Object.is=="function"?Object.is:eW;function Ph(e,t){if(va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!nj.call(t,s)||!va(e[s],t[s]))return!1}return!0}function HP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function KP(e,t){var r=HP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HP(r)}}function NM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SM(){for(var e=window,t=ov();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ov(e.document)}return t}function e_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tW(e){var t=SM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NM(r.ownerDocument.documentElement,r)){if(n!==null&&e_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=KP(r,i);var o=KP(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rW=Si&&"documentMode"in document&&11>=document.documentMode,iu=null,jj=null,nh=null,Nj=!1;function GP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nj||iu==null||iu!==ov(n)||(n=iu,"selectionStart"in n&&e_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nh&&Ph(nh,n)||(nh=n,n=mv(jj,"onSelect"),0<n.length&&(t=new XS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=iu)))}function Zp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ou={animationend:Zp("Animation","AnimationEnd"),animationiteration:Zp("Animation","AnimationIteration"),animationstart:Zp("Animation","AnimationStart"),transitionend:Zp("Transition","TransitionEnd")},R0={},_M={};Si&&(_M=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function yx(e){if(R0[e])return R0[e];if(!ou[e])return e;var t=ou[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _M)return R0[e]=t[r];return e}var kM=yx("animationend"),CM=yx("animationiteration"),PM=yx("animationstart"),EM=yx("transitionend"),AM=new Map,YP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(e,t){AM.set(e,t),yc(t,[e])}for(var $0=0;$0<YP.length;$0++){var M0=YP[$0],nW=M0.toLowerCase(),sW=M0[0].toUpperCase()+M0.slice(1);zo(nW,"on"+sW)}zo(kM,"onAnimationEnd");zo(CM,"onAnimationIteration");zo(PM,"onAnimationStart");zo("dblclick","onDoubleClick");zo("focusin","onFocus");zo("focusout","onBlur");zo(EM,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aW=new Set("cancel close invalid load scroll toggle".split(" ").concat(qf));function QP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,n9(n,t,void 0,e),e.currentTarget=null}function OM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;QP(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;QP(s,l,u),i=c}}}if(cv)throw e=yj,cv=!1,yj=null,e}function Qt(e,t){var r=t[Pj];r===void 0&&(r=t[Pj]=new Set);var n=e+"__bubble";r.has(n)||(TM(t,e,2,!1),r.add(n))}function D0(e,t,r){var n=0;t&&(n|=4),TM(r,e,n,t)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function Eh(e){if(!e[Jp]){e[Jp]=!0,F$.forEach(function(r){r!=="selectionchange"&&(aW.has(r)||D0(r,!1,e),D0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jp]||(t[Jp]=!0,D0("selectionchange",!1,t))}}function TM(e,t,r,n){switch(pM(t)){case 1:var s=x9;break;case 4:s=b9;break;default:s=YS}r=s.bind(null,t,r,e),s=void 0,!vj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function L0(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}tM(function(){var u=i,d=WS(r),f=[];e:{var h=AM.get(e);if(h!==void 0){var p=XS,x=e;switch(e){case"keypress":if(qg(r)===0)break e;case"keydown":case"keyup":p=$9;break;case"focusin":x="focus",p=O0;break;case"focusout":x="blur",p=O0;break;case"beforeblur":case"afterblur":p=O0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=LP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L9;break;case kM:case CM:case PM:p=k9;break;case EM:p=U9;break;case"scroll":p=w9;break;case"wheel":p=V9;break;case"copy":case"cut":case"paste":p=P9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UP}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,w;g!==null;){w=g;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,y!==null&&(N=Nh(g,y),N!=null&&m.push(Ah(g,N,w)))),b)break;g=g.return}0<m.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==pj&&(x=r.relatedTarget||r.fromElement)&&(wl(x)||x[_i]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?wl(x):null,x!==null&&(b=xc(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=LP,N="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=UP,N="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:lu(p),w=x==null?h:lu(x),h=new m(N,g+"leave",p,r,d),h.target=b,h.relatedTarget=w,N=null,wl(d)===u&&(m=new m(y,g+"enter",x,r,d),m.target=w,m.relatedTarget=b,N=m),b=N,p&&x)t:{for(m=p,y=x,g=0,w=m;w;w=Ic(w))g++;for(w=0,N=y;N;N=Ic(N))w++;for(;0<g-w;)m=Ic(m),g--;for(;0<w-g;)y=Ic(y),w--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ic(m),y=Ic(y)}m=null}else m=null;p!==null&&XP(f,h,p,m,!1),x!==null&&b!==null&&XP(f,b,x,m,!0)}}e:{if(h=u?lu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=Y9;else if(qP(h))if(wM)j=J9;else{j=X9;var S=Q9}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Z9);if(j&&(j=j(e,u))){bM(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&uj(h,"number",h.value)}switch(S=u?lu(u):window,e){case"focusin":(qP(S)||S.contentEditable==="true")&&(iu=S,jj=u,nh=null);break;case"focusout":nh=jj=iu=null;break;case"mousedown":Nj=!0;break;case"contextmenu":case"mouseup":case"dragend":Nj=!1,GP(f,r,d);break;case"selectionchange":if(rW)break;case"keydown":case"keyup":GP(f,r,d)}var _;if(JS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else au?yM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(vM&&r.locale!=="ko"&&(au||k!=="onCompositionStart"?k==="onCompositionEnd"&&au&&(_=gM()):(vo=d,QS="value"in vo?vo.value:vo.textContent,au=!0)),S=mv(u,k),0<S.length&&(k=new FP(k,e,null,r,d),f.push({event:k,listeners:S}),_?k.data=_:(_=xM(r),_!==null&&(k.data=_)))),(_=z9?W9(e,r):H9(e,r))&&(u=mv(u,"onBeforeInput"),0<u.length&&(d=new FP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}OM(f,t)})}function Ah(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nh(e,r),i!=null&&n.unshift(Ah(e,i,s)),i=Nh(e,t),i!=null&&n.push(Ah(e,i,s))),e=e.return}return n}function Ic(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function XP(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Nh(r,i),c!=null&&o.unshift(Ah(r,c,l))):s||(c=Nh(r,i),c!=null&&o.push(Ah(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var iW=/\r\n?/g,oW=/\u0000|\uFFFD/g;function ZP(e){return(typeof e=="string"?e:""+e).replace(iW,`
`).replace(oW,"")}function eg(e,t,r){if(t=ZP(t),ZP(e)!==t&&r)throw Error(pe(425))}function pv(){}var Sj=null,_j=null;function kj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cj=typeof setTimeout=="function"?setTimeout:void 0,lW=typeof clearTimeout=="function"?clearTimeout:void 0,JP=typeof Promise=="function"?Promise:void 0,cW=typeof queueMicrotask=="function"?queueMicrotask:typeof JP<"u"?function(e){return JP.resolve(null).then(e).catch(uW)}:Cj;function uW(e){setTimeout(function(){throw e})}function F0(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),kh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);kh(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Ld,Oh="__reactProps$"+Ld,_i="__reactContainer$"+Ld,Pj="__reactEvents$"+Ld,dW="__reactListeners$"+Ld,fW="__reactHandles$"+Ld;function wl(e){var t=e[Ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_i]||r[Ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=eE(e);e!==null;){if(r=e[Ra])return r;e=eE(e)}return t}e=r,r=e.parentNode}return null}function ep(e){return e=e[Ra]||e[_i],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function xx(e){return e[Oh]||null}var Ej=[],cu=-1;function Wo(e){return{current:e}}function Jt(e){0>cu||(e.current=Ej[cu],Ej[cu]=null,cu--)}function Ht(e,t){cu++,Ej[cu]=e.current,e.current=t}var Ro={},_n=Wo(Ro),Xn=Wo(!1),Kl=Ro;function Ku(e,t){var r=e.type.contextTypes;if(!r)return Ro;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Zn(e){return e=e.childContextTypes,e!=null}function gv(){Jt(Xn),Jt(_n)}function tE(e,t,r){if(_n.current!==Ro)throw Error(pe(168));Ht(_n,t),Ht(Xn,r)}function IM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(pe(108,Qz(e)||"Unknown",s));return lr({},r,n)}function vv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,Kl=_n.current,Ht(_n,e),Ht(Xn,Xn.current),!0}function rE(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=IM(e,t,Kl),n.__reactInternalMemoizedMergedChildContext=e,Jt(Xn),Jt(_n),Ht(_n,e)):Jt(Xn),Ht(Xn,r)}var ci=null,bx=!1,U0=!1;function RM(e){ci===null?ci=[e]:ci.push(e)}function hW(e){bx=!0,RM(e)}function Ho(){if(!U0&&ci!==null){U0=!0;var e=0,t=Ft;try{var r=ci;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ci=null,bx=!1}catch(s){throw ci!==null&&(ci=ci.slice(e+1)),aM(HS,Ho),s}finally{Ft=t,U0=!1}}return null}var uu=[],du=0,yv=null,xv=0,Is=[],Rs=0,Gl=null,mi=1,pi="";function dl(e,t){uu[du++]=xv,uu[du++]=yv,yv=e,xv=t}function $M(e,t,r){Is[Rs++]=mi,Is[Rs++]=pi,Is[Rs++]=Gl,Gl=e;var n=mi;e=pi;var s=32-ha(n)-1;n&=~(1<<s),r+=1;var i=32-ha(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,mi=1<<32-ha(t)+s|r<<s|n,pi=i+e}else mi=1<<i|r<<s|n,pi=e}function t_(e){e.return!==null&&(dl(e,1),$M(e,1,0))}function r_(e){for(;e===yv;)yv=uu[--du],uu[du]=null,xv=uu[--du],uu[du]=null;for(;e===Gl;)Gl=Is[--Rs],Is[Rs]=null,pi=Is[--Rs],Is[Rs]=null,mi=Is[--Rs],Is[Rs]=null}var bs=null,xs=null,er=!1,la=null;function MM(e,t){var r=Ms(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function nE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bs=e,xs=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bs=e,xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gl!==null?{id:mi,overflow:pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ms(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bs=e,xs=null,!0):!1;default:return!1}}function Aj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oj(e){if(er){var t=xs;if(t){var r=t;if(!nE(e,t)){if(Aj(e))throw Error(pe(418));t=No(r.nextSibling);var n=bs;t&&nE(e,t)?MM(n,r):(e.flags=e.flags&-4097|2,er=!1,bs=e)}}else{if(Aj(e))throw Error(pe(418));e.flags=e.flags&-4097|2,er=!1,bs=e}}}function sE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bs=e}function tg(e){if(e!==bs)return!1;if(!er)return sE(e),er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kj(e.type,e.memoizedProps)),t&&(t=xs)){if(Aj(e))throw DM(),Error(pe(418));for(;t;)MM(e,t),t=No(t.nextSibling)}if(sE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xs=No(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xs=null}}else xs=bs?No(e.stateNode.nextSibling):null;return!0}function DM(){for(var e=xs;e;)e=No(e.nextSibling)}function Gu(){xs=bs=null,er=!1}function n_(e){la===null?la=[e]:la.push(e)}var mW=Li.ReactCurrentBatchConfig;function bf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function rg(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aE(e){var t=e._init;return t(e._payload)}function LM(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Co(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,N){return g===null||g.tag!==6?(g=K0(w,y.mode,N),g.return=y,g):(g=s(g,w),g.return=y,g)}function c(y,g,w,N){var j=w.type;return j===su?d(y,g,w.props.children,N,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Xi&&aE(j)===g.type)?(N=s(g,w.props),N.ref=bf(y,g,w),N.return=y,N):(N=Qg(w.type,w.key,w.props,null,y.mode,N),N.ref=bf(y,g,w),N.return=y,N)}function u(y,g,w,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=G0(w,y.mode,N),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function d(y,g,w,N,j){return g===null||g.tag!==7?(g=Bl(w,y.mode,N,j),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=K0(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wp:return w=Qg(g.type,g.key,g.props,null,y.mode,w),w.ref=bf(y,null,g),w.return=y,w;case nu:return g=G0(g,y.mode,w),g.return=y,g;case Xi:var N=g._init;return f(y,N(g._payload),w)}if(Bf(g)||pf(g))return g=Bl(g,y.mode,w,null),g.return=y,g;rg(y,g)}return null}function h(y,g,w,N){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wp:return w.key===j?c(y,g,w,N):null;case nu:return w.key===j?u(y,g,w,N):null;case Xi:return j=w._init,h(y,g,j(w._payload),N)}if(Bf(w)||pf(w))return j!==null?null:d(y,g,w,N,null);rg(y,w)}return null}function p(y,g,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(w)||null,l(g,y,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wp:return y=y.get(N.key===null?w:N.key)||null,c(g,y,N,j);case nu:return y=y.get(N.key===null?w:N.key)||null,u(g,y,N,j);case Xi:var S=N._init;return p(y,g,w,S(N._payload),j)}if(Bf(N)||pf(N))return y=y.get(w)||null,d(g,y,N,j,null);rg(g,N)}return null}function x(y,g,w,N){for(var j=null,S=null,_=g,k=g=0,C=null;_!==null&&k<w.length;k++){_.index>k?(C=_,_=null):C=_.sibling;var E=h(y,_,w[k],N);if(E===null){_===null&&(_=C);break}e&&_&&E.alternate===null&&t(y,_),g=i(E,g,k),S===null?j=E:S.sibling=E,S=E,_=C}if(k===w.length)return r(y,_),er&&dl(y,k),j;if(_===null){for(;k<w.length;k++)_=f(y,w[k],N),_!==null&&(g=i(_,g,k),S===null?j=_:S.sibling=_,S=_);return er&&dl(y,k),j}for(_=n(y,_);k<w.length;k++)C=p(_,y,k,w[k],N),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?k:C.key),g=i(C,g,k),S===null?j=C:S.sibling=C,S=C);return e&&_.forEach(function(P){return t(y,P)}),er&&dl(y,k),j}function m(y,g,w,N){var j=pf(w);if(typeof j!="function")throw Error(pe(150));if(w=j.call(w),w==null)throw Error(pe(151));for(var S=j=null,_=g,k=g=0,C=null,E=w.next();_!==null&&!E.done;k++,E=w.next()){_.index>k?(C=_,_=null):C=_.sibling;var P=h(y,_,E.value,N);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(y,_),g=i(P,g,k),S===null?j=P:S.sibling=P,S=P,_=C}if(E.done)return r(y,_),er&&dl(y,k),j;if(_===null){for(;!E.done;k++,E=w.next())E=f(y,E.value,N),E!==null&&(g=i(E,g,k),S===null?j=E:S.sibling=E,S=E);return er&&dl(y,k),j}for(_=n(y,_);!E.done;k++,E=w.next())E=p(_,y,k,E.value,N),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?k:E.key),g=i(E,g,k),S===null?j=E:S.sibling=E,S=E);return e&&_.forEach(function(R){return t(y,R)}),er&&dl(y,k),j}function b(y,g,w,N){if(typeof w=="object"&&w!==null&&w.type===su&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wp:e:{for(var j=w.key,S=g;S!==null;){if(S.key===j){if(j=w.type,j===su){if(S.tag===7){r(y,S.sibling),g=s(S,w.props.children),g.return=y,y=g;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Xi&&aE(j)===S.type){r(y,S.sibling),g=s(S,w.props),g.ref=bf(y,S,w),g.return=y,y=g;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===su?(g=Bl(w.props.children,y.mode,N,w.key),g.return=y,y=g):(N=Qg(w.type,w.key,w.props,null,y.mode,N),N.ref=bf(y,g,w),N.return=y,y=N)}return o(y);case nu:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=G0(w,y.mode,N),g.return=y,y=g}return o(y);case Xi:return S=w._init,b(y,g,S(w._payload),N)}if(Bf(w))return x(y,g,w,N);if(pf(w))return m(y,g,w,N);rg(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,w),g.return=y,y=g):(r(y,g),g=K0(w,y.mode,N),g.return=y,y=g),o(y)):r(y,g)}return b}var Yu=LM(!0),FM=LM(!1),bv=Wo(null),wv=null,fu=null,s_=null;function a_(){s_=fu=wv=null}function i_(e){var t=bv.current;Jt(bv),e._currentValue=t}function Tj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _u(e,t){wv=e,s_=fu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gn=!0),e.firstContext=null)}function Vs(e){var t=e._currentValue;if(s_!==e)if(e={context:e,memoizedValue:t,next:null},fu===null){if(wv===null)throw Error(pe(308));fu=e,wv.dependencies={lanes:0,firstContext:e}}else fu=fu.next=e;return t}var jl=null;function o_(e){jl===null?jl=[e]:jl.push(e)}function UM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,o_(t)):(r.next=s.next,s.next=r),t.interleaved=r,ki(e,n)}function ki(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zi=!1;function l_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,St&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ki(e,r)}return s=n.interleaved,s===null?(t.next=t,o_(n)):(t.next=s.next,s.next=t),n.interleaved=t,ki(e,r)}function zg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,KS(e,r)}}function iE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jv(e,t,r,n){var s=e.updateQueue;Zi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(h=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=lr({},f,h);break e;case 2:Zi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ql|=o,e.lanes=o,e.memoizedState=f}}function oE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pe(191,s));s.call(n)}}}var tp={},Fa=Wo(tp),Th=Wo(tp),Ih=Wo(tp);function Nl(e){if(e===tp)throw Error(pe(174));return e}function c_(e,t){switch(Ht(Ih,t),Ht(Th,e),Ht(Fa,tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fj(t,e)}Jt(Fa),Ht(Fa,t)}function Qu(){Jt(Fa),Jt(Th),Jt(Ih)}function VM(e){Nl(Ih.current);var t=Nl(Fa.current),r=fj(t,e.type);t!==r&&(Ht(Th,e),Ht(Fa,r))}function u_(e){Th.current===e&&(Jt(Fa),Jt(Th))}var ar=Wo(0);function Nv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var B0=[];function d_(){for(var e=0;e<B0.length;e++)B0[e]._workInProgressVersionPrimary=null;B0.length=0}var Wg=Li.ReactCurrentDispatcher,V0=Li.ReactCurrentBatchConfig,Yl=0,or=null,qr=null,rn=null,Sv=!1,sh=!1,Rh=0,pW=0;function xn(){throw Error(pe(321))}function f_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!va(e[r],t[r]))return!1;return!0}function h_(e,t,r,n,s,i){if(Yl=i,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wg.current=e===null||e.memoizedState===null?xW:bW,e=r(n,s),sh){i=0;do{if(sh=!1,Rh=0,25<=i)throw Error(pe(301));i+=1,rn=qr=null,t.updateQueue=null,Wg.current=wW,e=r(n,s)}while(sh)}if(Wg.current=_v,t=qr!==null&&qr.next!==null,Yl=0,rn=qr=or=null,Sv=!1,t)throw Error(pe(300));return e}function m_(){var e=Rh!==0;return Rh=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?or.memoizedState=rn=e:rn=rn.next=e,rn}function qs(){if(qr===null){var e=or.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=rn===null?or.memoizedState:rn.next;if(t!==null)rn=t,qr=e;else{if(e===null)throw Error(pe(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},rn===null?or.memoizedState=rn=e:rn=rn.next=e}return rn}function $h(e,t){return typeof t=="function"?t(e):t}function q0(e){var t=qs(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=qr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Yl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,or.lanes|=d,Ql|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,va(n,t.memoizedState)||(Gn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,or.lanes|=i,Ql|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function z0(e){var t=qs(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);va(i,t.memoizedState)||(Gn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qM(){}function zM(e,t){var r=or,n=qs(),s=t(),i=!va(n.memoizedState,s);if(i&&(n.memoizedState=s,Gn=!0),n=n.queue,p_(KM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,Mh(9,HM.bind(null,r,n,s,t),void 0,null),sn===null)throw Error(pe(349));Yl&30||WM(r,t,s)}return s}function WM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HM(e,t,r,n){t.value=r,t.getSnapshot=n,GM(t)&&YM(e)}function KM(e,t,r){return r(function(){GM(t)&&YM(e)})}function GM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!va(e,r)}catch{return!0}}function YM(e){var t=ki(e,1);t!==null&&ma(t,e,1,-1)}function lE(e){var t=Ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:e},t.queue=e,e=e.dispatch=yW.bind(null,or,e),[t.memoizedState,e]}function Mh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function QM(){return qs().memoizedState}function Hg(e,t,r,n){var s=Ea();or.flags|=e,s.memoizedState=Mh(1|t,r,void 0,n===void 0?null:n)}function wx(e,t,r,n){var s=qs();n=n===void 0?null:n;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,n!==null&&f_(n,o.deps)){s.memoizedState=Mh(t,r,i,n);return}}or.flags|=e,s.memoizedState=Mh(1|t,r,i,n)}function cE(e,t){return Hg(8390656,8,e,t)}function p_(e,t){return wx(2048,8,e,t)}function XM(e,t){return wx(4,2,e,t)}function ZM(e,t){return wx(4,4,e,t)}function JM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e4(e,t,r){return r=r!=null?r.concat([e]):null,wx(4,4,JM.bind(null,t,e),r)}function g_(){}function t4(e,t){var r=qs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&f_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function r4(e,t){var r=qs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&f_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function n4(e,t,r){return Yl&21?(va(r,t)||(r=lM(),or.lanes|=r,Ql|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gn=!0),e.memoizedState=r)}function gW(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=V0.transition;V0.transition={};try{e(!1),t()}finally{Ft=r,V0.transition=n}}function s4(){return qs().memoizedState}function vW(e,t,r){var n=ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},a4(e))i4(t,r);else if(r=UM(e,t,r,n),r!==null){var s=Fn();ma(r,e,n,s),o4(r,t,n)}}function yW(e,t,r){var n=ko(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(a4(e))i4(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,va(l,o)){var c=t.interleaved;c===null?(s.next=s,o_(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=UM(e,t,s,n),r!==null&&(s=Fn(),ma(r,e,n,s),o4(r,t,n))}}function a4(e){var t=e.alternate;return e===or||t!==null&&t===or}function i4(e,t){sh=Sv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,KS(e,r)}}var _v={readContext:Vs,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},xW={readContext:Vs,useCallback:function(e,t){return Ea().memoizedState=[e,t===void 0?null:t],e},useContext:Vs,useEffect:cE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hg(4194308,4,JM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hg(4,2,e,t)},useMemo:function(e,t){var r=Ea();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ea();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vW.bind(null,or,e),[n.memoizedState,e]},useRef:function(e){var t=Ea();return e={current:e},t.memoizedState=e},useState:lE,useDebugValue:g_,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=lE(!1),t=e[0];return e=gW.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=or,s=Ea();if(er){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),sn===null)throw Error(pe(349));Yl&30||WM(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,cE(KM.bind(null,n,i,e),[e]),n.flags|=2048,Mh(9,HM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ea(),t=sn.identifierPrefix;if(er){var r=pi,n=mi;r=(n&~(1<<32-ha(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bW={readContext:Vs,useCallback:t4,useContext:Vs,useEffect:p_,useImperativeHandle:e4,useInsertionEffect:XM,useLayoutEffect:ZM,useMemo:r4,useReducer:q0,useRef:QM,useState:function(){return q0($h)},useDebugValue:g_,useDeferredValue:function(e){var t=qs();return n4(t,qr.memoizedState,e)},useTransition:function(){var e=q0($h)[0],t=qs().memoizedState;return[e,t]},useMutableSource:qM,useSyncExternalStore:zM,useId:s4,unstable_isNewReconciler:!1},wW={readContext:Vs,useCallback:t4,useContext:Vs,useEffect:p_,useImperativeHandle:e4,useInsertionEffect:XM,useLayoutEffect:ZM,useMemo:r4,useReducer:z0,useRef:QM,useState:function(){return z0($h)},useDebugValue:g_,useDeferredValue:function(e){var t=qs();return qr===null?t.memoizedState=e:n4(t,qr.memoizedState,e)},useTransition:function(){var e=z0($h)[0],t=qs().memoizedState;return[e,t]},useMutableSource:qM,useSyncExternalStore:zM,useId:s4,unstable_isNewReconciler:!1};function ea(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ij(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jx={isMounted:function(e){return(e=e._reactInternals)?xc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fn(),s=ko(e),i=bi(n,s);i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ma(t,e,s,n),zg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fn(),s=ko(e),i=bi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=So(e,i,s),t!==null&&(ma(t,e,s,n),zg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fn(),n=ko(e),s=bi(r,n);s.tag=2,t!=null&&(s.callback=t),t=So(e,s,n),t!==null&&(ma(t,e,n,r),zg(t,e,n))}};function uE(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ph(r,n)||!Ph(s,i):!0}function l4(e,t,r){var n=!1,s=Ro,i=t.contextType;return typeof i=="object"&&i!==null?i=Vs(i):(s=Zn(t)?Kl:_n.current,n=t.contextTypes,i=(n=n!=null)?Ku(e,s):Ro),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jx.enqueueReplaceState(t,t.state,null)}function Rj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},l_(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Vs(i):(i=Zn(t)?Kl:_n.current,s.context=Ku(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ij(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&jx.enqueueReplaceState(s,s.state,null),jv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xu(e,t){try{var r="",n=t;do r+=Yz(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function W0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $j(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jW=typeof WeakMap=="function"?WeakMap:Map;function c4(e,t,r){r=bi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cv||(Cv=!0,Wj=n),$j(e,t)},r}function u4(e,t,r){r=bi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$j(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$j(e,t),typeof n!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function fE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jW;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=MW.bind(null,e,t,r),t.then(e,e))}function hE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mE(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bi(-1,1),t.tag=2,So(r,t,1))),r.lanes|=1),e)}var NW=Li.ReactCurrentOwner,Gn=!1;function On(e,t,r,n){t.child=e===null?FM(t,null,r,n):Yu(t,e.child,r,n)}function pE(e,t,r,n,s){r=r.render;var i=t.ref;return _u(t,s),n=h_(e,t,r,n,i,s),r=m_(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ci(e,t,s)):(er&&r&&t_(t),t.flags|=1,On(e,t,n,s),t.child)}function gE(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!S_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,d4(e,t,i,n,s)):(e=Qg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ph,r(o,n)&&e.ref===t.ref)return Ci(e,t,s)}return t.flags|=1,e=Co(i,n),e.ref=t.ref,e.return=t,t.child=e}function d4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ph(i,n)&&e.ref===t.ref)if(Gn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Gn=!0);else return t.lanes=e.lanes,Ci(e,t,s)}return Mj(e,t,r,n,s)}function f4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(mu,ds),ds|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ht(mu,ds),ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ht(mu,ds),ds|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ht(mu,ds),ds|=n;return On(e,t,s,r),t.child}function h4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mj(e,t,r,n,s){var i=Zn(r)?Kl:_n.current;return i=Ku(t,i),_u(t,s),r=h_(e,t,r,n,i,s),n=m_(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ci(e,t,s)):(er&&n&&t_(t),t.flags|=1,On(e,t,r,s),t.child)}function vE(e,t,r,n,s){if(Zn(r)){var i=!0;vv(t)}else i=!1;if(_u(t,s),t.stateNode===null)Kg(e,t),l4(t,r,n),Rj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Vs(u):(u=Zn(r)?Kl:_n.current,u=Ku(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&dE(t,o,n,u),Zi=!1;var h=t.memoizedState;o.state=h,jv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Xn.current||Zi?(typeof d=="function"&&(Ij(t,r,d,n),c=t.memoizedState),(l=Zi||uE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,BM(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ea(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=Zn(r)?Kl:_n.current,c=Ku(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&dE(t,o,n,c),Zi=!1,h=t.memoizedState,o.state=h,jv(t,n,o,s);var x=t.memoizedState;l!==f||h!==x||Xn.current||Zi?(typeof p=="function"&&(Ij(t,r,p,n),x=t.memoizedState),(u=Zi||uE(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Dj(e,t,r,n,i,s)}function Dj(e,t,r,n,s,i){h4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&rE(t,r,!1),Ci(e,t,i);n=t.stateNode,NW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Yu(t,e.child,null,i),t.child=Yu(t,null,l,i)):On(e,t,l,i),t.memoizedState=n.state,s&&rE(t,r,!0),t.child}function m4(e){var t=e.stateNode;t.pendingContext?tE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tE(e,t.context,!1),c_(e,t.containerInfo)}function yE(e,t,r,n,s){return Gu(),n_(s),t.flags|=256,On(e,t,r,n),t.child}var Lj={dehydrated:null,treeContext:null,retryLane:0};function Fj(e){return{baseLanes:e,cachePool:null,transitions:null}}function p4(e,t,r){var n=t.pendingProps,s=ar.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ht(ar,s&1),e===null)return Oj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_x(o,n,0,null),e=Bl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fj(r),t.memoizedState=Lj,e):v_(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return SW(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Co(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Co(l,i):(i=Bl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Fj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Lj,n}return i=e.child,e=i.sibling,n=Co(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function v_(e,t){return t=_x({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ng(e,t,r,n){return n!==null&&n_(n),Yu(t,e.child,null,r),e=v_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SW(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=W0(Error(pe(422))),ng(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=_x({mode:"visible",children:n.children},s,0,null),i=Bl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yu(t,e.child,null,o),t.child.memoizedState=Fj(o),t.memoizedState=Lj,i);if(!(t.mode&1))return ng(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(pe(419)),n=W0(i,n,void 0),ng(e,t,o,n)}if(l=(o&e.childLanes)!==0,Gn||l){if(n=sn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ki(e,s),ma(n,e,s,-1))}return N_(),n=W0(Error(pe(421))),ng(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=DW.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,xs=No(s.nextSibling),bs=t,er=!0,la=null,e!==null&&(Is[Rs++]=mi,Is[Rs++]=pi,Is[Rs++]=Gl,mi=e.id,pi=e.overflow,Gl=t),t=v_(t,n.children),t.flags|=4096,t)}function xE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tj(e.return,t,r)}function H0(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function g4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(On(e,t,n.children,r),n=ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xE(e,r,t);else if(e.tag===19)xE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ht(ar,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Nv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),H0(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Nv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}H0(t,!0,r,null,i);break;case"together":H0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ci(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ql|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=Co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _W(e,t,r){switch(t.tag){case 3:m4(t),Gu();break;case 5:VM(t);break;case 1:Zn(t.type)&&vv(t);break;case 4:c_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ht(bv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ht(ar,ar.current&1),t.flags|=128,null):r&t.child.childLanes?p4(e,t,r):(Ht(ar,ar.current&1),e=Ci(e,t,r),e!==null?e.sibling:null);Ht(ar,ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return g4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ht(ar,ar.current),n)break;return null;case 22:case 23:return t.lanes=0,f4(e,t,r)}return Ci(e,t,r)}var v4,Uj,y4,x4;v4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uj=function(){};y4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Nl(Fa.current);var i=null;switch(r){case"input":s=lj(e,s),n=lj(e,n),i=[];break;case"select":s=lr({},s,{value:void 0}),n=lr({},n,{value:void 0}),i=[];break;case"textarea":s=dj(e,s),n=dj(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pv)}hj(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};x4=function(e,t,r,n){r!==n&&(t.flags|=4)};function wf(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function bn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kW(e,t,r){var n=t.pendingProps;switch(r_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(t),null;case 1:return Zn(t.type)&&gv(),bn(t),null;case 3:return n=t.stateNode,Qu(),Jt(Xn),Jt(_n),d_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,la!==null&&(Gj(la),la=null))),Uj(e,t),bn(t),null;case 5:u_(t);var s=Nl(Ih.current);if(r=t.type,e!==null&&t.stateNode!=null)y4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return bn(t),null}if(e=Nl(Fa.current),tg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ra]=t,n[Oh]=i,e=(t.mode&1)!==0,r){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(s=0;s<qf.length;s++)Qt(qf[s],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":PP(n,i),Qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qt("invalid",n);break;case"textarea":AP(n,i),Qt("invalid",n)}hj(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&eg(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&eg(n.textContent,l,e),s=["children",""+l]):wh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qt("scroll",n)}switch(r){case"input":Hp(n),EP(n,i,!0);break;case"textarea":Hp(n),OP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ra]=t,e[Oh]=n,v4(e,t,!1,!1),t.stateNode=e;e:{switch(o=mj(r,n),r){case"dialog":Qt("cancel",e),Qt("close",e),s=n;break;case"iframe":case"object":case"embed":Qt("load",e),s=n;break;case"video":case"audio":for(s=0;s<qf.length;s++)Qt(qf[s],e);s=n;break;case"source":Qt("error",e),s=n;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),s=n;break;case"details":Qt("toggle",e),s=n;break;case"input":PP(e,n),s=lj(e,n),Qt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=lr({},n,{value:void 0}),Qt("invalid",e);break;case"textarea":AP(e,n),s=dj(e,n),Qt("invalid",e);break;default:s=n}hj(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Q$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jh(e,c):typeof c=="number"&&jh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qt("scroll",e):c!=null&&BS(e,i,c,o))}switch(r){case"input":Hp(e),EP(e,n,!1);break;case"textarea":Hp(e),OP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Io(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?wu(e,!!n.multiple,i,!1):n.defaultValue!=null&&wu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bn(t),null;case 6:if(e&&t.stateNode!=null)x4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=Nl(Ih.current),Nl(Fa.current),tg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ra]=t,(i=n.nodeValue!==r)&&(e=bs,e!==null))switch(e.tag){case 3:eg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ra]=t,t.stateNode=n}return bn(t),null;case 13:if(Jt(ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(er&&xs!==null&&t.mode&1&&!(t.flags&128))DM(),Gu(),t.flags|=98560,i=!1;else if(i=tg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[Ra]=t}else Gu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bn(t),i=!1}else la!==null&&(Gj(la),la=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Wr===0&&(Wr=3):N_())),t.updateQueue!==null&&(t.flags|=4),bn(t),null);case 4:return Qu(),Uj(e,t),e===null&&Eh(t.stateNode.containerInfo),bn(t),null;case 10:return i_(t.type._context),bn(t),null;case 17:return Zn(t.type)&&gv(),bn(t),null;case 19:if(Jt(ar),i=t.memoizedState,i===null)return bn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)wf(i,!1);else{if(Wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Nv(e),o!==null){for(t.flags|=128,wf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ht(ar,ar.current&1|2),t.child}e=e.sibling}i.tail!==null&&jr()>Zu&&(t.flags|=128,n=!0,wf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Nv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!er)return bn(t),null}else 2*jr()-i.renderingStartTime>Zu&&r!==1073741824&&(t.flags|=128,n=!0,wf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jr(),t.sibling=null,r=ar.current,Ht(ar,n?r&1|2:r&1),t):(bn(t),null);case 22:case 23:return j_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ds&1073741824&&(bn(t),t.subtreeFlags&6&&(t.flags|=8192)):bn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function CW(e,t){switch(r_(t),t.tag){case 1:return Zn(t.type)&&gv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qu(),Jt(Xn),Jt(_n),d_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u_(t),null;case 13:if(Jt(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Gu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(ar),null;case 4:return Qu(),null;case 10:return i_(t.type._context),null;case 22:case 23:return j_(),null;case 24:return null;default:return null}}var sg=!1,jn=!1,PW=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function hu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mr(e,t,n)}else r.current=null}function Bj(e,t,r){try{r()}catch(n){mr(e,t,n)}}var bE=!1;function EW(e,t){if(Sj=fv,e=SM(),e_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_j={focusedElem:e,selectionRange:r},fv=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ea(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(N){mr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return x=bE,bE=!1,x}function ah(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bj(t,r,i)}s=s.next}while(s!==n)}}function Nx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Vj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function b4(e){var t=e.alternate;t!==null&&(e.alternate=null,b4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ra],delete t[Oh],delete t[Pj],delete t[dW],delete t[fW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w4(e){return e.tag===5||e.tag===3||e.tag===4}function wE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pv));else if(n!==4&&(e=e.child,e!==null))for(qj(e,t,r),e=e.sibling;e!==null;)qj(e,t,r),e=e.sibling}function zj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zj(e,t,r),e=e.sibling;e!==null;)zj(e,t,r),e=e.sibling}var hn=null,sa=!1;function Hi(e,t,r){for(r=r.child;r!==null;)j4(e,t,r),r=r.sibling}function j4(e,t,r){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(px,r)}catch{}switch(r.tag){case 5:jn||hu(r,t);case 6:var n=hn,s=sa;hn=null,Hi(e,t,r),hn=n,sa=s,hn!==null&&(sa?(e=hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(sa?(e=hn,r=r.stateNode,e.nodeType===8?F0(e.parentNode,r):e.nodeType===1&&F0(e,r),kh(e)):F0(hn,r.stateNode));break;case 4:n=hn,s=sa,hn=r.stateNode.containerInfo,sa=!0,Hi(e,t,r),hn=n,sa=s;break;case 0:case 11:case 14:case 15:if(!jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bj(r,t,o),s=s.next}while(s!==n)}Hi(e,t,r);break;case 1:if(!jn&&(hu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mr(r,t,l)}Hi(e,t,r);break;case 21:Hi(e,t,r);break;case 22:r.mode&1?(jn=(n=jn)||r.memoizedState!==null,Hi(e,t,r),jn=n):Hi(e,t,r);break;default:Hi(e,t,r)}}function jE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PW),t.forEach(function(n){var s=LW.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:hn=l.stateNode,sa=!1;break e;case 3:hn=l.stateNode.containerInfo,sa=!0;break e;case 4:hn=l.stateNode.containerInfo,sa=!0;break e}l=l.return}if(hn===null)throw Error(pe(160));j4(i,o,s),hn=null,sa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N4(t,e),t=t.sibling}function N4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qs(t,e),Pa(e),n&4){try{ah(3,e,e.return),Nx(3,e)}catch(m){mr(e,e.return,m)}try{ah(5,e,e.return)}catch(m){mr(e,e.return,m)}}break;case 1:Qs(t,e),Pa(e),n&512&&r!==null&&hu(r,r.return);break;case 5:if(Qs(t,e),Pa(e),n&512&&r!==null&&hu(r,r.return),e.flags&32){var s=e.stateNode;try{jh(s,"")}catch(m){mr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&W$(s,i),mj(l,o);var u=mj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Q$(s,f):d==="dangerouslySetInnerHTML"?G$(s,f):d==="children"?jh(s,f):BS(s,d,f,u)}switch(l){case"input":cj(s,i);break;case"textarea":H$(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wu(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?wu(s,!!i.multiple,i.defaultValue,!0):wu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Oh]=i}catch(m){mr(e,e.return,m)}}break;case 6:if(Qs(t,e),Pa(e),n&4){if(e.stateNode===null)throw Error(pe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){mr(e,e.return,m)}}break;case 3:if(Qs(t,e),Pa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kh(t.containerInfo)}catch(m){mr(e,e.return,m)}break;case 4:Qs(t,e),Pa(e);break;case 13:Qs(t,e),Pa(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(b_=jr())),n&4&&jE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jn=(u=jn)||d,Qs(t,e),jn=u):Qs(t,e),Pa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(h=Ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:ah(4,h,h.return);break;case 1:hu(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){mr(n,r,m)}}break;case 5:hu(h,h.return);break;case 22:if(h.memoizedState!==null){SE(f);continue}}p!==null?(p.return=h,Ie=p):SE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y$("display",o))}catch(m){mr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){mr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qs(t,e),Pa(e),n&4&&jE(e);break;case 21:break;default:Qs(t,e),Pa(e)}}function Pa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w4(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(jh(s,""),n.flags&=-33);var i=wE(e);zj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=wE(e);qj(e,l,o);break;default:throw Error(pe(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AW(e,t,r){Ie=e,S4(e)}function S4(e,t,r){for(var n=(e.mode&1)!==0;Ie!==null;){var s=Ie,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||sg;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jn;l=sg;var u=jn;if(sg=o,(jn=c)&&!u)for(Ie=s;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?_E(s):c!==null?(c.return=o,Ie=c):_E(s);for(;i!==null;)Ie=i,S4(i),i=i.sibling;Ie=s,sg=l,jn=u}NE(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ie=i):NE(e)}}function NE(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jn||Nx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ea(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&oE(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}oE(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&kh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}jn||t.flags&512&&Vj(t)}catch(h){mr(t,t.return,h)}}if(t===e){Ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function SE(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function _E(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nx(4,t)}catch(c){mr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){mr(t,s,c)}}var i=t.return;try{Vj(t)}catch(c){mr(t,i,c)}break;case 5:var o=t.return;try{Vj(t)}catch(c){mr(t,o,c)}}}catch(c){mr(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var OW=Math.ceil,kv=Li.ReactCurrentDispatcher,y_=Li.ReactCurrentOwner,Fs=Li.ReactCurrentBatchConfig,St=0,sn=null,Or=null,mn=0,ds=0,mu=Wo(0),Wr=0,Dh=null,Ql=0,Sx=0,x_=0,ih=null,Kn=null,b_=0,Zu=1/0,ii=null,Cv=!1,Wj=null,_o=null,ag=!1,yo=null,Pv=0,oh=0,Hj=null,Gg=-1,Yg=0;function Fn(){return St&6?jr():Gg!==-1?Gg:Gg=jr()}function ko(e){return e.mode&1?St&2&&mn!==0?mn&-mn:mW.transition!==null?(Yg===0&&(Yg=lM()),Yg):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:pM(e.type)),e):1}function ma(e,t,r,n){if(50<oh)throw oh=0,Hj=null,Error(pe(185));Zm(e,r,n),(!(St&2)||e!==sn)&&(e===sn&&(!(St&2)&&(Sx|=r),Wr===4&&so(e,mn)),Jn(e,n),r===1&&St===0&&!(t.mode&1)&&(Zu=jr()+500,bx&&Ho()))}function Jn(e,t){var r=e.callbackNode;m9(e,t);var n=dv(e,e===sn?mn:0);if(n===0)r!==null&&RP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&RP(r),t===1)e.tag===0?hW(kE.bind(null,e)):RM(kE.bind(null,e)),cW(function(){!(St&6)&&Ho()}),r=null;else{switch(cM(n)){case 1:r=HS;break;case 4:r=iM;break;case 16:r=uv;break;case 536870912:r=oM;break;default:r=uv}r=T4(r,_4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _4(e,t){if(Gg=-1,Yg=0,St&6)throw Error(pe(327));var r=e.callbackNode;if(ku()&&e.callbackNode!==r)return null;var n=dv(e,e===sn?mn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ev(e,n);else{t=n;var s=St;St|=2;var i=C4();(sn!==e||mn!==t)&&(ii=null,Zu=jr()+500,Ul(e,t));do try{RW();break}catch(l){k4(e,l)}while(!0);a_(),kv.current=i,St=s,Or!==null?t=0:(sn=null,mn=0,t=Wr)}if(t!==0){if(t===2&&(s=xj(e),s!==0&&(n=s,t=Kj(e,s))),t===1)throw r=Dh,Ul(e,0),so(e,n),Jn(e,jr()),r;if(t===6)so(e,n);else{if(s=e.current.alternate,!(n&30)&&!TW(s)&&(t=Ev(e,n),t===2&&(i=xj(e),i!==0&&(n=i,t=Kj(e,i))),t===1))throw r=Dh,Ul(e,0),so(e,n),Jn(e,jr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:fl(e,Kn,ii);break;case 3:if(so(e,n),(n&130023424)===n&&(t=b_+500-jr(),10<t)){if(dv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Cj(fl.bind(null,e,Kn,ii),t);break}fl(e,Kn,ii);break;case 4:if(so(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ha(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=jr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OW(n/1960))-n,10<n){e.timeoutHandle=Cj(fl.bind(null,e,Kn,ii),n);break}fl(e,Kn,ii);break;case 5:fl(e,Kn,ii);break;default:throw Error(pe(329))}}}return Jn(e,jr()),e.callbackNode===r?_4.bind(null,e):null}function Kj(e,t){var r=ih;return e.current.memoizedState.isDehydrated&&(Ul(e,t).flags|=256),e=Ev(e,t),e!==2&&(t=Kn,Kn=r,t!==null&&Gj(t)),e}function Gj(e){Kn===null?Kn=e:Kn.push.apply(Kn,e)}function TW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!va(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function so(e,t){for(t&=~x_,t&=~Sx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ha(t),n=1<<r;e[r]=-1,t&=~n}}function kE(e){if(St&6)throw Error(pe(327));ku();var t=dv(e,0);if(!(t&1))return Jn(e,jr()),null;var r=Ev(e,t);if(e.tag!==0&&r===2){var n=xj(e);n!==0&&(t=n,r=Kj(e,n))}if(r===1)throw r=Dh,Ul(e,0),so(e,t),Jn(e,jr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fl(e,Kn,ii),Jn(e,jr()),null}function w_(e,t){var r=St;St|=1;try{return e(t)}finally{St=r,St===0&&(Zu=jr()+500,bx&&Ho())}}function Xl(e){yo!==null&&yo.tag===0&&!(St&6)&&ku();var t=St;St|=1;var r=Fs.transition,n=Ft;try{if(Fs.transition=null,Ft=1,e)return e()}finally{Ft=n,Fs.transition=r,St=t,!(St&6)&&Ho()}}function j_(){ds=mu.current,Jt(mu)}function Ul(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lW(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(r_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gv();break;case 3:Qu(),Jt(Xn),Jt(_n),d_();break;case 5:u_(n);break;case 4:Qu();break;case 13:Jt(ar);break;case 19:Jt(ar);break;case 10:i_(n.type._context);break;case 22:case 23:j_()}r=r.return}if(sn=e,Or=e=Co(e.current,null),mn=ds=t,Wr=0,Dh=null,x_=Sx=Ql=0,Kn=ih=null,jl!==null){for(t=0;t<jl.length;t++)if(r=jl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}jl=null}return e}function k4(e,t){do{var r=Or;try{if(a_(),Wg.current=_v,Sv){for(var n=or.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Sv=!1}if(Yl=0,rn=qr=or=null,sh=!1,Rh=0,y_.current=null,r===null||r.return===null){Wr=1,Dh=t,Or=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hE(o);if(p!==null){p.flags&=-257,mE(p,o,l,i,t),p.mode&1&&fE(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){fE(i,u,t),N_();break e}c=Error(pe(426))}}else if(er&&l.mode&1){var b=hE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mE(b,o,l,i,t),n_(Xu(c,l));break e}}i=c=Xu(c,l),Wr!==4&&(Wr=2),ih===null?ih=[i]:ih.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=c4(i,c,t);iE(i,y);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=u4(i,l,t);iE(i,N);break e}}i=i.return}while(i!==null)}E4(r)}catch(j){t=j,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function C4(){var e=kv.current;return kv.current=_v,e===null?_v:e}function N_(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),sn===null||!(Ql&268435455)&&!(Sx&268435455)||so(sn,mn)}function Ev(e,t){var r=St;St|=2;var n=C4();(sn!==e||mn!==t)&&(ii=null,Ul(e,t));do try{IW();break}catch(s){k4(e,s)}while(!0);if(a_(),St=r,kv.current=n,Or!==null)throw Error(pe(261));return sn=null,mn=0,Wr}function IW(){for(;Or!==null;)P4(Or)}function RW(){for(;Or!==null&&!a9();)P4(Or)}function P4(e){var t=O4(e.alternate,e,ds);e.memoizedProps=e.pendingProps,t===null?E4(e):Or=t,y_.current=null}function E4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CW(r,t),r!==null){r.flags&=32767,Or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wr=6,Or=null;return}}else if(r=kW(r,t,ds),r!==null){Or=r;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);Wr===0&&(Wr=5)}function fl(e,t,r){var n=Ft,s=Fs.transition;try{Fs.transition=null,Ft=1,$W(e,t,r,n)}finally{Fs.transition=s,Ft=n}return null}function $W(e,t,r,n){do ku();while(yo!==null);if(St&6)throw Error(pe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(p9(e,i),e===sn&&(Or=sn=null,mn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ag||(ag=!0,T4(uv,function(){return ku(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fs.transition,Fs.transition=null;var o=Ft;Ft=1;var l=St;St|=4,y_.current=null,EW(e,r),N4(r,e),tW(_j),fv=!!Sj,_j=Sj=null,e.current=r,AW(r),i9(),St=l,Ft=o,Fs.transition=i}else e.current=r;if(ag&&(ag=!1,yo=e,Pv=s),i=e.pendingLanes,i===0&&(_o=null),c9(r.stateNode),Jn(e,jr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cv)throw Cv=!1,e=Wj,Wj=null,e;return Pv&1&&e.tag!==0&&ku(),i=e.pendingLanes,i&1?e===Hj?oh++:(oh=0,Hj=e):oh=0,Ho(),null}function ku(){if(yo!==null){var e=cM(Pv),t=Fs.transition,r=Ft;try{if(Fs.transition=null,Ft=16>e?16:e,yo===null)var n=!1;else{if(e=yo,yo=null,Pv=0,St&6)throw Error(pe(331));var s=St;for(St|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:ah(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var h=d.sibling,p=d.return;if(b4(d),d===u){Ie=null;break}if(h!==null){h.return=p,Ie=h;break}Ie=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ah(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ie=y;break e}Ie=i.return}}var g=e.current;for(Ie=g;Ie!==null;){o=Ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ie=w;else e:for(o=g;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nx(9,l)}}catch(j){mr(l,l.return,j)}if(l===o){Ie=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ie=N;break e}Ie=l.return}}if(St=s,Ho(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(px,e)}catch{}n=!0}return n}finally{Ft=r,Fs.transition=t}}return!1}function CE(e,t,r){t=Xu(r,t),t=c4(e,t,1),e=So(e,t,1),t=Fn(),e!==null&&(Zm(e,1,t),Jn(e,t))}function mr(e,t,r){if(e.tag===3)CE(e,e,r);else for(;t!==null;){if(t.tag===3){CE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_o===null||!_o.has(n))){e=Xu(r,e),e=u4(t,e,1),t=So(t,e,1),e=Fn(),t!==null&&(Zm(t,1,e),Jn(t,e));break}}t=t.return}}function MW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&r,sn===e&&(mn&r)===r&&(Wr===4||Wr===3&&(mn&130023424)===mn&&500>jr()-b_?Ul(e,0):x_|=r),Jn(e,t)}function A4(e,t){t===0&&(e.mode&1?(t=Yp,Yp<<=1,!(Yp&130023424)&&(Yp=4194304)):t=1);var r=Fn();e=ki(e,t),e!==null&&(Zm(e,t,r),Jn(e,r))}function DW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),A4(e,r)}function LW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),A4(e,r)}var O4;O4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xn.current)Gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gn=!1,_W(e,t,r);Gn=!!(e.flags&131072)}else Gn=!1,er&&t.flags&1048576&&$M(t,xv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kg(e,t),e=t.pendingProps;var s=Ku(t,_n.current);_u(t,r),s=h_(null,t,n,e,s,r);var i=m_();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zn(n)?(i=!0,vv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,l_(t),s.updater=jx,t.stateNode=s,s._reactInternals=t,Rj(t,n,e,r),t=Dj(null,t,n,!0,i,r)):(t.tag=0,er&&i&&t_(t),On(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Kg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=UW(n),e=ea(n,e),s){case 0:t=Mj(null,t,n,e,r);break e;case 1:t=vE(null,t,n,e,r);break e;case 11:t=pE(null,t,n,e,r);break e;case 14:t=gE(null,t,n,ea(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ea(n,s),Mj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ea(n,s),vE(e,t,n,s,r);case 3:e:{if(m4(t),e===null)throw Error(pe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,BM(e,t),jv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xu(Error(pe(423)),t),t=yE(e,t,n,r,s);break e}else if(n!==s){s=Xu(Error(pe(424)),t),t=yE(e,t,n,r,s);break e}else for(xs=No(t.stateNode.containerInfo.firstChild),bs=t,er=!0,la=null,r=FM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gu(),n===s){t=Ci(e,t,r);break e}On(e,t,n,r)}t=t.child}return t;case 5:return VM(t),e===null&&Oj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,kj(n,s)?o=null:i!==null&&kj(n,i)&&(t.flags|=32),h4(e,t),On(e,t,o,r),t.child;case 6:return e===null&&Oj(t),null;case 13:return p4(e,t,r);case 4:return c_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yu(t,null,n,r):On(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ea(n,s),pE(e,t,n,s,r);case 7:return On(e,t,t.pendingProps,r),t.child;case 8:return On(e,t,t.pendingProps.children,r),t.child;case 12:return On(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ht(bv,n._currentValue),n._currentValue=o,i!==null)if(va(i.value,o)){if(i.children===s.children&&!Xn.current){t=Ci(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=bi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Tj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(pe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Tj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}On(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,_u(t,r),s=Vs(s),n=n(s),t.flags|=1,On(e,t,n,r),t.child;case 14:return n=t.type,s=ea(n,t.pendingProps),s=ea(n.type,s),gE(e,t,n,s,r);case 15:return d4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ea(n,s),Kg(e,t),t.tag=1,Zn(n)?(e=!0,vv(t)):e=!1,_u(t,r),l4(t,n,s),Rj(t,n,s,r),Dj(null,t,n,!0,e,r);case 19:return g4(e,t,r);case 22:return f4(e,t,r)}throw Error(pe(156,t.tag))};function T4(e,t){return aM(e,t)}function FW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,r,n){return new FW(e,t,r,n)}function S_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UW(e){if(typeof e=="function")return S_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qS)return 11;if(e===zS)return 14}return 2}function Co(e,t){var r=e.alternate;return r===null?(r=Ms(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")S_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case su:return Bl(r.children,s,i,t);case VS:o=8,s|=8;break;case sj:return e=Ms(12,r,t,s|2),e.elementType=sj,e.lanes=i,e;case aj:return e=Ms(13,r,t,s),e.elementType=aj,e.lanes=i,e;case ij:return e=Ms(19,r,t,s),e.elementType=ij,e.lanes=i,e;case V$:return _x(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U$:o=10;break e;case B$:o=9;break e;case qS:o=11;break e;case zS:o=14;break e;case Xi:o=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Ms(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Bl(e,t,r,n){return e=Ms(7,e,n,t),e.lanes=r,e}function _x(e,t,r,n){return e=Ms(22,e,n,t),e.elementType=V$,e.lanes=r,e.stateNode={isHidden:!1},e}function K0(e,t,r){return e=Ms(6,e,null,t),e.lanes=r,e}function G0(e,t,r){return t=Ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BW(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P0(0),this.expirationTimes=P0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function __(e,t,r,n,s,i,o,l,c){return e=new BW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ms(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},l_(i),e}function VW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function I4(e){if(!e)return Ro;e=e._reactInternals;e:{if(xc(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(Zn(r))return IM(e,r,t)}return t}function R4(e,t,r,n,s,i,o,l,c){return e=__(r,n,!0,e,s,i,o,l,c),e.context=I4(null),r=e.current,n=Fn(),s=ko(r),i=bi(n,s),i.callback=t??null,So(r,i,s),e.current.lanes=s,Zm(e,s,n),Jn(e,n),e}function kx(e,t,r,n){var s=t.current,i=Fn(),o=ko(s);return r=I4(r),t.context===null?t.context=r:t.pendingContext=r,t=bi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=So(s,t,o),e!==null&&(ma(e,s,o,i),zg(e,s,o)),o}function Av(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function PE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function k_(e,t){PE(e,t),(e=e.alternate)&&PE(e,t)}function qW(){return null}var $4=typeof reportError=="function"?reportError:function(e){console.error(e)};function C_(e){this._internalRoot=e}Cx.prototype.render=C_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));kx(e,t,null,null)};Cx.prototype.unmount=C_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xl(function(){kx(null,e,null,null)}),t[_i]=null}};function Cx(e){this._internalRoot=e}Cx.prototype.unstable_scheduleHydration=function(e){if(e){var t=fM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<no.length&&t!==0&&t<no[r].priority;r++);no.splice(r,0,e),r===0&&mM(e)}};function P_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Px(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function EE(){}function zW(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Av(o);i.call(u)}}var o=R4(t,n,e,0,null,!1,!1,"",EE);return e._reactRootContainer=o,e[_i]=o.current,Eh(e.nodeType===8?e.parentNode:e),Xl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Av(c);l.call(u)}}var c=__(e,0,!1,null,null,!1,!1,"",EE);return e._reactRootContainer=c,e[_i]=c.current,Eh(e.nodeType===8?e.parentNode:e),Xl(function(){kx(t,c,r,n)}),c}function Ex(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Av(o);l.call(c)}}kx(t,o,e,s)}else o=zW(r,t,e,s,n);return Av(o)}uM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vf(t.pendingLanes);r!==0&&(KS(t,r|1),Jn(t,jr()),!(St&6)&&(Zu=jr()+500,Ho()))}break;case 13:Xl(function(){var n=ki(e,1);if(n!==null){var s=Fn();ma(n,e,1,s)}}),k_(e,1)}};GS=function(e){if(e.tag===13){var t=ki(e,134217728);if(t!==null){var r=Fn();ma(t,e,134217728,r)}k_(e,134217728)}};dM=function(e){if(e.tag===13){var t=ko(e),r=ki(e,t);if(r!==null){var n=Fn();ma(r,e,t,n)}k_(e,t)}};fM=function(){return Ft};hM=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};gj=function(e,t,r){switch(t){case"input":if(cj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=xx(n);if(!s)throw Error(pe(90));z$(n),cj(n,s)}}}break;case"textarea":H$(e,r);break;case"select":t=r.value,t!=null&&wu(e,!!r.multiple,t,!1)}};J$=w_;eM=Xl;var WW={usingClientEntryPoint:!1,Events:[ep,lu,xx,X$,Z$,w_]},jf={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HW={bundleType:jf.bundleType,version:jf.version,rendererPackageName:jf.rendererPackageName,rendererConfig:jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nM(e),e===null?null:e.stateNode},findFiberByHostInstance:jf.findFiberByHostInstance||qW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ig.isDisabled&&ig.supportsFiber)try{px=ig.inject(HW),La=ig}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WW;ks.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(t))throw Error(pe(200));return VW(e,t,null,r)};ks.createRoot=function(e,t){if(!P_(e))throw Error(pe(299));var r=!1,n="",s=$4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=__(e,1,!1,null,null,r,!1,n,s),e[_i]=t.current,Eh(e.nodeType===8?e.parentNode:e),new C_(t)};ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=nM(t),e=e===null?null:e.stateNode,e};ks.flushSync=function(e){return Xl(e)};ks.hydrate=function(e,t,r){if(!Px(t))throw Error(pe(200));return Ex(null,e,t,!0,r)};ks.hydrateRoot=function(e,t,r){if(!P_(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=$4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=R4(t,null,e,1,r??null,s,!1,i,o),e[_i]=t.current,Eh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Cx(t)};ks.render=function(e,t,r){if(!Px(t))throw Error(pe(200));return Ex(null,e,t,!1,r)};ks.unmountComponentAtNode=function(e){if(!Px(e))throw Error(pe(40));return e._reactRootContainer?(Xl(function(){Ex(null,null,e,!1,function(){e._reactRootContainer=null,e[_i]=null})}),!0):!1};ks.unstable_batchedUpdates=w_;ks.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Px(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Ex(e,t,r,!1,n)};ks.version="18.3.1-next-f1338f8080-20240426";function M4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M4)}catch(e){console.error(e)}}M4(),M$.exports=ks;var bc=M$.exports;const KW=It(bc);var D4,AE=bc;D4=AE.createRoot,AE.hydrateRoot;function GW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var L4={exports:{}},F4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=v;function YW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QW=typeof Object.is=="function"?Object.is:YW,XW=Ju.useState,ZW=Ju.useEffect,JW=Ju.useLayoutEffect,e7=Ju.useDebugValue;function t7(e,t){var r=t(),n=XW({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return JW(function(){s.value=r,s.getSnapshot=t,Y0(s)&&i({inst:s})},[e,r,t]),ZW(function(){return Y0(s)&&i({inst:s}),e(function(){Y0(s)&&i({inst:s})})},[e]),e7(r),r}function Y0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!QW(e,r)}catch{return!0}}function r7(e,t){return t()}var n7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r7:t7;F4.useSyncExternalStore=Ju.useSyncExternalStore!==void 0?Ju.useSyncExternalStore:n7;L4.exports=F4;var U4=L4.exports;const s7=mx.useInsertionEffect,a7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i7=a7?v.useLayoutEffect:v.useEffect,o7=s7||i7,B4=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return o7(()=>{t[0]=e}),t[1]},l7="popstate",E_="pushState",A_="replaceState",c7="hashchange",OE=[l7,E_,A_,c7],u7=e=>{for(const t of OE)addEventListener(t,e);return()=>{for(const t of OE)removeEventListener(t,e)}},V4=(e,t)=>U4.useSyncExternalStore(u7,e,t),TE=()=>location.search,d7=({ssrSearch:e}={})=>V4(TE,e!=null?()=>e:TE),IE=()=>location.pathname,f7=({ssrPath:e}={})=>V4(IE,e!=null?()=>e:IE),h7=(e,{replace:t=!1,state:r=null}={})=>history[t?A_:E_](r,"",e),m7=(e={})=>[f7(e),h7],RE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[RE]>"u"){for(const e of[E_,A_]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,RE,{value:!0})}const p7=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",q4=(e="")=>e==="/"?"":e,g7=(e,t)=>e[0]==="~"?e.slice(1):q4(t)+e,v7=(e="",t)=>p7(Yj(q4(e)),Yj(t)),y7=e=>e[0]==="?"?e.slice(1):e,Yj=e=>{try{return decodeURI(e)}catch{return e}},x7=e=>Yj(y7(e)),z4={hook:m7,searchHook:d7,parser:GW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},W4=v.createContext(z4),Fd=()=>v.useContext(W4),H4={},K4=v.createContext(H4),O_=()=>v.useContext(K4),Ax=e=>{const[t,r]=e.hook(e);return[v7(e.base,t),B4((n,s)=>e.aroundNav(r,g7(n,e.base),s))]},as=()=>Ax(Fd()),G4=()=>{const e=Fd();return x7(e.searchHook(e))},Y4=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},b7=({children:e,...t})=>{var d,f,h;const r=Fd(),n=t.hook?z4:r;let s=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=v.useRef({}),c=l.current,u=c;for(let p in n){const x=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&x!==u[p]&&(l.current=u={...u}),u[p]=x,(x!==n[p]||x!==s[p])&&(s=u)}return v.createElement(W4.Provider,{value:s,children:e})},$E=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,w7=e=>{let t=v.useRef(H4);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},it=({path:e,nest:t,match:r,...n})=>{const s=Fd(),[i]=Ax(s),[o,l,c]=r??Y4(s.parser,e,i,t),u=w7({...O_(),...l});if(!o)return null;const d=c?v.createElement(b7,{base:c},$E(n,u)):$E(n,u);return v.createElement(K4.Provider,{value:u,children:d})},ae=v.forwardRef((e,t)=>{const r=Fd(),[n,s]=Ax(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...x}=e,m=B4(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),b=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:m,href:b}):v.createElement("a",{...x,onClick:m,href:b,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),Q4=e=>Array.isArray(e)?e.flatMap(t=>Q4(t&&t.type===v.Fragment?t.props.children:t)):[e],X4=({children:e,location:t})=>{const r=Fd(),[n]=Ax(r);for(const s of Q4(e)){let i=0;if(v.isValidElement(s)&&(i=Y4(r.parser,s.props.path,t||n,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var Ud=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},j7={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},oo,RS,m$,N7=(m$=class{constructor(){Ve(this,oo,j7);Ve(this,RS,!1)}setTimeoutProvider(e){Pe(this,oo,e)}setTimeout(e,t){return B(this,oo).setTimeout(e,t)}clearTimeout(e){B(this,oo).clearTimeout(e)}setInterval(e,t){return B(this,oo).setInterval(e,t)}clearInterval(e){B(this,oo).clearInterval(e)}},oo=new WeakMap,RS=new WeakMap,m$),Sl=new N7;function S7(e){setTimeout(e,0)}var Zl=typeof window>"u"||"Deno"in globalThis;function Tn(){}function _7(e,t){return typeof e=="function"?e(t):e}function Qj(e){return typeof e=="number"&&e>=0&&e!==1/0}function Z4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Po(e,t){return typeof e=="function"?e(t):e}function Ts(e,t){return typeof e=="function"?e(t):e}function ME(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==T_(o,t.options))return!1}else if(!Lh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function DE(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Jl(t.options.mutationKey)!==Jl(i))return!1}else if(!Lh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function T_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jl)(e)}function Jl(e){return JSON.stringify(e,(t,r)=>Xj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Lh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Lh(e[r],t[r])):!1}var k7=Object.prototype.hasOwnProperty;function J4(e,t){if(e===t)return e;const r=LE(e)&&LE(t);if(!r&&!(Xj(e)&&Xj(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:k7.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=J4(f,h);l[d]=p,p===f&&c++}return s===o&&c===s?e:l}function Ov(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function LE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xj(e){if(!FE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!FE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function FE(e){return Object.prototype.toString.call(e)==="[object Object]"}function C7(e){return new Promise(t=>{Sl.setTimeout(t,e)})}function Zj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?J4(e,t):t}function P7(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function E7(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var I_=Symbol();function eD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===I_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tD(e,t){return typeof e=="function"?e(...t):!!e}var Ol,lo,Ru,p$,A7=(p$=class extends Ud{constructor(){super();Ve(this,Ol);Ve(this,lo);Ve(this,Ru);Pe(this,Ru,t=>{if(!Zl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,lo)||this.setEventListener(B(this,Ru))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,lo))==null||t.call(this),Pe(this,lo,void 0))}setEventListener(t){var r;Pe(this,Ru,t),(r=B(this,lo))==null||r.call(this),Pe(this,lo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,Ol)!==t&&(Pe(this,Ol,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,Ol)=="boolean"?B(this,Ol):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ol=new WeakMap,lo=new WeakMap,Ru=new WeakMap,p$),R_=new A7;function Jj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var O7=S7;function T7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=O7;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var zr=T7(),$u,co,Mu,g$,I7=(g$=class extends Ud{constructor(){super();Ve(this,$u,!0);Ve(this,co);Ve(this,Mu);Pe(this,Mu,t=>{if(!Zl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,co)||this.setEventListener(B(this,Mu))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,co))==null||t.call(this),Pe(this,co,void 0))}setEventListener(t){var r;Pe(this,Mu,t),(r=B(this,co))==null||r.call(this),Pe(this,co,t(this.setOnline.bind(this)))}setOnline(t){B(this,$u)!==t&&(Pe(this,$u,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,$u)}},$u=new WeakMap,co=new WeakMap,Mu=new WeakMap,g$),Tv=new I7;function R7(e){return Math.min(1e3*2**e,3e4)}function rD(e){return(e??"online")==="online"?Tv.isOnline():!0}var e1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nD(e){let t=!1,r=0,n;const s=Jj(),i=()=>s.status!=="pending",o=m=>{var b;if(!i()){const y=new e1(m);h(y),(b=e.onCancel)==null||b.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>R_.isFocused()&&(e.networkMode==="always"||Tv.isOnline())&&e.canRun(),d=()=>rD(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),s.resolve(m))},h=m=>{i()||(n==null||n(),s.reject(m))},p=()=>new Promise(m=>{var b;n=y=>{(i()||u())&&m(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(i())return;let m;const b=r===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var S;if(i())return;const g=e.retry??(Zl?0:3),w=e.retryDelay??R7,N=typeof w=="function"?w(r,y):w,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,y);if(t||!j){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),C7(N).then(()=>u()?void 0:p()).then(()=>{t?h(y):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),s)}}var Tl,v$,sD=(v$=class{constructor(){Ve(this,Tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qj(this.gcTime)&&Pe(this,Tl,Sl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zl?1/0:5*60*1e3))}clearGcTimeout(){B(this,Tl)&&(Sl.clearTimeout(B(this,Tl)),Pe(this,Tl,void 0))}},Tl=new WeakMap,v$),Il,Du,Os,Rl,en,Hm,$l,ra,ai,y$,$7=(y$=class extends sD{constructor(t){super();Ve(this,ra);Ve(this,Il);Ve(this,Du);Ve(this,Os);Ve(this,Rl);Ve(this,en);Ve(this,Hm);Ve(this,$l);Pe(this,$l,!1),Pe(this,Hm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,Rl,t.client),Pe(this,Os,B(this,Rl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,Il,BE(this.options)),this.state=t.state??B(this,Il),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,en))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Hm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=BE(this.options);r.data!==void 0&&(this.setState(UE(r.data,r.dataUpdatedAt)),Pe(this,Il,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Os).remove(this)}setData(t,r){const n=Zj(this.state.data,t,this.options);return ht(this,ra,ai).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ht(this,ra,ai).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=B(this,en))==null?void 0:n.promise;return(s=B(this,en))==null||s.cancel(t),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Il))}isActive(){return this.observers.some(t=>Ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===I_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Po(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Z4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,en))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,en))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Os).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,en)&&(B(this,$l)?B(this,en).cancel({revert:!0}):B(this,en).cancelRetry()),this.scheduleGc()),B(this,Os).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,ra,ai).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,x,m,b,y,g,w;if(this.state.fetchStatus!=="idle"&&((c=B(this,en))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,en))return B(this,en).continueRetry(),B(this,en).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Pe(this,$l,!0),n.signal)})},i=()=>{const N=eD(this.options,r),S=(()=>{const _={client:B(this,Rl),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return Pe(this,$l,!1),this.options.persister?this.options.persister(N,S,this):N(S)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Rl),state:this.state,fetchFn:i};return s(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),Pe(this,Du,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ht(this,ra,ai).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Pe(this,en,nD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof e1&&N.revert&&this.setState({...B(this,Du),fetchStatus:"idle"}),n.abort()},onFail:(N,j)=>{ht(this,ra,ai).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{ht(this,ra,ai).call(this,{type:"pause"})},onContinue:()=>{ht(this,ra,ai).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await B(this,en).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(h=B(this,Os).config).onSuccess)==null||p.call(h,N,this),(m=(x=B(this,Os).config).onSettled)==null||m.call(x,N,this.state.error,this),N}catch(N){if(N instanceof e1){if(N.silent)return B(this,en).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ht(this,ra,ai).call(this,{type:"error",error:N}),(y=(b=B(this,Os).config).onError)==null||y.call(b,N,this),(w=(g=B(this,Os).config).onSettled)==null||w.call(g,this.state.data,N,this),N}finally{this.scheduleGc()}}},Il=new WeakMap,Du=new WeakMap,Os=new WeakMap,Rl=new WeakMap,en=new WeakMap,Hm=new WeakMap,$l=new WeakMap,ra=new WeakSet,ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aD(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...UE(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Du,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,Os).notify({query:this,type:"updated",action:t})})},y$);function aD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function UE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function BE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zn,bt,Km,Pn,Ml,Lu,ui,uo,Gm,Fu,Uu,Dl,Ll,fo,Bu,Tt,zf,t1,r1,n1,s1,a1,i1,o1,iD,x$,M7=(x$=class extends Ud{constructor(t,r){super();Ve(this,Tt);Ve(this,zn);Ve(this,bt);Ve(this,Km);Ve(this,Pn);Ve(this,Ml);Ve(this,Lu);Ve(this,ui);Ve(this,uo);Ve(this,Gm);Ve(this,Fu);Ve(this,Uu);Ve(this,Dl);Ve(this,Ll);Ve(this,fo);Ve(this,Bu,new Set);this.options=r,Pe(this,zn,t),Pe(this,uo,null),Pe(this,ui,Jj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,bt).addObserver(this),VE(B(this,bt),this.options)?ht(this,Tt,zf).call(this):this.updateResult(),ht(this,Tt,s1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l1(B(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l1(B(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Tt,a1).call(this),ht(this,Tt,i1).call(this),B(this,bt).removeObserver(this)}setOptions(t){const r=this.options,n=B(this,bt);if(this.options=B(this,zn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,B(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Tt,o1).call(this),B(this,bt).setOptions(this.options),r._defaulted&&!Ov(this.options,r)&&B(this,zn).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,bt),observer:this});const s=this.hasListeners();s&&qE(B(this,bt),n,this.options,r)&&ht(this,Tt,zf).call(this),this.updateResult(),s&&(B(this,bt)!==n||Ts(this.options.enabled,B(this,bt))!==Ts(r.enabled,B(this,bt))||Po(this.options.staleTime,B(this,bt))!==Po(r.staleTime,B(this,bt)))&&ht(this,Tt,t1).call(this);const i=ht(this,Tt,r1).call(this);s&&(B(this,bt)!==n||Ts(this.options.enabled,B(this,bt))!==Ts(r.enabled,B(this,bt))||i!==B(this,fo))&&ht(this,Tt,n1).call(this,i)}getOptimisticResult(t){const r=B(this,zn).getQueryCache().build(B(this,zn),t),n=this.createResult(r,t);return L7(this,n)&&(Pe(this,Pn,n),Pe(this,Lu,this.options),Pe(this,Ml,B(this,bt).state)),n}getCurrentResult(){return B(this,Pn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,ui).status==="pending"&&B(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){B(this,Bu).add(t)}getCurrentQuery(){return B(this,bt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=B(this,zn).defaultQueryOptions(t),n=B(this,zn).getQueryCache().build(B(this,zn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ht(this,Tt,zf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,Pn)))}createResult(t,r){var C;const n=B(this,bt),s=this.options,i=B(this,Pn),o=B(this,Ml),l=B(this,Lu),u=t!==n?t.state:B(this,Km),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&VE(t,r),R=E&&qE(t,n,r,s);(P||R)&&(f={...f,...aD(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:b}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let E;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=B(this,Uu))==null?void 0:C.state.data,B(this,Uu)):r.placeholderData,E!==void 0&&(b="success",p=Zj(i==null?void 0:i.data,E,r),h=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===B(this,Gm))p=B(this,Fu);else try{Pe(this,Gm,r.select),p=r.select(p),p=Zj(i==null?void 0:i.data,p,r),Pe(this,Fu,p),Pe(this,uo,null)}catch(E){Pe(this,uo,E)}B(this,uo)&&(x=B(this,uo),p=B(this,Fu),m=Date.now(),b="error");const g=f.fetchStatus==="fetching",w=b==="pending",N=b==="error",j=w&&g,S=p!==void 0,k={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:N,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:N&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&S,isStale:$_(t,r),refetch:this.refetch,promise:B(this,ui),isEnabled:Ts(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},P=()=>{const O=Pe(this,ui,k.promise=Jj());E(O)},R=B(this,ui);switch(R.status){case"pending":t.queryHash===n.queryHash&&E(R);break;case"fulfilled":(k.status==="error"||k.data!==R.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==R.reason)&&P();break}}return k}updateResult(){const t=B(this,Pn),r=this.createResult(B(this,bt),this.options);if(Pe(this,Ml,B(this,bt).state),Pe(this,Lu,this.options),B(this,Ml).data!==void 0&&Pe(this,Uu,B(this,bt)),Ov(r,t))return;Pe(this,Pn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!B(this,Bu).size)return!0;const o=new Set(i??B(this,Bu));return this.options.throwOnError&&o.add("error"),Object.keys(B(this,Pn)).some(l=>{const c=l;return B(this,Pn)[c]!==t[c]&&o.has(c)})};ht(this,Tt,iD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Tt,s1).call(this)}},zn=new WeakMap,bt=new WeakMap,Km=new WeakMap,Pn=new WeakMap,Ml=new WeakMap,Lu=new WeakMap,ui=new WeakMap,uo=new WeakMap,Gm=new WeakMap,Fu=new WeakMap,Uu=new WeakMap,Dl=new WeakMap,Ll=new WeakMap,fo=new WeakMap,Bu=new WeakMap,Tt=new WeakSet,zf=function(t){ht(this,Tt,o1).call(this);let r=B(this,bt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Tn)),r},t1=function(){ht(this,Tt,a1).call(this);const t=Po(this.options.staleTime,B(this,bt));if(Zl||B(this,Pn).isStale||!Qj(t))return;const n=Z4(B(this,Pn).dataUpdatedAt,t)+1;Pe(this,Dl,Sl.setTimeout(()=>{B(this,Pn).isStale||this.updateResult()},n))},r1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,bt)):this.options.refetchInterval)??!1},n1=function(t){ht(this,Tt,i1).call(this),Pe(this,fo,t),!(Zl||Ts(this.options.enabled,B(this,bt))===!1||!Qj(B(this,fo))||B(this,fo)===0)&&Pe(this,Ll,Sl.setInterval(()=>{(this.options.refetchIntervalInBackground||R_.isFocused())&&ht(this,Tt,zf).call(this)},B(this,fo)))},s1=function(){ht(this,Tt,t1).call(this),ht(this,Tt,n1).call(this,ht(this,Tt,r1).call(this))},a1=function(){B(this,Dl)&&(Sl.clearTimeout(B(this,Dl)),Pe(this,Dl,void 0))},i1=function(){B(this,Ll)&&(Sl.clearInterval(B(this,Ll)),Pe(this,Ll,void 0))},o1=function(){const t=B(this,zn).getQueryCache().build(B(this,zn),this.options);if(t===B(this,bt))return;const r=B(this,bt);Pe(this,bt,t),Pe(this,Km,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},iD=function(t){zr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(B(this,Pn))}),B(this,zn).getQueryCache().notify({query:B(this,bt),type:"observerResultsUpdated"})})},x$);function D7(e,t){return Ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function VE(e,t){return D7(e,t)||e.state.data!==void 0&&l1(e,t,t.refetchOnMount)}function l1(e,t,r){if(Ts(t.enabled,e)!==!1&&Po(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&$_(e,t)}return!1}function qE(e,t,r,n){return(e!==t||Ts(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&$_(e,r)}function $_(e,t){return Ts(t.enabled,e)!==!1&&e.isStaleByTime(Po(t.staleTime,e))}function L7(e,t){return!Ov(e.getCurrentResult(),t)}function zE(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=eD(t.options,t.fetchOptions),g=async(w,N,j)=>{if(m)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return b(P),P})(),k=await y(_),{maxPages:C}=t.options,E=j?E7:P7;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,N,C)}};if(s&&i.length){const w=s==="backward",N=w?F7:WE,j={pages:i,pageParams:o},S=N(n,j);l=await g(j,S,w)}else{const w=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:WE(n,l);if(c>0&&N==null)break;l=await g(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function WE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function F7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ym,Oa,En,Fl,Ta,Yi,b$,U7=(b$=class extends sD{constructor(t){super();Ve(this,Ta);Ve(this,Ym);Ve(this,Oa);Ve(this,En);Ve(this,Fl);Pe(this,Ym,t.client),this.mutationId=t.mutationId,Pe(this,En,t.mutationCache),Pe(this,Oa,[]),this.state=t.state||oD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Oa).includes(t)||(B(this,Oa).push(t),this.clearGcTimeout(),B(this,En).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,Oa,B(this,Oa).filter(r=>r!==t)),this.scheduleGc(),B(this,En).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Oa).length||(this.state.status==="pending"?this.scheduleGc():B(this,En).remove(this))}continue(){var t;return((t=B(this,Fl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,x,m,b,y,g,w,N,j,S,_,k,C;const r=()=>{ht(this,Ta,Yi).call(this,{type:"continue"})},n={client:B(this,Ym),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,Fl,nD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{ht(this,Ta,Yi).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{ht(this,Ta,Yi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,En).canRun(this)}));const s=this.state.status==="pending",i=!B(this,Fl).canStart();try{if(s)r();else{ht(this,Ta,Yi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=B(this,En).config).onMutate)==null?void 0:l.call(o,t,this,n));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));P!==this.state.context&&ht(this,Ta,Yi).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const E=await B(this,Fl).start();return await((f=(d=B(this,En).config).onSuccess)==null?void 0:f.call(d,E,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,E,t,this.state.context,n)),await((m=(x=B(this,En).config).onSettled)==null?void 0:m.call(x,E,null,this.state.variables,this.state.context,this,n)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,E,null,t,this.state.context,n)),ht(this,Ta,Yi).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(g=B(this,En).config).onError)==null?void 0:w.call(g,E,t,this.state.context,this,n)),await((j=(N=this.options).onError)==null?void 0:j.call(N,E,t,this.state.context,n)),await((_=(S=B(this,En).config).onSettled)==null?void 0:_.call(S,void 0,E,this.state.variables,this.state.context,this,n)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,E,t,this.state.context,n)),E}finally{ht(this,Ta,Yi).call(this,{type:"error",error:E})}}finally{B(this,En).runNext(this)}}},Ym=new WeakMap,Oa=new WeakMap,En=new WeakMap,Fl=new WeakMap,Ta=new WeakSet,Yi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zr.batch(()=>{B(this,Oa).forEach(n=>{n.onMutationUpdate(t)}),B(this,En).notify({mutation:this,type:"updated",action:t})})},b$);function oD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var di,na,Qm,w$,B7=(w$=class extends Ud{constructor(t={}){super();Ve(this,di);Ve(this,na);Ve(this,Qm);this.config=t,Pe(this,di,new Set),Pe(this,na,new Map),Pe(this,Qm,0)}build(t,r,n){const s=new U7({client:t,mutationCache:this,mutationId:++Vp(this,Qm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){B(this,di).add(t);const r=og(t);if(typeof r=="string"){const n=B(this,na).get(r);n?n.push(t):B(this,na).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,di).delete(t)){const r=og(t);if(typeof r=="string"){const n=B(this,na).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&B(this,na).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=og(t);if(typeof r=="string"){const n=B(this,na).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=og(t);if(typeof r=="string"){const s=(n=B(this,na).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{B(this,di).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,di).clear(),B(this,na).clear()})}getAll(){return Array.from(B(this,di))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DE(r,n))}findAll(t={}){return this.getAll().filter(r=>DE(t,r))}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tn))))}},di=new WeakMap,na=new WeakMap,Qm=new WeakMap,w$);function og(e){var t;return(t=e.options.scope)==null?void 0:t.id}var fi,ho,Wn,hi,Ni,Xg,c1,j$,V7=(j$=class extends Ud{constructor(r,n){super();Ve(this,Ni);Ve(this,fi);Ve(this,ho);Ve(this,Wn);Ve(this,hi);Pe(this,fi,r),this.setOptions(n),this.bindMethods(),ht(this,Ni,Xg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=B(this,fi).defaultMutationOptions(r),Ov(this.options,n)||B(this,fi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Wn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jl(n.mutationKey)!==Jl(this.options.mutationKey)?this.reset():((s=B(this,Wn))==null?void 0:s.state.status)==="pending"&&B(this,Wn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=B(this,Wn))==null||r.removeObserver(this)}onMutationUpdate(r){ht(this,Ni,Xg).call(this),ht(this,Ni,c1).call(this,r)}getCurrentResult(){return B(this,ho)}reset(){var r;(r=B(this,Wn))==null||r.removeObserver(this),Pe(this,Wn,void 0),ht(this,Ni,Xg).call(this),ht(this,Ni,c1).call(this)}mutate(r,n){var s;return Pe(this,hi,n),(s=B(this,Wn))==null||s.removeObserver(this),Pe(this,Wn,B(this,fi).getMutationCache().build(B(this,fi),this.options)),B(this,Wn).addObserver(this),B(this,Wn).execute(r)}},fi=new WeakMap,ho=new WeakMap,Wn=new WeakMap,hi=new WeakMap,Ni=new WeakSet,Xg=function(){var n;const r=((n=B(this,Wn))==null?void 0:n.state)??oD();Pe(this,ho,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},c1=function(r){zr.batch(()=>{var n,s,i,o,l,c,u,d;if(B(this,hi)&&this.hasListeners()){const f=B(this,ho).variables,h=B(this,ho).context,p={client:B(this,fi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=B(this,hi)).onSuccess)==null||s.call(n,r.data,f,h,p),(o=(i=B(this,hi)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=B(this,hi)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=B(this,hi)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(B(this,ho))})})},j$),Ia,N$,q7=(N$=class extends Ud{constructor(t={}){super();Ve(this,Ia);this.config=t,Pe(this,Ia,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??T_(s,r);let o=this.get(i);return o||(o=new $7({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Ia).has(t.queryHash)||(B(this,Ia).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,Ia).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,Ia).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Ia).get(t)}getAll(){return[...B(this,Ia).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ME(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ME(t,n)):r}notify(t){zr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ia=new WeakMap,N$),fr,mo,po,Vu,qu,go,zu,Wu,S$,z7=(S$=class{constructor(e={}){Ve(this,fr);Ve(this,mo);Ve(this,po);Ve(this,Vu);Ve(this,qu);Ve(this,go);Ve(this,zu);Ve(this,Wu);Pe(this,fr,e.queryCache||new q7),Pe(this,mo,e.mutationCache||new B7),Pe(this,po,e.defaultOptions||{}),Pe(this,Vu,new Map),Pe(this,qu,new Map),Pe(this,go,0)}mount(){Vp(this,go)._++,B(this,go)===1&&(Pe(this,zu,R_.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,fr).onFocus())})),Pe(this,Wu,Tv.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,fr).onOnline())})))}unmount(){var e,t;Vp(this,go)._--,B(this,go)===0&&((e=B(this,zu))==null||e.call(this),Pe(this,zu,void 0),(t=B(this,Wu))==null||t.call(this),Pe(this,Wu,void 0))}isFetching(e){return B(this,fr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,mo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,fr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,fr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Po(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,fr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=B(this,fr).get(n.queryHash),i=s==null?void 0:s.state.data,o=_7(t,i);if(o!==void 0)return B(this,fr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zr.batch(()=>B(this,fr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,fr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,fr);zr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,fr);return zr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zr.batch(()=>B(this,fr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return zr.batch(()=>(B(this,fr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zr.batch(()=>B(this,fr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,fr).build(this,t);return r.isStaleByTime(Po(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=zE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=zE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tv.isOnline()?B(this,mo).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,fr)}getMutationCache(){return B(this,mo)}getDefaultOptions(){return B(this,po)}setDefaultOptions(e){Pe(this,po,e)}setQueryDefaults(e,t){B(this,Vu).set(Jl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Vu).values()],r={};return t.forEach(n=>{Lh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,qu).set(Jl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,qu).values()],r={};return t.forEach(n=>{Lh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=T_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===I_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,fr).clear(),B(this,mo).clear()}},fr=new WeakMap,mo=new WeakMap,po=new WeakMap,Vu=new WeakMap,qu=new WeakMap,go=new WeakMap,zu=new WeakMap,Wu=new WeakMap,S$),lD=v.createContext(void 0),cD=e=>{const t=v.useContext(lD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},W7=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(lD.Provider,{value:e,children:t})),uD=v.createContext(!1),H7=()=>v.useContext(uD);uD.Provider;function K7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var G7=v.createContext(K7()),Y7=()=>v.useContext(G7),Q7=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},X7=e=>{v.useEffect(()=>{e.clearReset()},[e])},Z7=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||tD(r,[e.error,n])),J7=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eH=(e,t)=>e.isLoading&&e.isFetching&&!t,tH=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,HE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rH(e,t,r){var f,h,p,x,m;const n=H7(),s=Y7(),i=cD(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",J7(o),Q7(o,s),X7(s);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const y=d?c.subscribe(zr.batchCalls(b)):Tn;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),tH(o,u))throw HE(o,c,s);if(Z7({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,u),o.experimental_prefetchInRender&&!Zl&&eH(u,n)){const b=l?HE(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;b==null||b.catch(Tn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ve(e,t){return rH(e,M7)}function Te(e,t){const r=cD(),[n]=v.useState(()=>new V7(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(zr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(Tn)},[n]);if(s.error&&tD(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function dD(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Ae(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await dD(n),n}const fD=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await dD(r),await r.json())},Ne=new z7({defaultOptions:{queries:{queryFn:fD({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),nH=1,sH=1e6;let Q0=0;function aH(){return Q0=(Q0+1)%Number.MAX_SAFE_INTEGER,Q0.toString()}const X0=new Map,KE=e=>{if(X0.has(e))return;const t=setTimeout(()=>{X0.delete(e),lh({type:"REMOVE_TOAST",toastId:e})},sH);X0.set(e,t)},iH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?KE(r):e.toasts.forEach(n=>{KE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Zg=[];let Jg={toasts:[]};function lh(e){Jg=iH(Jg,e),Zg.forEach(t=>{t(Jg)})}function oH({...e}){const t=aH(),r=s=>lh({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>lh({type:"DISMISS_TOAST",toastId:t});return lh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function At(){const[e,t]=v.useState(Jg);return v.useEffect(()=>(Zg.push(t),()=>{const r=Zg.indexOf(t);r>-1&&Zg.splice(r,1)}),[e]),{...e,toast:oH,dismiss:r=>lh({type:"DISMISS_TOAST",toastId:r})}}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function GE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Un(...e){return t=>{let r=!1;const n=e.map(s=>{const i=GE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():GE(e[s],null)}}}}function rt(...e){return v.useCallback(Un(...e),e)}function lH(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function yn(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...x}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=v.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,cH(s,...t)]}function cH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function YE(e){const t=uH(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(fH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function uH(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=mH(s),l=hH(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dH=Symbol("radix.slottable");function fH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dH}function hH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rp(e){const t=e+"CollectionProvider",[r,n]=yn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:y}=m,g=M.useRef(null),w=M.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:w,collectionRef:g,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=YE(l),u=M.forwardRef((m,b)=>{const{scope:y,children:g}=m,w=i(l,y),N=rt(b,w.collectionRef);return a.jsx(c,{ref:N,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=YE(d),p=M.forwardRef((m,b)=>{const{scope:y,children:g,...w}=m,N=M.useRef(null),j=rt(b,N),S=i(d,y);return M.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),a.jsx(h,{[f]:"",ref:j,children:g})});p.displayName=d;function x(m){const b=i(e+"CollectionConsumer",m);return M.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,_)=>w.indexOf(S.ref.current)-w.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,n]}function pH(e){const t=gH(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(yH);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function gH(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=bH(s),l=xH(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vH=Symbol("radix.slottable");function yH(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vH}function xH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function bH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=wH.reduce((e,t)=>{const r=pH(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function M_(e,t){e&&bc.flushSync(()=>e.dispatchEvent(t))}function vr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function jH(e,t=globalThis==null?void 0:globalThis.document){const r=vr(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var NH="DismissableLayer",u1="dismissableLayer.update",SH="dismissableLayer.pointerDownOutside",_H="dismissableLayer.focusOutside",QE,hD=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(hD),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),x=rt(t,_=>f(_)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(b),g=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=g>=y,j=CH(_=>{const k=_.target,C=[...u.branches].some(E=>E.contains(k));!N||C||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=PH(_=>{const k=_.target;[...u.branches].some(E=>E.contains(k))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return jH(_=>{g===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),XE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=QE)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),XE())},[d,u]),v.useEffect(()=>{const _=()=>p({});return document.addEventListener(u1,_),()=>document.removeEventListener(u1,_)},[]),a.jsx(Oe.div,{...c,ref:x,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,S.onFocusCapture),onBlurCapture:me(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,j.onPointerDownCapture)})});wc.displayName=NH;var kH="DismissableLayerBranch",mD=v.forwardRef((e,t)=>{const r=v.useContext(hD),n=v.useRef(null),s=rt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Oe.div,{...e,ref:s})});mD.displayName=kH;function CH(e,t=globalThis==null?void 0:globalThis.document){const r=vr(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){pD(SH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function PH(e,t=globalThis==null?void 0:globalThis.document){const r=vr(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&pD(_H,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function XE(){const e=new CustomEvent(u1);document.dispatchEvent(e)}function pD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?M_(s,i):s.dispatchEvent(i)}var EH=wc,AH=mD,yr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},OH="Portal",Bd=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=v.useState(!1);yr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?KW.createPortal(a.jsx(Oe.div,{...n,ref:t}),o):null});Bd.displayName=OH;function TH(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Xr=e=>{const{present:t,children:r}=e,n=IH(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=rt(n.ref,RH(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Xr.displayName="Presence";function IH(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=TH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=lg(n.current);i.current=l==="mounted"?u:"none"},[l]),yr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=lg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),yr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=lg(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(i.current=lg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function lg(e){return(e==null?void 0:e.animationName)||"none"}function RH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $H=mx[" useInsertionEffect ".trim().toString()]||yr;function ns({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=MH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var f;if(l){const h=DH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function MH({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return $H(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function DH(e){return typeof e=="function"}var gD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LH="VisuallyHidden",Ox=v.forwardRef((e,t)=>a.jsx(Oe.span,{...e,ref:t,style:{...gD,...e.style}}));Ox.displayName=LH;var FH=Ox,D_="ToastProvider",[L_,UH,BH]=rp("Toast"),[vD]=yn("Toast",[BH]),[VH,Tx]=vD(D_),yD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${D_}\`. Expected non-empty \`string\`.`),a.jsx(L_.Provider,{scope:t,children:a.jsx(VH,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};yD.displayName=D_;var xD="ToastViewport",qH=["F8"],d1="toast.viewportPause",f1="toast.viewportResume",bD=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=qH,label:s="Notifications ({hotkey})",...i}=e,o=Tx(xD,r),l=UH(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=rt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),v.useEffect(()=>{const b=c.current,y=f.current;if(x&&b&&y){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(d1);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(f1);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!b.contains(S.relatedTarget)&&w()},j=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",g),b.addEventListener("focusout",N),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:b})=>{const g=l().map(w=>{const N=w.ref.current,j=[N,...rK(N)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return v.useEffect(()=>{const b=f.current;if(b){const y=g=>{var j,S,_;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const k=document.activeElement,C=g.shiftKey;if(g.target===b&&C){(j=u.current)==null||j.focus();return}const R=m({tabbingDirection:C?"backwards":"forwards"}),O=R.findIndex(I=>I===k);Z0(R.slice(O+1))?g.preventDefault():C?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,m]),a.jsxs(AH,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(h1,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});Z0(b)}}),a.jsx(L_.Slot,{scope:r,children:a.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),x&&a.jsx(h1,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});Z0(b)}})]})});bD.displayName=xD;var wD="ToastFocusProxy",h1=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Tx(wD,r);return a.jsx(Ox,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});h1.displayName=wD;var np="Toast",zH="toast.swipeStart",WH="toast.swipeMove",HH="toast.swipeCancel",KH="toast.swipeEnd",jD=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=ns({prop:n,defaultProp:s??!0,onChange:i,caller:np});return a.jsx(Xr,{present:r||l,children:a.jsx(QH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:vr(e.onPause),onResume:vr(e.onResume),onSwipeStart:me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});jD.displayName=np;var[GH,YH]=vD(np,{onClose(){}}),QH=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...x}=e,m=Tx(np,r),[b,y]=v.useState(null),g=rt(t,I=>y(I)),w=v.useRef(null),N=v.useRef(null),j=s||m.duration,S=v.useRef(0),_=v.useRef(j),k=v.useRef(0),{onToastAdd:C,onToastRemove:E}=m,P=vr(()=>{var T;(b==null?void 0:b.contains(document.activeElement))&&((T=m.viewport)==null||T.focus()),o()}),R=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(P,I))},[P]);v.useEffect(()=>{const I=m.viewport;if(I){const T=()=>{R(_.current),u==null||u()},D=()=>{const q=new Date().getTime()-S.current;_.current=_.current-q,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(d1,D),I.addEventListener(f1,T),()=>{I.removeEventListener(d1,D),I.removeEventListener(f1,T)}}},[m.viewport,j,c,u,R]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&R(j)},[i,j,m.isClosePausedRef,R]),v.useEffect(()=>(C(),()=>E()),[C,E]);const O=v.useMemo(()=>b?ED(b):null,[b]);return m.viewport?a.jsxs(a.Fragment,{children:[O&&a.jsx(XH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:O}),a.jsx(GH,{scope:r,onClose:P,children:bc.createPortal(a.jsx(L_.ItemSlot,{scope:r,children:a.jsx(EH,{asChild:!0,onEscapeKeyDown:me(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Oe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:me(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:me(e.onPointerMove,I=>{if(!w.current)return;const T=I.clientX-w.current.x,D=I.clientY-w.current.y,q=!!N.current,A=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=A?$(0,T):0,Y=A?0:$(0,D),L=I.pointerType==="touch"?10:2,K={x:H,y:Y},re={originalEvent:I,delta:K};q?(N.current=K,cg(WH,f,re,{discrete:!1})):ZE(K,m.swipeDirection,L)?(N.current=K,cg(zH,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(T)>L||Math.abs(D)>L)&&(w.current=null)}),onPointerUp:me(e.onPointerUp,I=>{const T=N.current,D=I.target;if(D.hasPointerCapture(I.pointerId)&&D.releasePointerCapture(I.pointerId),N.current=null,w.current=null,T){const q=I.currentTarget,A={originalEvent:I,delta:T};ZE(T,m.swipeDirection,m.swipeThreshold)?cg(KH,p,A,{discrete:!0}):cg(HH,h,A,{discrete:!0}),q.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),XH=e=>{const{__scopeToast:t,children:r,...n}=e,s=Tx(np,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return eK(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Bd,{asChild:!0,children:a.jsx(Ox,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},ZH="ToastTitle",ND=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Oe.div,{...n,ref:t})});ND.displayName=ZH;var JH="ToastDescription",SD=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Oe.div,{...n,ref:t})});SD.displayName=JH;var _D="ToastAction",kD=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(PD,{altText:r,asChild:!0,children:a.jsx(F_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_D}\`. Expected non-empty \`string\`.`),null)});kD.displayName=_D;var CD="ToastClose",F_=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=YH(CD,r);return a.jsx(PD,{asChild:!0,children:a.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,s.onClose)})})});F_.displayName=CD;var PD=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function ED(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),tK(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ED(n))}}),t}function cg(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?M_(s,i):s.dispatchEvent(i)}var ZE=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function eK(e=()=>{}){const t=vr(e);yr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function tK(e){return e.nodeType===e.ELEMENT_NODE}function rK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Z0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var nK=yD,AD=bD,OD=jD,TD=ND,ID=SD,RD=kD,$D=F_;function MD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=MD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=MD(e))&&(n&&(n+=" "),n+=t);return n}const JE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,eA=ft,sp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return eA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=JE(d)||JE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[m,b]=x;return Array.isArray(b)?b.includes({...i,...l}[m]):{...i,...l}[m]===b})?[...u,f,h]:u},[]);return eA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DD=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...aK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DD("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(iK,{ref:i,iconNode:t,className:DD(`lucide-${sK(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=de("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=de("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=de("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=de("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=de("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=de("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=de("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=de("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=de("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=de("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=de("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=de("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=de("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=de("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=de("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=de("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=de("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=de("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=de("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=de("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=de("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=de("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=de("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=de("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=de("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=de("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=de("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IK=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},RK=(e,t)=>({classGroupId:e,validator:t}),XD=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Dv="-",lA=[],$K="arbitrary..",MK=e=>{const t=LK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return DK(o);const l=o.split(Dv),c=l[0]===""&&l.length>1?1:0;return ZD(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?IK(u,c):c:u||lA}return r[o]||lA}}},ZD=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],i=r.nextPart.get(s);if(i){const u=ZD(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(Dv):e.slice(t).join(Dv),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},DK=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?$K+n:void 0})(),LK=e=>{const{theme:t,classGroups:r}=e;return FK(r,t)},FK=(e,t)=>{const r=XD();for(const n in e){const s=e[n];W_(s,r,n,t)}return r},W_=(e,t,r,n)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];UK(o,t,r,n)}},UK=(e,t,r,n)=>{if(typeof e=="string"){BK(e,t,r);return}if(typeof e=="function"){VK(e,t,r,n);return}qK(e,t,r,n)},BK=(e,t,r)=>{const n=e===""?t:JD(t,e);n.classGroupId=r},VK=(e,t,r,n)=>{if(zK(e)){W_(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(RK(r,e))},qK=(e,t,r,n)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[l,c]=s[o];W_(c,JD(t,l),r,n)}},JD=(e,t)=>{let r=e;const n=t.split(Dv),s=n.length;for(let i=0;i<s;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=XD(),r.nextPart.set(o,l)),r=l}return r},zK=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,WK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},v1="!",cA=":",HK=[],uA=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),KK=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,l=0,c=0,u;const d=s.length;for(let m=0;m<d;m++){const b=s[m];if(o===0&&l===0){if(b===cA){i.push(s.slice(c,m)),c=m+1;continue}if(b==="/"){u=m;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const f=i.length===0?s:s.slice(c);let h=f,p=!1;f.endsWith(v1)?(h=f.slice(0,-1),p=!0):f.startsWith(v1)&&(h=f.slice(1),p=!0);const x=u&&u>c?u-c:void 0;return uA(i,p,h,x)};if(t){const s=t+cA,i=n;n=o=>o.startsWith(s)?i(o.slice(s.length)):uA(HK,!1,o,void 0,!0)}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},GK=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(o)):s.push(o)}return s.length>0&&(s.sort(),n.push(...s)),n}},YK=e=>({cache:WK(e.cacheSize),parseClassName:KK(e),sortModifiers:GK(e),...MK(e)}),QK=/\s+/,XK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(QK);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!m,y=n(b?x.substring(0,m):x);if(!y){if(!b){c=d+(c.length>0?" "+c:c);continue}if(y=n(x),!y){c=d+(c.length>0?" "+c:c);continue}b=!1}const g=h.length===0?"":h.length===1?h[0]:i(h).join(":"),w=p?g+v1:g,N=w+y;if(o.indexOf(N)>-1)continue;o.push(N);const j=s(y,b);for(let S=0;S<j.length;++S){const _=j[S];o.push(w+_)}c=d+(c.length>0?" "+c:c)}return c},ZK=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=eL(r))&&(s&&(s+=" "),s+=n);return s},eL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=eL(e[n]))&&(r&&(r+=" "),r+=t);return r},JK=(e,...t)=>{let r,n,s,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=YK(u),n=r.cache.get,s=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=XK(c,r);return s(c,d),d};return i=o,(...c)=>i(ZK(...c))},eG=[],Lr=e=>{const t=r=>r[e]||eG;return t.isThemeGetter=!0,t},tL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tG=/^\d+\/\d+$/,rG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rc=e=>tG.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),Ki=e=>!!e&&Number.isInteger(Number(e)),J0=e=>e.endsWith("%")&&mt(e.slice(0,-1)),ri=e=>rG.test(e),oG=()=>!0,lG=e=>nG.test(e)&&!sG.test(e),nL=()=>!1,cG=e=>aG.test(e),uG=e=>iG.test(e),dG=e=>!$e(e)&&!Me(e),fG=e=>Vd(e,iL,nL),$e=e=>tL.test(e),nl=e=>Vd(e,oL,lG),ew=e=>Vd(e,vG,mt),dA=e=>Vd(e,sL,nL),hG=e=>Vd(e,aL,uG),ug=e=>Vd(e,lL,cG),Me=e=>rL.test(e),Nf=e=>qd(e,oL),mG=e=>qd(e,yG),fA=e=>qd(e,sL),pG=e=>qd(e,iL),gG=e=>qd(e,aL),dg=e=>qd(e,lL,!0),Vd=(e,t,r)=>{const n=tL.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},qd=(e,t,r=!1)=>{const n=rL.exec(e);return n?n[1]?t(n[1]):r:!1},sL=e=>e==="position"||e==="percentage",aL=e=>e==="image"||e==="url",iL=e=>e==="length"||e==="size"||e==="bg-size",oL=e=>e==="length",vG=e=>e==="number",yG=e=>e==="family-name",lL=e=>e==="shadow",xG=()=>{const e=Lr("color"),t=Lr("font"),r=Lr("text"),n=Lr("font-weight"),s=Lr("tracking"),i=Lr("leading"),o=Lr("breakpoint"),l=Lr("container"),c=Lr("spacing"),u=Lr("radius"),d=Lr("shadow"),f=Lr("inset-shadow"),h=Lr("text-shadow"),p=Lr("drop-shadow"),x=Lr("blur"),m=Lr("perspective"),b=Lr("aspect"),y=Lr("ease"),g=Lr("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...N(),Me,$e],S=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],k=()=>[Me,$e,c],C=()=>[Rc,"full","auto",...k()],E=()=>[Ki,"none","subgrid",Me,$e],P=()=>["auto",{span:["full",Ki,Me,$e]},Ki,Me,$e],R=()=>[Ki,"auto",Me,$e],O=()=>["auto","min","max","fr",Me,$e],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],T=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...k()],q=()=>[Rc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],A=()=>[e,Me,$e],$=()=>[...N(),fA,dA,{position:[Me,$e]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",pG,fG,{size:[Me,$e]}],L=()=>[J0,Nf,nl],K=()=>["","none","full",u,Me,$e],re=()=>["",mt,Nf,nl],ie=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[mt,J0,fA,dA],se=()=>["","none",x,Me,$e],Q=()=>["none",mt,Me,$e],X=()=>["none",mt,Me,$e],oe=()=>[mt,Me,$e],W=()=>[Rc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ri],breakpoint:[ri],color:[oG],container:[ri],"drop-shadow":[ri],ease:["in","out","in-out"],font:[dG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ri],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ri],shadow:[ri],spacing:["px",mt],text:[ri],"text-shadow":[ri],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rc,$e,Me,b]}],container:["container"],columns:[{columns:[mt,$e,Me,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Ki,"auto",Me,$e]}],basis:[{basis:[Rc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,Rc,"auto","initial","none",$e]}],grow:[{grow:["",mt,Me,$e]}],shrink:[{shrink:["",mt,Me,$e]}],order:[{order:[Ki,"first","last","none",Me,$e]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...T(),"normal"]}],"justify-self":[{"justify-self":["auto",...T()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...T(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...T(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...T(),"baseline"]}],"place-self":[{"place-self":["auto",...T()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,Nf,nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Me,ew]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",J0,$e]}],"font-family":[{font:[mG,$e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Me,$e]}],"line-clamp":[{"line-clamp":[mt,"none",Me,ew]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",Me,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Me,nl]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[mt,"auto",Me,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ki,Me,$e],radial:["",Me,$e],conic:[Ki,Me,$e]},gG,hG]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Me,$e]}],"outline-w":[{outline:["",mt,Nf,nl]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,dg,ug]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,dg,ug]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[mt,nl]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,dg,ug]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[mt,Me,$e]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[Me,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,$e]}],filter:[{filter:["","none",Me,$e]}],blur:[{blur:se()}],brightness:[{brightness:[mt,Me,$e]}],contrast:[{contrast:[mt,Me,$e]}],"drop-shadow":[{"drop-shadow":["","none",p,dg,ug]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",mt,Me,$e]}],"hue-rotate":[{"hue-rotate":[mt,Me,$e]}],invert:[{invert:["",mt,Me,$e]}],saturate:[{saturate:[mt,Me,$e]}],sepia:[{sepia:["",mt,Me,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,$e]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Me,$e]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Me,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Me,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Me,$e]}],"backdrop-invert":[{"backdrop-invert":["",mt,Me,$e]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Me,$e]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Me,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Me,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Me,$e]}],ease:[{ease:["linear","initial",y,Me,$e]}],delay:[{delay:[mt,Me,$e]}],animate:[{animate:["none",g,Me,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Me,$e]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:oe()}],"skew-x":[{"skew-x":oe()}],"skew-y":[{"skew-y":oe()}],transform:[{transform:[Me,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,$e]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[mt,Nf,nl,ew]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bG=JK(xG);function fe(...e){return bG(ft(e))}const wG=nK,cL=v.forwardRef(({className:e,...t},r)=>a.jsx(AD,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cL.displayName=AD.displayName;const jG=sp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uL=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(OD,{ref:n,className:fe(jG({variant:t}),e),...r}));uL.displayName=OD.displayName;const NG=v.forwardRef(({className:e,...t},r)=>a.jsx(RD,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));NG.displayName=RD.displayName;const dL=v.forwardRef(({className:e,...t},r)=>a.jsx($D,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(td,{className:"h-4 w-4"})}));dL.displayName=$D.displayName;const fL=v.forwardRef(({className:e,...t},r)=>a.jsx(TD,{ref:r,className:fe("text-sm font-semibold",e),...t}));fL.displayName=TD.displayName;const hL=v.forwardRef(({className:e,...t},r)=>a.jsx(ID,{ref:r,className:fe("text-sm opacity-90",e),...t}));hL.displayName=ID.displayName;function SG(){const{toasts:e}=At();return a.jsxs(wG,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(uL,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(fL,{children:r}),n&&a.jsx(hL,{children:n})]}),s,a.jsx(dL,{})]},t)}),a.jsx(cL,{})]})}var _G=mx[" useId ".trim().toString()]||(()=>{}),kG=0;function Rr(e){const[t,r]=v.useState(_G());return yr(()=>{r(n=>n??String(kG++))},[e]),t?`radix-${t}`:""}const CG=["top","right","bottom","left"],Do=Math.min,ms=Math.max,Lv=Math.round,fg=Math.floor,Ua=e=>({x:e,y:e}),PG={left:"right",right:"left",bottom:"top",top:"bottom"},EG={start:"end",end:"start"};function y1(e,t,r){return ms(e,Do(t,r))}function Ai(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function zd(e){return e.split("-")[1]}function H_(e){return e==="x"?"y":"x"}function K_(e){return e==="y"?"height":"width"}const AG=new Set(["top","bottom"]);function Ma(e){return AG.has(Oi(e))?"y":"x"}function G_(e){return H_(Ma(e))}function OG(e,t,r){r===void 0&&(r=!1);const n=zd(e),s=G_(e),i=K_(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Fv(o)),[o,Fv(o)]}function TG(e){const t=Fv(e);return[x1(e),t,x1(t)]}function x1(e){return e.replace(/start|end/g,t=>EG[t])}const hA=["left","right"],mA=["right","left"],IG=["top","bottom"],RG=["bottom","top"];function $G(e,t,r){switch(e){case"top":case"bottom":return r?t?mA:hA:t?hA:mA;case"left":case"right":return t?IG:RG;default:return[]}}function MG(e,t,r,n){const s=zd(e);let i=$G(Oi(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(x1)))),i}function Fv(e){return e.replace(/left|right|bottom|top/g,t=>PG[t])}function DG(e){return{top:0,right:0,bottom:0,left:0,...e}}function mL(e){return typeof e!="number"?DG(e):{top:e,right:e,bottom:e,left:e}}function Uv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function pA(e,t,r){let{reference:n,floating:s}=e;const i=Ma(t),o=G_(t),l=K_(o),c=Oi(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(zd(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const LG=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=pA(u,n,c),h=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:g,y:w,data:N,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=w??f,p={...p,[b]:{...p[b],...N}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=pA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function zh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ai(t,e),x=mL(p),b=l[h?f==="floating"?"reference":"floating":f],y=Uv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Uv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(y.top-j.top+x.top)/N.y,bottom:(j.bottom-y.bottom+x.bottom)/N.y,left:(y.left-j.left+x.left)/N.x,right:(j.right-y.right+x.right)/N.x}}const FG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ai(e,t)||{};if(u==null)return{};const f=mL(d),h={x:r,y:n},p=G_(s),x=K_(p),m=await o.getDimensions(u),b=p==="y",y=b?"top":"left",g=b?"bottom":"right",w=b?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[p]-h[p]-i.floating[x],j=h[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[x]);const k=N/2-j/2,C=_/2-m[x]/2-1,E=Do(f[y],C),P=Do(f[g],C),R=E,O=_-m[x]-P,I=_/2-m[x]/2+k,T=y1(R,I,O),D=!c.arrow&&zd(s)!=null&&I!==T&&i.reference[x]/2-(I<R?E:P)-m[x]/2<0,q=D?I<R?I-R:I-O:0;return{[p]:h[p]+q,data:{[p]:T,centerOffset:I-T-q,...D&&{alignmentOffset:q}},reset:D}}}),UG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...b}=Ai(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Oi(s),g=Ma(l),w=Oi(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!m?[Fv(l)]:TG(l)),S=x!=="none";!h&&S&&j.push(...MG(l,m,x,N));const _=[l,...j],k=await zh(t,b),C=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const I=OG(s,o,N);C.push(k[I[0]],k[I[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(I=>I<=0)){var P,R;const I=(((P=i.flip)==null?void 0:P.index)||0)+1,T=_[I];if(T&&(!(f==="alignment"?g!==Ma(T):!1)||E.every(A=>Ma(A.placement)===g?A.overflows[0]>0:!0)))return{data:{index:I,overflows:E},reset:{placement:T}};let D=(R=E.filter(q=>q.overflows[0]<=0).sort((q,A)=>q.overflows[1]-A.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(p){case"bestFit":{var O;const q=(O=E.filter(A=>{if(S){const $=Ma(A.placement);return $===g||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:O[0];q&&(D=q);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function gA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vA(e){return CG.some(t=>e[t]>=0)}const BG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ai(e,t);switch(n){case"referenceHidden":{const i=await zh(t,{...s,elementContext:"reference"}),o=gA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vA(o)}}}case"escaped":{const i=await zh(t,{...s,altBoundary:!0}),o=gA(i,r.floating);return{data:{escapedOffsets:o,escaped:vA(o)}}}default:return{}}}}},pL=new Set(["left","top"]);async function VG(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Oi(r),l=zd(r),c=Ma(r)==="y",u=pL.has(o)?-1:1,d=i&&c?-1:1,f=Ai(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const qG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await VG(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},zG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:g}=b;return{x:y,y:g}}},...c}=Ai(e,t),u={x:r,y:n},d=await zh(t,c),f=Ma(Oi(s)),h=H_(f);let p=u[h],x=u[f];if(i){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=p+d[b],w=p-d[y];p=y1(g,p,w)}if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=x+d[b],w=x-d[y];x=y1(g,x,w)}const m=l.fn({...t,[h]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},WG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ai(e,t),d={x:r,y:n},f=Ma(s),h=H_(f);let p=d[h],x=d[f];const m=Ai(l,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",N=i.reference[h]-i.floating[w]+b.mainAxis,j=i.reference[h]+i.reference[w]-b.mainAxis;p<N?p=N:p>j&&(p=j)}if(u){var y,g;const w=h==="y"?"width":"height",N=pL.has(Oi(s)),j=i.reference[f]-i.floating[w]+(N&&((y=o.offset)==null?void 0:y[f])||0)+(N?0:b.crossAxis),S=i.reference[f]+i.reference[w]+(N?0:((g=o.offset)==null?void 0:g[f])||0)-(N?b.crossAxis:0);x<j?x=j:x>S&&(x=S)}return{[h]:p,[f]:x}}}},HG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ai(e,t),d=await zh(t,u),f=Oi(s),h=zd(s),p=Ma(s)==="y",{width:x,height:m}=i.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const g=m-d.top-d.bottom,w=x-d.left-d.right,N=Do(m-d[b],g),j=Do(x-d[y],w),S=!t.middlewareData.shift;let _=N,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=g),S&&!h){const E=ms(d.left,0),P=ms(d.right,0),R=ms(d.top,0),O=ms(d.bottom,0);p?k=x-2*(E!==0||P!==0?E+P:ms(d.left,d.right)):_=m-2*(R!==0||O!==0?R+O:ms(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:_});const C=await o.getDimensions(l.floating);return x!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Dx(){return typeof window<"u"}function Wd(e){return gL(e)?(e.nodeName||"").toLowerCase():"#document"}function ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ga(e){var t;return(t=(gL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gL(e){return Dx()?e instanceof Node||e instanceof ws(e).Node:!1}function ya(e){return Dx()?e instanceof Element||e instanceof ws(e).Element:!1}function Wa(e){return Dx()?e instanceof HTMLElement||e instanceof ws(e).HTMLElement:!1}function yA(e){return!Dx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ws(e).ShadowRoot}const KG=new Set(["inline","contents"]);function lp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!KG.has(s)}const GG=new Set(["table","td","th"]);function YG(e){return GG.has(Wd(e))}const QG=[":popover-open",":modal"];function Lx(e){return QG.some(t=>{try{return e.matches(t)}catch{return!1}})}const XG=["transform","translate","scale","rotate","perspective"],ZG=["transform","translate","scale","rotate","perspective","filter"],JG=["paint","layout","strict","content"];function Y_(e){const t=Q_(),r=ya(e)?xa(e):e;return XG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ZG.some(n=>(r.willChange||"").includes(n))||JG.some(n=>(r.contain||"").includes(n))}function eY(e){let t=Lo(e);for(;Wa(t)&&!rd(t);){if(Y_(t))return t;if(Lx(t))return null;t=Lo(t)}return null}function Q_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tY=new Set(["html","body","#document"]);function rd(e){return tY.has(Wd(e))}function xa(e){return ws(e).getComputedStyle(e)}function Fx(e){return ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Lo(e){if(Wd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yA(e)&&e.host||Ga(e);return yA(t)?t.host:t}function vL(e){const t=Lo(e);return rd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wa(t)&&lp(t)?t:vL(t)}function Wh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=vL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ws(s);if(i){const l=b1(o);return t.concat(o,o.visualViewport||[],lp(s)?s:[],l&&r?Wh(l):[])}return t.concat(s,Wh(s,[],r))}function b1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yL(e){const t=xa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Wa(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Lv(r)!==i||Lv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function X_(e){return ya(e)?e:e.contextElement}function Cu(e){const t=X_(e);if(!Wa(t))return Ua(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=yL(t);let o=(i?Lv(r.width):r.width)/n,l=(i?Lv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rY=Ua(0);function xL(e){const t=ws(e);return!Q_()||!t.visualViewport?rY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ws(e)?!1:t}function rc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=X_(e);let o=Ua(1);t&&(n?ya(n)&&(o=Cu(n)):o=Cu(e));const l=nY(i,r,n)?xL(i):Ua(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ws(i),p=n&&ya(n)?ws(n):n;let x=h,m=b1(x);for(;m&&n&&p!==x;){const b=Cu(m),y=m.getBoundingClientRect(),g=xa(m),w=y.left+(m.clientLeft+parseFloat(g.paddingLeft))*b.x,N=y.top+(m.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=N,x=ws(m),m=b1(x)}}return Uv({width:d,height:f,x:c,y:u})}function Ux(e,t){const r=Fx(e).scrollLeft;return t?t.left+r:rc(Ga(e)).left+r}function bL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ux(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function sY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Ga(n),l=t?Lx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ua(1);const d=Ua(0),f=Wa(n);if((f||!f&&!i)&&((Wd(n)!=="body"||lp(o))&&(c=Fx(n)),Wa(n))){const p=rc(n);u=Cu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?bL(o,c):Ua(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function aY(e){return Array.from(e.getClientRects())}function iY(e){const t=Ga(e),r=Fx(e),n=e.ownerDocument.body,s=ms(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ms(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ux(e);const l=-r.scrollTop;return xa(n).direction==="rtl"&&(o+=ms(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const xA=25;function oY(e,t){const r=ws(e),n=Ga(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=Q_();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Ux(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,x=Math.abs(n.clientWidth-f.clientWidth-p);x<=xA&&(i-=x)}else u<=xA&&(i+=u);return{width:i,height:o,x:l,y:c}}const lY=new Set(["absolute","fixed"]);function cY(e,t){const r=rc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Wa(e)?Cu(e):Ua(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function bA(e,t,r){let n;if(t==="viewport")n=oY(e,r);else if(t==="document")n=iY(Ga(e));else if(ya(t))n=cY(t,r);else{const s=xL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Uv(n)}function wL(e,t){const r=Lo(e);return r===t||!ya(r)||rd(r)?!1:xa(r).position==="fixed"||wL(r,t)}function uY(e,t){const r=t.get(e);if(r)return r;let n=Wh(e,[],!1).filter(l=>ya(l)&&Wd(l)!=="body"),s=null;const i=xa(e).position==="fixed";let o=i?Lo(e):e;for(;ya(o)&&!rd(o);){const l=xa(o),c=Y_(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&lY.has(s.position)||lp(o)&&!c&&wL(e,o))?n=n.filter(d=>d!==o):s=l,o=Lo(o)}return t.set(e,n),n}function dY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Lx(t)?[]:uY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=bA(t,d,s);return u.top=ms(f.top,u.top),u.right=Do(f.right,u.right),u.bottom=Do(f.bottom,u.bottom),u.left=ms(f.left,u.left),u},bA(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fY(e){const{width:t,height:r}=yL(e);return{width:t,height:r}}function hY(e,t,r){const n=Wa(t),s=Ga(t),i=r==="fixed",o=rc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ua(0);function u(){c.x=Ux(s)}if(n||!n&&!i)if((Wd(t)!=="body"||lp(s))&&(l=Fx(t)),n){const p=rc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?bL(s,l):Ua(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function tw(e){return xa(e).position==="static"}function wA(e,t){if(!Wa(e)||xa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ga(e)===r&&(r=r.ownerDocument.body),r}function jL(e,t){const r=ws(e);if(Lx(e))return r;if(!Wa(e)){let s=Lo(e);for(;s&&!rd(s);){if(ya(s)&&!tw(s))return s;s=Lo(s)}return r}let n=wA(e,t);for(;n&&YG(n)&&tw(n);)n=wA(n,t);return n&&rd(n)&&tw(n)&&!Y_(n)?r:n||eY(e)||r}const mY=async function(e){const t=this.getOffsetParent||jL,r=this.getDimensions,n=await r(e.floating);return{reference:hY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pY(e){return xa(e).direction==="rtl"}const gY={convertOffsetParentRelativeRectToViewportRelativeRect:sY,getDocumentElement:Ga,getClippingRect:dY,getOffsetParent:jL,getElementRects:mY,getClientRects:aY,getDimensions:fY,getScale:Cu,isElement:ya,isRTL:pY};function NL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vY(e,t){let r=null,n;const s=Ga(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const x=fg(f),m=fg(s.clientWidth-(d+h)),b=fg(s.clientHeight-(f+p)),y=fg(d),w={rootMargin:-x+"px "+-m+"px "+-b+"px "+-y+"px",threshold:ms(0,Do(1,c))||1};let N=!0;function j(S){const _=S[0].intersectionRatio;if(_!==c){if(!N)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!NL(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function yY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=X_(e),d=s||i?[...u?Wh(u):[],...Wh(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?vY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?rc(e):null;c&&b();function b(){const y=rc(e);m&&!NL(m,y)&&r(),m=y,x=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const xY=qG,bY=zG,wY=UG,jY=HG,NY=BG,jA=FG,SY=WG,_Y=(e,t,r)=>{const n=new Map,s={platform:gY,...r},i={...s.platform,_c:n};return LG(e,t,{...s,platform:i})};var kY=typeof document<"u",CY=function(){},tv=kY?v.useLayoutEffect:CY;function Bv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Bv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Bv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function NA(e,t){const r=SL(e);return Math.round(t*r)/r}function rw(e){const t=v.useRef(e);return tv(()=>{t.current=e}),t}function PY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);Bv(h,n)||p(n);const[x,m]=v.useState(null),[b,y]=v.useState(null),g=v.useCallback(A=>{A!==S.current&&(S.current=A,m(A))},[]),w=v.useCallback(A=>{A!==_.current&&(_.current=A,y(A))},[]),N=i||x,j=o||b,S=v.useRef(null),_=v.useRef(null),k=v.useRef(d),C=c!=null,E=rw(c),P=rw(s),R=rw(u),O=v.useCallback(()=>{if(!S.current||!_.current)return;const A={placement:t,strategy:r,middleware:h};P.current&&(A.platform=P.current),_Y(S.current,_.current,A).then($=>{const H={...$,isPositioned:R.current!==!1};I.current&&!Bv(k.current,H)&&(k.current=H,bc.flushSync(()=>{f(H)}))})},[h,t,r,P,R]);tv(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const I=v.useRef(!1);tv(()=>(I.current=!0,()=>{I.current=!1}),[]),tv(()=>{if(N&&(S.current=N),j&&(_.current=j),N&&j){if(E.current)return E.current(N,j,O);O()}},[N,j,O,E,C]);const T=v.useMemo(()=>({reference:S,floating:_,setReference:g,setFloating:w}),[g,w]),D=v.useMemo(()=>({reference:N,floating:j}),[N,j]),q=v.useMemo(()=>{const A={position:r,left:0,top:0};if(!D.floating)return A;const $=NA(D.floating,d.x),H=NA(D.floating,d.y);return l?{...A,transform:"translate("+$+"px, "+H+"px)",...SL(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:H}},[r,l,D.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:O,refs:T,elements:D,floatingStyles:q}),[d,O,T,D,q])}const EY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jA({element:n.current,padding:s}).fn(r):{}:n?jA({element:n,padding:s}).fn(r):{}}}},AY=(e,t)=>({...xY(e),options:[e,t]}),OY=(e,t)=>({...bY(e),options:[e,t]}),TY=(e,t)=>({...SY(e),options:[e,t]}),IY=(e,t)=>({...wY(e),options:[e,t]}),RY=(e,t)=>({...jY(e),options:[e,t]}),$Y=(e,t)=>({...NY(e),options:[e,t]}),MY=(e,t)=>({...EY(e),options:[e,t]});var DY="Arrow",_L=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Oe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_L.displayName=DY;var LY=_L;function Z_(e){const[t,r]=v.useState(void 0);return yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var J_="Popper",[kL,Ko]=yn(J_),[FY,CL]=kL(J_),PL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(FY,{scope:t,anchor:n,onAnchorChange:s,children:r})};PL.displayName=J_;var EL="PopperAnchor",AL=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=CL(EL,r),o=v.useRef(null),l=rt(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Oe.div,{...s,ref:l})});AL.displayName=EL;var ek="PopperContent",[UY,BY]=kL(ek),OL=v.forwardRef((e,t)=>{var ee,se,Q,X,oe,W;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,b=CL(ek,r),[y,g]=v.useState(null),w=rt(t,z=>g(z)),[N,j]=v.useState(null),S=Z_(N),_=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],R=P.length>0,O={padding:E,boundary:P.filter(qY),altBoundary:R},{refs:I,floatingStyles:T,placement:D,isPositioned:q,middlewareData:A}=PY({strategy:"fixed",placement:C,whileElementsMounted:(...z)=>yY(...z,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[AY({mainAxis:s+k,alignmentAxis:o}),c&&OY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?TY():void 0,...O}),c&&IY({...O}),RY({...O,apply:({elements:z,rects:le,availableWidth:qe,availableHeight:Ye})=>{const{width:ut,height:Yt}=le.reference,kt=z.floating.style;kt.setProperty("--radix-popper-available-width",`${qe}px`),kt.setProperty("--radix-popper-available-height",`${Ye}px`),kt.setProperty("--radix-popper-anchor-width",`${ut}px`),kt.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),N&&MY({element:N,padding:l}),zY({arrowWidth:_,arrowHeight:k}),h&&$Y({strategy:"referenceHidden",...O})]}),[$,H]=RL(D),Y=vr(x);yr(()=>{q&&(Y==null||Y())},[q,Y]);const L=(ee=A.arrow)==null?void 0:ee.x,K=(se=A.arrow)==null?void 0:se.y,re=((Q=A.arrow)==null?void 0:Q.centerOffset)!==0,[ie,be]=v.useState();return yr(()=>{y&&be(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:q?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(X=A.transformOrigin)==null?void 0:X.x,(oe=A.transformOrigin)==null?void 0:oe.y].join(" "),...((W=A.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(UY,{scope:r,placedSide:$,onArrowChange:j,arrowX:L,arrowY:K,shouldHideArrow:re,children:a.jsx(Oe.div,{"data-side":$,"data-align":H,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});OL.displayName=ek;var TL="PopperArrow",VY={top:"bottom",right:"left",bottom:"top",left:"right"},IL=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=BY(TL,n),o=VY[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(LY,{...s,ref:r,style:{...s.style,display:"block"}})})});IL.displayName=TL;function qY(e){return e!==null}var zY=e=>({name:"transformOrigin",options:e,fn(t){var b,y,g;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=RL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?f:`${h}px`,m=`${-c}px`):u==="top"?(x=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x,y:m}}}});function RL(e){const[t,r="center"]=e.split("-");return[t,r]}var Bx=PL,cp=AL,Vx=OL,qx=IL,WY=Symbol("radix.slottable");function HY(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=WY,t}var[zx]=yn("Tooltip",[Ko]),Wx=Ko(),$L="TooltipProvider",KY=700,w1="tooltip.open",[GY,tk]=zx($L),ML=e=>{const{__scopeTooltip:t,delayDuration:r=KY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(GY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};ML.displayName=$L;var Hh="Tooltip",[YY,Hx]=zx(Hh),DL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=tk(Hh,e.__scopeTooltip),u=Wx(t),[d,f]=v.useState(null),h=Rr(),p=v.useRef(0),x=o??c.disableHoverableContent,m=l??c.delayDuration,b=v.useRef(!1),[y,g]=ns({prop:n,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(w1))):c.onClose(),i==null||i(_)},caller:Hh}),w=v.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),N=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,g(!0)},[g]),j=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),S=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,g(!0),p.current=0},m)},[m,g]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(Bx,{...u,children:a.jsx(YY,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:v.useCallback(()=>{x?j():(window.clearTimeout(p.current),p.current=0)},[j,x]),onOpen:N,onClose:j,disableHoverableContent:x,children:r})})};DL.displayName=Hh;var j1="TooltipTrigger",LL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Hx(j1,r),i=tk(j1,r),o=Wx(r),l=v.useRef(null),c=rt(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(cp,{asChild:!0,...o,children:a.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:me(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:me(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:me(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:me(e.onBlur,s.onClose),onClick:me(e.onClick,s.onClose)})})});LL.displayName=j1;var QY="TooltipPortal",[J$e,XY]=zx(QY,{forceMount:void 0}),nd="TooltipContent",FL=v.forwardRef((e,t)=>{const r=XY(nd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Hx(nd,e.__scopeTooltip);return a.jsx(Xr,{present:n||o.open,children:o.disableHoverableContent?a.jsx(UL,{side:s,...i,ref:t}):a.jsx(ZY,{side:s,...i,ref:t})})}),ZY=v.forwardRef((e,t)=>{const r=Hx(nd,e.__scopeTooltip),n=tk(nd,e.__scopeTooltip),s=v.useRef(null),i=rt(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),p=v.useCallback((x,m)=>{const b=x.currentTarget,y={x:x.clientX,y:x.clientY},g=nQ(y,b.getBoundingClientRect()),w=sQ(y,g),N=aQ(m.getBoundingClientRect()),j=oQ([...w,...N]);l(j),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const x=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),v.useEffect(()=>{if(o){const x=m=>{const b=m.target,y={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!iQ(y,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),a.jsx(UL,{...e,ref:i})}),[JY,eQ]=zx(Hh,{isInside:!1}),tQ=HY("TooltipContent"),UL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Hx(nd,r),u=Wx(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(w1,d),()=>document.removeEventListener(w1,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Vx,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(tQ,{children:n}),a.jsx(JY,{scope:r,isInside:!0,children:a.jsx(FH,{id:c.contentId,role:"tooltip",children:s||n})})]})})});FL.displayName=nd;var BL="TooltipArrow",rQ=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Wx(r);return eQ(BL,r).isInside?null:a.jsx(qx,{...s,...n,ref:t})});rQ.displayName=BL;function nQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function sQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function aQ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function iQ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function oQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lQ(t)}function lQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var cQ=ML,uQ=DL,dQ=LL,VL=FL;const fQ=cQ,hQ=uQ,mQ=dQ,qL=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(VL,{ref:n,sideOffset:t,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));qL.displayName=VL.displayName;const pQ=3e4,SA=["mousemove","keydown","click","scroll","touchstart"],gQ=5e3;function vQ(e=!1){const[,t]=as(),{toast:r}=At(),[n,s]=v.useState(null),i=v.useRef(Date.now()),o=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1),u=v.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=v.useCallback(async()=>{try{const p=await(await Ae("POST","/api/session/heartbeat")).json();p.success&&(s({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=v.useCallback(()=>{const h=Date.now();h-i.current>gQ&&(i.current=h,d())},[d]);return v.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,pQ),SA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),SA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),v.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function yQ({children:e}){const{data:t,isLoading:r}=ve({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return vQ(!r&&!!t),a.jsx(a.Fragment,{children:e})}var $a=function(){return $a=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$a.apply(this,arguments)};function Hd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function xQ(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function bQ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const wQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class rk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jQ extends rk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _A extends rk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kA extends rk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var N1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(N1||(N1={}));class NQ{constructor(t,{headers:r={},customFetch:n,region:s=N1.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=wQ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xQ(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let b=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:b}).catch(j=>{throw new jQ(j)}),g=y.headers.get("x-relay-error");if(g&&g==="true")throw new _A(y);if(!y.ok)throw new kA(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield y.json():w==="application/octet-stream"||w==="application/pdf"?N=yield y.blob():w==="text/event-stream"?N=y:w==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof kA||l instanceof _A?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var SQ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_Q=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new SQ(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${x}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},kQ=class extends _Q{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const CA=new RegExp("[,()]");var Qc=class extends kQ{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&CA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&CA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},CQ=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Qc({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Qc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Qc({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Qc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},PQ=class zL{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CQ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Qc({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class EQ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AQ="2.89.0",OQ=`realtime-js/${AQ}`,WL="1.0.0",TQ="2.0.0",PA=WL,S1=1e4,IQ=1e3,RQ=100;var Ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ji||(Ji={}));var Br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Br||(Br={}));var aa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(aa||(aa={}));var _1;(function(e){e.websocket="websocket"})(_1||(_1={}));var yl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yl||(yl={}));class $Q{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let x=new DataView(p),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,c.length),x.setUint8(m++,l.length),x.setUint8(m++,o.length),x.setUint8(m++,u.length),x.setUint8(m++,f.length),x.setUint8(m++,r),Array.from(c,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>x.setUint8(m++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,x={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class HL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const EA=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=MQ(o,e,t,s),i),{}):{}},MQ=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?KL(i,o):k1(o)},KL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return UQ(t,r)}switch(e){case qt.bool:return DQ(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return LQ(t);case qt.json:case qt.jsonb:return FQ(t);case qt.timestamp:return BQ(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return k1(t);default:return k1(t)}},k1=e=>e,DQ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LQ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FQ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},UQ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>KL(t,l))}return e},BQ=e=>typeof e=="string"?e.replace(" ","T"):e,GL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nw{constructor(t,r,n={},s=S1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var AA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(AA||(AA={}));class ch{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ch.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ch.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),m=f.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(OA||(OA={}));var uh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uh||(uh={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class pu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nw(this,aa.join,this.params,this.timeout),this.rejoinTimer=new HL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ch(this),this.broadcastEndpointURL=GL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Br.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[uh.PRESENCE]&&this.bindings[uh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(oi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(oi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,y=[];for(let g=0;g<b;g++){const w=m[g],{filter:{event:N,schema:j,table:S,filter:_}}=w,k=p&&p[g];if(k&&k.event===N&&pu.isFilterValueEqual(k.schema,j)&&pu.isFilterValueEqual(k.table,S)&&pu.isFilterValueEqual(k.filter,_))y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Br.errored,t==null||t(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(oi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Br.errored,t==null||t(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Br.joined&&t===uh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new nw(this,aa.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Br.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>RQ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=aa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,m,b,y,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,j=(x=p.filter)===null||x===void 0?void 0:x.event;return N&&((m=r.ids)===null||m===void 0?void 0:m.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const N=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:m,table:b,commit_timestamp:y,type:g,errors:w}=x;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(aa.close,{},t)}_onError(t){this._on(aa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=EA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=EA(t.columns,t.old_record)),r}}const sw=()=>{},hg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VQ=[1e3,2e3,5e3,1e4],qQ=1e4,zQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WQ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=S1,this.transport=null,this.heartbeatIntervalMs=hg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sw,this.ref=0,this.reconnectTimer=null,this.vsn=PA,this.logger=sw,this.conn=null,this.sendBuffer=[],this.serializer=new $Q,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_1.websocket}`,this.httpEndpoint=GL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EQ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return yl.Connecting;case Ji.open:return yl.Open;case Ji.closing:return yl.Closing;default:return yl.Closed}}isConnected(){return this.connectionState()===yl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IQ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ji.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ji.open||this.conn.readyState===Ji.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(aa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([zQ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:OQ};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new HL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:S1,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:hg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:sw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:PA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>VQ[x-1]||qQ,this.vsn){case WL:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,m)=>m(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,m)=>m(JSON.parse(x));break;case TQ:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Kh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HQ(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function KQ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function GQ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=HQ(e.baseUrl,n,s),c=await KQ(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,x=p==null?void 0:p.error;throw new Kh((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function mg(e){return e.join("")}var YQ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:mg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mg(e.namespace)}`}),!0}catch(t){if(t instanceof Kh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Kh&&r.status===409)return;throw r}}};function $c(e){return e.join("")}var QQ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$c(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Kh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Kh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},XQ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=GQ({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new YQ(this.client,t),this.tableOps=new QQ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Kx=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ZQ=class extends Kx{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},C1=class extends Kx{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const nk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JQ=()=>Response,P1=e=>{if(Array.isArray(e))return e.map(r=>P1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=P1(n)}),t},eX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tX=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function rX(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nX(e){var t=rX(e,"string");return Gh(t)=="symbol"?t:t+""}function sX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const aw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aX=async(e,t,r)=>{e instanceof await JQ()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new ZQ(aw(n),s,i))}).catch(n=>{t(new C1(aw(n),n))}):t(new C1(aw(e),e))},iX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(eX(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Ke(Ke({},s),r))};async function up(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,iX(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>aX(c,l,n))})}async function Yh(e,t,r,n){return up(e,"GET",t,r,n)}async function ta(e,t,r,n,s){return up(e,"POST",t,n,s,r)}async function E1(e,t,r,n,s){return up(e,"PUT",t,n,s,r)}async function oX(e,t,r,n){return up(e,"HEAD",t,Ke(Ke({},r),{},{noResolveJson:!0}),n)}async function sk(e,t,r,n,s){return up(e,"DELETE",t,n,s,r)}var lX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};let YL;YL=Symbol.toStringTag;var cX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[YL]="BlobDownloadBuilder",this.promise=null}asStream(){return new lX(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};const uX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=nk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=Ke(Ke({},IA),n);let l=Ke(Ke({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ke(Ke({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?E1:ta)(s.fetch,`${s.url}/object/${d}`,i,Ke({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(sr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ke({upsert:IA.upsert},n),d=Ke(Ke({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await E1(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=Ke({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ta(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Kx("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ta(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await ta(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await ta(n.fetch,`${n.url}/object/sign/${s}`,Ke({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await ta(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Ke(Ke({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Yh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new cX(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:P1(await Yh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await oX(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n)&&n instanceof C1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await sk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=Ke(Ke(Ke({},uX),t),{},{prefix:e||""});return{data:await ta(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sr(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=Ke({},e);return{data:await ta(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const QL="2.89.0",XL={"X-Client-Info":`storage-js/${QL}`};var fX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ke(Ke({},XL),t),this.fetch=nk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Yh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Yh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ta(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await E1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ta(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await sk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},XL),t),this.fetch=nk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ta(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Yh(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await sk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!tX(e))throw new Kx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new XQ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const ak={"X-Client-Info":`storage-js/${QL}`,"Content-Type":"application/json"};var ZL=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ps(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var iw=class extends ZL{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mX=class extends ZL{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ik=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},RA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gX=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new iw(RA(i),n,o))}).catch(()=>{const i=n+"";t(new iw(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new iw(s.statusText||`HTTP ${n} error`,n,i))}}else t(new mX(RA(e),e))},vX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(pX(n)?(s.headers=Ke({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Ke(Ke({},s),r)):s};async function yX(e,t,r,n,s,i){return new Promise((o,l)=>{e(r,vX(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>gX(c,l,n))})}async function gs(e,t,r,n,s){return yX(e,"POST",t,n,s,r)}var xX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},ak),t),this.fetch=ik(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await gs(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ps(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await gs(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ps(n))return{data:null,error:n};throw n}}},bX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},ak),t),this.fetch=ik(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gs(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await gs(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gs(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}},wX=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},ak),t),this.fetch=ik(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await gs(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ps(r))return{data:null,error:r};throw r}}},jX=class extends wX{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new NX(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},NX=class extends xX{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new SX(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},SX=class extends bX{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},_X=class extends fX{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new dX(this.url,this.headers,e,this.fetch)}get vectors(){return new jX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hX(this.url+"/iceberg",this.headers,this.fetch)}};const JL="2.89.0",Xc=30*1e3,A1=3,ow=A1*Xc,kX="http://localhost:9999",CX="supabase.auth.token",PX={"X-Client-Info":`gotrue-js/${JL}`},O1="X-Supabase-Api-Version",eF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AX=10*60*1e3;class Qh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OX extends Qh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TX(e){return Be(e)&&e.name==="AuthApiError"}class xl extends Qh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fi extends Qh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class cs extends Fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IX(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Mc extends Fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pg extends Fi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gg extends Fi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RX(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class $A extends Fi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $X extends Fi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class T1 extends Fi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lw(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class MA extends Fi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class I1 extends Fi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DA=` 	
\r=`.split(""),MX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<DA.length;t+=1)e[DA[t].charCodeAt(0)]=-2;for(let t=0;t<Vv.length;t+=1)e[Vv[t].charCodeAt(0)]=t;return e})();function LA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vv[n]),t.queuedBits-=6}}function tF(e,t,r){const n=MX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FA(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{FX(o,n,r)};for(let o=0;o<e.length;o+=1)tF(e.charCodeAt(o),s,i);return t.join("")}function DX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LX(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}DX(n,t)}}function FX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)tF(e.charCodeAt(s),r,n);return new Uint8Array(t)}function UX(e){const t=[];return LX(e,r=>t.push(r)),new Uint8Array(t)}function _l(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>LA(s,r,n)),LA(null,r,n),t.join("")}function BX(e){return Math.round(Date.now()/1e3)+e}function VX(){return Symbol("auth-callback")}const dn=()=>typeof window<"u"&&typeof document<"u",sl={tested:!1,writable:!1},rF=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sl.tested)return sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sl.tested=!0,sl.writable=!0}catch{sl.tested=!0,sl.writable=!1}return sl.writable};function qX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const nF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},al=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},un=async(e,t)=>{await e.removeItem(t)};class Gx{constructor(){this.promise=new Gx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gx.promiseConstructor=Promise;function cw(e){const t=e.split(".");if(t.length!==3)throw new I1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!EX.test(t[n]))throw new I1("JWT not in base64url format");return{header:JSON.parse(FA(t[0])),payload:JSON.parse(FA(t[1])),signature:Pu(t[2]),raw:{header:t[0],payload:t[1]}}}async function WX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HX(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function KX(e){return("0"+e.toString(16)).substr(-2)}function GX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,KX).join("")}async function YX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function QX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dc(e,t,r=!1){const n=GX();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zc(e,`${t}-code-verifier`,s);const i=await QX(n);return[i,n===i?"plain":"s256"]}const XX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZX(e){const t=e.headers.get(O1);if(!t||!t.match(XX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lc(e){if(!tZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rZ(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function UA(e){return JSON.parse(JSON.stringify(e))}const hl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nZ=[502,503,504];async function BA(e){var t;if(!zX(e))throw new T1(hl(e),0);if(nZ.includes(e.status))throw new T1(hl(e),e.status);let r;try{r=await e.json()}catch(i){throw new xl(hl(i),i)}let n;const s=ZX(e);if(s&&s.getTime()>=eF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new MA(hl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new cs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new MA(hl(r),e.status,r.weak_password.reasons);throw new OX(hl(r),e.status||500,n)}const sZ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function He(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[O1]||(i[O1]=eF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await aZ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function aZ(e,t,r,n,s,i){const o=sZ(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new T1(hl(c),0)}if(l.ok||await BA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await BA(c)}}function Zs(e){var t;let r=null;lZ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=BX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function VA(e){const t=Zs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ao(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iZ(e){return{data:e,error:null}}function oZ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Hd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function qA(e){return e}function lZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const dw=["global","local","others"];class cZ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=dw[0]){if(dw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dw.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ao})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:oZ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ao})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Lc(t);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ao})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lc(t);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ao})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Lc(t);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ao})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Lc(t.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lc(t.userId),Lc(t.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function zA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Fc={debug:!!(globalThis&&rF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uZ extends sF{}async function dZ(e,t,r){Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function fZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hZ(e){return parseInt(e,16)}function mZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function pZ(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=aF(e.address),x=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}y+=g}return`${b}
${y}`}class Er extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class qv extends Er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function gZ({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(iF(o)){if(i.rp.id!==o)return new Er({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(iF(n)){if(r.rpId!==n)return new Er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class yZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const xZ=new yZ;function bZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Hd(e,["challenge","user","excludeCredentials"]),i=Pu(t).buffer,o=Object.assign(Object.assign({},r),{id:Pu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Pu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function wZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Hd(e,["challenge","allowCredentials"]),s=Pu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Pu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function jZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_l(new Uint8Array(e.response.attestationObject)),clientDataJSON:_l(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_l(new Uint8Array(s.authenticatorData)),clientDataJSON:_l(new Uint8Array(s.clientDataJSON)),signature:_l(new Uint8Array(s.signature)),userHandle:s.userHandle?_l(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function WA(){var e,t;return!!(dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function SZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qv("Browser returned unexpected credential type",t)}:{data:null,error:new qv("Empty credential response",t)}}catch(t){return{data:null,error:gZ({error:t,options:e})}}}async function _Z(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qv("Browser returned unexpected credential type",t)}:{data:null,error:new qv("Empty credential response",t)}}catch(t){return{data:null,error:vZ({error:t,options:e})}}}const kZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},CZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=zv(l,o):n[i]=zv(o)}else n[i]=o}return n}function PZ(e,t){return zv(kZ,e,t||{})}function EZ(e,t){return zv(CZ,e,t||{})}class AZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??xZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=PZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await SZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=EZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await _Z(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new xl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Qh("rpId is required for WebAuthn authentication")};try{if(!WA())return{data:null,error:new xl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new xl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Qh("rpId is required for WebAuthn registration")};try{if(!WA())return{data:null,error:new xl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new xl("Unexpected error in register",o)}}}}fZ();const OZ={url:kX,storageKey:CX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function HA(e,t,r){return await r()}const Uc={};class Xh{get jwks(){var t,r;return(r=(t=Uc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Uc[this.storageKey]=Object.assign(Object.assign({},Uc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Uc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Uc[this.storageKey]=Object.assign(Object.assign({},Uc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},OZ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Xh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&dn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nF(i.fetch),this.lock=i.lock||HA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dZ:this.lock=HA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=zA(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${JL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(dn()&&(r=qX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),dn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RX(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new xl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Dc(this.storage,this.storageKey)),i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:Zs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zs})}else throw new pg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:VA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:VA})}else throw new pg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Mc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:m,wallet:b,statement:y,options:g}=t;let w;if(dn())if(typeof b=="object")w=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const N=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=aF(j[0]);let _=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const C=await w.request({method:"eth_chainId"});_=hZ(C)}const k={domain:N.host,address:S,statement:y,uri:N.href,version:"1",chainId:_,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=pZ(k),x=await w.request({method:"personal_sign",params:[mZ(p),S]})}try{const{data:m,error:b}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Zs});if(b)throw b;if(!m||!m.session||!m.user){const y=new Mc;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(Be(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,p;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:b,wallet:y,statement:g,options:w}=t;let N;if(dn())if(typeof y=="object")N=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),m=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:b,error:y}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:_l(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Zs});if(y)throw y;if(!b||!b.session||!b.user){const g=new Mc;return this._returnResult({data:{user:null,session:null},error:g})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(Be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await al(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $X;const{data:i,error:o}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zs});if(await un(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Mc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Mc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dc(this.storage,this.storageKey));const{error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new pg("You must provide either an email or phone number.")}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Zs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Dc(this.storage,this.storageKey));const u=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:iZ});return!((i=u.data)===null||i===void 0)&&i.url&&dn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new cs;const{error:s}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new pg("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ow:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await al(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=uw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=rZ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ao}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cs}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ao})})}catch(r){if(Be(r))return IX(r)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new cs;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Dc(this.storage,this.storageKey));const{data:u,error:d}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ao});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=cw(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new cs;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!dn())throw new gg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $A("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $A("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new gg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TX(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=VX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dc(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Zs}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await un(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HX(async s=>(s>0&&await WX(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lw(i)&&Date.now()+o-n<Xc})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await al(this.storage,this.storageKey);if(s&&this.userStorage){let o=await al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Zc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:uw()}else if(s&&!s.user&&!s.user){const o=await al(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await un(this.storage,this.storageKey+"-user"),await Zc(this.storage,this.storageKey,s)):s.user=uw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ow;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ow}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new cs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const o={data:null,error:i};return lw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await un(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=UA(s);await Zc(this.storage,this.storageKey,i)}else{const s=UA(r);await Zc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await un(this.storage,this.storageKey),await un(this.storage,this.storageKey+"-code-verifier"),await un(this.storage,this.storageKey+"-user"),this.userStorage&&await un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xc}ms, refresh threshold is ${A1} ticks`),s<=A1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await He(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?jZ(t.webauthn.credential_response):NZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:bZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:wZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=cw(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new cs})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new cs});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&dn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new cs});const o=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&dn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await He(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new cs})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await He(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cs})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+AX>s)return n;const{data:i,error:o}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=cw(n);r!=null&&r.allowExpired||JX(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=eZ(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,UX(`${l}.${c}`)))throw new I1("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}Xh.nextInstanceID={};const TZ=Xh,IZ="2.89.0";let Wf="";typeof Deno<"u"?Wf="deno":typeof document<"u"?Wf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wf="react-native":Wf="node";const RZ={"X-Client-Info":`supabase-js-${Wf}/${IZ}`},$Z={headers:RZ},MZ={schema:"public"},DZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LZ={};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function FZ(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UZ(e){var t=FZ(e,"string");return Zh(t)=="symbol"?t:t+""}function BZ(e,t,r){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const VZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qZ=()=>Headers,zZ=(e,t,r)=>{const n=VZ(r),s=qZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,hr(hr({},o),{},{headers:u}))}};function WZ(e){return e.endsWith("/")?e:e+"/"}function HZ(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:hr(hr({},c),s),auth:hr(hr({},u),i),realtime:hr(hr({},d),o),storage:{},global:hr(hr(hr({},f),l),{},{headers:hr(hr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function KZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var GZ=class extends TZ{constructor(e){super(e)}},YZ=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=KZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:MZ,realtime:LZ,auth:hr(hr({},DZ),{},{storageKey:o}),global:$Z},c=HZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=zZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new PQ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new _X(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new NQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GZ({url:this.authUrl.href,headers:hr(hr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new WQ(this.realtimeUrl.href,hr(hr({},e),{},{params:hr(hr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QZ=(e,t,r)=>new YZ(e,t,r);function XZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}XZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let fw=null,GA=!1,vg=null,Jh=null,em=null;const ZZ="quarterdeck-auth";async function JZ(){if(!GA)return vg||(vg=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(Jh=t.supabaseUrl,em=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!Jh,hasKey:!!em}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}GA=!0})(),vg)}function oF(){return!!(Jh&&em)}function il(){if(!Jh||!em)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return fw||(console.log("[Supabase] Creating client"),fw=QZ(Jh,em,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:ZZ}})),fw}const lF=v.createContext(null);function eJ({children:e}){const[t,r]=v.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,s]=v.useState(!1),[i,o]=v.useState(!1);v.useEffect(()=>{console.log("[Auth] Loading Supabase config..."),JZ().then(()=>{const x=oF();console.log("[Auth] Config loaded, isConfigured:",x),o(!0),s(x)})},[]),v.useEffect(()=>{if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(b=>({...b,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let x;try{x=il()}catch(b){console.error("[Auth] Failed to get Supabase client:",b),r(y=>({...y,isLoading:!1}));return}console.log("[Auth] Getting session..."),x.auth.getSession().then(({data:{session:b},error:y})=>{var g;console.log("[Auth] getSession result:",{hasSession:!!b,user:(g=b==null?void 0:b.user)==null?void 0:g.email,error:y==null?void 0:y.message}),r({user:(b==null?void 0:b.user)??null,session:b,isLoading:!1,isAuthenticated:!!(b!=null&&b.user)}),b!=null&&b.user&&(console.log("[Auth] User found, syncing to backend..."),l(b))});const{data:{subscription:m}}=x.auth.onAuthStateChange(async(b,y)=>{var g;console.log("[Auth] onAuthStateChange:",b,(g=y==null?void 0:y.user)==null?void 0:g.email),r({user:(y==null?void 0:y.user)??null,session:y,isLoading:!1,isAuthenticated:!!(y!=null&&y.user)}),b==="SIGNED_IN"&&y&&(console.log("[Auth] User signed in, syncing to backend..."),await l(y),Ne.invalidateQueries({queryKey:["/api/auth/user"]})),b==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),Ne.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>m.unsubscribe()},[i,n]);const l=async x=>{var m,b,y,g;try{const w=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.access_token}`},body:JSON.stringify({supabaseUserId:x.user.id,email:x.user.email,firstName:((m=x.user.user_metadata)==null?void 0:m.firstName)||((b=x.user.user_metadata)==null?void 0:b.first_name),lastName:((y=x.user.user_metadata)==null?void 0:y.lastName)||((g=x.user.user_metadata)==null?void 0:g.last_name)})});if(console.log("[Auth] Sync response:",w.status),w.status===403){const N=await w.json();return console.log("[Auth] Email verification required:",N.message),{success:!1,requiresEmailVerification:!0,error:N.message}}return w.ok?{success:!0}:{success:!1,error:(await w.json()).message||"Sync failed"}}catch(w){return console.error("[Auth] Failed to sync user to backend:",w),{success:!1,error:"Network error during sync"}}},c=v.useCallback(async(x,m,b)=>{if(!n)return{error:{message:"Supabase not configured"}};const y=il(),{error:g}=await y.auth.signUp({email:x,password:m,options:{data:b,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:g}},[n]),u=v.useCallback(async(x,m)=>{var w;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",x);const b=il(),{data:y,error:g}=await b.auth.signInWithPassword({email:x,password:m});if(g)return console.log("[Auth] signIn error:",g.message),{error:g};if(console.log("[Auth] signIn success:",(w=y.user)==null?void 0:w.email),y.session){const N=await l(y.session);if(!N.success)return N.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await b.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:N.error||"Failed to establish session"}}}return{}},[n]),d=v.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),Ne.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await il().auth.signOut()}catch(x){console.error("[Auth] Supabase signOut error:",x)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(x){console.error("[Auth] Backend logout error:",x)}console.log("[Auth] signOut complete")},[n]),f=v.useCallback(async x=>{if(!n)return{error:{message:"Supabase not configured"}};const m=il(),{error:b}=await m.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:b}},[n]),h=v.useCallback(async x=>{if(!n)return{error:{message:"Supabase not configured"}};const m=il(),{error:b}=await m.auth.updateUser({password:x});return{error:b}},[n]),p=v.useCallback(async x=>{if(!n)return{error:{message:"Supabase not configured"}};const m=il(),{error:b}=await m.auth.signInWithOAuth({provider:x,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:b}},[n]);return a.jsx(lF.Provider,{value:{...t,signUp:c,signIn:u,signInWithOAuth:p,signOut:d,resetPassword:f,updatePassword:h,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function Kd(){const e=v.useContext(lF);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function tJ(){const[e]=as(),{data:t}=ve({queryKey:["/api/admin/config"],queryFn:async()=>{try{const x=await fetch("/api/admin/config");return x.ok?await x.json():{}}catch{return{}}}}),{data:r,isLoading:n}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const x=await fetch("/api/site-settings");if(!x.ok)return{};const m=await x.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),s=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!s||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return a.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[a.jsx(yK,{className:"w-6 h-6"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var rJ=Symbol.for("react.lazy"),Wv=mx[" use ".trim().toString()];function nJ(e){return typeof e=="object"&&e!==null&&"then"in e}function cF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===rJ&&"_payload"in e&&nJ(e._payload)}function Yx(e){const t=sJ(e),r=v.forwardRef((n,s)=>{let{children:i,...o}=n;cF(i)&&typeof Wv=="function"&&(i=Wv(i._payload));const l=v.Children.toArray(i),c=l.find(iJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var ok=Yx("Slot");function sJ(e){const t=v.forwardRef((r,n)=>{let{children:s,...i}=r;if(cF(s)&&typeof Wv=="function"&&(s=Wv(s._payload)),v.isValidElement(s)){const o=lJ(s),l=oJ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aJ=Symbol("radix.slottable");function iJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aJ}function oJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function lJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const lk=sp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?ok:"button";return a.jsx(o,{className:fe(lk({variant:t,size:r,className:e})),ref:i,...s})});U.displayName="Button";function cJ(){const[e,t]=v.useState(!1);v.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsx(U,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:a.jsx(oK,{className:"h-4 w-4"})})}function uJ(){const[e]=as();return v.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function dp(){const{data:e,isLoading:t,error:r}=ve({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}const Hv="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function jc(){const{data:e,isLoading:t,error:r}=ve({queryKey:["/api/auth/user"],queryFn:fD({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function YA(){const[e,t]=v.useState("light");v.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return a.jsx(U,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?a.jsx(wK,{className:"w-4 h-4"}):a.jsx(AK,{className:"w-4 h-4"})})}var hw=0;function Qx(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??QA()),document.body.insertAdjacentElement("beforeend",e[1]??QA()),hw++,()=>{hw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hw--}},[])}function QA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mw="focusScope.autoFocusOnMount",pw="focusScope.autoFocusOnUnmount",XA={bubbles:!1,cancelable:!0},dJ="FocusScope",fp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=vr(s),d=vr(i),f=v.useRef(null),h=rt(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:Qi(f.current,{select:!0})},b=function(w){if(p.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Qi(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Qi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),g.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){JA.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(mw,XA);l.addEventListener(mw,u),l.dispatchEvent(y),y.defaultPrevented||(fJ(vJ(uF(l)),{select:!0}),document.activeElement===m&&Qi(l))}return()=>{l.removeEventListener(mw,u),setTimeout(()=>{const y=new CustomEvent(pw,XA);l.addEventListener(pw,d),l.dispatchEvent(y),y.defaultPrevented||Qi(m??document.body,{select:!0}),l.removeEventListener(pw,d),JA.remove(p)},0)}}},[l,u,d,p]);const x=v.useCallback(m=>{if(!r&&!n||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(b&&y){const g=m.currentTarget,[w,N]=hJ(g);w&&N?!m.shiftKey&&y===N?(m.preventDefault(),r&&Qi(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&Qi(N,{select:!0})):y===g&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});fp.displayName=dJ;function fJ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qi(n,{select:t}),document.activeElement!==r)return}function hJ(e){const t=uF(e),r=ZA(t,e),n=ZA(t.reverse(),e);return[r,n]}function uF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ZA(e,t){for(const r of e)if(!mJ(r,{upTo:t}))return r}function mJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pJ(e){return e instanceof HTMLInputElement&&"select"in e}function Qi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pJ(e)&&t&&e.select()}}var JA=gJ();function gJ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=e2(e,t),e.unshift(t)},remove(t){var r;e=e2(e,t),(r=e[0])==null||r.resume()}}}function e2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vJ(e){return e.filter(t=>t.tagName!=="A")}function yJ(e){const t=xJ(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(wJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function xJ(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=NJ(s),l=jJ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bJ=Symbol("radix.slottable");function wJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bJ}function jJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function NJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bc=new WeakMap,yg=new WeakMap,xg={},gw=0,dF=function(e){return e&&(e.host||dF(e.parentNode))},_J=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=dF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},kJ=function(e,t,r,n){var s=_J(t,Array.isArray(e)?e:[e]);xg[r]||(xg[r]=new WeakMap);var i=xg[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",m=(Bc.get(h)||0)+1,b=(i.get(h)||0)+1;Bc.set(h,m),i.set(h,b),o.push(h),m===1&&x&&yg.set(h,!0),b===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),gw++,function(){o.forEach(function(f){var h=Bc.get(f)-1,p=i.get(f)-1;Bc.set(f,h),i.set(f,p),h||(yg.has(f)||f.removeAttribute(n),yg.delete(f)),p||f.removeAttribute(r)}),gw--,gw||(Bc=new WeakMap,Bc=new WeakMap,yg=new WeakMap,xg={})}},Xx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=SJ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),kJ(n,s,r,"aria-hidden")):function(){return null}},rv="right-scroll-bar-position",nv="width-before-scroll-bar",CJ="with-scroll-bars-hidden",PJ="--removed-body-scroll-bar-size";function vw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EJ(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var AJ=typeof window<"u"?v.useLayoutEffect:v.useEffect,t2=new WeakMap;function OJ(e,t){var r=EJ(null,function(n){return e.forEach(function(s){return vw(s,n)})});return AJ(function(){var n=t2.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||vw(l,null)}),i.forEach(function(l){s.has(l)||vw(l,o)})}t2.set(r,e)},[e]),r}function TJ(e){return e}function IJ(e,t){t===void 0&&(t=TJ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function RJ(e){e===void 0&&(e={});var t=IJ(null);return t.options=$a({async:!0,ssr:!1},e),t}var fF=function(e){var t=e.sideCar,r=Hd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,$a({},r))};fF.isSideCarExport=!0;function $J(e,t){return e.useMedium(t),fF}var hF=RJ(),yw=function(){},Zx=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:yw,onWheelCapture:yw,onTouchMoveCapture:yw}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,b=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,w=e.gapMode,N=Hd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=OJ([r,t]),_=$a($a({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:hF,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),$a($a({},_),{ref:S})):v.createElement(g,$a({},_,{className:c,ref:S}),l))});Zx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zx.classNames={fullWidth:nv,zeroRight:rv};var MJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=MJ();return t&&e.setAttribute("nonce",t),e}function LJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UJ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=DJ())&&(LJ(t,r),FJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BJ=function(){var e=UJ();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},mF=function(){var e=BJ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},VJ={left:0,top:0,right:0,gap:0},xw=function(e){return parseInt(e||"",10)||0},qJ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[xw(r),xw(n),xw(s)]},zJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VJ;var t=qJ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},WJ=mF(),Eu="data-scroll-locked",HJ=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(CJ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Eu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rv," .").concat(rv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eu,`] {
    `).concat(PJ,": ").concat(l,`px;
  }
`)},r2=function(){var e=parseInt(document.body.getAttribute(Eu)||"0",10);return isFinite(e)?e:0},KJ=function(){v.useEffect(function(){return document.body.setAttribute(Eu,(r2()+1).toString()),function(){var e=r2()-1;e<=0?document.body.removeAttribute(Eu):document.body.setAttribute(Eu,e.toString())}},[])},GJ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;KJ();var i=v.useMemo(function(){return zJ(s)},[s]);return v.createElement(WJ,{styles:HJ(i,!t,s,r?"":"!important")})},R1=!1;if(typeof window<"u")try{var bg=Object.defineProperty({},"passive",{get:function(){return R1=!0,!0}});window.addEventListener("test",bg,bg),window.removeEventListener("test",bg,bg)}catch{R1=!1}var Vc=R1?{passive:!1}:!1,YJ=function(e){return e.tagName==="TEXTAREA"},pF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!YJ(e)&&r[t]==="visible")},QJ=function(e){return pF(e,"overflowY")},XJ=function(e){return pF(e,"overflowX")},n2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=gF(e,n);if(s){var i=vF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ZJ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JJ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},gF=function(e,t){return e==="v"?QJ(t):XJ(t)},vF=function(e,t){return e==="v"?ZJ(t):JJ(t)},eee=function(e,t){return e==="h"&&t==="rtl"?-1:1},tee=function(e,t,r,n,s){var i=eee(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=vF(e,l),x=p[0],m=p[1],b=p[2],y=m-b-i*x;(x||y)&&gF(e,l)&&(f+=y,h+=x);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},wg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s2=function(e){return[e.deltaX,e.deltaY]},a2=function(e){return e&&"current"in e?e.current:e},ree=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},see=0,qc=[];function aee(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(see++)[0],i=v.useState(mF)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=bQ([e.lockRef.current],(e.shards||[]).map(a2),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=wg(m),g=r.current,w="deltaX"in m?m.deltaX:g[0]-y[0],N="deltaY"in m?m.deltaY:g[1]-y[1],j,S=m.target,_=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in m&&_==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,E=C?C===S||C.contains(S):!1;if(E)return!1;var P=n2(_,S);if(!P)return!0;if(P?j=_:(j=_==="v"?"h":"v",P=n2(_,S)),!P)return!1;if(!n.current&&"changedTouches"in m&&(w||N)&&(n.current=j),!j)return!0;var R=n.current||j;return tee(R,b,m,R==="h"?w:N)},[]),c=v.useCallback(function(m){var b=m;if(!(!qc.length||qc[qc.length-1]!==i)){var y="deltaY"in b?s2(b):wg(b),g=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&ree(j.delta,y)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(a2).filter(Boolean).filter(function(j){return j.contains(b.target)}),N=w.length>0?l(b,w[0]):!o.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),u=v.useCallback(function(m,b,y,g){var w={name:m,delta:b,target:y,should:g,shadowParent:iee(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=v.useCallback(function(m){r.current=wg(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,s2(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,wg(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return qc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Vc),document.addEventListener("touchmove",c,Vc),document.addEventListener("touchstart",d,Vc),function(){qc=qc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Vc),document.removeEventListener("touchmove",c,Vc),document.removeEventListener("touchstart",d,Vc)}},[]);var p=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:nee(s)}):null,p?v.createElement(GJ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function iee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oee=$J(hF,aee);var hp=v.forwardRef(function(e,t){return v.createElement(Zx,$a({},e,{ref:t,sideCar:oee}))});hp.classNames=Zx.classNames;var Jx="Popover",[yF]=yn(Jx,[Ko]),mp=Ko(),[lee,Go]=yF(Jx),xF=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=mp(t),c=v.useRef(null),[u,d]=v.useState(!1),[f,h]=ns({prop:n,defaultProp:s??!1,onChange:i,caller:Jx});return a.jsx(Bx,{...l,children:a.jsx(lee,{scope:t,contentId:Rr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:r})})};xF.displayName=Jx;var bF="PopoverAnchor",cee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Go(bF,r),i=mp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(cp,{...i,...n,ref:t})});cee.displayName=bF;var wF="PopoverTrigger",jF=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Go(wF,r),i=mp(r),o=rt(t,s.triggerRef),l=a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":CF(s.open),...n,ref:o,onClick:me(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(cp,{asChild:!0,...i,children:l})});jF.displayName=wF;var ck="PopoverPortal",[uee,dee]=yF(ck,{forceMount:void 0}),NF=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Go(ck,t);return a.jsx(uee,{scope:t,forceMount:r,children:a.jsx(Xr,{present:r||i.open,children:a.jsx(Bd,{asChild:!0,container:s,children:n})})})};NF.displayName=ck;var sd="PopoverContent",SF=v.forwardRef((e,t)=>{const r=dee(sd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Go(sd,e.__scopePopover);return a.jsx(Xr,{present:n||i.open,children:i.modal?a.jsx(hee,{...s,ref:t}):a.jsx(mee,{...s,ref:t})})});SF.displayName=sd;var fee=yJ("PopoverContent.RemoveScroll"),hee=v.forwardRef((e,t)=>{const r=Go(sd,e.__scopePopover),n=v.useRef(null),s=rt(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return Xx(o)},[]),a.jsx(hp,{as:fee,allowPinchZoom:!0,children:a.jsx(_F,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),mee=v.forwardRef((e,t)=>{const r=Go(sd,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(_F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_F=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Go(sd,r),p=mp(r);return Qx(),a.jsx(fp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Vx,{"data-state":CF(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kF="PopoverClose",pee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Go(kF,r);return a.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>s.onOpenChange(!1))})});pee.displayName=kF;var gee="PopoverArrow",vee=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=mp(r);return a.jsx(qx,{...s,...n,ref:t})});vee.displayName=gee;function CF(e){return e?"open":"closed"}var yee=xF,xee=jF,bee=NF,PF=SF;const wee=yee,jee=xee,EF=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(bee,{children:a.jsx(PF,{ref:s,align:t,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));EF.displayName=PF.displayName;var Nee=v.createContext(void 0);function Gd(e){const t=v.useContext(Nee);return e||t||"ltr"}function $1(e,[t,r]){return Math.min(r,Math.max(t,e))}function See(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var uk="ScrollArea",[AF]=yn(uk),[_ee,Ws]=AF(uk),OF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,x]=v.useState(null),[m,b]=v.useState(null),[y,g]=v.useState(0),[w,N]=v.useState(0),[j,S]=v.useState(!1),[_,k]=v.useState(!1),C=rt(t,P=>c(P)),E=Gd(s);return a.jsx(_ee,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:b,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:N,children:a.jsx(Oe.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});OF.displayName=uk;var TF="ScrollAreaViewport",IF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ws(TF,r),l=v.useRef(null),c=rt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Oe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});IF.displayName=TF;var Ya="ScrollAreaScrollbar",dk=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ws(Ya,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(kee,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(Cee,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(RF,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(fk,{...n,ref:t}):null});dk.displayName=Ya;var kee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ws(Ya,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Xr,{present:r||i,children:a.jsx(RF,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Cee=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ws(Ya,e.__scopeScrollArea),i=e.orientation==="horizontal",o=tb(()=>c("SCROLL_END"),100),[l,c]=See("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Xr,{present:r||l!=="hidden",children:a.jsx(fk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),RF=v.forwardRef((e,t)=>{const r=Ws(Ya,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=tb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return ad(r.viewport,c),ad(r.content,c),a.jsx(Xr,{present:n||i,children:a.jsx(fk,{"data-state":i?"visible":"hidden",...s,ref:t})})}),fk=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ws(Ya,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=FF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Iee(h,o.current,l,p)}return r==="horizontal"?a.jsx(Pee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=i2(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(Eee,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=i2(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Pee=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ws(Ya,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=rt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(MF,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":eb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),BF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gv(o.paddingLeft),paddingEnd:Gv(o.paddingRight)}})}})}),Eee=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ws(Ya,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=rt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(MF,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":eb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),BF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gv(o.paddingTop),paddingEnd:Gv(o.paddingBottom)}})}})}),[Aee,$F]=AF(Ya),MF=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ws(Ya,r),[x,m]=v.useState(null),b=rt(t,C=>m(C)),y=v.useRef(null),g=v.useRef(""),w=p.viewport,N=n.content-n.viewport,j=vr(d),S=vr(c),_=tb(f,10);function k(C){if(y.current){const E=C.clientX-y.current.left,P=C.clientY-y.current.top;u({x:E,y:P})}}return v.useEffect(()=>{const C=E=>{const P=E.target;(x==null?void 0:x.contains(P))&&j(E,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,x,N,j]),v.useEffect(S,[n,S]),ad(x,_),ad(p.content,_),a.jsx(Aee,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:vr(i),onThumbPointerUp:vr(o),onThumbPositionChange:S,onThumbPointerDown:vr(l),children:a.jsx(Oe.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:me(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:me(e.onPointerMove,k),onPointerUp:me(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Kv="ScrollAreaThumb",DF=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=$F(Kv,e.__scopeScrollArea);return a.jsx(Xr,{present:r||s.hasThumb,children:a.jsx(Oee,{ref:t,...n})})}),Oee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ws(Kv,r),o=$F(Kv,r),{onThumbPositionChange:l}=o,c=rt(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=tb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Ree(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Oe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:me(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:me(e.onPointerUp,o.onThumbPointerUp)})});DF.displayName=Kv;var hk="ScrollAreaCorner",LF=v.forwardRef((e,t)=>{const r=Ws(hk,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Tee,{...e,ref:t}):null});LF.displayName=hk;var Tee=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ws(hk,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return ad(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ad(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Oe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gv(e){return e?parseInt(e,10):0}function FF(e,t){const r=e/t;return isNaN(r)?0:r}function eb(e){const t=FF(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Iee(e,t,r,n="ltr"){const s=eb(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return UF([c,u],f)(e)}function i2(e,t,r="ltr"){const n=eb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=$1(e,c);return UF([0,o],[0,l])(u)}function UF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function BF(e,t){return e>0&&e<t}var Ree=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function tb(e,t){const r=vr(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ad(e,t){const r=vr(t);yr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var VF=OF,$ee=IF,Mee=LF;const qF=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(VF,{ref:n,className:fe("relative overflow-hidden",e),...r,children:[a.jsx($ee,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(zF,{}),a.jsx(Mee,{})]}));qF.displayName=VF.displayName;const zF=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(dk,{ref:n,orientation:t,className:fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(DF,{className:"relative flex-1 rounded-full bg-border"})}));zF.displayName=dk.displayName;function Lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const WF=6048e5,Dee=864e5,jg=43200,o2=1440;let Lee={};function pp(){return Lee}function tm(e,t){var l,c,u,d;const r=pp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Lt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Yv(e){return tm(e,{weekStartsOn:1})}function HF(e){const t=Lt(e),r=t.getFullYear(),n=Fo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Yv(n),i=Fo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Yv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function l2(e){const t=Lt(e);return t.setHours(0,0,0,0),t}function Qv(e){const t=Lt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function KF(e,t){const r=l2(e),n=l2(t),s=+r-Qv(r),i=+n-Qv(n);return Math.round((s-i)/Dee)}function Fee(e){const t=HF(e),r=Fo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Yv(r)}function sv(e,t){const r=Lt(e),n=Lt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Uee(e){return Fo(e,Date.now())}function Bee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vee(e){if(!Bee(e)&&typeof e!="number")return!1;const t=Lt(e);return!isNaN(Number(t))}function qee(e,t){const r=Lt(e),n=Lt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function zee(e,t){const r=Lt(e),n=Lt(t),s=c2(r,n),i=Math.abs(KF(r,n));r.setDate(r.getDate()-s*i);const o=+(c2(r,n)===-s),l=s*(i-o);return l===0?0:l}function c2(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Wee(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Hee(e,t){return+Lt(e)-+Lt(t)}function Kee(e){const t=Lt(e);return t.setHours(23,59,59,999),t}function Gee(e){const t=Lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yee(e){const t=Lt(e);return+Kee(t)==+Gee(t)}function Qee(e,t){const r=Lt(e),n=Lt(t),s=sv(r,n),i=Math.abs(qee(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=sv(r,n)===-s;Yee(Lt(e))&&i===1&&sv(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function Xee(e,t,r){const n=Hee(e,t)/1e3;return Wee(r==null?void 0:r.roundingMethod)(n)}function Zee(e){const t=Lt(e),r=Fo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Jee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ete=(e,t,r)=>{let n;const s=Jee[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const tte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ste={date:bw({formats:tte,defaultWidth:"full"}),time:bw({formats:rte,defaultWidth:"full"}),dateTime:bw({formats:nte,defaultWidth:"full"})},ate={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ite=(e,t,r,n)=>ate[e];function Sf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const ote={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ute={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mte={ordinalNumber:hte,era:Sf({values:ote,defaultWidth:"wide"}),quarter:Sf({values:lte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sf({values:cte,defaultWidth:"wide"}),day:Sf({values:ute,defaultWidth:"wide"}),dayPeriod:Sf({values:dte,defaultWidth:"wide",formattingValues:fte,defaultFormattingWidth:"wide"})};function _f(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?gte(l,f=>f.test(o)):pte(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function pte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function gte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function vte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const yte=/^(\d+)(th|st|nd|rd)?/i,xte=/\d+/i,bte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wte={any:[/^b/i,/^(a|c)/i]},jte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nte={any:[/1/i,/2/i,/3/i,/4/i]},Ste={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_te={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ete={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ate={ordinalNumber:vte({matchPattern:yte,parsePattern:xte,valueCallback:e=>parseInt(e,10)}),era:_f({matchPatterns:bte,defaultMatchWidth:"wide",parsePatterns:wte,defaultParseWidth:"any"}),quarter:_f({matchPatterns:jte,defaultMatchWidth:"wide",parsePatterns:Nte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_f({matchPatterns:Ste,defaultMatchWidth:"wide",parsePatterns:_te,defaultParseWidth:"any"}),day:_f({matchPatterns:kte,defaultMatchWidth:"wide",parsePatterns:Cte,defaultParseWidth:"any"}),dayPeriod:_f({matchPatterns:Pte,defaultMatchWidth:"any",parsePatterns:Ete,defaultParseWidth:"any"})},GF={code:"en-US",formatDistance:ete,formatLong:ste,formatRelative:ite,localize:mte,match:Ate,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ote(e){const t=Lt(e);return KF(t,Zee(t))+1}function Tte(e){const t=Lt(e),r=+Yv(t)-+Fee(t);return Math.round(r/WF)+1}function YF(e,t){var d,f,h,p;const r=Lt(e),n=r.getFullYear(),s=pp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Fo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=tm(o,t),c=Fo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=tm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ite(e,t){var l,c,u,d;const r=pp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=YF(e,t),i=Fo(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),tm(i,t)}function Rte(e,t){const r=Lt(e),n=+tm(r,t)-+Ite(r,t);return Math.round(n/WF)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mt(s,t.length)}},zc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},u2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Gi.y(e,t)},Y:function(e,t,r,n){const s=YF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mt(i,t.length)},R:function(e,t){const r=HF(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Rte(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const n=Tte(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gi.d(e,t)},D:function(e,t,r){const n=Ote(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=zc.noon:n===0?s=zc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=zc.evening:n>=12?s=zc.afternoon:n>=4?s=zc.morning:s=zc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gi.s(e,t)},S:function(e,t){return Gi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return f2(n);case"XXXX":case"XX":return ml(n);case"XXXXX":case"XXX":default:return ml(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return f2(n);case"xxxx":case"xx":return ml(n);case"xxxxx":case"xxx":default:return ml(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+d2(n,":");case"OOOO":default:return"GMT"+ml(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+d2(n,":");case"zzzz":default:return"GMT"+ml(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function d2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mt(i,2)}function f2(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):ml(e,t)}function ml(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mt(Math.trunc(n/60),2),i=Mt(n%60,2);return r+s+t+i}const h2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},QF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$te=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return h2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",h2(n,t)).replace("{{time}}",QF(s,t))},Mte={p:QF,P:$te},Dte=/^D+$/,Lte=/^Y+$/,Fte=["D","DD","YY","YYYY"];function Ute(e){return Dte.test(e)}function Bte(e){return Lte.test(e)}function Vte(e,t,r){const n=qte(e,t,r);if(console.warn(n),Fte.includes(e))throw new RangeError(n)}function qte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hte=/^'([^]*?)'?$/,Kte=/''/g,Gte=/[a-zA-Z]/;function id(e,t,r){var d,f,h,p;const n=pp(),s=n.locale??GF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Lt(e);if(!Vee(l))throw new RangeError("Invalid time value");let c=t.match(Wte).map(x=>{const m=x[0];if(m==="p"||m==="P"){const b=Mte[m];return b(x,s.formatLong)}return x}).join("").match(zte).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:Yte(x)};if(u2[m])return{isToken:!0,value:x};if(m.match(Gte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const m=x.value;(Bte(m)||Ute(m))&&Vte(m,t,String(e));const b=u2[m[0]];return b(l,m,s.localize,u)}).join("")}function Yte(e){const t=e.match(Hte);return t?t[1].replace(Kte,"'"):e}function Qte(e,t,r){const n=pp(),s=(r==null?void 0:r.locale)??n.locale??GF,i=2520,o=sv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Lt(t),u=Lt(e)):(c=Lt(e),u=Lt(t));const d=Xee(u,c),f=(Qv(u)-Qv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<o2){const x=Math.round(h/60);return s.formatDistance("aboutXHours",x,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<jg){const x=Math.round(h/o2);return s.formatDistance("xDays",x,l)}else if(h<jg*2)return p=Math.round(h/jg),s.formatDistance("aboutXMonths",p,l)}if(p=Qee(u,c),p<12){const x=Math.round(h/jg);return s.formatDistance("xMonths",x,l)}else{const x=p%12,m=Math.trunc(p/12);return x<3?s.formatDistance("aboutXYears",m,l):x<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function XF(e,t){return Qte(e,Uee(e),t)}function Xte(){const[e,t]=v.useState(!1),{data:r=[],isLoading:n}=ve({queryKey:["/api/notifications"]}),{data:s}=ve({queryKey:["/api/notifications/unread-count"]}),i=Te({mutationFn:async f=>{await Ae("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=Te({mutationFn:async()=>{await Ae("POST","/api/notifications/read-all")},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=Te({mutationFn:async f=>{await Ae("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(s==null?void 0:s.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return a.jsxs(wee,{open:e,onOpenChange:t,children:[a.jsx(jee,{asChild:!0,children:a.jsxs(U,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[a.jsx(ed,{className:"w-5 h-5"}),c>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),a.jsxs(EF,{className:"w-80 p-0",align:"end",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&a.jsxs(U,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),a.jsx(qF,{className:"h-[300px]",children:n?a.jsx("div",{className:"flex items-center justify-center h-20",children:a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[a.jsx(ed,{className:"w-8 h-8 mb-2 opacity-50"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("div",{className:"divide-y",children:r.map(f=>a.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?a.jsx(ae,{href:f.link,onClick:()=>d(f),children:a.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):a.jsx("p",{className:"text-sm font-medium",children:f.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:XF(new Date(f.createdAt),{addSuffix:!0})})]}),a.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&a.jsx(U,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:a.jsx(an,{className:"w-3 h-3"})}),a.jsx(U,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:a.jsx(on,{className:"w-3 h-3"})})]})]})},f.id))})}),a.jsx("div",{className:"p-2 border-t",children:a.jsx(ae,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:a.jsx(U,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var ww="rovingFocusGroup.onEntryFocus",Zte={bubbles:!1,cancelable:!0},gp="RovingFocusGroup",[M1,ZF,Jte]=rp(gp),[ere,rb]=yn(gp,[Jte]),[tre,rre]=ere(gp),JF=v.forwardRef((e,t)=>a.jsx(M1.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(M1.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(nre,{...e,ref:t})})}));JF.displayName=gp;var nre=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),p=rt(t,h),x=Gd(i),[m,b]=ns({prop:o,defaultProp:l??null,onChange:c,caller:gp}),[y,g]=v.useState(!1),w=vr(u),N=ZF(r),j=v.useRef(!1),[S,_]=v.useState(0);return v.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(ww,w),()=>k.removeEventListener(ww,w)},[w]),a.jsx(tre,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(k=>b(k),[b]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>_(k=>k-1),[]),children:a.jsx(Oe.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{j.current=!0}),onFocus:me(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const E=new CustomEvent(ww,Zte);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=N().filter(D=>D.focusable),R=P.find(D=>D.active),O=P.find(D=>D.id===m),T=[R,O,...P].filter(Boolean).map(D=>D.ref.current);r3(T,d)}}j.current=!1}),onBlur:me(e.onBlur,()=>g(!1))})})}),e3="RovingFocusGroupItem",t3=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Rr(),u=i||c,d=rre(e3,r),f=d.currentTabStopId===u,h=ZF(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return v.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),a.jsx(M1.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:me(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:me(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=ire(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const N=w.indexOf(b.currentTarget);w=d.loop?ore(w,N+1):w.slice(N+1)}setTimeout(()=>r3(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});t3.displayName=e3;var sre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function are(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ire(e,t,r){const n=are(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sre[n]}function r3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ore(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var n3=JF,s3=t3;function lre(e){const t=cre(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(dre);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function cre(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=hre(s),l=fre(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ure=Symbol("radix.slottable");function dre(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ure}function fre(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function hre(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var D1=["Enter"," "],mre=["ArrowDown","PageUp","Home"],a3=["ArrowUp","PageDown","End"],pre=[...mre,...a3],gre={ltr:[...D1,"ArrowRight"],rtl:[...D1,"ArrowLeft"]},vre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vp="Menu",[rm,yre,xre]=rp(vp),[Nc,i3]=yn(vp,[xre,Ko,rb]),nb=Ko(),o3=rb(),[bre,Sc]=Nc(vp),[wre,yp]=Nc(vp),l3=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=nb(t),[c,u]=v.useState(null),d=v.useRef(!1),f=vr(i),h=Gd(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(Bx,{...l,children:a.jsx(bre,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(wre,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};l3.displayName=vp;var jre="MenuAnchor",mk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=nb(r);return a.jsx(cp,{...s,...n,ref:t})});mk.displayName=jre;var pk="MenuPortal",[Nre,c3]=Nc(pk,{forceMount:void 0}),u3=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Sc(pk,t);return a.jsx(Nre,{scope:t,forceMount:r,children:a.jsx(Xr,{present:r||i.open,children:a.jsx(Bd,{asChild:!0,container:s,children:n})})})};u3.displayName=pk;var Us="MenuContent",[Sre,gk]=Nc(Us),d3=v.forwardRef((e,t)=>{const r=c3(Us,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Sc(Us,e.__scopeMenu),o=yp(Us,e.__scopeMenu);return a.jsx(rm.Provider,{scope:e.__scopeMenu,children:a.jsx(Xr,{present:n||i.open,children:a.jsx(rm.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(_re,{...s,ref:t}):a.jsx(kre,{...s,ref:t})})})})}),_re=v.forwardRef((e,t)=>{const r=Sc(Us,e.__scopeMenu),n=v.useRef(null),s=rt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return Xx(i)},[]),a.jsx(vk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kre=v.forwardRef((e,t)=>{const r=Sc(Us,e.__scopeMenu);return a.jsx(vk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Cre=lre("MenuContent.ScrollLock"),vk=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...m}=e,b=Sc(Us,r),y=yp(Us,r),g=nb(r),w=o3(r),N=yre(r),[j,S]=v.useState(null),_=v.useRef(null),k=rt(t,_,b.onContentChange),C=v.useRef(0),E=v.useRef(""),P=v.useRef(0),R=v.useRef(null),O=v.useRef("right"),I=v.useRef(0),T=x?hp:v.Fragment,D=x?{as:Cre,allowPinchZoom:!0}:void 0,q=$=>{var ee,se;const H=E.current+$,Y=N().filter(Q=>!Q.disabled),L=document.activeElement,K=(ee=Y.find(Q=>Q.ref.current===L))==null?void 0:ee.textValue,re=Y.map(Q=>Q.textValue),ie=Fre(re,H,K),be=(se=Y.find(Q=>Q.textValue===ie))==null?void 0:se.ref.current;(function Q(X){E.current=X,window.clearTimeout(C.current),X!==""&&(C.current=window.setTimeout(()=>Q(""),1e3))})(H),be&&setTimeout(()=>be.focus())};v.useEffect(()=>()=>window.clearTimeout(C.current),[]),Qx();const A=v.useCallback($=>{var Y,L;return O.current===((Y=R.current)==null?void 0:Y.side)&&Bre($,(L=R.current)==null?void 0:L.area)},[]);return a.jsx(Sre,{scope:r,searchRef:E,onItemEnter:v.useCallback($=>{A($)&&$.preventDefault()},[A]),onItemLeave:v.useCallback($=>{var H;A($)||((H=_.current)==null||H.focus(),S(null))},[A]),onTriggerLeave:v.useCallback($=>{A($)&&$.preventDefault()},[A]),pointerGraceTimerRef:P,onPointerGraceIntentChange:v.useCallback($=>{R.current=$},[]),children:a.jsx(T,{...D,children:a.jsx(fp,{asChild:!0,trapped:s,onMountAutoFocus:me(i,$=>{var H;$.preventDefault(),(H=_.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(n3,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:me(c,$=>{y.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Vx,{role:"menu","aria-orientation":"vertical","data-state":C3(b.open),"data-radix-menu-content":"",dir:y.dir,...g,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:me(m.onKeyDown,$=>{const Y=$.target.closest("[data-radix-menu-content]")===$.currentTarget,L=$.ctrlKey||$.altKey||$.metaKey,K=$.key.length===1;Y&&($.key==="Tab"&&$.preventDefault(),!L&&K&&q($.key));const re=_.current;if($.target!==re||!pre.includes($.key))return;$.preventDefault();const be=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);a3.includes($.key)&&be.reverse(),Dre(be)}),onBlur:me(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:me(e.onPointerMove,nm($=>{const H=$.target,Y=I.current!==$.clientX;if($.currentTarget.contains(H)&&Y){const L=$.clientX>I.current?"right":"left";O.current=L,I.current=$.clientX}}))})})})})})})});d3.displayName=Us;var Pre="MenuGroup",yk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Oe.div,{role:"group",...n,ref:t})});yk.displayName=Pre;var Ere="MenuLabel",f3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Oe.div,{...n,ref:t})});f3.displayName=Ere;var Xv="MenuItem",m2="menu.itemSelect",sb=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=v.useRef(null),o=yp(Xv,e.__scopeMenu),l=gk(Xv,e.__scopeMenu),c=rt(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(m2,{bubbles:!0,cancelable:!0});f.addEventListener(m2,p=>n==null?void 0:n(p),{once:!0}),M_(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(h3,{...s,ref:c,disabled:r,onClick:me(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:me(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||D1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});sb.displayName=Xv;var h3=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=gk(Xv,r),l=o3(r),c=v.useRef(null),u=rt(t,c),[d,f]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),a.jsx(rm.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(s3,{asChild:!0,...l,focusable:!n,children:a.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:me(e.onPointerMove,nm(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,nm(x=>o.onItemLeave(x))),onFocus:me(e.onFocus,()=>f(!0)),onBlur:me(e.onBlur,()=>f(!1))})})})}),Are="MenuCheckboxItem",m3=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(x3,{scope:e.__scopeMenu,checked:r,children:a.jsx(sb,{role:"menuitemcheckbox","aria-checked":Zv(r)?"mixed":r,...s,ref:t,"data-state":bk(r),onSelect:me(s.onSelect,()=>n==null?void 0:n(Zv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});m3.displayName=Are;var p3="MenuRadioGroup",[Ore,Tre]=Nc(p3,{value:void 0,onValueChange:()=>{}}),g3=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=vr(n);return a.jsx(Ore,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(yk,{...s,ref:t})})});g3.displayName=p3;var v3="MenuRadioItem",y3=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=Tre(v3,e.__scopeMenu),i=r===s.value;return a.jsx(x3,{scope:e.__scopeMenu,checked:i,children:a.jsx(sb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":bk(i),onSelect:me(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});y3.displayName=v3;var xk="MenuItemIndicator",[x3,Ire]=Nc(xk,{checked:!1}),b3=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Ire(xk,r);return a.jsx(Xr,{present:n||Zv(i.checked)||i.checked===!0,children:a.jsx(Oe.span,{...s,ref:t,"data-state":bk(i.checked)})})});b3.displayName=xk;var Rre="MenuSeparator",w3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});w3.displayName=Rre;var $re="MenuArrow",j3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=nb(r);return a.jsx(qx,{...s,...n,ref:t})});j3.displayName=$re;var Mre="MenuSub",[eMe,N3]=Nc(Mre),Hf="MenuSubTrigger",S3=v.forwardRef((e,t)=>{const r=Sc(Hf,e.__scopeMenu),n=yp(Hf,e.__scopeMenu),s=N3(Hf,e.__scopeMenu),i=gk(Hf,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(mk,{asChild:!0,...u,children:a.jsx(h3,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":C3(r.open),...e,ref:Un(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,nm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:me(e.onPointerLeave,nm(f=>{var p,x;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(x=r.content)==null?void 0:x.dataset.side,b=m==="right",y=b?-5:5,g=h[b?"left":"right"],w=h[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:g,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:g,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||gre[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});S3.displayName=Hf;var _3="MenuSubContent",k3=v.forwardRef((e,t)=>{const r=c3(Us,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Sc(Us,e.__scopeMenu),o=yp(Us,e.__scopeMenu),l=N3(_3,e.__scopeMenu),c=v.useRef(null),u=rt(t,c);return a.jsx(rm.Provider,{scope:e.__scopeMenu,children:a.jsx(Xr,{present:n||i.open,children:a.jsx(rm.Slot,{scope:e.__scopeMenu,children:a.jsx(vk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:me(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=vre[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});k3.displayName=_3;function C3(e){return e?"open":"closed"}function Zv(e){return e==="indeterminate"}function bk(e){return Zv(e)?"indeterminate":e?"checked":"unchecked"}function Dre(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Lre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Fre(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Lre(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Ure(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function Bre(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Ure(r,t)}function nm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vre=l3,qre=mk,zre=u3,Wre=d3,Hre=yk,Kre=f3,Gre=sb,Yre=m3,Qre=g3,Xre=y3,Zre=b3,Jre=w3,ene=j3,tne=S3,rne=k3,ab="DropdownMenu",[nne]=yn(ab,[i3]),qn=i3(),[sne,P3]=nne(ab),E3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=qn(t),u=v.useRef(null),[d,f]=ns({prop:s,defaultProp:i??!1,onChange:o,caller:ab});return a.jsx(sne,{scope:t,triggerId:Rr(),triggerRef:u,contentId:Rr(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(Vre,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};E3.displayName=ab;var A3="DropdownMenuTrigger",O3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=P3(A3,r),o=qn(r);return a.jsx(qre,{asChild:!0,...o,children:a.jsx(Oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Un(t,i.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});O3.displayName=A3;var ane="DropdownMenuPortal",T3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=qn(t);return a.jsx(zre,{...n,...r})};T3.displayName=ane;var I3="DropdownMenuContent",R3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=P3(I3,r),i=qn(r),o=v.useRef(!1);return a.jsx(Wre,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R3.displayName=I3;var ine="DropdownMenuGroup",one=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Hre,{...s,...n,ref:t})});one.displayName=ine;var lne="DropdownMenuLabel",$3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Kre,{...s,...n,ref:t})});$3.displayName=lne;var cne="DropdownMenuItem",M3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Gre,{...s,...n,ref:t})});M3.displayName=cne;var une="DropdownMenuCheckboxItem",D3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Yre,{...s,...n,ref:t})});D3.displayName=une;var dne="DropdownMenuRadioGroup",fne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Qre,{...s,...n,ref:t})});fne.displayName=dne;var hne="DropdownMenuRadioItem",L3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Xre,{...s,...n,ref:t})});L3.displayName=hne;var mne="DropdownMenuItemIndicator",F3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Zre,{...s,...n,ref:t})});F3.displayName=mne;var pne="DropdownMenuSeparator",U3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(Jre,{...s,...n,ref:t})});U3.displayName=pne;var gne="DropdownMenuArrow",vne=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(ene,{...s,...n,ref:t})});vne.displayName=gne;var yne="DropdownMenuSubTrigger",B3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(tne,{...s,...n,ref:t})});B3.displayName=yne;var xne="DropdownMenuSubContent",V3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qn(r);return a.jsx(rne,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V3.displayName=xne;var bne=E3,wne=O3,jne=T3,q3=R3,z3=$3,W3=M3,H3=D3,K3=L3,G3=F3,Y3=U3,Q3=B3,X3=V3;const Nne=bne,Sne=wne,_ne=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(Q3,{ref:s,className:fe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,a.jsx(Yn,{className:"ml-auto"})]}));_ne.displayName=Q3.displayName;const kne=v.forwardRef(({className:e,...t},r)=>a.jsx(X3,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));kne.displayName=X3.displayName;const Z3=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(jne,{children:a.jsx(q3,{ref:n,sideOffset:t,className:fe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Z3.displayName=q3.displayName;const av=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(W3,{ref:n,className:fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));av.displayName=W3.displayName;const Cne=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(H3,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(G3,{children:a.jsx(an,{className:"h-4 w-4"})})}),t]}));Cne.displayName=H3.displayName;const Pne=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(K3,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(G3,{children:a.jsx(dK,{className:"h-2 w-2 fill-current"})})}),t]}));Pne.displayName=K3.displayName;const Ene=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(z3,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Ene.displayName=z3.displayName;const L1=v.forwardRef(({className:e,...t},r)=>a.jsx(Y3,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));L1.displayName=Y3.displayName;const Ane=[{label:"Facilities",href:"/facilities"},{label:"Events & Academies",href:"/events"},{label:"Updates",href:"/roadmap"},{label:"Contact",href:"/contact"}];function rr({onScrollTo:e}){const[t,r]=v.useState(!1),{user:n,isAuthenticated:s}=jc(),[i,o]=as(),{data:l}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const g=await fetch("/api/site-settings");if(!g.ok)return{};const w=await g.json();return w&&typeof w=="object"&&!w.message?w:{}}catch{return{}}}}),{data:c}=ve({queryKey:["/api/navbar-items"],queryFn:async()=>{try{const g=await fetch("/api/navbar-items");if(!g.ok)return[];const w=await g.json();return Array.isArray(w)?w:[]}catch{return[]}}}),{data:u}=ve({queryKey:["/api/admin/config"],enabled:s&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),d=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",f=g=>{if(r(!1),i!=="/"){o("/"),sessionStorage.setItem("scrollToSection",g);return}const w=document.getElementById(g);if(!w)return;const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})};v.useEffect(()=>{if(i==="/"){const g=sessionStorage.getItem("scrollToSection");g&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const w=document.getElementById(g);if(w){const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})}},100))}},[i]);const h=(g,w="")=>(l==null?void 0:l[g])||w,p=h("logo_main_url"),x=h("site_name","The Quarterdeck"),m=h("site_tagline","Sports & Recreation Complex"),b=v.useMemo(()=>!c||c.length===0?Ane:c.filter(g=>g.isVisible).sort((g,w)=>(g.sortOrder||0)-(w.sortOrder||0)).map(g=>{var w;return g.href==="/#gallery"?{label:g.label,href:"/gallery"}:g.href==="/#contact"?{label:g.label,href:"/contact"}:(w=g.href)!=null&&w.startsWith("/#")?{label:g.label,section:g.href.replace("/#","")}:{label:g.label,href:g.href}}),[c]),y=g=>{g.href?(r(!1),o(g.href)):g.section&&f(g.section)};return a.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${Hv})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[a.jsx(ae,{href:"/",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[p?a.jsx("img",{src:p,alt:x,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):a.jsx("div",{className:"qd-logo-mark",children:"Q"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:x}),a.jsx("div",{className:"text-xs text-primary-foreground/70",children:m})]})]})}),a.jsx("div",{className:"hidden lg:flex items-center gap-7 text-sm text-primary-foreground/70",children:b.map(g=>g.href?a.jsx(ae,{href:g.href,children:a.jsx("span",{className:"hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`link-nav-${g.label.toLowerCase()}`,children:g.label})},g.label):a.jsx("button",{onClick:()=>f(g.section),className:"hover:text-primary-foreground transition-colors","data-testid":`link-nav-${g.section}`,children:g.label},g.section))}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsx(YA,{}),s?a.jsxs(a.Fragment,{children:[a.jsx(Xte,{}),a.jsx(ae,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),a.jsxs(Nne,{children:[a.jsx(Sne,{asChild:!0,children:a.jsxs(U,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[a.jsx(Ds,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",a.jsx(Pi,{className:"w-3 h-3"})]})}),a.jsxs(Z3,{align:"end",className:"w-48",children:[a.jsx(ae,{href:"/profile",children:a.jsxs(av,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[a.jsx(Ds,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&a.jsxs(a.Fragment,{children:[a.jsx(L1,{}),a.jsx(ae,{href:`/${u.adminPath}`,children:a.jsxs(av,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[a.jsx(Mv,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),a.jsx(L1,{}),a.jsx("a",{href:"/api/logout",children:a.jsxs(av,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[a.jsx(sA,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ae,{href:"/login",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),a.jsx(ae,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),a.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?a.jsx(td,{className:"w-5 h-5 text-primary-foreground"}):a.jsx(GD,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&a.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[b.map(g=>g.href?a.jsx(ae,{href:g.href,children:a.jsx("span",{className:"block text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer",onClick:()=>r(!1),"data-testid":`link-mobile-nav-${g.label.toLowerCase()}`,children:g.label})},g.label):a.jsx("button",{onClick:()=>y(g),className:"text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground","data-testid":`link-mobile-nav-${g.section}`,children:g.label},g.section)),a.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[a.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),a.jsx(YA,{})]}),a.jsx("div",{className:"flex flex-col gap-2 mt-4",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ae,{href:"/profile",onClick:()=>r(!1),children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[a.jsx(Ds,{className:"w-4 h-4"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&a.jsx(ae,{href:`/${u.adminPath}`,onClick:()=>r(!1),children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[a.jsx(Mv,{className:"w-4 h-4"}),"Admin Dashboard"]})}),a.jsx(ae,{href:"/booking",onClick:()=>r(!1),children:a.jsx(U,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),a.jsx("a",{href:"/api/logout",children:a.jsxs(U,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[a.jsx(sA,{className:"w-4 h-4"}),"Log Out"]})})]}):a.jsx(a.Fragment,{children:a.jsx(ae,{href:"/login",children:a.jsx(U,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function nr(){const{data:e,isLoading:t}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const f=await fetch("/api/site-settings");if(!f.ok)return{};const h=await f.json();return h&&typeof h=="object"&&!h.message?h:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=ve({queryKey:["/api/site-images","global"],queryFn:async()=>{const h=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(h)?h:[]},staleTime:1e3*60*5}),n=v.useMemo(()=>{if(!Array.isArray(r))return Hv;const f=r.find(h=>h.section==="footer"&&h.isActive);return(f==null?void 0:f.imageUrl)||Hv},[r]),s=(f,h="")=>(e==null?void 0:e[f])||h,i=s("site_name","The Quarterdeck"),o=s("site_tagline","Sports & Recreation Complex"),l=s("instagram_url")||s("social_instagram","#"),c=s("facebook_url")||s("social_facebook","#"),u=s("linkedin_url")||s("social_linkedin","#"),d=new Date().getFullYear();return a.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("div",{className:"flex flex-wrap justify-between gap-6 items-center",children:[a.jsx(ae,{href:"/",children:a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[a.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),a.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(ae,{href:"/vision",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-about",children:"About Us"})}),a.jsx(ae,{href:"/rules",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-rules",children:"Rules & Safety"})}),a.jsx(ae,{href:"/careers",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})}),a.jsx(ae,{href:"/contact",children:a.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-contact",children:"Contact"})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:a.jsx(HD,{className:"w-4 h-4"})}),a.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:a.jsx(UD,{className:"w-4 h-4"})}),a.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:a.jsx(p1,{className:"w-4 h-4"})})]})]}),a.jsxs("p",{className:"text-center mt-6 text-primary-foreground/60 text-xs",children:[" ",d," ",i,"  All rights reserved."," ",a.jsx(ae,{href:"/terms",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-terms",children:"Terms & Conditions"})," | ",a.jsx(ae,{href:"/privacy",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy Policy"})]})]})]})}function pt({className:e,...t}){return a.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",e),...t})}function _c(e,t={}){const{data:r=[],isLoading:n}=ve({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),s={};return e.forEach(i=>{const o=r.find(l=>l.key===i);s[i]=(o==null?void 0:o.content)||t[i]||""}),{content:s,isLoading:n,getValue:i=>s[i]||t[i]||""}}const Ze={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_2:"View Site Updates",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_terms_cta:"View Terms & Conditions",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this."},p2="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function One(){const[e,t]=v.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=ve({queryKey:["/api/cms/bulk"],queryFn:async()=>{const w=await(await fetch("/api/cms/bulk")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:s}=ve({queryKey:["/api/construction-phases"],queryFn:async()=>{const w=await(await fetch("/api/construction-phases")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),{data:i=[]}=ve({queryKey:["/api/site-images","landing"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),o=v.useMemo(()=>{if(!Array.isArray(i))return p2;const g=i.find(w=>w.section==="hero"&&w.isActive);return(g==null?void 0:g.imageUrl)||p2},[i]),l=v.useMemo(()=>[...n].sort((g,w)=>g.sortOrder-w.sortOrder),[n]),c=v.useMemo(()=>l.find(g=>g.isActive)||l[0],[l]),u=v.useMemo(()=>l.length===0?0:l.reduce((g,w)=>g+w.progress,0)/l.length,[l]),d=g=>{const w=r.find(N=>N.key===g);return(w==null?void 0:w.content)||Ze[g]||""},f=d("hero_launch_date")||"2026-10-01";v.useEffect(()=>{const g=new Date(`${f}T00:00:00`),w=()=>{const j=new Date,S=g.getTime()-j.getTime();if(S>0){const _=Math.floor(S/864e5),k=Math.floor(S%(1e3*60*60*24)/(1e3*60*60)),C=Math.floor(S%(1e3*60*60)/(1e3*60)),E=Math.floor(S%(1e3*60)/1e3);t({days:_,hours:k,minutes:C,seconds:E})}};w();const N=setInterval(w,1e3);return()=>clearInterval(N)},[f]);const h=g=>{const w=document.getElementById(g);if(!w)return;const j=w.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:j,behavior:"smooth"})},p=d("hero_title")||Ze.hero_title,x=d("hero_subtitle")||Ze.hero_subtitle,m=d("hero_eyebrow")||Ze.hero_eyebrow,b=d("hero_cta_1")||"Explore Facilities",y=d("hero_cta_2")||"View Site Updates";return a.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),a.jsx("div",{className:"qd-container relative z-10",children:a.jsxs("div",{className:"qd-hero-grid",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"qd-eyebrow",children:[a.jsx("span",{className:"qd-eyebrow-dot"})," ",m]}),a.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:p}}),a.jsx("p",{className:"text-muted-foreground max-w-lg mb-6","data-testid":"text-hero-subtitle",children:x}),a.jsxs("div",{className:"qd-countdown",children:[a.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),a.jsxs("div",{className:"flex items-center gap-3 font-mono","data-testid":"countdown-timer",children:[a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.days}),a.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.hours}),a.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.minutes}),a.jsx("span",{className:"qd-countdown-label",children:"Minutes"})]}),a.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:":"}),a.jsxs("div",{className:"qd-countdown-unit",children:[a.jsx("span",{className:"qd-countdown-number",children:e.seconds}),a.jsx("span",{className:"qd-countdown-label",children:"Seconds"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx(U,{onClick:()=>h("facilities"),className:"rounded-full px-6","data-testid":"button-explore-facilities",children:b}),a.jsx(U,{variant:"outline",onClick:()=>h("updates"),className:"rounded-full px-6","data-testid":"button-view-updates",children:y})]}),a.jsxs("div",{className:"flex flex-wrap gap-6 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"qd-status-dot"})," Construction Active"]}),a.jsx("span",{children:"Transparent progress updates"}),a.jsx("span",{children:"Early booking & waitlists planned"})]})]}),a.jsx("aside",{children:a.jsxs("div",{className:"qd-hero-card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),s?a.jsx(pt,{className:"h-6 w-20 rounded-full"}):c?a.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):a.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),s?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"h-4 w-full mb-2"}),a.jsx(pt,{className:"h-3 w-full rounded-full"}),a.jsx(pt,{className:"h-12 w-full mt-4"})]}):c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[a.jsxs("span",{children:[c.label,": ",c.title]}),a.jsxs("span",{children:[c.progress,"% Complete"]})]}),a.jsx("div",{className:"qd-progress-track",children:a.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),a.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(g=>g.isComplete).length," phases"]})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),a.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function Tne(){const{getValue:e}=_c(["about_title","about_subtitle","about_cta","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ze),t=(e("about_tags")||Ze.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ze.about_team_credits).split("|").map(n=>n.trim());return a.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ze.about_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ze.about_subtitle})]}),a.jsx(ae,{href:"/vision",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ze.about_cta})})]}),a.jsxs("div",{className:"qd-dev-grid",children:[a.jsxs("div",{className:"qd-info-card",children:[a.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ze.about_vision_title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ze.about_vision_content}),a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ze.about_vision_content_2}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,s)=>a.jsx("span",{className:"qd-tag",children:n},s))})]}),a.jsxs("div",{className:"qd-info-card",children:[a.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ze.about_team_title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ze.about_team_content}),a.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,s)=>a.jsx("li",{children:n},s))})]})]})]})})}var J3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g2=M.createContext&&M.createContext(J3),Ine=["attr","size","title"];function Rne(e,t){if(e==null)return{};var r=$ne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){Mne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mne(e,t,r){return t=Dne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dne(e){var t=Lne(e,"string");return typeof t=="symbol"?t:t+""}function Lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e5(e){return e&&e.map((t,r)=>M.createElement(t.tag,ey({key:r},t.attr),e5(t.child)))}function xp(e){return t=>M.createElement(Fne,Jv({attr:ey({},e.attr)},t),e5(e.child))}function Fne(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=Rne(e,Ine),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),M.createElement("svg",Jv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:ey(ey({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&M.createElement("title",null,i),e.children)};return g2!==void 0?M.createElement(g2.Consumer,null,r=>t(r)):t(J3)}function bp(e){return xp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function Uo(e){return xp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}const wp="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",wk="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",jk="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Nk="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",Une="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",t5="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",Bne={GiTennisRacket:Uo,GiSquare:bp,Crosshair:ap,Building2:kn,Coffee:B_,Spade:Mx},Vne={"padel-tennis":wp,squash:wk,"air-rifle-range":jk,"multipurpose-hall":Nk,"bridge-room":Une,"cafe-bar":t5},y2=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:Uo,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:wp},{id:"squash",slug:"squash",name:"Squash Court",icon:bp,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:wk},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:ap,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:jk},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:kn,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Nk},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:B_,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:t5}];function qne(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function zne(){const{getValue:e}=_c(["facilities_title","facilities_subtitle","facilities_cta"],Ze),{data:t,isLoading:r}=ve({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(s=>{const i=qne(s.status),o=y2.find(l=>l.slug===s.slug);return{id:s.id,slug:s.slug,name:s.name,icon:Bne[s.icon]||(o==null?void 0:o.icon)||kn,category:s.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:s.description||(o==null?void 0:o.description)||"",footer:`${s.resourceCount||1} ${s.resourceCount===1?"court":"courts"} available`,image:s.imageUrl||Vne[s.slug]||(o==null?void 0:o.image)||Nk}}):y2;return a.jsx("section",{id:"facilities",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ze.facilities_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ze.facilities_subtitle})]}),a.jsx(ae,{href:"/booking",children:a.jsx(U,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ze.facilities_cta})})]}),r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.jsx("div",{className:"qd-facility-grid",children:n.map(s=>{const i=s.icon;return a.jsxs("article",{className:"qd-facility-card overflow-hidden","data-testid":`card-facility-${s.slug||s.id}`,children:[a.jsxs("div",{className:"relative h-32 -mx-6 -mt-[1.6rem] mb-4 rounded-t-[20px] overflow-hidden",children:[a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/90 via-white/30 to-transparent dark:from-slate-800/90 dark:via-slate-800/30"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground uppercase tracking-widest mb-3",children:[a.jsx("span",{children:s.category}),a.jsx("span",{className:`px-3 py-1 rounded-full font-semibold ${s.status==="soon"?"qd-status-soon":s.status==="active"?"qd-status-active":"qd-status-planned"}`,children:s.statusLabel})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(i,{className:"w-5 h-5 text-[#2a4060] dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold",children:s.name})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-5 min-h-[60px]",children:s.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground pt-4 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("span",{children:s.footer}),a.jsx(ae,{href:`/facilities/${s.slug}`,children:a.jsx("span",{className:"font-semibold text-[#2a4060] dark:text-blue-400 cursor-pointer hover:underline","data-testid":`link-facility-detail-${s.slug||s.id}`,children:"View details"})})]})]},s.id)})})]})})}const Wne={check:an,"check-circle":Ss,clock:_r,hammer:qD,"hard-hat":zD,rocket:kK,target:ql};function Hne(){const[e,t]=v.useState(null),{getValue:r}=_c(["updates_title","updates_subtitle","updates_cta"],Ze),{data:n=[],isLoading:s}=ve({queryKey:["/api/construction-phases"]}),i=v.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=v.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return s?a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:a.jsxs("div",{children:[a.jsx(pt,{className:"h-8 w-64 mb-2"}),a.jsx(pt,{className:"h-4 w-96"})]})}),a.jsxs("div",{className:"relative py-12",children:[a.jsx(pt,{className:"h-1 w-full rounded-full"}),a.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>a.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[a.jsx(pt,{className:"w-14 h-14 rounded-full"}),a.jsx(pt,{className:"h-4 w-16 mt-4"}),a.jsx(pt,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsx("div",{className:"qd-container",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),a.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):a.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ze.updates_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ze.updates_subtitle})]}),a.jsx(ae,{href:"/roadmap",children:a.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ze.updates_cta," ",a.jsx(Yn,{className:"w-4 h-4"})]})})]}),a.jsxs("div",{className:"relative py-12",children:[a.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),a.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),a.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),a.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=Wne[c.icon]||_r,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return a.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[a.jsx(ae,{href:`/roadmap#${c.id}`,children:a.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[a.jsx(d,{className:"w-6 h-6"}),c.isActive&&a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),a.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),a.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),a.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[a.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:a.jsx(d,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm",children:c.title}),a.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),a.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,x)=>a.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[a.jsx(an,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{children:p})]},x))})]}),c.highlights&&c.highlights.length>0&&a.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),a.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,x)=>a.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[a.jsx(Yn,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:p})]},x))})]})]})]})]},c.id)})})]}),a.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const r5="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",n5="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",Kne="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",s5="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",Gne="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",Yne="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",Qne=[{title:"Complex Exterior Render",type:"render",image:r5,category:"renders"},{title:"Court Construction Progress",type:"photo",image:s5,category:"construction"},{title:"Sports Arena Render",type:"render",image:n5,category:"renders"},{title:"Indoor Facility Build",type:"photo",image:Gne,category:"construction"},{title:"Final Design Concept",type:"render",image:Kne,category:"renders"},{title:"Structural Framework",type:"photo",image:Yne,category:"construction"}];function Xne(){const{getValue:e}=_c(["gallery_title","gallery_subtitle","gallery_cta"],Ze);return a.jsx("section",{id:"gallery",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ze.gallery_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ze.gallery_subtitle})]}),a.jsx(ae,{href:"/gallery",children:a.jsxs(U,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ze.gallery_cta," ",a.jsx(U_,{className:"ml-2 w-4 h-4"})]})})]}),a.jsx("div",{className:"qd-gallery-grid",children:Qne.map((t,r)=>a.jsx(ae,{href:`/gallery?category=${t.category}`,children:a.jsxs("div",{className:"qd-gallery-item relative overflow-hidden group cursor-pointer","data-testid":`gallery-item-${r}`,children:[a.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[a.jsx("span",{className:"text-sm text-white font-medium",children:t.title}),a.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${t.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:t.type})]})]})},r))})]})})}const Zne="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",Jne={FOUNDING:FD,GOLD:op,SILVER:QD,GUEST:Qr},x2={FOUNDING:{bg:"bg-amber-500/10",text:"text-amber-500"},GOLD:{bg:"bg-yellow-500/10",text:"text-yellow-600"},SILVER:{bg:"bg-gray-500/10",text:"text-gray-500"},GUEST:{bg:"bg-blue-500/10",text:"text-blue-500"}},b2=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],ese=[{feature:"Advance Booking Window",founding:"14 days",gold:"7 days",silver:"5 days",guest:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",founding:"25%",gold:"20%",silver:"10%",guest:"None"},{feature:"Monthly Guest Passes",founding:"10",gold:"4",silver:"2",guest:"N/A"},{feature:"Coaching Discount",founding:"20%",gold:"15%",silver:"10%",guest:"None"},{feature:"Event Priority",founding:"VIP",gold:"Priority",silver:"Standard",guest:"Last"}];function tse(){const[e,t]=v.useState(null),{data:r,isLoading:n}=ve({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),s=v.useMemo(()=>!r||r.length===0?b2:r.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>{var u;return{id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Limited & Exclusive":c.tier==="GOLD"?"Premium Access":c.tier==="SILVER"?"Standard Access":"Non-Member Access",description:((u=b2.find(d=>d.tier===c.tier))==null?void 0:u.description)||"",price:c.price,billingPeriod:c.billingPeriod||"monthly",featured:c.isPopular||c.tier==="FOUNDING",closed:c.tier==="FOUNDING",benefits:c.benefits||[],isActive:c.isActive,sortOrder:c.sortOrder||0}}),[r]),i=c=>{const u=document.getElementById(c);if(!u)return;const f=u.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:f,behavior:"smooth"})},o=c=>{t(e===c?null:c)},l=(c,u)=>c===0||!c?{amount:"Standard",suffix:" rates"}:{amount:`PKR ${c.toLocaleString()}`,suffix:u==="yearly"?"/year":"/month"};return n?a.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:a.jsx("div",{className:"qd-container relative z-10",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(c=>a.jsxs("div",{className:"rounded-xl border p-6 bg-white dark:bg-slate-800",children:[a.jsx(pt,{className:"h-12 w-12 rounded-full mx-auto mb-3"}),a.jsx(pt,{className:"h-6 w-32 mx-auto mb-2"}),a.jsx(pt,{className:"h-4 w-24 mx-auto mb-4"}),a.jsx(pt,{className:"h-8 w-28 mx-auto mb-4"}),a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(u=>a.jsx(pt,{className:"h-4 w-full"},u))})]},c))})})}):a.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${Zne})`}}),a.jsxs("div",{className:"qd-container relative z-10",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:"Membership & Pricing"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts during off-peak hours (10 AM - 5 PM), and access to our world-class facilities."})]}),a.jsx(U,{className:"rounded-full",onClick:()=>i("contact"),"data-testid":"button-inquire-membership",children:"Inquire Now"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:s.map(c=>{const u=Jne[c.tier]||Qr,d=x2[c.tier]||x2.GUEST,f=e===c.id,h=c.benefits.length>5,{amount:p,suffix:x}=l(c.price,c.billingPeriod);return a.jsxs("div",{className:`relative rounded-xl border p-6 bg-white dark:bg-slate-800 transition-all duration-300 ${c.featured?"border-amber-500/50 shadow-lg ring-2 ring-amber-500/20":"border-gray-200 dark:border-slate-700"} ${h?"cursor-pointer hover-elevate":""}`,onClick:()=>h&&o(c.id),"data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[c.closed&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full",children:"CLOSED"}),c.featured&&!c.closed&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-amber-500 text-white text-xs font-bold rounded-full",children:"MOST POPULAR"}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${d.bg}`,children:a.jsx(u,{className:`w-6 h-6 ${d.text}`})}),a.jsx("h3",{className:"font-bold text-lg",children:c.name}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:c.tagline})]}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("span",{className:"text-3xl font-bold",children:p}),a.jsx("span",{className:"text-muted-foreground text-sm",children:x})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:c.description}),a.jsx("ul",{className:"space-y-2 mb-4",children:(f?c.benefits:c.benefits.slice(0,5)).map((m,b)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(an,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:m})]},b))}),h&&a.jsx("button",{onClick:m=>{m.stopPropagation(),o(c.id)},className:"flex items-center justify-center gap-1 w-full text-sm text-muted-foreground mb-4 py-2 rounded-lg transition-colors","data-testid":`button-expand-${c.tier.toLowerCase()}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Uh,{className:"w-4 h-4"}),"Show less"]}):a.jsxs(a.Fragment,{children:[a.jsx(Pi,{className:"w-4 h-4"}),"+",c.benefits.length-5," more benefits"]})}),a.jsx(U,{variant:c.featured?"default":"outline",className:"w-full rounded-full",disabled:c.closed,onClick:m=>{m.stopPropagation(),c.closed||i("contact")},"data-testid":`button-select-${c.tier.toLowerCase()}`,children:c.closed?"Not Available":"Inquire Now"})]},c.id)})}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-6 overflow-x-auto",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 text-center",children:"Quick Comparison"}),a.jsxs("table",{className:"w-full min-w-[600px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Feature"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-amber-600",children:"Founding"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-yellow-600",children:"Gold"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-gray-500",children:"Silver"}),a.jsx("th",{className:"text-center py-3 px-4 font-semibold text-sm text-blue-500",children:"Guest"})]})}),a.jsx("tbody",{children:ese.map((c,u)=>a.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:c.feature}),a.jsx("td",{className:"py-3 px-4 text-sm text-center font-medium",children:c.founding}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:c.gold}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:c.silver}),a.jsx("td",{className:"py-3 px-4 text-sm text-center text-muted-foreground",children:c.guest})]},u))})]})]}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Questions about membership? Contact us for more details or to discuss corporate packages."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(U,{variant:"outline",className:"rounded-full",onClick:()=>i("contact"),"data-testid":"button-contact-membership",children:"Contact for Details"}),a.jsx(ae,{href:"/terms",children:a.jsx(U,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:"View Terms & Conditions"})})]})]})]})]})}function rse(){const{getValue:e}=_c(["rules_title","rules_subtitle","rules_cta"],Ze),{data:t,isLoading:r}=ve({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return a.jsx("section",{id:"rules",className:"qd-section",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ze.rules_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ze.rules_subtitle})]}),a.jsx(ae,{href:"/rules",children:a.jsxs(U,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ze.rules_cta," ",a.jsx(Yn,{className:"w-4 h-4 ml-1"})]})})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):a.jsx("div",{className:"qd-rules-grid",children:n.map((s,i)=>a.jsx(ae,{href:"/rules",children:a.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:s.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.content})]})},s.id))})]})})}function nse(){var s;const{getValue:e}=_c(["careers_title","careers_subtitle","careers_cta"],Ze),{data:t,isLoading:r}=ve({queryKey:["/api/careers"]}),n=((s=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:s.slice(0,4))||[];return a.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:a.jsxs("div",{className:"qd-container",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ze.careers_title}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ze.careers_subtitle})]}),a.jsx(ae,{href:"/careers",children:a.jsxs(U,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ze.careers_cta," ",a.jsx(Yn,{className:"w-4 h-4 ml-1"})]})})]}),r?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):a.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>a.jsx(ae,{href:"/careers",children:a.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}function sse(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(One,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(Tne,{})}),a.jsx(zne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(Hne,{})}),a.jsx(Xne,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(tse,{})}),a.jsx(rse,{}),a.jsx("div",{className:"qd-section-alt",children:a.jsx(nse,{})})]}),a.jsx(nr,{})]})}const ne=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:fe("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ne.displayName="Input";const ase=sp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return a.jsx("div",{className:fe(ase({variant:t}),e),...r})}function Aa(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function ise(e,t){const[r,n]=e.split(":").map(Number),s=r*60+n+t,i=Math.floor(s/60),o=s%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function w2(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const ose="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",j2={"padel-tennis":Uo,squash:bp,"air-rifle-range":ap,"bridge-room":Mx,"multipurpose-hall":kn},kf={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2},Ng=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function lse({initialView:e="booking"}){var Lp,xP,bP;const{user:t,isAuthenticated:r}=jc(),{toast:n}=At(),[s,i]=v.useState(e),[o,l]=v.useState(null),[c,u]=v.useState("Islamabad"),[d,f]=v.useState(()=>new Date().toISOString().split("T")[0]),[h,p]=v.useState(60),[x,m]=v.useState(1),[b,y]=v.useState(null),[g,w]=v.useState("cash"),[N,j]=v.useState(!1),[S,_]=v.useState("self"),[k,C]=v.useState(""),[E,P]=v.useState(null),[R,O]=v.useState(new Set),[I,T]=v.useState({}),[D,q]=v.useState(!1),[A,$]=v.useState(!1),[H,Y]=v.useState(1),[L,K]=v.useState(null),[re,ie]=v.useState("cumulative"),[be,ee]=v.useState(!1),{data:se}=ve({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const V=await fetch("/api/memberships/my",{credentials:"include"});return V.status===404||!V.ok?null:await V.json()}catch{return null}},enabled:r}),{data:Q=[]}=ve({queryKey:["/api/leaderboard",re==="cumulative"?void 0:re],queryFn:async()=>{try{const V=re==="cumulative"?"":`?facilityId=${re}`,he=await fetch(`/api/leaderboard${V}`);if(!he.ok)return[];const dt=await he.json();return Array.isArray(dt)?dt:[]}catch{return[]}}}),X=v.useMemo(()=>{const V=(se==null?void 0:se.tier)||"GUEST",he=(se==null?void 0:se.status)||"PENDING_PAYMENT",dt=he==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(se==null?void 0:se.guestPasses)||0,membershipTier:V,membershipStatus:he,membershipNumber:(se==null?void 0:se.membershipNumber)||null,membershipExpiry:(se==null?void 0:se.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:dt}},[t,r,se]),oe=v.useMemo(()=>{const V=X.membershipTier,dt=X.isActiveMember&&kf[V]||2,Le=new Date;return Le.setDate(Le.getDate()+dt),Le.toISOString().split("T")[0]},[X.membershipTier,X.isActiveMember]),W=v.useMemo(()=>d<=oe,[d,oe]);v.useEffect(()=>{const V=new URLSearchParams(window.location.search),he=V.get("success"),dt=V.get("session_id"),Le=V.get("canceled");he==="true"&&dt?Ae("POST","/api/stripe/verify-session",{sessionId:dt}).then(dr=>dr.json()).then(dr=>{dr.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),Ne.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(dr=>{n({title:"Payment Verification Failed",description:dr.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):Le==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:z=[]}=ve({queryKey:["/api/bookings",o==null?void 0:o.id,d],enabled:!!o}),{data:le=[]}=ve({queryKey:["/api/facilities"],queryFn:async()=>{try{const V=await fetch("/api/facilities");if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),{data:qe=[]}=ve({queryKey:["/api/venues"],queryFn:async()=>{try{const V=await fetch("/api/venues");if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),{data:Ye=[]}=ve({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const V=await fetch("/api/hall-activities");if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),ut=v.useMemo(()=>qe.length===0?["Islamabad"]:qe.map(V=>V.city),[qe]),Yt=v.useMemo(()=>Ye.length===0?[]:Ye.map(V=>({value:V.name,label:V.name})),[Ye]),{data:kt=[]}=ve({queryKey:["/api/pricing-tiers"]}),kr=v.useMemo(()=>{const V={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return kt.forEach(he=>{const Le=(he.benefits||[]).find(dr=>dr.toLowerCase().includes("discount")&&dr.toLowerCase().includes("off-peak"));if(Le){const dr=Le.match(/(\d+)%/);dr&&(V[he.tier]=parseInt(dr[1],10))}}),V},[kt]),F=v.useMemo(()=>new Date(d+"T12:00:00").getDay(),[d]),G=v.useMemo(()=>{if(!o)return null;const V=le.find(he=>he.slug===o.id);return(V==null?void 0:V.id)||null},[le,o==null?void 0:o.id]),Z=v.useMemo(()=>{const V=qe.find(he=>he.city===c);return(V==null?void 0:V.id)||null},[qe,c]),{data:_e=[]}=ve({queryKey:["/api/operating-hours",F],queryFn:async()=>{try{const V=await fetch(`/api/operating-hours?dayOfWeek=${F}`);if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}}}),ye=v.useMemo(()=>{const V=G?_e.find(Jr=>!Jr.isClosed&&!Jr.isHoliday&&Jr.facilityId===G&&Jr.dayOfWeek===F):null,he=Z?_e.find(Jr=>!Jr.isClosed&&!Jr.isHoliday&&Jr.venueId===Z&&!Jr.facilityId&&Jr.dayOfWeek===F):null,dt=_e.find(Jr=>!Jr.isClosed&&!Jr.isHoliday&&!Jr.facilityId&&!Jr.venueId&&Jr.dayOfWeek===F),Le=V||he||dt;if(!Le)return[];const dr=[],Fp=Le.slotDurationMinutes||60,[Up,hf]=Le.openTime.split(":").map(Number),[Tc,Bp]=Le.closeTime.split(":").map(Number);let ti=Up*60+hf;const mf=Tc*60+Bp-h;for(;ti<=mf;){const Jr=Math.floor(ti/60),bz=ti%60;dr.push(`${Jr.toString().padStart(2,"0")}:${bz.toString().padStart(2,"0")}`),ti+=Fp}return dr},[_e,F,G,Z,h]),{data:ge=[]}=ve({queryKey:["/api/facilities",o==null?void 0:o.id,"addons"],queryFn:async()=>{if(!o)return[];try{const V=await fetch(`/api/facilities/${o.id}/addons`);if(!V.ok)return[];const he=await V.json();return Array.isArray(he)?he:[]}catch{return[]}},enabled:!!(o!=null&&o.id)}),Ue={Target:ql,CircleDot:uK,Droplets:fK,ShieldCheck:qh,Headphones:pK,Glasses:mK,Coffee:B_,Speaker:EK},xt=v.useMemo(()=>ge.map(V=>({id:V.id,label:V.label,price:V.price,icon:V.icon&&Ue[V.icon]||ql,image:V.imageUrl||ose})),[ge]),Ct=v.useMemo(()=>{const V={};return le.forEach(he=>{V[he.id]=he.slug}),V},[le]),Rt=v.useMemo(()=>le.length===0?[]:le.filter(V=>V.status==="ACTIVE"&&V.slug!=="bridge-room").map(V=>({id:V.slug,label:V.name,count:V.resourceCount||1,basePrice:V.basePrice,minPlayers:V.minPlayers||1,icon:j2[V.slug]||kn,requiresCert:V.requiresCertification||!1,restricted:V.isRestricted||!1})).sort((V,he)=>{const dt=Ng.indexOf(V.id),Le=Ng.indexOf(he.id);return(dt===-1?999:dt)-(Le===-1?999:Le)}),[le]),Ys=v.useMemo(()=>le.filter(V=>V.slug!=="bridge-room").map(V=>({id:V.slug,label:V.name,count:V.resourceCount||1,basePrice:V.basePrice,minPlayers:V.minPlayers||1,icon:j2[V.slug]||kn,requiresCert:V.requiresCertification||!1,restricted:V.isRestricted||!1,status:V.status})).sort((V,he)=>{const dt=Ng.indexOf(V.id),Le=Ng.indexOf(he.id);return(dt===-1?999:dt)-(Le===-1?999:Le)}),[le]);v.useEffect(()=>{if(Rt.length>0)if(!o||!Rt.find(V=>V.id===o.id))l(Rt[0]);else{const V=Rt.find(he=>he.id===o.id);V&&(V.count!==o.count||V.basePrice!==o.basePrice)&&l(V)}},[Rt,o==null?void 0:o.id]),v.useEffect(()=>{ut.length>0&&!ut.includes(c)&&u(ut[0])},[ut,c]);const{data:Cn=[]}=ve({queryKey:["/api/events"]}),Ca=Te({mutationFn:async V=>await Ae("POST",`/api/events/${V.eventId}/register`,V),onSuccess:()=>{n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),Ne.invalidateQueries({queryKey:["/api/events"]})},onError:V=>{n({title:"Registration Failed",description:V.message||"Unable to register for this event.",variant:"destructive"})}}),tl=V=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}Ca.mutate({eventId:V.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},ei=c!=="Islamabad",rl=Te({mutationFn:async V=>await Ae("POST","/api/bookings",V),onSuccess:(V,he)=>{const dt=he.paymentMethod==="bank_transfer",Le=he.paymentMethod==="cash";n(dt?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:Le?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),Ne.invalidateQueries({queryKey:["/api/bookings"]}),y(null),O(new Set),q(!1),$(!1),Y(1)},onError:V=>{n({title:"Booking Failed",description:V.message,variant:"destructive"})}}),Oc=V=>z.some(he=>he.date===d&&he.resourceId===x&&he.startTime===V&&he.status!=="CANCELLED"),uf=async V=>{const he=V.trim().toUpperCase();if(C(he),!he){P(null);return}if(!/^QD-\d{4}$/.test(he)){P(!1);return}ee(!0);try{const Le=await fetch(`/api/memberships/validate/${he}`);if(!Le.ok){P(!1);return}const dr=await Le.json();P(dr.valid===!0)}catch{P(!1)}finally{ee(!1)}},Dr=v.useMemo(()=>{if(!b||!o)return null;let dt=o.basePrice/60*h,Le=0;const dr=X.membershipTier,Fp=X.isActiveMember,Up=w2(b),hf=kr[dr]||0;Up&&Fp&&hf>0&&(Le=dt*(hf/100));let Tc=0;R.forEach(ti=>{const w0=xt.find(mf=>mf.id===ti);if(w0){const mf=I[ti]??1;Tc+=w0.price*mf}}),D&&(Tc+=4e3);let Bp=null;if(Up&&Fp&&Le>0){const ti=dr.charAt(0)+dr.slice(1).toLowerCase();Bp=`${hf}% ${ti} (Off-Peak)`}return{basePrice:Math.round(dt),discount:Math.round(Le),discountLabel:Bp,addOnTotal:Tc,totalPrice:Math.round(dt-Le+Tc),date:d,startTime:b,endTime:ise(b,h)}},[b,o,h,R,I,D,d,X.membershipTier,X.isActiveMember,xt,kr]),b0=V=>{const he=new Set(R);he.has(V.id)?he.delete(V.id):(he.add(V.id),T(dt=>({...dt,[V.id]:dt[V.id]??1}))),O(he)},df=(V,he)=>{T(dt=>{const Le=dt[V]??1,dr=Math.min(10,Math.max(1,Le+he));return{...dt,[V]:dr}})},$p=async()=>{if(!(!Dr||!b||!o)){if(!W){const V=X.membershipTier,he=X.isActiveMember&&kf[V]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${he} days in advance.`,variant:"destructive"});return}if(o.id==="multipurpose-hall"&&!L){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}rl.mutate({facilitySlug:o.id,venue:c,resourceId:x,date:d,startTime:b,endTime:Dr.endTime,durationMinutes:h,paymentMethod:g,payerType:S.toUpperCase(),payerMembershipNumber:S==="member"?k:null,basePrice:Dr.basePrice,discount:Dr.discount,addOnTotal:Dr.addOnTotal,totalPrice:Dr.totalPrice,coachBooked:D,isMatchmaking:A,currentPlayers:H,maxPlayers:o.minPlayers,hallActivity:L,addOns:Array.from(R).map(V=>({id:V,quantity:I[V]??1}))})}},Mp=V=>{switch(V){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},Dp=Ys.filter(V=>V.id!=="bridge-room"&&V.id!=="multipurpose-hall"),ff=v.useMemo(()=>Q.map(V=>({name:V.playerName||"Member",points:V.rankingPoints,tier:"Member",facility:V.facilityId})),[Q]),Wi=()=>{window.location.href="/"};return Rt.length===0||!o?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[700px] bg-white dark:bg-slate-800 rounded-2xl border border-gray-200 dark:border-slate-700 shadow-2xl",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading facilities..."})]}):a.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[a.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[a.jsxs("div",{children:[a.jsx(ae,{href:"/",children:a.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[a.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),a.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>i("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[a.jsx(Iv,{className:"w-4 h-4"})," Book Facility"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>i("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[a.jsx(ca,{className:"w-4 h-4"})," Events & Academies"]}),a.jsxs("button",{onClick:()=>i("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[a.jsx(ca,{className:"w-4 h-4"})," Leaderboard"]}),a.jsxs("button",{onClick:()=>i("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${s==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[a.jsx(Ds,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(oA,{className:"w-5 h-5 text-amber-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),a.jsx("p",{className:"text-lg font-bold",children:Aa(X.creditBalance)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(iA,{className:"w-5 h-5 text-sky-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),a.jsxs("p",{className:"text-lg font-bold",children:[X.totalHoursPlayed," hrs"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(aA,{className:"w-5 h-5 text-emerald-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),a.jsx("p",{className:"text-lg font-bold",children:X.guestPasses})]})]})]})]}),a.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[s==="booking"&&!r&&a.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[a.jsx(Ds,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ae,{href:"/login",className:"block",children:a.jsx(U,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),a.jsxs(U,{variant:"outline",className:"w-full",onClick:Wi,"data-testid":"button-back-home-auth",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),s==="booking"&&r&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[a.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),a.jsx("div",{className:"mt-3 sm:mt-0",children:a.jsxs("div",{className:"max-w-xs sm:text-right",children:[a.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),a.jsx("select",{value:c,onChange:V=>{u(V.target.value),l(Rt[0]),m(1),y(null),O(new Set),T({}),q(!1),$(!1),Y(1),K(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:ut.map(V=>a.jsx("option",{value:V,children:V},V))}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",c]})]})})]}),ei&&a.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(za,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),a.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",c]}),a.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",c," is currently under development. Stay tuned for updates on our upcoming locations."]}),a.jsx(Se,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),a.jsx("div",{className:"mt-6",children:a.jsx(U,{variant:"outline",onClick:()=>u("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!ei&&a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:Rt.map(V=>{const he=V.icon,dt=o.id===V.id,Le=V.restricted&&X.membershipTier!=="FOUNDING";return a.jsxs("button",{onClick:()=>{Le?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(l(V),m(1),y(null),$(!1),K(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${Le?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":dt?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${V.id}`,children:[a.jsx(he,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),a.jsx("p",{className:"font-semibold text-sm",children:V.label}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[V.count," available"]}),Le&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},V.id)})})]}),!ei&&a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[a.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",o.label,")"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:o.count}).map((V,he)=>a.jsxs("button",{onClick:()=>m(he+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${x===he+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${he+1}`,children:["Court ",he+1]},he+1))}),o.id==="multipurpose-hall"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),a.jsxs("select",{value:L||"",onChange:V=>K(V.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[a.jsx("option",{value:"",children:"-- Select Activity --"}),Yt.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))]})]}),o.id!=="hall"&&!o.restricted&&a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),a.jsx("button",{onClick:()=>$(!A),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${A?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${A?"translate-x-6":"translate-x-1"}`})})]}),A&&a.jsxs("select",{value:H,onChange:V=>Y(parseInt(V.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[a.jsx("option",{value:1,children:"Just Me (1)"}),a.jsx("option",{value:2,children:"Pair (2)"}),a.jsx("option",{value:3,children:"Three (3)"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[a.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),a.jsx("button",{onClick:()=>q(!D),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${D?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${D?"translate-x-6":"translate-x-1"}`})})]}),D&&a.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(gn,{className:"w-5 h-5 text-sky-500"}),a.jsx("input",{type:"date",value:d,min:new Date().toISOString().split("T")[0],max:oe,onChange:V=>{f(V.target.value),y(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!W&&a.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[a.jsx($n,{className:"w-3 h-3"}),"Your ",X.membershipTier," tier allows booking up to ",kf[X.membershipTier]||2," days ahead"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(V=>a.jsxs("button",{onClick:()=>{p(V),y(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${h===V?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${V}`,children:[a.jsx(_r,{className:"w-4 h-4"}),V," min"]},V))})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[a.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),ye.length===0?a.jsxs("div",{className:"text-center py-4",children:[a.jsx(_r,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):a.jsx("div",{className:"grid grid-cols-5 gap-3",children:ye.map(V=>{const he=Oc(V),dt=b===V,Le=w2(V);return a.jsxs("button",{onClick:()=>!he&&y(V),disabled:he,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${he?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":dt?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${V.replace(":","")}`,children:[V,Le&&!he&&!dt&&a.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},V)})}),ye.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),a.jsx("div",{className:"md:col-span-1 space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),Dr?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),a.jsx("div",{className:"space-y-2",children:xt.map(V=>{const he=R.has(V.id),dt=I[V.id]??1;return a.jsxs("div",{onClick:()=>b0(V),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${he?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${V.id}`,children:[a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:a.jsx("img",{src:V.image,alt:V.label,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 text-left min-w-0",children:[a.jsx("p",{className:"font-semibold truncate",children:V.label}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Aa(V.price)," per unit"]})]}),he&&a.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:Le=>Le.stopPropagation(),children:[a.jsx("button",{onClick:()=>df(V.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:a.jsx(bK,{className:"w-3 h-3"})}),a.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:dt}),a.jsx("button",{onClick:()=>df(V.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:a.jsx(vn,{className:"w-3 h-3"})})]})]},V.id)})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-4 text-xs",children:[a.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"payer-type",checked:S==="self",onChange:()=>_("self"),className:"accent-sky-600"}),a.jsx("span",{children:"Self (use my account)"})]}),a.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"payer-type",checked:S==="member",onChange:()=>_("member"),className:"accent-sky-600"}),a.jsx("span",{children:"Another member will pay"})]})]}),S==="member"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),a.jsx(ne,{type:"text",value:k,onChange:V=>uf(V.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),E===!0&&a.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[a.jsx(an,{className:"w-3 h-3"})," Membership found."]}),E===!1&&a.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[a.jsx($n,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),a.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),a.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",h," min)"]}),a.jsx("span",{children:Aa(Dr.basePrice)})]}),Dr.discount>0&&a.jsxs("div",{className:"flex justify-between text-emerald-600",children:[a.jsxs("span",{children:["Member Discount (",Dr.discountLabel,")"]}),a.jsxs("span",{children:["- ",Aa(Dr.discount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),a.jsxs("span",{children:["+ ",Aa(Dr.addOnTotal)]})]})]}),a.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[a.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),a.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Aa(Dr.totalPrice)})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>w("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${g==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),a.jsx("button",{onClick:()=>w("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${g==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),a.jsx("button",{onClick:()=>w("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${g==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),g==="bank_transfer"&&a.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[a.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),a.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Bank:"})," HBL (Habib Bank Limited)"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Quarterdeck Sports Club"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Account #:"})," 1234-5678-9012-3456"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"IBAN:"})," PK00HABB1234567890123456"]})]}),a.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),a.jsx(U,{onClick:$p,disabled:rl.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:rl.isPending?"Processing...":"Confirm Booking"})]}):a.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),s==="events"&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-events-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),a.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),a.jsx("div",{className:"w-16"})," "]}),Cn.length>0?Ys.map(V=>{const he=V.icon,dt=Cn.filter(Le=>Ct[Le.facilityId]===V.id);return dt.length===0?null:a.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${V.id==="padel-tennis"?"border-sky-500":V.id==="air-rifle-range"?"border-red-400":V.id==="squash"?"border-slate-400":V.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${V.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[a.jsx(he,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),a.jsxs("h3",{className:"text-xl font-extrabold",children:[V.label," Programs"]}),V.status==="PLANNED"&&a.jsx(Se,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:dt.map(Le=>a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${Le.id}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:`${Mp(Le.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:Le.type}),a.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Aa(Le.price)})]}),a.jsx("h4",{className:"font-bold text-lg mb-1",children:Le.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[Le.scheduleDay," at ",Le.scheduleTime||"TBA"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Le.description}),Le.instructor&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",Le.instructor]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Le.enrolledCount||0," / ",Le.capacity," enrolled"]})]}),a.jsx(U,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>tl(Le),disabled:Ca.isPending||(Le.enrolledCount||0)>=Le.capacity,"data-testid":`button-register-${Le.id}`,children:Ca.isPending?"Registering...":(Le.enrolledCount||0)>=Le.capacity?"Full":"Register"})]},Le.id))})]},V.id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),s==="leaderboard"&&a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:re==="cumulative"?"Global Arena Leaderboard":`${((Lp=Rt.find(V=>V.id===re))==null?void 0:Lp.label)||""} Top Scorers`}),a.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),a.jsx("div",{className:"w-16"})," "]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[a.jsx("button",{onClick:()=>ie("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${re==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),Dp.map(V=>{const he=V.icon;return a.jsxs("button",{onClick:()=>ie(V.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${re===V.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${V.id}`,children:[a.jsx(he,{className:"w-4 h-4"}),V.label]},V.id)})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:ff.length>0?ff.map((V,he)=>a.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${he===0?"bg-amber-50 dark:bg-amber-900/20":he===1?"bg-gray-50 dark:bg-slate-700/50":he===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${he}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${he===0?"bg-amber-400 text-white":he===1?"bg-gray-400 text-white":he===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:he+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:V.name}),a.jsx(Se,{variant:"outline",className:"text-xs",children:V.tier})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:V.points}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},he)):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),a.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:re==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((xP=Dp.find(V=>V.id===re))==null?void 0:xP.label)||"this facility"}!`}),a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),s==="profile"&&a.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(U,{variant:"outline",size:"sm",onClick:Wi,className:"rounded-full","data-testid":"button-profile-back-home",children:[a.jsx(In,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),a.jsx("div",{className:"w-16"})]}),a.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((bP=t.firstName)==null?void 0:bP.charAt(0))||"M":"G"}),a.jsxs("div",{className:"text-center md:text-left flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),a.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[a.jsxs(Se,{className:`${X.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":X.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":X.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[X.membershipTier," MEMBER"]}),X.isActiveMember&&a.jsxs(Se,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[a.jsx(an,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),se&&a.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[a.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),a.jsx("p",{className:"font-mono font-bold text-lg",children:se.membershipNumber}),a.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(se.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(oA,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:Aa(X.creditBalance)}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(iA,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:X.totalHoursPlayed}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(aA,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:X.guestPasses}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[a.jsx(Iv,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:kf[X.membershipTier]||2}),a.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[a.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[a.jsx(ca,{className:"w-4 h-4"})," Membership Benefits"]}),a.jsxs("ul",{className:"space-y-3 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:a.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[kr[X.membershipTier]||0,"%"]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:a.jsx(gn,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Booking Window"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",kf[X.membershipTier]||2," days ahead"]})]})]}),X.guestPasses>0&&a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:a.jsx(Ds,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Guest Passes"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[X.guestPasses," passes remaining"]})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[a.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[a.jsx(qh,{className:"w-4 h-4"})," Certifications & Waivers"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${X.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[X.isSafetyCertified?a.jsx(an,{className:"w-5 h-5 text-green-600"}):a.jsx($n,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.isSafetyCertified?"Certified":"Required for range access"})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${X.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[X.hasSignedWaiver?a.jsx(BD,{className:"w-5 h-5 text-blue-600"}):a.jsx($n,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[a.jsx(Ds,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),a.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),a.jsx(ae,{href:"/login",children:a.jsx(U,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function cse(){return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-6xl",children:a.jsx(lse,{})})})}const ce=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ce.displayName="Card";const Ge=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const et=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));et.displayName="CardTitle";const Kt=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Kt.displayName="CardDescription";const ue=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));ue.displayName="CardContent";const use=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));use.displayName="CardFooter";var ib="Tabs",[dse]=yn(ib,[rb]),a5=rb(),[fse,Sk]=dse(ib),i5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Gd(l),[f,h]=ns({prop:n,onChange:s,defaultProp:i??"",caller:ib});return a.jsx(fse,{scope:r,baseId:Rr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Oe.div,{dir:d,"data-orientation":o,...u,ref:t})})});i5.displayName=ib;var o5="TabsList",l5=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Sk(o5,r),o=a5(r);return a.jsx(n3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});l5.displayName=o5;var c5="TabsTrigger",u5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Sk(c5,r),l=a5(r),c=h5(o.baseId,n),u=m5(o.baseId,n),d=n===o.value;return a.jsx(s3,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:me(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:me(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});u5.displayName=c5;var d5="TabsContent",f5=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Sk(d5,r),c=h5(l.baseId,n),u=m5(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Xr,{present:s||d,children:({present:h})=>a.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});f5.displayName=d5;function h5(e,t){return`${e}-trigger-${t}`}function m5(e,t){return`${e}-content-${t}`}var hse=i5,p5=l5,g5=u5,v5=f5;const Ti=hse,Ha=v.forwardRef(({className:e,...t},r)=>a.jsx(p5,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ha.displayName=p5.displayName;const Nr=v.forwardRef(({className:e,...t},r)=>a.jsx(g5,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Nr.displayName=g5.displayName;const Sr=v.forwardRef(({className:e,...t},r)=>a.jsx(v5,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Sr.displayName=v5.displayName;function mse(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...x}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=v.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,pse(s,...t)]}function pse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var gse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_k=gse.reduce((e,t)=>{const r=Yx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vse(){return U4.useSyncExternalStore(yse,()=>!0,()=>!1)}function yse(){return()=>{}}var kk="Avatar",[xse]=mse(kk),[bse,y5]=xse(kk),x5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return a.jsx(bse,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(_k.span,{...n,ref:t})})});x5.displayName=kk;var b5="AvatarImage",w5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=y5(b5,r),l=wse(n,i),c=vr(u=>{s(u),o.onImageLoadingStatusChange(u)});return yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(_k.img,{...i,ref:t,src:n}):null});w5.displayName=b5;var j5="AvatarFallback",N5=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=y5(j5,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(_k.span,{...s,ref:t}):null});N5.displayName=j5;function N2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wse(e,{referrerPolicy:t,crossOrigin:r}){const n=vse(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>N2(i,e));return yr(()=>{l(N2(i,e))},[i,e]),yr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var S5=x5,_5=w5,k5=N5;const sm=v.forwardRef(({className:e,...t},r)=>a.jsx(S5,{ref:r,className:fe(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));sm.displayName=S5.displayName;const am=v.forwardRef(({className:e,...t},r)=>a.jsx(_5,{ref:r,className:fe("aspect-square h-full w-full",e),...t}));am.displayName=_5.displayName;const im=v.forwardRef(({className:e,...t},r)=>a.jsx(k5,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));im.displayName=k5.displayName;function jse(){var _,k;const{user:e,isLoading:t,isAuthenticated:r}=jc(),n=G4(),i=new URLSearchParams(n).get("tab")||"account",o=v.useRef(null),{toast:l}=At(),{data:c}=ve({queryKey:["/api/memberships/my"],enabled:r}),{data:u=[]}=ve({queryKey:["/api/bookings/my"],enabled:r}),{data:d=[],isLoading:f}=ve({queryKey:["/api/notifications"],enabled:r}),h=Te({mutationFn:async C=>{await Ae("POST",`/api/notifications/${C}/read`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),p=Te({mutationFn:async()=>{await Ae("POST","/api/notifications/read-all")},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),x=Te({mutationFn:async C=>{await Ae("DELETE",`/api/notifications/${C}`)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/notifications"]}),Ne.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=Te({mutationFn:async C=>{const E=new FormData;E.append("photo",C);const P=await fetch("/api/user/profile-photo",{method:"POST",body:E,credentials:"include"});if(!P.ok){const R=await P.json();throw new Error(R.message||"Failed to upload photo")}return P.json()},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:C=>{l({title:"Upload failed",description:C.message,variant:"destructive"})}}),b=C=>{var P;const E=(P=C.target.files)==null?void 0:P[0];if(E){if(E.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}m.mutate(E)}},y=new Date().toISOString().split("T")[0],{upcomingBookings:g,pastBookings:w}=v.useMemo(()=>{const C=u.filter(P=>P.date>=y).sort((P,R)=>P.date.localeCompare(R.date)),E=u.filter(P=>P.date<y).sort((P,R)=>R.date.localeCompare(P.date));return{upcomingBookings:C,pastBookings:E}},[u,y]),N=d.filter(C=>!C.isRead).length;if(t)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),a.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(pt,{className:"h-12 w-64 mb-8"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(pt,{className:"h-64"}),a.jsx(pt,{className:"h-64"})]})]})]}),a.jsx(nr,{})]});if(!r)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx(ce,{className:"max-w-md w-full mx-4",children:a.jsxs(ue,{className:"pt-6 text-center",children:[a.jsx(Ds,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),a.jsx(ae,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),a.jsx(nr,{})]});const j=C=>{switch(C){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},S=C=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${C.id}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:C.venue}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.date," at ",C.startTime," - ",C.endTime]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Se,{variant:C.status==="CONFIRMED"?"default":"secondary",children:C.status}),a.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Aa(C.totalPrice)})]})]},C.id);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),a.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),a.jsx("div",{className:"qd-container py-6",children:a.jsxs(Ti,{defaultValue:i,className:"space-y-6",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[a.jsxs(Nr,{value:"account","data-testid":"tab-account",children:[a.jsx(Ds,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),a.jsxs(Nr,{value:"bookings","data-testid":"tab-bookings",children:[a.jsx(gn,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),a.jsxs(Nr,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[a.jsx(ed,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",N>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:N})]}),a.jsxs(Nr,{value:"membership","data-testid":"tab-membership",children:[a.jsx(ev,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),a.jsxs(Sr,{value:"account",className:"space-y-6",children:[a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ds,{className:"w-5 h-5"}),"Account Information"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs(sm,{className:"w-24 h-24",children:[a.jsx(am,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),a.jsxs(im,{className:"text-2xl bg-primary/10 text-primary",children:[(_=e==null?void 0:e.firstName)==null?void 0:_[0],(k=e==null?void 0:e.lastName)==null?void 0:k[0]]})]}),a.jsx("button",{type:"button",onClick:()=>{var C;return(C=o.current)==null?void 0:C.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:m.isPending,"data-testid":"button-change-photo",children:m.isPending?a.jsx(ct,{className:"w-6 h-6 text-white animate-spin"}):a.jsx(LD,{className:"w-6 h-6 text-white"})}),a.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:b,className:"hidden","data-testid":"input-profile-photo"})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),a.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(Ds,{className:"w-3 h-3"})," Name"]}),a.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(ip,{className:"w-3 h-3"})," Email"]}),a.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(V_,{className:"w-3 h-3"})," Credit Balance"]}),a.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Aa((e==null?void 0:e.creditBalance)||0)})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(_r,{className:"w-3 h-3"})," Total Hours Played"]}),a.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(tc,{className:"w-3 h-3"})," Safety Certified"]}),a.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(BD,{className:"w-3 h-3"})," Waiver Signed"]}),a.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/api/logout",children:a.jsx(U,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),a.jsxs(Sr,{value:"bookings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),a.jsx(ae,{href:"/booking",children:a.jsx(U,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),a.jsxs(Ti,{defaultValue:"upcoming",className:"space-y-4",children:[a.jsxs(Ha,{children:[a.jsxs(Nr,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[a.jsx(Iv,{className:"w-4 h-4"}),"Upcoming (",g.length,")"]}),a.jsxs(Nr,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[a.jsx(rA,{className:"w-4 h-4"}),"Past (",w.length,")"]})]}),a.jsx(Sr,{value:"upcoming",className:"space-y-3",children:g.length>0?g.map(S):a.jsx(ce,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(gn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),a.jsx(ae,{href:"/booking",children:a.jsx(U,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),a.jsx(Sr,{value:"past",className:"space-y-3",children:w.length>0?w.map(S):a.jsx(ce,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(rA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),a.jsxs(Sr,{value:"notifications",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),N>0&&a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>p.mutate(),disabled:p.isPending,"data-testid":"button-mark-all-notifications-read",children:[p.isPending?a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(an,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),f?a.jsxs("div",{className:"space-y-3",children:[a.jsx(pt,{className:"h-20"}),a.jsx(pt,{className:"h-20"}),a.jsx(pt,{className:"h-20"})]}):d.length===0?a.jsx(ce,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(ed,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):a.jsx("div",{className:"space-y-3",children:d.map(C=>a.jsx(ce,{className:C.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${C.id}`,children:a.jsx(ue,{className:"py-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${j(C.type)}`}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[C.link?a.jsx(ae,{href:C.link,children:a.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:C.title})}):a.jsx("p",{className:"font-semibold",children:C.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C.createdAt?XF(new Date(C.createdAt),{addSuffix:!0}):""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[!C.isRead&&a.jsx(U,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>h.mutate(C.id),disabled:h.isPending,"data-testid":`button-mark-notification-read-${C.id}`,children:h.isPending?a.jsx(ct,{className:"w-4 h-4 animate-spin"}):a.jsx(an,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>x.mutate(C.id),disabled:x.isPending,"data-testid":`button-delete-notification-${C.id}`,children:x.isPending?a.jsx(ct,{className:"w-4 h-4 animate-spin"}):a.jsx(on,{className:"w-4 h-4"})})]})]})})]})})},C.id))})]}),a.jsx(Sr,{value:"membership",className:"space-y-6",children:a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(ev,{className:"w-5 h-5"}),"Membership Details"]})}),a.jsx(ue,{className:"space-y-4",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),a.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),a.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),a.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),a.jsx(Se,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[a.jsx(Qr,{className:"w-3 h-3"})," Guest Passes"]}),a.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ev,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),a.jsx(ae,{href:"/#membership",children:a.jsx(U,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),a.jsx(nr,{})]})}var jp=e=>e.type==="checkbox",kl=e=>e instanceof Date,Hn=e=>e==null;const C5=e=>typeof e=="object";var $r=e=>!Hn(e)&&!Array.isArray(e)&&C5(e)&&!kl(e),P5=e=>$r(e)&&e.target?jp(e.target)?e.target.checked:e.target.value:e,Nse=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,E5=(e,t)=>e.has(Nse(t)),Sse=e=>{const t=e.constructor&&e.constructor.prototype;return $r(t)&&t.hasOwnProperty("isPrototypeOf")},Ck=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Ck&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!($r(e)&&Sse(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Vr(e[s]));return n}var ob=e=>/^\w*$/.test(e),pr=e=>e===void 0,Pk=e=>Array.isArray(e)?e.filter(Boolean):[],Ek=e=>Pk(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(e,t,r)=>{if(!t||!$r(e))return r;const n=(ob(t)?[t]:Ek(t)).reduce((s,i)=>Hn(s)?s:s[i],e);return pr(n)||n===e?pr(e[t])?r:e[t]:n},hs=e=>typeof e=="boolean",Rn=e=>typeof e=="function",$t=(e,t,r)=>{let n=-1;const s=ob(t)?[t]:Ek(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=$r(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ty={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ua={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ni={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ak=M.createContext(null);Ak.displayName="HookFormContext";const lb=()=>M.useContext(Ak),_se=e=>{const{children:t,...r}=e;return M.createElement(Ak.Provider,{value:r},t)};var A5=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ua.all&&(t._proxyFormState[o]=!n||ua.all),r&&(r[o]=!0),e[o]}});return s};const Ok=typeof window<"u"?M.useLayoutEffect:M.useEffect;function kse(e){const t=lb(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ok(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>A5(o,r,c.current,!1),[o,r])}var vs=e=>typeof e=="string",F1=(e,t,r,n,s)=>vs(e)?(n&&t.watch.add(e),Ce(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ce(r,i))):(n&&(t.watchAll=!0),r),U1=e=>Hn(e)||!C5(e);function da(e,t,r=new WeakSet){if(U1(e)||U1(t))return Object.is(e,t);if(kl(e)&&kl(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(kl(o)&&kl(l)||$r(o)&&$r(l)||Array.isArray(o)&&Array.isArray(l)?!da(o,l,r):!Object.is(o,l))return!1}}return!0}function Cse(e){const t=lb(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:l}=e||{},c=M.useRef(s),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[p,x]=M.useState(()=>{const N=r._getWatch(n,c.current);return u.current?u.current(N):N}),m=M.useCallback(N=>{const j=F1(n,r._names,N||r._formValues,!1,c.current);return u.current?u.current(j):j},[r._formValues,r._names,n]),b=M.useCallback(N=>{if(!i){const j=F1(n,r._names,N||r._formValues,!1,c.current);if(u.current){const S=u.current(j);da(S,d.current)||(x(S),d.current=S)}else x(j)}},[r._formValues,r._names,i,n]);Ok(()=>((f.current!==r||!da(h.current,n))&&(f.current=r,h.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:N=>{b(N.values)}})),[r,o,n,b]),M.useEffect(()=>r._removeUnmounted());const y=f.current!==r,g=h.current,w=M.useMemo(()=>{if(i)return null;const N=!y&&!da(g,n);return y||N?m():null},[i,y,n,g,m]);return w!==null?w:p}function Pse(e){const t=lb(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=E5(s._names.array,r),u=M.useMemo(()=>Ce(s._formValues,r,Ce(s._defaultValues,r,o)),[s,r,o]),d=Cse({control:s,name:r,defaultValue:u,exact:l}),f=kse({control:s,name:r,exact:l}),h=M.useRef(e),p=M.useRef(void 0),x=M.useRef(s.register(r,{...e.rules,value:d,...hs(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ce(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ce(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ce(f.validatingFields,r)},error:{enumerable:!0,get:()=>Ce(f.errors,r)}}),[f,r]),b=M.useCallback(N=>x.current.onChange({target:{value:P5(N),name:r},type:ty.CHANGE}),[r]),y=M.useCallback(()=>x.current.onBlur({target:{value:Ce(s._formValues,r),name:r},type:ty.BLUR}),[r,s._formValues]),g=M.useCallback(N=>{const j=Ce(s._fields,r);j&&j._f&&N&&(j._f.ref={focus:()=>Rn(N.focus)&&N.focus(),select:()=>Rn(N.select)&&N.select(),setCustomValidity:S=>Rn(N.setCustomValidity)&&N.setCustomValidity(S),reportValidity:()=>Rn(N.reportValidity)&&N.reportValidity()})},[s._fields,r]),w=M.useMemo(()=>({name:r,value:d,...hs(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:b,onBlur:y,ref:g}),[r,n,f.disabled,b,y,g,d]);return M.useEffect(()=>{const N=s._options.shouldUnregister||i,j=p.current;j&&j!==r&&!c&&s.unregister(j),s.register(r,{...h.current.rules,...hs(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(_,k)=>{const C=Ce(s._fields,_);C&&C._f&&(C._f.mount=k)};if(S(r,!0),N){const _=Vr(Ce(s._options.defaultValues,r,h.current.defaultValue));$t(s._defaultValues,r,_),pr(Ce(s._formValues,r))&&$t(s._formValues,r,_)}return!c&&s.register(r),p.current=r,()=>{(c?N&&!s._state.action:N)?s.unregister(r):S(r,!1)}},[r,s,c,i]),M.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),M.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const Ese=e=>e.render(Pse(e));var O5=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},dh=e=>Array.isArray(e)?e:[e],S2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function T5(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&$r(s)&&i){const o=T5(s,i);$r(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var An=e=>$r(e)&&!Object.keys(e).length,Tk=e=>e.type==="file",ry=e=>{if(!Ck)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},I5=e=>e.type==="select-multiple",Ik=e=>e.type==="radio",Ase=e=>Ik(e)||jp(e),jw=e=>ry(e)&&e.isConnected;function Ose(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=pr(e)?n++:e[t[n++]];return e}function Tse(e){for(const t in e)if(e.hasOwnProperty(t)&&!pr(e[t]))return!1;return!0}function Cr(e,t){const r=Array.isArray(t)?t:ob(t)?[t]:Ek(t),n=r.length===1?e:Ose(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&($r(n)&&An(n)||Array.isArray(n)&&Tse(n))&&Cr(e,r.slice(0,-1)),e}var Ise=e=>{for(const t in e)if(Rn(e[t]))return!0;return!1};function R5(e){return Array.isArray(e)||$r(e)&&!Ise(e)}function B1(e,t={}){for(const r in e){const n=e[r];R5(n)?(t[r]=Array.isArray(n)?[]:{},B1(n,t[r])):pr(n)||(t[r]=!0)}return t}function Jc(e,t,r){r||(r=B1(t));for(const n in e){const s=e[n];if(R5(s))pr(t)||U1(r[n])?r[n]=B1(s,Array.isArray(s)?[]:{}):Jc(s,Hn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!da(s,i)}}return r}const _2={value:!1,isValid:!1},k2={value:!0,isValid:!0};var $5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pr(e[0].attributes.value)?pr(e[0].value)||e[0].value===""?k2:{value:e[0].value,isValid:!0}:k2:_2}return _2},M5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>pr(e)?e:t?e===""?NaN:e&&+e:r&&vs(e)?new Date(e):n?n(e):e;const C2={isValid:!1,value:null};var D5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,C2):C2;function P2(e){const t=e.ref;return Tk(t)?t.files:Ik(t)?D5(e.refs).value:I5(t)?[...t.selectedOptions].map(({value:r})=>r):jp(t)?$5(e.refs).value:M5(pr(t.value)?e.ref.value:t.value,e)}var Rse=(e,t,r,n)=>{const s={};for(const i of e){const o=Ce(t,i);o&&$t(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ny=e=>e instanceof RegExp,Cf=e=>pr(e)?e:ny(e)?e.source:$r(e)?ny(e.value)?e.value.source:e.value:e,E2=e=>({isOnSubmit:!e||e===ua.onSubmit,isOnBlur:e===ua.onBlur,isOnChange:e===ua.onChange,isOnAll:e===ua.all,isOnTouch:e===ua.onTouched});const A2="AsyncFunction";var $se=e=>!!e&&!!e.validate&&!!(Rn(e.validate)&&e.validate.constructor.name===A2||$r(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===A2)),Mse=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),O2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const fh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ce(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(fh(l,t))break}else if($r(l)&&fh(l,t))break}}};function T2(e,t,r){const n=Ce(e,r);if(n||ob(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ce(t,i),l=Ce(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var Dse=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return An(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ua.all))},Lse=(e,t,r)=>!e||!t||e===t||dh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Fse=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Use=(e,t)=>!Pk(Ce(e,t)).length&&Cr(e,t),Bse=(e,t,r)=>{const n=dh(Ce(e,r));return $t(n,"root",t[r]),$t(e,r,n),e};function I2(e,t,r="validate"){if(vs(e)||Array.isArray(e)&&e.every(vs)||hs(e)&&!e)return{type:r,message:vs(e)?e:"",ref:t}}var Wc=e=>$r(e)&&!ny(e)?e:{value:e,message:""},R2=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:x,name:m,valueAsNumber:b,mount:y}=e._f,g=Ce(r,m);if(!y||t.has(m))return{};const w=l?l[0]:o,N=R=>{s&&w.reportValidity&&(w.setCustomValidity(hs(R)?"":R||""),w.reportValidity())},j={},S=Ik(o),_=jp(o),k=S||_,C=(b||Tk(o))&&pr(o.value)&&pr(g)||ry(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,E=O5.bind(null,m,n,j),P=(R,O,I,T=ni.maxLength,D=ni.minLength)=>{const q=R?O:I;j[m]={type:R?T:D,message:q,ref:o,...E(R?T:D,q)}};if(i?!Array.isArray(g)||!g.length:c&&(!k&&(C||Hn(g))||hs(g)&&!g||_&&!$5(l).isValid||S&&!D5(l).isValid)){const{value:R,message:O}=vs(c)?{value:!!c,message:c}:Wc(c);if(R&&(j[m]={type:ni.required,message:O,ref:w,...E(ni.required,O)},!n))return N(O),j}if(!C&&(!Hn(f)||!Hn(h))){let R,O;const I=Wc(h),T=Wc(f);if(!Hn(g)&&!isNaN(g)){const D=o.valueAsNumber||g&&+g;Hn(I.value)||(R=D>I.value),Hn(T.value)||(O=D<T.value)}else{const D=o.valueAsDate||new Date(g),q=H=>new Date(new Date().toDateString()+" "+H),A=o.type=="time",$=o.type=="week";vs(I.value)&&g&&(R=A?q(g)>q(I.value):$?g>I.value:D>new Date(I.value)),vs(T.value)&&g&&(O=A?q(g)<q(T.value):$?g<T.value:D<new Date(T.value))}if((R||O)&&(P(!!R,I.message,T.message,ni.max,ni.min),!n))return N(j[m].message),j}if((u||d)&&!C&&(vs(g)||i&&Array.isArray(g))){const R=Wc(u),O=Wc(d),I=!Hn(R.value)&&g.length>+R.value,T=!Hn(O.value)&&g.length<+O.value;if((I||T)&&(P(I,R.message,O.message),!n))return N(j[m].message),j}if(p&&!C&&vs(g)){const{value:R,message:O}=Wc(p);if(ny(R)&&!g.match(R)&&(j[m]={type:ni.pattern,message:O,ref:o,...E(ni.pattern,O)},!n))return N(O),j}if(x){if(Rn(x)){const R=await x(g,r),O=I2(R,w);if(O&&(j[m]={...O,...E(ni.validate,O.message)},!n))return N(O.message),j}else if($r(x)){let R={};for(const O in x){if(!An(R)&&!n)break;const I=I2(await x[O](g,r),w,O);I&&(R={...I,...E(O,I.message)},N(I.message),n&&(j[m]=R))}if(!An(R)&&(j[m]={ref:w,...R},!n))return j}}return N(!0),j};const Vse={mode:ua.onSubmit,reValidateMode:ua.onChange,shouldFocusError:!0};function qse(e={}){let t={...Vse,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=$r(t.defaultValues)||$r(t.values)?Vr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Vr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:S2(),state:S2()},x=t.criteriaMode===ua.all,m=F=>G=>{clearTimeout(u),u=setTimeout(F,G)},b=async F=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||F)){let G;t.resolver?(G=An((await k()).errors),y()):G=await E(n,!0),G!==r.isValid&&p.state.next({isValid:G})}},y=(F,G)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((F||Array.from(l.mount)).forEach(Z=>{Z&&(G?$t(r.validatingFields,Z,G):Cr(r.validatingFields,Z))}),p.state.next({validatingFields:r.validatingFields,isValidating:!An(r.validatingFields)}))},g=(F,G=[],Z,_e,ye=!0,ge=!0)=>{if(_e&&Z&&!t.disabled){if(o.action=!0,ge&&Array.isArray(Ce(n,F))){const Ue=Z(Ce(n,F),_e.argA,_e.argB);ye&&$t(n,F,Ue)}if(ge&&Array.isArray(Ce(r.errors,F))){const Ue=Z(Ce(r.errors,F),_e.argA,_e.argB);ye&&$t(r.errors,F,Ue),Use(r.errors,F)}if((f.touchedFields||h.touchedFields)&&ge&&Array.isArray(Ce(r.touchedFields,F))){const Ue=Z(Ce(r.touchedFields,F),_e.argA,_e.argB);ye&&$t(r.touchedFields,F,Ue)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Jc(s,i)),p.state.next({name:F,isDirty:R(F,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $t(i,F,G)},w=(F,G)=>{$t(r.errors,F,G),p.state.next({errors:r.errors})},N=F=>{r.errors=F,p.state.next({errors:r.errors,isValid:!1})},j=(F,G,Z,_e)=>{const ye=Ce(n,F);if(ye){const ge=Ce(i,F,pr(Z)?Ce(s,F):Z);pr(ge)||_e&&_e.defaultChecked||G?$t(i,F,G?ge:P2(ye._f)):T(F,ge),o.mount&&!o.action&&b()}},S=(F,G,Z,_e,ye)=>{let ge=!1,Ue=!1;const xt={name:F};if(!t.disabled){if(!Z||_e){(f.isDirty||h.isDirty)&&(Ue=r.isDirty,r.isDirty=xt.isDirty=R(),ge=Ue!==xt.isDirty);const Ct=da(Ce(s,F),G);Ue=!!Ce(r.dirtyFields,F),Ct?Cr(r.dirtyFields,F):$t(r.dirtyFields,F,!0),xt.dirtyFields=r.dirtyFields,ge=ge||(f.dirtyFields||h.dirtyFields)&&Ue!==!Ct}if(Z){const Ct=Ce(r.touchedFields,F);Ct||($t(r.touchedFields,F,Z),xt.touchedFields=r.touchedFields,ge=ge||(f.touchedFields||h.touchedFields)&&Ct!==Z)}ge&&ye&&p.state.next(xt)}return ge?xt:{}},_=(F,G,Z,_e)=>{const ye=Ce(r.errors,F),ge=(f.isValid||h.isValid)&&hs(G)&&r.isValid!==G;if(t.delayError&&Z?(c=m(()=>w(F,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?$t(r.errors,F,Z):Cr(r.errors,F)),(Z?!da(ye,Z):ye)||!An(_e)||ge){const Ue={..._e,...ge&&hs(G)?{isValid:G}:{},errors:r.errors,name:F};r={...r,...Ue},p.state.next(Ue)}},k=async F=>(y(F,!0),await t.resolver(i,t.context,Rse(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async F=>{const{errors:G}=await k(F);if(y(F),F)for(const Z of F){const _e=Ce(G,Z);_e?$t(r.errors,Z,_e):Cr(r.errors,Z)}else r.errors=G;return G},E=async(F,G,Z={valid:!0})=>{for(const _e in F){const ye=F[_e];if(ye){const{_f:ge,...Ue}=ye;if(ge){const xt=l.array.has(ge.name),Ct=ye._f&&$se(ye._f);Ct&&f.validatingFields&&y([ge.name],!0);const Rt=await R2(ye,l.disabled,i,x,t.shouldUseNativeValidation&&!G,xt);if(Ct&&f.validatingFields&&y([ge.name]),Rt[ge.name]&&(Z.valid=!1,G))break;!G&&(Ce(Rt,ge.name)?xt?Bse(r.errors,Rt,ge.name):$t(r.errors,ge.name,Rt[ge.name]):Cr(r.errors,ge.name))}!An(Ue)&&await E(Ue,G,Z)}}return Z.valid},P=()=>{for(const F of l.unMount){const G=Ce(n,F);G&&(G._f.refs?G._f.refs.every(Z=>!jw(Z)):!jw(G._f.ref))&&se(F)}l.unMount=new Set},R=(F,G)=>!t.disabled&&(F&&G&&$t(i,F,G),!da(Y(),s)),O=(F,G,Z)=>F1(F,l,{...o.mount?i:pr(G)?s:vs(F)?{[F]:G}:G},Z,G),I=F=>Pk(Ce(o.mount?i:s,F,t.shouldUnregister?Ce(s,F,[]):[])),T=(F,G,Z={})=>{const _e=Ce(n,F);let ye=G;if(_e){const ge=_e._f;ge&&(!ge.disabled&&$t(i,F,M5(G,ge)),ye=ry(ge.ref)&&Hn(G)?"":G,I5(ge.ref)?[...ge.ref.options].forEach(Ue=>Ue.selected=ye.includes(Ue.value)):ge.refs?jp(ge.ref)?ge.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(ye)?Ue.checked=!!ye.find(xt=>xt===Ue.value):Ue.checked=ye===Ue.value||!!ye)}):ge.refs.forEach(Ue=>Ue.checked=Ue.value===ye):Tk(ge.ref)?ge.ref.value="":(ge.ref.value=ye,ge.ref.type||p.state.next({name:F,values:Vr(i)})))}(Z.shouldDirty||Z.shouldTouch)&&S(F,ye,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&H(F)},D=(F,G,Z)=>{for(const _e in G){if(!G.hasOwnProperty(_e))return;const ye=G[_e],ge=F+"."+_e,Ue=Ce(n,ge);(l.array.has(F)||$r(ye)||Ue&&!Ue._f)&&!kl(ye)?D(ge,ye,Z):T(ge,ye,Z)}},q=(F,G,Z={})=>{const _e=Ce(n,F),ye=l.array.has(F),ge=Vr(G);$t(i,F,ge),ye?(p.array.next({name:F,values:Vr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&p.state.next({name:F,dirtyFields:Jc(s,i),isDirty:R(F,ge)})):_e&&!_e._f&&!Hn(ge)?D(F,ge,Z):T(F,ge,Z),O2(F,l)&&p.state.next({...r,name:F}),p.state.next({name:o.mount?F:void 0,values:Vr(i)})},A=async F=>{o.mount=!0;const G=F.target;let Z=G.name,_e=!0;const ye=Ce(n,Z),ge=Ct=>{_e=Number.isNaN(Ct)||kl(Ct)&&isNaN(Ct.getTime())||da(Ct,Ce(i,Z,Ct))},Ue=E2(t.mode),xt=E2(t.reValidateMode);if(ye){let Ct,Rt;const Ys=G.type?P2(ye._f):P5(F),Cn=F.type===ty.BLUR||F.type===ty.FOCUS_OUT,Ca=!Mse(ye._f)&&!t.resolver&&!Ce(r.errors,Z)&&!ye._f.deps||Fse(Cn,Ce(r.touchedFields,Z),r.isSubmitted,xt,Ue),tl=O2(Z,l,Cn);$t(i,Z,Ys),Cn?(!G||!G.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(F),c&&c(0)):ye._f.onChange&&ye._f.onChange(F);const ei=S(Z,Ys,Cn),rl=!An(ei)||tl;if(!Cn&&p.state.next({name:Z,type:F.type,values:Vr(i)}),Ca)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Cn&&b():Cn||b()),rl&&p.state.next({name:Z,...tl?{}:ei});if(!Cn&&tl&&p.state.next({...r}),t.resolver){const{errors:Oc}=await k([Z]);if(y([Z]),ge(Ys),_e){const uf=T2(r.errors,n,Z),Dr=T2(Oc,n,uf.name||Z);Ct=Dr.error,Z=Dr.name,Rt=An(Oc)}}else y([Z],!0),Ct=(await R2(ye,l.disabled,i,x,t.shouldUseNativeValidation))[Z],y([Z]),ge(Ys),_e&&(Ct?Rt=!1:(f.isValid||h.isValid)&&(Rt=await E(n,!0)));_e&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&H(ye._f.deps),_(Z,Rt,Ct,ei))}},$=(F,G)=>{if(Ce(r.errors,G)&&F.focus)return F.focus(),1},H=async(F,G={})=>{let Z,_e;const ye=dh(F);if(t.resolver){const ge=await C(pr(F)?F:ye);Z=An(ge),_e=F?!ye.some(Ue=>Ce(ge,Ue)):Z}else F?(_e=(await Promise.all(ye.map(async ge=>{const Ue=Ce(n,ge);return await E(Ue&&Ue._f?{[ge]:Ue}:Ue)}))).every(Boolean),!(!_e&&!r.isValid)&&b()):_e=Z=await E(n);return p.state.next({...!vs(F)||(f.isValid||h.isValid)&&Z!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:Z}:{},errors:r.errors}),G.shouldFocus&&!_e&&fh(n,$,F?ye:l.mount),_e},Y=(F,G)=>{let Z={...o.mount?i:s};return G&&(Z=T5(G.dirtyFields?r.dirtyFields:r.touchedFields,Z)),pr(F)?Z:vs(F)?Ce(Z,F):F.map(_e=>Ce(Z,_e))},L=(F,G)=>({invalid:!!Ce((G||r).errors,F),isDirty:!!Ce((G||r).dirtyFields,F),error:Ce((G||r).errors,F),isValidating:!!Ce(r.validatingFields,F),isTouched:!!Ce((G||r).touchedFields,F)}),K=F=>{F&&dh(F).forEach(G=>Cr(r.errors,G)),p.state.next({errors:F?r.errors:{}})},re=(F,G,Z)=>{const _e=(Ce(n,F,{_f:{}})._f||{}).ref,ye=Ce(r.errors,F)||{},{ref:ge,message:Ue,type:xt,...Ct}=ye;$t(r.errors,F,{...Ct,...G,ref:_e}),p.state.next({name:F,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&_e&&_e.focus&&_e.focus()},ie=(F,G)=>Rn(F)?p.state.subscribe({next:Z=>"values"in Z&&F(O(void 0,G),Z)}):O(F,G,!0),be=F=>p.state.subscribe({next:G=>{Lse(F.name,G.name,F.exact)&&Dse(G,F.formState||f,Yt,F.reRenderRoot)&&F.callback({values:{...i},...r,...G,defaultValues:s})}}).unsubscribe,ee=F=>(o.mount=!0,h={...h,...F.formState},be({...F,formState:{...d,...F.formState}})),se=(F,G={})=>{for(const Z of F?dh(F):l.mount)l.mount.delete(Z),l.array.delete(Z),G.keepValue||(Cr(n,Z),Cr(i,Z)),!G.keepError&&Cr(r.errors,Z),!G.keepDirty&&Cr(r.dirtyFields,Z),!G.keepTouched&&Cr(r.touchedFields,Z),!G.keepIsValidating&&Cr(r.validatingFields,Z),!t.shouldUnregister&&!G.keepDefaultValue&&Cr(s,Z);p.state.next({values:Vr(i)}),p.state.next({...r,...G.keepDirty?{isDirty:R()}:{}}),!G.keepIsValid&&b()},Q=({disabled:F,name:G})=>{(hs(F)&&o.mount||F||l.disabled.has(G))&&(F?l.disabled.add(G):l.disabled.delete(G))},X=(F,G={})=>{let Z=Ce(n,F);const _e=hs(G.disabled)||hs(t.disabled);return $t(n,F,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:F}},name:F,mount:!0,...G}}),l.mount.add(F),Z?Q({disabled:hs(G.disabled)?G.disabled:t.disabled,name:F}):j(F,!0,G.value),{..._e?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Cf(G.min),max:Cf(G.max),minLength:Cf(G.minLength),maxLength:Cf(G.maxLength),pattern:Cf(G.pattern)}:{},name:F,onChange:A,onBlur:A,ref:ye=>{if(ye){X(F,G),Z=Ce(n,F);const ge=pr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ue=Ase(ge),xt=Z._f.refs||[];if(Ue?xt.find(Ct=>Ct===ge):ge===Z._f.ref)return;$t(n,F,{_f:{...Z._f,...Ue?{refs:[...xt.filter(jw),ge,...Array.isArray(Ce(s,F))?[{}]:[]],ref:{type:ge.type,name:F}}:{ref:ge}}}),j(F,!1,void 0,ge)}else Z=Ce(n,F,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(E5(l.array,F)&&o.action)&&l.unMount.add(F)}}},oe=()=>t.shouldFocusError&&fh(n,$,l.mount),W=F=>{hs(F)&&(p.state.next({disabled:F}),fh(n,(G,Z)=>{const _e=Ce(n,Z);_e&&(G.disabled=_e._f.disabled||F,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ye=>{ye.disabled=_e._f.disabled||F}))},0,!1))},z=(F,G)=>async Z=>{let _e;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ye=Vr(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:Ue}=await k();y(),r.errors=ge,ye=Vr(Ue)}else await E(n);if(l.disabled.size)for(const ge of l.disabled)Cr(ye,ge);if(Cr(r.errors,"root"),An(r.errors)){p.state.next({errors:{}});try{await F(ye,Z)}catch(ge){_e=ge}}else G&&await G({...r.errors},Z),oe(),setTimeout(oe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(r.errors)&&!_e,submitCount:r.submitCount+1,errors:r.errors}),_e)throw _e},le=(F,G={})=>{Ce(n,F)&&(pr(G.defaultValue)?q(F,Vr(Ce(s,F))):(q(F,G.defaultValue),$t(s,F,Vr(G.defaultValue))),G.keepTouched||Cr(r.touchedFields,F),G.keepDirty||(Cr(r.dirtyFields,F),r.isDirty=G.defaultValue?R(F,Vr(Ce(s,F))):R()),G.keepError||(Cr(r.errors,F),f.isValid&&b()),p.state.next({...r}))},qe=(F,G={})=>{const Z=F?Vr(F):s,_e=Vr(Z),ye=An(F),ge=ye?s:_e;if(G.keepDefaultValues||(s=Z),!G.keepValues){if(G.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(Jc(s,i))]);for(const xt of Array.from(Ue))Ce(r.dirtyFields,xt)?$t(ge,xt,Ce(i,xt)):q(xt,Ce(ge,xt))}else{if(Ck&&pr(F))for(const Ue of l.mount){const xt=Ce(n,Ue);if(xt&&xt._f){const Ct=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(ry(Ct)){const Rt=Ct.closest("form");if(Rt){Rt.reset();break}}}}if(G.keepFieldsRef)for(const Ue of l.mount)q(Ue,Ce(ge,Ue));else n={}}i=t.shouldUnregister?G.keepDefaultValues?Vr(s):{}:Vr(ge),p.array.next({values:{...ge}}),p.state.next({values:{...ge}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!An(ge),o.watch=!!t.shouldUnregister,o.keepIsValid=!!G.keepIsValid,o.action=!1,G.keepErrors||(r.errors={}),p.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!da(F,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:G.keepDirtyValues?G.keepDefaultValues&&i?Jc(s,i):r.dirtyFields:G.keepDefaultValues&&F?Jc(s,F):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ye=(F,G)=>qe(Rn(F)?F(i):F,{...t.resetOptions,...G}),ut=(F,G={})=>{const Z=Ce(n,F),_e=Z&&Z._f;if(_e){const ye=_e.refs?_e.refs[0]:_e.ref;ye.focus&&setTimeout(()=>{ye.focus(),G.shouldSelect&&Rn(ye.select)&&ye.select()})}},Yt=F=>{r={...r,...F}},kr={control:{register:X,unregister:se,getFieldState:L,handleSubmit:z,setError:re,_subscribe:be,_runSchema:k,_updateIsValidating:y,_focusError:oe,_getWatch:O,_getDirty:R,_setValid:b,_setFieldArray:g,_setDisabledField:Q,_setErrors:N,_getFieldArray:I,_reset:qe,_resetDefaultValues:()=>Rn(t.defaultValues)&&t.defaultValues().then(F=>{Ye(F,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:W,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return s},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:ee,trigger:H,register:X,handleSubmit:z,watch:ie,setValue:q,getValues:Y,reset:Ye,resetField:le,clearErrors:K,unregister:se,setError:re,setFocus:ut,getFieldState:L};return{...kr,formControl:kr}}function ba(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,s]=M.useState({isDirty:!1,isValidating:!1,isLoading:Rn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Rn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Rn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=qse(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,Ok(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),M.useEffect(()=>{var o;e.values&&!da(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=A5(n,i),t.current}const $2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ce(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},L5=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?$2(n.ref,r,e):n.refs&&n.refs.forEach(s=>$2(s,r,e))}},zse=(e,t)=>{t.shouldUseNativeValidation&&L5(e,t);const r={};for(const n in e){const s=Ce(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Wse(t.names||Object.keys(e),n)){const o=Object.assign({},Ce(r,n));$t(o,"root",i),$t(r,n,o)}else $t(r,n,i)}return r},Wse=(e,t)=>e.some(r=>r.startsWith(t+"."));var Hse=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=O5(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},wa=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&L5({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:zse(Hse(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Pt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pt||(Pt={}));var M2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(M2||(M2={}));const De=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eo=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},xe=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ii extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ii))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ii.create=e=>new Ii(e);const V1=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pt.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${Pt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pt.assertNever(e)}return{message:r}};let Kse=V1;function Gse(){return Kse}const Yse=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ee(e,t){const r=Gse(),n=Yse({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===V1?void 0:V1].filter(s=>!!s)});e.common.issues.push(n)}class _s{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ot;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return _s.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ot;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ot=Object.freeze({status:"aborted"}),Kf=e=>({status:"dirty",value:e}),Hs=e=>({status:"valid",value:e}),D2=e=>e.status==="aborted",L2=e=>e.status==="dirty",od=e=>e.status==="valid",sy=e=>typeof Promise<"u"&&e instanceof Promise;var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));class Bo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const F2=(e,t)=>{if(od(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ii(e.common.issues);return this._error=r,this._error}}};function gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class _t{get description(){return this._def.description}_getType(t){return eo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new _s,ctx:{common:t.parent.common,data:t.data,parsedType:eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(sy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:eo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return F2(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:eo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return od(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>od(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:eo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(sy(s)?s:Promise.resolve(s));return F2(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:xe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new ud({schema:this,typeName:lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Eo.create(this,this._def)}nullable(){return dd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ba.create(this)}promise(){return ly.create(this,this._def)}or(t){return iy.create([this,t],this._def)}and(t){return oy.create(this,t,this._def)}transform(t){return new ud({...gt(this._def),schema:this,typeName:lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new W1({...gt(this._def),innerType:this,defaultValue:r,typeName:lt.ZodDefault})}brand(){return new yae({typeName:lt.ZodBranded,type:this,...gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new H1({...gt(this._def),innerType:this,catchValue:r,typeName:lt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Rk.create(this,t)}readonly(){return K1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qse=/^c[^\s-]{8,}$/i,Xse=/^[0-9a-z]+$/,Zse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Jse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eae=/^[a-z0-9_-]{21}$/i,tae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nw;const aae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,F5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dae=new RegExp(`^${F5}$`);function U5(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function fae(e){return new RegExp(`^${U5(e)}$`)}function hae(e){let t=`${F5}T${U5(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function mae(e,t){return!!((t==="v4"||!t)&&aae.test(e)||(t==="v6"||!t)&&oae.test(e))}function pae(e,t){if(!tae.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function gae(e,t){return!!((t==="v4"||!t)&&iae.test(e)||(t==="v6"||!t)&&lae.test(e))}class gi extends _t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:De.string,received:i.parsedType}),ot}const n=new _s;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ee(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")nae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Nw||(Nw=new RegExp(sae,"u")),Nw.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Jse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")eae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"nanoid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Qse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Xse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Zse.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ee(s,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?hae(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?dae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?fae(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?rae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"duration",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?mae(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?pae(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"jwt",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?gae(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cidr",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?cae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?uae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64url",code:xe.invalid_string,message:i.message}),n.dirty()):Pt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:xe.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new gi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new gi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gi.create=e=>new gi({checks:[],typeName:lt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});function vae(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class nc extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:De.number,received:i.parsedType}),ot}let n;const s=new _s;for(const i of this._def.checks)i.kind==="int"?Pt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?vae(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_finite,message:i.message}),s.dirty()):Pt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new nc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new nc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}nc.create=e=>new nc({checks:[],typeName:lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class sc extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let n;const s=new _s;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:De.bigint,received:r.parsedType}),ot}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new sc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new sc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sc.create=e=>new sc({checks:[],typeName:lt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...gt(e)});class ay extends _t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.boolean,received:n.parsedType}),ot}return Hs(t.data)}}ay.create=e=>new ay({typeName:lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gt(e)});class ld extends _t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:De.date,received:i.parsedType}),ot}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_date}),ot}const n=new _s;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Pt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ld({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ld.create=e=>new ld({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:lt.ZodDate,...gt(e)});class U2 extends _t{_parse(t){if(this._getType(t)!==De.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.symbol,received:n.parsedType}),ot}return Hs(t.data)}}U2.create=e=>new U2({typeName:lt.ZodSymbol,...gt(e)});class B2 extends _t{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.undefined,received:n.parsedType}),ot}return Hs(t.data)}}B2.create=e=>new B2({typeName:lt.ZodUndefined,...gt(e)});class V2 extends _t{_parse(t){if(this._getType(t)!==De.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.null,received:n.parsedType}),ot}return Hs(t.data)}}V2.create=e=>new V2({typeName:lt.ZodNull,...gt(e)});class q2 extends _t{constructor(){super(...arguments),this._any=!0}_parse(t){return Hs(t.data)}}q2.create=e=>new q2({typeName:lt.ZodAny,...gt(e)});class z2 extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Hs(t.data)}}z2.create=e=>new z2({typeName:lt.ZodUnknown,...gt(e)});class Vo extends _t{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:De.never,received:r.parsedType}),ot}}Vo.create=e=>new Vo({typeName:lt.ZodNever,...gt(e)});class W2 extends _t{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.void,received:n.parsedType}),ot}return Hs(t.data)}}W2.create=e=>new W2({typeName:lt.ZodVoid,...gt(e)});class Ba extends _t{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==De.array)return Ee(r,{code:xe.invalid_type,expected:De.array,received:r.parsedType}),ot;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ee(r,{code:o?xe.too_big:xe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ee(r,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ee(r,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Bo(r,o,r.path,l)))).then(o=>_s.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Bo(r,o,r.path,l)));return _s.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ba({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new Ba({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new Ba({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Ba.create=(e,t)=>new Ba({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lt.ZodArray,...gt(t)});function eu(e){if(e instanceof Ar){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Eo.create(eu(n))}return new Ar({...e._def,shape:()=>t})}else return e instanceof Ba?new Ba({...e._def,type:eu(e.element)}):e instanceof Eo?Eo.create(eu(e.unwrap())):e instanceof dd?dd.create(eu(e.unwrap())):e instanceof ac?ac.create(e.items.map(t=>eu(t))):e}class Ar extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const u=this._getOrReturnCtx(t);return Ee(u,{code:xe.invalid_type,expected:De.object,received:u.parsedType}),ot}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Vo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Bo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Vo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ee(s,{code:xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Bo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>_s.mergeObjectSync(n,u)):_s.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new Ar({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Ar({...this._def,unknownKeys:"strip"})}passthrough(){return new Ar({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ar({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ar({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:lt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ar({...this._def,catchall:t})}pick(t){const r={};for(const n of Pt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ar({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Pt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Ar({...this._def,shape:()=>r})}deepPartial(){return eu(this)}partial(t){const r={};for(const n of Pt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Ar({...this._def,shape:()=>r})}required(t){const r={};for(const n of Pt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Eo;)i=i._def.innerType;r[n]=i}return new Ar({...this._def,shape:()=>r})}keyof(){return B5(Pt.objectKeys(this.shape))}}Ar.create=(e,t)=>new Ar({shape:()=>e,unknownKeys:"strip",catchall:Vo.create(),typeName:lt.ZodObject,...gt(t)});Ar.strictCreate=(e,t)=>new Ar({shape:()=>e,unknownKeys:"strict",catchall:Vo.create(),typeName:lt.ZodObject,...gt(t)});Ar.lazycreate=(e,t)=>new Ar({shape:e,unknownKeys:"strip",catchall:Vo.create(),typeName:lt.ZodObject,...gt(t)});class iy extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ii(l.ctx.common.issues));return Ee(r,{code:xe.invalid_union,unionErrors:o}),ot}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ii(c));return Ee(r,{code:xe.invalid_union,unionErrors:l}),ot}}get options(){return this._def.options}}iy.create=(e,t)=>new iy({options:e,typeName:lt.ZodUnion,...gt(t)});function q1(e,t){const r=eo(e),n=eo(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&n===De.object){const s=Pt.objectKeys(t),i=Pt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=q1(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===De.array&&n===De.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=q1(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===De.date&&n===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class oy extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(D2(i)||D2(o))return ot;const l=q1(i.value,o.value);return l.valid?((L2(i)||L2(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(n,{code:xe.invalid_intersection_types}),ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}oy.create=(e,t,r)=>new oy({left:e,right:t,typeName:lt.ZodIntersection,...gt(r)});class ac extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.array)return Ee(n,{code:xe.invalid_type,expected:De.array,received:n.parsedType}),ot;if(n.data.length<this._def.items.length)return Ee(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ot;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Bo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>_s.mergeArray(r,o)):_s.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ac({...this._def,rest:t})}}ac.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ac({items:e,typeName:lt.ZodTuple,rest:null,...gt(t)})};class H2 extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.map)return Ee(n,{code:xe.invalid_type,expected:De.map,received:n.parsedType}),ot;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Bo(n,l,n.path,[u,"key"])),value:i._parse(new Bo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ot;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ot;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}H2.create=(e,t,r)=>new H2({valueType:t,keyType:e,typeName:lt.ZodMap,...gt(r)});class om extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.set)return Ee(n,{code:xe.invalid_type,expected:De.set,received:n.parsedType}),ot;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ee(n,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ee(n,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ot;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Bo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new om({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new om({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}om.create=(e,t)=>new om({valueType:e,minSize:null,maxSize:null,typeName:lt.ZodSet,...gt(t)});class K2 extends _t{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}K2.create=(e,t)=>new K2({getter:e,typeName:lt.ZodLazy,...gt(t)});class z1 extends _t{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),ot}return{status:"valid",value:t.data}}get value(){return this._def.value}}z1.create=(e,t)=>new z1({value:e,typeName:lt.ZodLiteral,...gt(t)});function B5(e,t){return new cd({values:e,typeName:lt.ZodEnum,...gt(t)})}class cd extends _t{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:Pt.joinValues(n),received:r.parsedType,code:xe.invalid_type}),ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:xe.invalid_enum_value,options:n}),ot}return Hs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return cd.create(t,{...this._def,...r})}exclude(t,r=this._def){return cd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}cd.create=B5;class G2 extends _t{_parse(t){const r=Pt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==De.string&&n.parsedType!==De.number){const s=Pt.objectValues(r);return Ee(n,{expected:Pt.joinValues(s),received:n.parsedType,code:xe.invalid_type}),ot}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Pt.objectValues(r);return Ee(n,{received:n.data,code:xe.invalid_enum_value,options:s}),ot}return Hs(t.data)}get enum(){return this._def.values}}G2.create=(e,t)=>new G2({values:e,typeName:lt.ZodNativeEnum,...gt(t)});class ly extends _t{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Ee(r,{code:xe.invalid_type,expected:De.promise,received:r.parsedType}),ot;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return Hs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ly.create=(e,t)=>new ly({type:e,typeName:lt.ZodPromise,...gt(t)});class ud extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ot;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ot:c.status==="dirty"||r.value==="dirty"?Kf(c.value):c});{if(r.value==="aborted")return ot;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ot:l.status==="dirty"||r.value==="dirty"?Kf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ot:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ot:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!od(o))return ot;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>od(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):ot);Pt.assertNever(s)}}ud.create=(e,t,r)=>new ud({schema:e,typeName:lt.ZodEffects,effect:t,...gt(r)});ud.createWithPreprocess=(e,t,r)=>new ud({schema:t,effect:{type:"preprocess",transform:e},typeName:lt.ZodEffects,...gt(r)});class Eo extends _t{_parse(t){return this._getType(t)===De.undefined?Hs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:lt.ZodOptional,...gt(t)});class dd extends _t{_parse(t){return this._getType(t)===De.null?Hs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dd.create=(e,t)=>new dd({innerType:e,typeName:lt.ZodNullable,...gt(t)});class W1 extends _t{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}W1.create=(e,t)=>new W1({innerType:e,typeName:lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gt(t)});class H1 extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sy(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ii(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ii(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}H1.create=(e,t)=>new H1({innerType:e,typeName:lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gt(t)});class Y2 extends _t{_parse(t){if(this._getType(t)!==De.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:De.nan,received:n.parsedType}),ot}return{status:"valid",value:t.data}}}Y2.create=e=>new Y2({typeName:lt.ZodNaN,...gt(e)});class yae extends _t{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Rk extends _t{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ot:i.status==="dirty"?(r.dirty(),Kf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ot:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Rk({in:t,out:r,typeName:lt.ZodPipeline})}}class K1 extends _t{_parse(t){const r=this._def.innerType._parse(t),n=s=>(od(s)&&(s.value=Object.freeze(s.value)),s);return sy(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}K1.create=(e,t)=>new K1({innerType:e,typeName:lt.ZodReadonly,...gt(t)});var lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(lt||(lt={}));const jt=gi.create,V5=nc.create;sc.create;const $k=ay.create;ld.create;Vo.create;Ba.create;const Qa=Ar.create;iy.create;oy.create;ac.create;const Q2=z1.create;cd.create;ly.create;Eo.create;dd.create;const q5={string:e=>gi.create({...e,coerce:!0}),number:e=>nc.create({...e,coerce:!0}),boolean:e=>ay.create({...e,coerce:!0}),bigint:e=>sc.create({...e,coerce:!0}),date:e=>ld.create({...e,coerce:!0})};function xae(e){const t=bae(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(jae);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function bae(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=Sae(s),l=Nae(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wae=Symbol("radix.slottable");function jae(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wae}function Nae(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Sae(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cb="Dialog",[z5,W5]=yn(cb),[_ae,Sa]=z5(cb),H5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=ns({prop:n,defaultProp:s??!1,onChange:i,caller:cb});return a.jsx(_ae,{scope:t,triggerRef:l,contentRef:c,contentId:Rr(),titleId:Rr(),descriptionId:Rr(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};H5.displayName=cb;var K5="DialogTrigger",G5=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sa(K5,r),i=rt(t,s.triggerRef);return a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lk(s.open),...n,ref:i,onClick:me(e.onClick,s.onOpenToggle)})});G5.displayName=K5;var Mk="DialogPortal",[kae,Y5]=z5(Mk,{forceMount:void 0}),Q5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Sa(Mk,t);return a.jsx(kae,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(Xr,{present:r||i.open,children:a.jsx(Bd,{asChild:!0,container:s,children:o})}))})};Q5.displayName=Mk;var cy="DialogOverlay",X5=v.forwardRef((e,t)=>{const r=Y5(cy,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Sa(cy,e.__scopeDialog);return i.modal?a.jsx(Xr,{present:n||i.open,children:a.jsx(Pae,{...s,ref:t})}):null});X5.displayName=cy;var Cae=xae("DialogOverlay.RemoveScroll"),Pae=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sa(cy,r);return a.jsx(hp,{as:Cae,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Oe.div,{"data-state":Lk(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ic="DialogContent",Z5=v.forwardRef((e,t)=>{const r=Y5(ic,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Sa(ic,e.__scopeDialog);return a.jsx(Xr,{present:n||i.open,children:i.modal?a.jsx(Eae,{...s,ref:t}):a.jsx(Aae,{...s,ref:t})})});Z5.displayName=ic;var Eae=v.forwardRef((e,t)=>{const r=Sa(ic,e.__scopeDialog),n=v.useRef(null),s=rt(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return Xx(i)},[]),a.jsx(J5,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault())})}),Aae=v.forwardRef((e,t)=>{const r=Sa(ic,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(J5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),J5=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Sa(ic,r),c=v.useRef(null),u=rt(t,c);return Qx(),a.jsxs(a.Fragment,{children:[a.jsx(fp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(wc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Lk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Tae,{titleId:l.titleId}),a.jsx(Rae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Dk="DialogTitle",e6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sa(Dk,r);return a.jsx(Oe.h2,{id:s.titleId,...n,ref:t})});e6.displayName=Dk;var t6="DialogDescription",r6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sa(t6,r);return a.jsx(Oe.p,{id:s.descriptionId,...n,ref:t})});r6.displayName=t6;var n6="DialogClose",s6=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sa(n6,r);return a.jsx(Oe.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>s.onOpenChange(!1))})});s6.displayName=n6;function Lk(e){return e?"open":"closed"}var a6="DialogTitleWarning",[Oae,i6]=lH(a6,{contentName:ic,titleName:Dk,docsSlug:"dialog"}),Tae=({titleId:e})=>{const t=i6(a6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Iae="DialogDescriptionWarning",Rae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i6(Iae).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Fk=H5,o6=G5,Uk=Q5,ub=X5,db=Z5,Bk=e6,Vk=r6,qk=s6;const xr=Fk,ja=o6,$ae=Uk,l6=v.forwardRef(({className:e,...t},r)=>a.jsx(ub,{ref:r,className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));l6.displayName=ub.displayName;const cr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs($ae,{children:[a.jsx(l6,{}),a.jsxs(db,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(qk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(td,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cr.displayName=db.displayName;const br=({className:e,...t})=>a.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});br.displayName="DialogHeader";const wr=v.forwardRef(({className:e,...t},r)=>a.jsx(Bk,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));wr.displayName=Bk.displayName;const oc=v.forwardRef(({className:e,...t},r)=>a.jsx(Vk,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));oc.displayName=Vk.displayName;var Mae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dae=Mae.reduce((e,t)=>{const r=Yx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Lae="Label",c6=v.forwardRef((e,t)=>a.jsx(Dae.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));c6.displayName=Lae;var u6=c6;const Fae=sp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=v.forwardRef(({className:e,...t},r)=>a.jsx(u6,{ref:r,className:fe(Fae(),e),...t}));J.displayName=u6.displayName;const Na=_se,d6=v.createContext({}),tt=({...e})=>a.jsx(d6.Provider,{value:{name:e.name},children:a.jsx(Ese,{...e})}),fb=()=>{const e=v.useContext(d6),t=v.useContext(f6),{getFieldState:r,formState:n}=lb(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},f6=v.createContext({}),Qe=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return a.jsx(f6.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:fe("space-y-2",e),...t})})});Qe.displayName="FormItem";const nt=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=fb();return a.jsx(J,{ref:r,className:fe(n&&"text-destructive",e),htmlFor:s,...t})});nt.displayName="FormLabel";const Xe=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=fb();return a.jsx(ok,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Xe.displayName="FormControl";const Uae=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=fb();return a.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",e),...t})});Uae.displayName="FormDescription";const st=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=fb(),o=s?String((s==null?void 0:s.message)??""):t;return o?a.jsx("p",{ref:n,id:i,className:fe("text-sm font-medium text-destructive",e),...r,children:o}):null});st.displayName="FormMessage";const ur=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ur.displayName="Textarea";const h6=v.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));h6.displayName="Breadcrumb";const m6=v.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:fe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));m6.displayName="BreadcrumbList";const G1=v.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:fe("inline-flex items-center gap-1.5",e),...t}));G1.displayName="BreadcrumbItem";const Y1=v.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?ok:"a";return a.jsx(s,{ref:n,className:fe("transition-colors hover:text-foreground",t),...r})});Y1.displayName="BreadcrumbLink";const p6=v.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:fe("font-normal text-foreground",e),...t}));p6.displayName="BreadcrumbPage";const g6=({children:e,className:t,...r})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:fe("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??a.jsx(Yn,{})});g6.displayName="BreadcrumbSeparator";const Bae={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Xa({items:e,currentPage:t}){const[r]=as(),s=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=Bae[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return s.length===0?null:a.jsx(h6,{className:"mb-4","data-testid":"breadcrumb-nav",children:a.jsxs(m6,{children:[a.jsx(G1,{children:a.jsx(Y1,{asChild:!0,children:a.jsxs(ae,{href:"/",className:"flex items-center gap-1.5",children:[a.jsx(q_,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),s.map((i,o)=>a.jsxs("span",{className:"contents",children:[a.jsx(g6,{}),a.jsx(G1,{children:i.href?a.jsx(Y1,{asChild:!0,children:a.jsx(ae,{href:i.href,children:i.label})}):a.jsx(p6,{children:i.label})})]},o))]})})}function is({title:e,subtitle:t,testId:r,subtitleTestId:n}){return a.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${Hv})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),a.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&a.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const Vae=Qa({fullName:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email"),phone:jt().optional(),guestCount:V5().min(0).max(10).default(0),notes:jt().optional()});function qae(){var N;const{user:e}=jc(),{toast:t}=At(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=ba({resolver:wa(Vae),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:u=[],isLoading:d}=ve({queryKey:["/api/events"]}),{data:f=[]}=ve({queryKey:["/api/user/event-registrations"],enabled:!!e}),h=Te({mutationFn:async j=>await Ae("POST",`/api/events/${j.eventId}/register`,j),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),c.reset()},onError:j=>{t({title:"Registration Failed",description:j.message||"Unable to register for this event.",variant:"destructive"})}}),p=Te({mutationFn:async j=>await Ae("DELETE",`/api/events/${j}/register`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:j=>{t({title:"Cancellation Failed",description:j.message||"Unable to cancel registration.",variant:"destructive"})}}),x=j=>f.some(S=>S.eventId===j),m=j=>j?new Date(j).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",b={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},y=j=>{if(n(j),!e){l(!0);return}c.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),c.setValue("email",e.email||""),i(!0)},g=j=>{r&&h.mutate({...j,eventId:r.id})},w=j=>{p.mutate(j)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Events & Academies",subtitle:"Tournaments, leagues, and training programs",testId:"text-events-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),d?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(j=>a.jsx(pt,{className:"h-64 rounded-xl"},j))}):u.length>0?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(j=>{var C;const S=x(j.id),_=(j.enrolledCount||0)>=(j.capacity||0),k=h.isPending||p.isPending;return a.jsxs(ce,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${j.id}`,children:[a.jsx(ae,{href:`/events/${j.slug||j.id}`,children:a.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:a.jsx(ca,{className:"w-16 h-16 text-amber-400/50"})})}),a.jsx(Ge,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(ae,{href:`/events/${j.slug||j.id}`,children:a.jsx(et,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:j.title})}),a.jsx(Se,{className:b[j.type]||b.SOCIAL,children:j.type})]})}),a.jsxs(ue,{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:j.description}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(gn,{className:"w-4 h-4"}),a.jsxs("span",{children:[j.scheduleDay," ",j.scheduleTime||""]})]}),j.instructor&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Qr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Instructor: ",j.instructor]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Qr,{className:"w-4 h-4"}),a.jsxs("span",{children:[j.enrolledCount||0," / ",j.capacity," enrolled"]})]}),j.enrollmentDeadline&&a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsxs("span",{children:["Register by ",m(j.enrollmentDeadline)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[a.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((C=j.price)==null?void 0:C.toLocaleString())||"Free"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ae,{href:`/events/${j.slug||j.id}`,children:a.jsx(U,{size:"sm",variant:"ghost","data-testid":`button-view-event-${j.id}`,children:"View"})}),S?a.jsx(U,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),w(j.id)},disabled:k,"data-testid":`button-cancel-event-${j.id}`,children:k?a.jsx(ct,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"w-4 h-4 mr-1"}),"Registered"]})}):a.jsx(U,{size:"sm",onClick:E=>{E.stopPropagation(),y(j)},disabled:_,"data-testid":`button-register-event-${j.id}`,children:_?"Full":"Register"})]})]})]})]},j.id)})}):a.jsx(ce,{children:a.jsxs(ue,{className:"py-16 text-center",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),a.jsx(ae,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),a.jsx(nr,{}),a.jsx(xr,{open:s,onOpenChange:i,children:a.jsxs(cr,{className:"sm:max-w-md",children:[a.jsxs(br,{children:[a.jsx(wr,{"data-testid":"text-registration-title",children:"Event Registration"}),a.jsxs(oc,{children:[(r==null?void 0:r.title)&&a.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),a.jsx(Na,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(g),className:"space-y-4",children:[a.jsx(tt,{control:c.control,name:"fullName",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name *"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"Enter your full name",...j,"data-testid":"input-reg-fullname"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"email",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email *"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com",...j,"data-testid":"input-reg-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"phone",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...j,"data-testid":"input-reg-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"guestCount",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Number of Guests"}),a.jsx(Xe,{children:a.jsx(ne,{type:"number",min:0,max:10,placeholder:"0",...j,onChange:S=>j.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:c.control,name:"notes",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Additional Notes"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"Any special requirements or notes...",className:"resize-none",...j,"data-testid":"textarea-reg-notes"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),a.jsx(U,{type:"submit",disabled:h.isPending,"data-testid":"button-submit-registration",children:h.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),a.jsx(xr,{open:o,onOpenChange:l,children:a.jsxs(cr,{className:"sm:max-w-md",children:[a.jsxs(br,{children:[a.jsxs(wr,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[a.jsx(g1,{className:"w-5 h-5"}),"Sign In Required"]}),a.jsx(oc,{children:"Please sign in to register for this event."})]}),a.jsxs("div",{className:"py-4",children:[r&&a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[a.jsx("h4",{className:"font-semibold",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),a.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((N=r.price)==null?void 0:N.toLocaleString())||"Free"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(ae,{href:"/login",className:"w-full",children:a.jsxs(U,{className:"w-full","data-testid":"button-login-to-register",children:[a.jsx(g1,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),a.jsx(U,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const zae=Qa({fullName:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email"),phone:jt().optional(),guestCount:V5().min(0).max(10).default(0),notes:jt().optional()}),X2={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},Wae={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function Hae(){const{slug:e}=O_(),{user:t}=jc(),{toast:r}=At(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),l=ba({resolver:wa(zae),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:c,isLoading:u}=ve({queryKey:["/api/events",e],queryFn:async()=>{const j=await fetch(`/api/events/${e}`);if(!j.ok)throw new Error("Event not found");return j.json()},enabled:!!e}),{data:d=[]}=ve({queryKey:["/api/user/event-registrations"],enabled:!!t});v.useEffect(()=>{t&&(l.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),l.setValue("email",t.email||""))},[t,l]);const f=Te({mutationFn:async j=>await Ae("POST",`/api/events/${j.eventId}/register`,j),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Successful",description:"You have been registered for this event."}),s(!1),l.reset()},onError:j=>{r({title:"Registration Failed",description:j.message||"Unable to register for this event.",variant:"destructive"})}}),h=Te({mutationFn:async j=>await Ae("DELETE",`/api/events/${j}/register`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/user/event-registrations"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:j=>{r({title:"Cancellation Failed",description:j.message||"Unable to cancel registration.",variant:"destructive"})}}),p=c?d.some(j=>j.eventId===c.id):!1,x=j=>j?new Date(j).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",m=j=>j||"TBD",b=()=>{if(!t){o(!0);return}s(!0)},y=j=>{c&&f.mutate({...j,eventId:c.id})},g=()=>{navigator.share&&c?navigator.share({title:c.title,text:c.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(u)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1 qd-container py-8",children:[a.jsx(pt,{className:"h-[300px] w-full rounded-xl mb-8"}),a.jsx(pt,{className:"h-8 w-1/2 mb-4"}),a.jsx(pt,{className:"h-4 w-full mb-2"}),a.jsx(pt,{className:"h-4 w-3/4"})]}),a.jsx(nr,{})]});if(!c)return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),a.jsx(ae,{href:"/events",children:a.jsxs(U,{"data-testid":"button-back-events",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),a.jsx(nr,{})]});const w=(c.capacity||0)-(c.enrolledCount||0),N=w<=0;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:c.title,subtitle:c.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{items:[{label:"Events",href:"/events"},{label:c.title}]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.imageUrl&&a.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[a.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(Se,{className:X2[c.type]||X2.SOCIAL,children:Wae[c.type]||c.type})})]}),a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Rx,{className:"w-5 h-5"}),"About This Event"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),c.instructor&&a.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Ds,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),a.jsx("p",{className:"font-medium",children:c.instructor})]})]})]})]}),a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Iv,{className:"w-5 h-5"}),"Schedule & Details"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(gn,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),a.jsx("p",{className:"font-medium",children:x(c.scheduleDatetime)})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(_r,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),a.jsx("p",{className:"font-medium",children:m(c.scheduleTime)})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Qr,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),a.jsxs("p",{className:"font-medium",children:[c.capacity||"Unlimited"," participants"]})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(za,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),a.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(ce,{className:"sticky top-24",children:a.jsxs(ue,{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:c.price===0?"Free":`PKR ${(c.price||0).toLocaleString()}`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),a.jsx("span",{className:`font-medium ${N?"text-destructive":w<=5?"text-amber-600":""}`,children:N?"Full":`${w} left`})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),a.jsxs("span",{className:"font-medium",children:[c.enrolledCount||0," / ",c.capacity||""]})]}),c.enrollmentDeadline&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),a.jsx("span",{className:"font-medium",children:x(c.enrollmentDeadline)})]})]}),p?a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Se,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[a.jsx(an,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),a.jsxs(U,{variant:"outline",className:"w-full",onClick:()=>h.mutate(c.id),disabled:h.isPending,"data-testid":"button-cancel-registration",children:[h.isPending?a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):a.jsx(U,{className:"w-full",onClick:b,disabled:N,"data-testid":"button-register-event",children:N?"Event Full":"Register Now"}),a.jsxs(U,{variant:"ghost",className:"w-full mt-3",onClick:g,"data-testid":"button-share-event",children:[a.jsx(CK,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),a.jsx(ae,{href:"/events",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[a.jsx(In,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),a.jsx(xr,{open:i,onOpenChange:o,children:a.jsxs(cr,{children:[a.jsxs(br,{children:[a.jsxs(wr,{className:"flex items-center gap-2",children:[a.jsx(g1,{className:"w-5 h-5"}),"Login Required"]}),a.jsx(oc,{children:"Please log in to register for this event."})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx(ae,{href:"/login",className:"flex-1",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),a.jsx(ae,{href:"/signup",className:"flex-1",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),a.jsx(xr,{open:n,onOpenChange:s,children:a.jsxs(cr,{children:[a.jsxs(br,{children:[a.jsxs(wr,{children:["Register for ",c.title]}),a.jsx(oc,{children:"Complete the form below to register for this event."})]}),a.jsx(Na,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(y),className:"space-y-4",children:[a.jsx(tt,{control:l.control,name:"fullName",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name *"}),a.jsx(Xe,{children:a.jsx(ne,{...j,"data-testid":"input-reg-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:l.control,name:"email",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email *"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",...j,"data-testid":"input-reg-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:l.control,name:"phone",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone (Optional)"}),a.jsx(Xe,{children:a.jsx(ne,{...j,"data-testid":"input-reg-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:l.control,name:"notes",render:({field:j})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Notes (Optional)"}),a.jsx(Xe,{children:a.jsx(ur,{...j,"data-testid":"input-reg-notes"})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:f.isPending,"data-testid":"button-submit-registration",children:f.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})})]})}),a.jsx(nr,{})]})}const Kae=[{id:"all",name:"All Sports",icon:ca},{id:"padel",name:"Padel",icon:ql},{id:"squash",name:"Squash",icon:ql},{id:"rifle",name:"Air Rifle",icon:ql}];function Gae(){const[e,t]=v.useState("all"),{isAuthenticated:r,isLoading:n}=jc(),{data:s=[],isLoading:i}=ve({queryKey:["/api/leaderboard",e!=="all"?e:void 0],enabled:r}),o=c=>{switch(c){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},l=c=>c<=3?a.jsx(vK,{className:`w-5 h-5 ${c===1?"text-amber-400":c===2?"text-gray-400":"text-amber-600"}`}):a.jsx("span",{className:"text-sm font-bold",children:c});return n?a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(pt,{className:"h-12 w-64 mb-8"}),a.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>a.jsx(pt,{className:"h-20 rounded-xl"},c))})]})}),a.jsx(nr,{})]}):r?a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Leaderboard",subtitle:"Top players across all sports at The Quarterdeck",testId:"text-leaderboard-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Kae.map(c=>a.jsxs(U,{variant:e===c.id?"default":"outline",size:"sm",onClick:()=>t(c.id),className:"gap-2","data-testid":`button-filter-${c.id}`,children:[a.jsx(c.icon,{className:"w-4 h-4"}),c.name]},c.id))}),i?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(c=>a.jsx(pt,{className:"h-20 rounded-xl"},c))}):s.length>0?a.jsx("div",{className:"space-y-3",children:s.map((c,u)=>{var d,f;return a.jsx(ce,{className:`overflow-visible ${u<3?"border-2":""} ${u===0?"border-amber-400":u===1?"border-gray-400":u===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${c.id}`,children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o(u+1)}`,children:l(u+1)}),a.jsxs(sm,{className:"w-12 h-12",children:[a.jsx(am,{src:c.profileImageUrl||""}),a.jsx(im,{children:((d=c.playerName)==null?void 0:d.split(" ").map(h=>h[0]).join(""))||"P"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold",children:c.playerName||"Anonymous Player"}),a.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{children:[c.wins,"W - ",c.losses,"L"]}),c.winRate&&a.jsxs(Se,{variant:"secondary",className:"text-xs",children:[(c.winRate*100).toFixed(0),"% WR"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((f=c.rankingPoints)==null?void 0:f.toLocaleString())||0}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},c.id)})}):a.jsx(ce,{children:a.jsxs(ue,{className:"py-16 text-center",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),a.jsx(ae,{href:"/booking",children:a.jsx(U,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),a.jsx(nr,{})]}):a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsx(ce,{className:"max-w-md w-full mx-4",children:a.jsxs(ue,{className:"pt-6 text-center",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view the leaderboard and player rankings."}),a.jsx(ae,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),a.jsx(nr,{})]})}const Z2=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function Yae(){const e=G4(),t=new URLSearchParams(e).get("category"),[r,n]=v.useState(t||"all"),[s,i]=v.useState(null),{data:o,isLoading:l,error:c}=ve({queryKey:["/api/gallery"]}),u=v.useMemo(()=>{if(!o)return[];const f=o.filter(h=>h.isActive!==!1);return r==="all"?f:f.filter(h=>{var p;return((p=h.category)==null?void 0:p.toLowerCase())===r.toLowerCase()})},[r,o]),d=v.useMemo(()=>{if(!o)return Z2;const f=new Set(o.filter(h=>h.isActive!==!1).map(h=>{var p;return(p=h.category)==null?void 0:p.toLowerCase()}).filter(Boolean));return Z2.filter(h=>h.id==="all"||f.has(h.id.toLowerCase()))},[o]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Gallery & Progress",subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",testId:"text-gallery-page-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),l?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(f=>a.jsx(pt,{className:"aspect-[4/3] rounded-xl"},f))}):c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[a.jsx(VD,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),d.map(f=>a.jsx(U,{variant:r===f.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(f.id),"data-testid":`filter-${f.id}`,children:f.label},f.id))]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>a.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(f),"data-testid":`gallery-image-${f.id}`,children:[a.jsx("img",{src:f.imageUrl,alt:f.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[a.jsx("span",{className:"text-sm text-white font-medium",children:f.title||"Untitled"}),f.category&&a.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:f.category})]})]},f.id))}),u.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:a.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[a.jsx("img",{src:s.imageUrl,alt:s.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[a.jsx("h3",{className:"text-white text-xl font-semibold",children:s.title||"Untitled"}),s.description&&a.jsx("p",{className:"text-white/80 mt-2",children:s.description})]}),a.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:f=>{f.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),a.jsx(nr,{})]})}function Qae(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Our Vision",subtitle:"Building Islamabad's premier sports and recreation destination",testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),a.jsx("div",{className:"qd-container py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(ce,{"data-testid":"card-value-excellence",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ca,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),a.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),a.jsx(ce,{"data-testid":"card-value-community",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Qr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),a.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),a.jsx(ce,{"data-testid":"card-value-integrity",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(tc,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),a.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),a.jsx(ce,{"data-testid":"card-value-wellness",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:a.jsx(WD,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),a.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),a.jsxs("section",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(ae,{href:"/roadmap",children:a.jsxs(U,{"data-testid":"button-view-roadmap",children:[a.jsx(kn,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),a.jsx(ae,{href:"/facilities",children:a.jsx(U,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),a.jsx(nr,{})]})}const Xae="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Zae="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",Jae="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",eie="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",J2={"padel-tennis":Uo,squash:bp,"air-rifle-range":ap,"bridge-room":Mx,"multipurpose-hall":kn},eO={"padel-tennis":Xae,squash:Zae,"air-rifle-range":jk,"bridge-room":Jae,"multipurpose-hall":eie},tie=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function rie(){const{data:e}=ve({queryKey:["/api/facilities"]}),r=(e&&e.length>0?e.filter(n=>!n.isHidden).map(n=>({...n,courtCount:n.resourceCount||n.courtCount||1,operatingHours:n.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:n.maxPlayers||n.minPlayers||4,basePrice:String(n.basePrice||0),isActive:n.status!=="CLOSED"})):tie).filter(n=>n.isActive);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Our Facilities",subtitle:"World-class sports and recreation facilities in Islamabad",testId:"text-facilities-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[a.jsx("div",{className:"grid gap-6",children:r.map(n=>a.jsx(ae,{href:`/facilities/${n.slug}`,children:a.jsx(ce,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${n.slug}`,children:a.jsx(ue,{className:"p-0",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:eO[n.slug]?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:eO[n.slug],alt:n.name,className:"absolute inset-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const s=J2[n.slug]||Uo;return a.jsx(s,{className:"w-5 h-5 text-white"})})()})]}):a.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const s=J2[n.slug]||Uo;return a.jsx(s,{className:"w-12 h-12 text-primary/50"})})()})}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-xl mb-1",children:n.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(op,{className:"w-4 h-4"})," ",n.courtCount," ",n.courtCount===1?"Unit":"Courts/Lanes"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qr,{className:"w-4 h-4"})," ",n.minPlayers,"-",n.maxPlayers," players"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_r,{className:"w-4 h-4"})," ",n.operatingHours]})]})]}),n.requiresCertification&&a.jsx(Se,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"From "}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(n.basePrice).toLocaleString()]}),a.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),a.jsxs(U,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",a.jsx(Yn,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},n.id))}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:"Ready to Book?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(ae,{href:"/booking",children:a.jsx(U,{"data-testid":"button-book-now",children:"Book Now"})}),a.jsx(ae,{href:"/contact",children:a.jsx(U,{variant:"outline","data-testid":"button-contact-us",children:"Contact Us"})})]})]})]})]})]}),a.jsx(nr,{})]})}const nie="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",sie="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",aie="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",iie="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",oie={"padel-tennis":Uo,squash:bp,"air-rifle-range":ap,"bridge-room":Mx,"multipurpose-hall":kn},lie={"padel-tennis":wp,squash:nie,"air-rifle-range":sie,"bridge-room":aie,"multipurpose-hall":iie},cie={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function uie(){var c,u;const{slug:e}=O_(),{data:t}=ve({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=ve({queryKey:["/api/pricing-tiers"]}),n=v.useMemo(()=>{const d={};return r.forEach(f=>{const p=(f.benefits||[]).find(x=>x.toLowerCase().includes("discount")&&x.toLowerCase().includes("off-peak"));if(p){const x=p.match(/(\d+)%/);x&&(d[f.tier]=x[1])}}),d},[r]),s=cie[e||""],i=t?{...s,...t,features:t.features||(s==null?void 0:s.features),amenities:t.amenities||(s==null?void 0:s.amenities),longDescription:t.longDescription||(s==null?void 0:s.longDescription),operatingHours:t.operatingHours||(s==null?void 0:s.operatingHours),addOns:t.addOns||(s==null?void 0:s.addOns),courtCount:t.resourceCount||t.courtCount||(s==null?void 0:s.courtCount)}:s;if(!i)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(ce,{className:"max-w-md",children:a.jsxs(ue,{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),a.jsx(ae,{href:"/facilities",children:a.jsx(U,{children:"View All Facilities"})})]})})});const o=oie[e||""]||Uo,l=lie[e||""]||wp;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:a.jsx(o,{className:"w-8 h-8"})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&a.jsx(Se,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&a.jsx(Se,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),a.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),a.jsxs("div",{className:"container mx-auto px-6 py-12",children:[a.jsx(ae,{href:"/facilities",children:a.jsxs(U,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[a.jsx(In,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(c=i.features)==null?void 0:c.map((d,f)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsx("span",{children:d})]},f))})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(u=i.amenities)==null?void 0:u.map((d,f)=>a.jsx(Se,{variant:"secondary",children:d},f))})]}),i.addOns&&i.addOns.length>0&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(d=>a.jsx(ce,{children:a.jsxs(ue,{className:"p-4 flex items-center justify-between",children:[a.jsx("span",{children:d.name}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",d.price.toLocaleString()]})]})},d.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Quick Info"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_r,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),a.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qr,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),a.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(za,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),a.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})]}),a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Pricing"})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),a.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?a.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",a.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):a.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"})]})})]}),i.requiresCertification&&a.jsx(ce,{className:"border-amber-500/50 bg-amber-500/5",children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(z_,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),a.jsx(ae,{href:"/booking",children:a.jsxs(U,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),a.jsx(nr,{})]})}const die=e=>e.isComplete?a.jsx(Se,{className:"bg-green-500",children:"Completed"}):e.isActive?a.jsxs(Se,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):a.jsx(Se,{variant:"secondary",children:"Upcoming"}),tO=e=>e.isComplete?a.jsx(Rv,{className:"w-8 h-8 text-green-500"}):e.isActive?a.jsx(_r,{className:"w-8 h-8 text-amber-500"}):a.jsx(gn,{className:"w-8 h-8 text-muted-foreground"});function fie(){const{data:e=[],isLoading:t}=ve({queryKey:["/api/construction-phases"]}),r=v.useMemo(()=>[...e].sort((s,i)=>s.sortOrder-i.sortOrder),[e]),n=v.useMemo(()=>r.length===0?0:r.reduce((s,i)=>s+i.progress,0)/r.length,[r]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Development Roadmap",subtitle:"Follow our journey from groundbreaking to grand opening",testId:"text-roadmap-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:a.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(n),"% Complete"]})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${n}%`}})})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:r.filter(s=>s.isComplete).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-amber-600",children:r.filter(s=>s.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:r.filter(s=>!s.isComplete&&!s.isActive).length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[t?a.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"relative",children:a.jsx("div",{className:"md:ml-16",children:a.jsxs(ce,{children:[a.jsxs(Ge,{children:[a.jsx(pt,{className:"h-6 w-48"}),a.jsx(pt,{className:"h-4 w-32 mt-2"})]}),a.jsxs(ue,{children:[a.jsx(pt,{className:"h-4 w-full mb-4"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>a.jsx(pt,{className:"h-4 w-full"},i))}),a.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>a.jsx(pt,{className:"h-4 w-full"},i))})]})]})]})})},s))}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),a.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),a.jsx("div",{className:"space-y-8",children:r.map((s,i)=>a.jsx("div",{id:s.id,className:"relative","data-testid":`card-phase-${s.id}`,children:a.jsxs("div",{className:"md:ml-16",children:[a.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:tO(s)}),a.jsxs(ce,{className:s.isActive?"border-amber-500/50 border-2":"",children:[a.jsxs(Ge,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:tO(s)}),a.jsxs("div",{children:[a.jsxs(et,{className:"text-xl",children:[s.label,": ",s.title]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.timeframe||"Timeline TBD"})]})]}),die(s)]}),s.isActive&&a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${s.progress}%`}})})})]}),a.jsx(ue,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.milestones&&s.milestones.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Rv,{className:"w-4 h-4"})," Milestones"]}),a.jsx("ul",{className:"space-y-2",children:s.milestones.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.isComplete?a.jsx(Rv,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),a.jsx("span",{className:s.isComplete?"":"text-muted-foreground",children:o})]},l))})]}),s.highlights&&s.highlights.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.icon==="rocket"?a.jsx(_K,{className:"w-4 h-4"}):a.jsx(kn,{className:"w-4 h-4"}),"Key Highlights"]}),a.jsx("ul",{className:"space-y-2",children:s.highlights.map((o,l)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),o]},l))})]})]})})]})]})},s.id))})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),a.jsx(ae,{href:"/contact",children:a.jsx(U,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),a.jsx(nr,{})]})}var hb="Collapsible",[hie,v6]=yn(hb),[mie,zk]=hie(hb),y6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=ns({prop:n,defaultProp:s??!1,onChange:o,caller:hb});return a.jsx(mie,{scope:r,disabled:i,contentId:Rr(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Oe.div,{"data-state":Hk(c),"data-disabled":i?"":void 0,...l,ref:t})})});y6.displayName=hb;var x6="CollapsibleTrigger",b6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=zk(x6,r);return a.jsx(Oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Hk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:me(e.onClick,s.onOpenToggle)})});b6.displayName=x6;var Wk="CollapsibleContent",w6=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=zk(Wk,e.__scopeCollapsible);return a.jsx(Xr,{present:r||s.open,children:({present:i})=>a.jsx(pie,{...n,ref:t,present:i})})});w6.displayName=Wk;var pie=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=zk(Wk,r),[l,c]=v.useState(n),u=v.useRef(null),d=rt(t,u),f=v.useRef(0),h=f.current,p=v.useRef(0),x=p.current,m=o.open||l,b=v.useRef(m),y=v.useRef(void 0);return v.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),yr(()=>{const g=u.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const w=g.getBoundingClientRect();f.current=w.height,p.current=w.width,b.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),c(n)}},[o.open,n]),a.jsx(Oe.div,{"data-state":Hk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:m&&s})});function Hk(e){return e?"open":"closed"}var gie=y6,vie=b6,yie=w6,_a="Accordion",xie=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Kk,bie,wie]=rp(_a),[mb]=yn(_a,[wie,v6]),Gk=v6(),j6=M.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(Kk.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(_ie,{...i,ref:t}):a.jsx(Sie,{...s,ref:t})})});j6.displayName=_a;var[N6,jie]=mb(_a),[S6,Nie]=mb(_a,{collapsible:!1}),Sie=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=ns({prop:r,defaultProp:n??"",onChange:s,caller:_a});return a.jsx(N6,{scope:e.__scopeAccordion,value:M.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:M.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(S6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(_6,{...o,ref:t})})})}),_ie=M.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=ns({prop:r,defaultProp:n??[],onChange:s,caller:_a}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(N6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(S6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(_6,{...i,ref:t})})})}),[kie,pb]=mb(_a),_6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=M.useRef(null),c=rt(l,t),u=bie(r),f=Gd(s)==="ltr",h=me(e.onKeyDown,p=>{var k;if(!xie.includes(p.key))return;const x=p.target,m=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),b=m.findIndex(C=>C.ref.current===x),y=m.length;if(b===-1)return;p.preventDefault();let g=b;const w=0,N=y-1,j=()=>{g=b+1,g>N&&(g=w)},S=()=>{g=b-1,g<w&&(g=N)};switch(p.key){case"Home":g=w;break;case"End":g=N;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const _=g%y;(k=m[_].ref.current)==null||k.focus()});return a.jsx(kie,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(Kk.Slot,{scope:r,children:a.jsx(Oe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),uy="AccordionItem",[Cie,Yk]=mb(uy),k6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=pb(uy,r),o=jie(uy,r),l=Gk(r),c=Rr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(Cie,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(gie,{"data-orientation":i.orientation,"data-state":T6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});k6.displayName=uy;var C6="AccordionHeader",P6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=pb(_a,r),i=Yk(C6,r);return a.jsx(Oe.h3,{"data-orientation":s.orientation,"data-state":T6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});P6.displayName=C6;var Q1="AccordionTrigger",E6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=pb(_a,r),i=Yk(Q1,r),o=Nie(Q1,r),l=Gk(r);return a.jsx(Kk.ItemSlot,{scope:r,children:a.jsx(vie,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});E6.displayName=Q1;var A6="AccordionContent",O6=M.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=pb(_a,r),i=Yk(A6,r),o=Gk(r);return a.jsx(yie,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});O6.displayName=A6;function T6(e){return e?"open":"closed"}var Pie=j6,Eie=k6,Aie=P6,I6=E6,R6=O6;const Oie=Pie,$6=v.forwardRef(({className:e,...t},r)=>a.jsx(Eie,{ref:r,className:fe("border-b",e),...t}));$6.displayName="AccordionItem";const M6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Aie,{className:"flex",children:a.jsxs(I6,{ref:n,className:fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Pi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));M6.displayName=I6.displayName;const D6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(R6,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:fe("pb-4 pt-0",e),children:t})}));D6.displayName=R6.displayName;const Tie={general:{title:"General Rules",icon:tc},booking:{title:"Booking & Scheduling",icon:_r},conduct:{title:"Conduct & Behavior",icon:Qr},safety:{title:"Safety Requirements",icon:z_},dresscode:{title:"Dress Code",icon:PK},equipment:{title:"Equipment & Facilities",icon:lK},guests:{title:"Guest Policy",icon:WD},emergency:{title:"Emergency Procedures",icon:YD}},Iie=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function Rie(){const{data:e=[],isLoading:t}=ve({queryKey:["/api/rules"]}),r=e.reduce((s,i)=>{const o=i.category||"general";return s[o]||(s[o]=[]),s[o].push(i),s},{}),n=Iie.filter(s=>{var i;return((i=r[s])==null?void 0:i.length)>0});return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Rules & Safety",subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",testId:"text-rules-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ce,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(z_,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),a.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(tc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):a.jsx(Oie,{type:"multiple",className:"space-y-4",children:n.map(s=>{const i=Tie[s]||{title:s,icon:tc},o=i.icon,l=r[s]||[];return a.jsxs($6,{value:s,className:"border rounded-md px-4","data-testid":`accordion-${s}`,children:[a.jsx(M6,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:a.jsx(o,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),a.jsx("span",{className:"font-semibold",children:i.title})]})}),a.jsx(D6,{children:a.jsx("ul",{className:"space-y-3 pl-13 py-4",children:l.map((c,u)=>a.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[a.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[u+1,"."]}),a.jsxs("div",{children:[c.title&&a.jsxs("span",{className:"font-medium text-foreground",children:[c.title,": "]}),c.content]})]},c.id))})})]},s)})}),a.jsxs(ce,{className:"mt-8",children:[a.jsx(Ge,{children:a.jsx(et,{children:"Questions About Our Rules?"})}),a.jsxs(ue,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(ae,{href:"/contact",children:a.jsx(U,{"data-testid":"button-contact-us",children:"Contact Us"})}),a.jsx(ae,{href:"/terms",children:a.jsx(U,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),a.jsx(nr,{})]})}const rO=Qa({name:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email"),phone:jt().min(10,"Please enter a valid phone number"),cvUrl:jt().url("Please enter a valid URL to your CV/resume").optional().or(Q2("")),linkedinUrl:jt().url("Please enter a valid LinkedIn URL").optional().or(Q2("")),coverLetter:jt().min(50,"Cover letter should be at least 50 characters")}),$ie=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function Mie(){const{toast:e}=At(),{user:t}=jc(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),c=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:u}=ve({queryKey:["/api/careers"]}),d=ba({resolver:wa(rO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),f=ba({resolver:wa(rO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),h=Te({mutationFn:async g=>await Ae("POST",`/api/careers/${g.careerId}/apply`,{fullName:g.name,email:g.email,phone:g.phone,cvUrl:g.cvUrl||null,linkedinUrl:g.linkedinUrl||null,coverLetter:g.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),d.reset()},onError:g=>{e({title:"Submission Failed",description:g.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),p=Te({mutationFn:async g=>await Ae("POST","/api/careers/general-application",{fullName:g.name,email:g.email,phone:g.phone,cvUrl:g.cvUrl||null,linkedinUrl:g.linkedinUrl||null,coverLetter:g.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),f.reset()},onError:g=>{e({title:"Submission Failed",description:g.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),x=g=>{r&&h.mutate({...g,careerId:r.id})},m=g=>{n(g),i(!0)},y=(u&&u.length>0?u:$ie).filter(g=>g.isActive);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Join Our Team",subtitle:"Be part of Islamabad's premier sports and recreation destination",testId:"text-careers-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsx(ce,{children:a.jsxs(ue,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Fh,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),a.jsx(ce,{children:a.jsxs(ue,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(za,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),a.jsx(ce,{children:a.jsxs(ue,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(_r,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),y.length===0?a.jsx(ce,{children:a.jsx(ue,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):a.jsx("div",{className:"space-y-4",children:y.map(g=>a.jsx(ce,{className:"hover-elevate","data-testid":`card-job-${g.id}`,children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:g.title}),a.jsx(Se,{variant:"secondary",className:"text-xs",children:g.type})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fh,{className:"w-4 h-4"})," ",g.department]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(za,{className:"w-4 h-4"})," ",g.location]}),c&&g.salary&&a.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:g.salary})]}),a.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:g.description}),g.requirements&&a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Requirements: "}),a.jsx("span",{className:"text-muted-foreground",children:g.requirements})]})]}),a.jsxs(U,{className:" flex-shrink-0",onClick:()=>m(g),"data-testid":`button-apply-${g.id}`,children:["Apply Now ",a.jsx(Yn,{className:"w-4 h-4 ml-1"})]})]})})},g.id))})]}),a.jsxs(ce,{className:"mt-12",children:[a.jsx(Ge,{children:a.jsx(et,{children:"Don't See the Right Fit?"})}),a.jsxs(ue,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),a.jsxs(U,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[a.jsx(ec,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),a.jsx(nr,{}),a.jsx(xr,{open:s,onOpenChange:i,children:a.jsxs(cr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs(br,{children:[a.jsxs(wr,{children:["Apply for ",r==null?void 0:r.title]}),a.jsx(oc,{children:"Fill out the form below to submit your application"})]}),a.jsx(Na,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-4",children:[a.jsx(tt,{control:d.control,name:"name",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"John Doe",...g,"data-testid":"input-applicant-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"email",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"john@example.com",...g,"data-testid":"input-applicant-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"phone",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...g,"data-testid":"input-applicant-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"cvUrl",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"CV/Resume URL (Optional)"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://drive.google.com/...",...g,"data-testid":"input-applicant-cv"})}),a.jsx(st,{}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),a.jsx(tt,{control:d.control,name:"linkedinUrl",render:({field:g})=>a.jsxs(Qe,{children:[a.jsxs(nt,{className:"flex items-center gap-2",children:[a.jsx(p1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://linkedin.com/in/...",...g,"data-testid":"input-applicant-linkedin"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:d.control,name:"coverLetter",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Cover Letter"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...g,"data-testid":"input-applicant-cover-letter"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),a.jsxs(U,{type:"submit",disabled:h.isPending,className:"","data-testid":"button-submit-application",children:[h.isPending?a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($v,{className:"w-4 h-4 mr-2"}),"Submit Application"]})]})]})})]})}),a.jsx(xr,{open:o,onOpenChange:l,children:a.jsxs(cr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs(br,{children:[a.jsx(wr,{children:"Send Your CV"}),a.jsx(oc,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),a.jsx(Na,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(g=>p.mutate(g)),className:"space-y-4",children:[a.jsx(tt,{control:f.control,name:"name",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"John Doe",...g,"data-testid":"input-cv-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"email",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"john@example.com",...g,"data-testid":"input-cv-email"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"phone",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 300 1234567",...g,"data-testid":"input-cv-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"cvUrl",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"CV/Resume URL"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://drive.google.com/...",...g,"data-testid":"input-cv-url"})}),a.jsx(st,{}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Share a link to your CV on Google Drive, Dropbox, or similar service"})]})}),a.jsx(tt,{control:f.control,name:"linkedinUrl",render:({field:g})=>a.jsxs(Qe,{children:[a.jsxs(nt,{className:"flex items-center gap-2",children:[a.jsx(p1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"https://linkedin.com/in/...",...g,"data-testid":"input-cv-linkedin"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:f.control,name:"coverLetter",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Message / Cover Letter"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...g,"data-testid":"input-cv-cover-letter"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(U,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),a.jsxs(U,{type:"submit",disabled:p.isPending,className:"","data-testid":"button-submit-cv-form",children:[p.isPending?a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx($v,{className:"w-4 h-4 mr-2"}),"Submit CV"]})]})]})})]})})]})}function Die(){const{data:e,isLoading:t}=ve({queryKey:["/api/cms/bulk"]}),r=e==null?void 0:e.find(s=>s.key==="terms_conditions");let n=[];try{r!=null&&r.content&&(n=JSON.parse(r.content))}catch{console.error("Failed to parse terms content")}return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Terms & Conditions",subtitle:"Last updated: December 2025",testId:"text-terms-title"}),a.jsx("div",{className:"qd-container py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ec,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):n.map((s,i)=>a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:s.section}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.content}),s.items&&s.items.length>0&&a.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:s.items.map((o,l)=>a.jsx("li",{children:o},l))})]},i))})})]}),a.jsx(nr,{})]})}function Lie(){const{data:e,isLoading:t}=ve({queryKey:["/api/cms/bulk"]}),r=e==null?void 0:e.find(s=>s.key==="privacy_policy");let n=[];try{r!=null&&r.content&&(n=JSON.parse(r.content))}catch{console.error("Failed to parse privacy policy content")}return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Privacy Policy",subtitle:"Last updated: December 2025",testId:"text-privacy-title"}),a.jsx("div",{className:"qd-container py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(qh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):n.map((s,i)=>a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:s.section}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.content}),s.items&&s.items.length>0&&a.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:s.items.map((o,l)=>{const c=o.indexOf(":");if(c>-1&&c<30){const u=o.slice(0,c),d=o.slice(c+1);return a.jsxs("li",{children:[a.jsxs("strong",{children:[u,":"]}),d]},l)}return a.jsx("li",{children:o},l)})})]},i))})})]}),a.jsx(nr,{})]})}function Fie(e){return Object.prototype.toString.call(e)==="[object Object]"}function nO(e){return Fie(e)||Array.isArray(e)}function Uie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Qk(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!nO(l)||!nO(c)?l===c:Qk(l,c)})}function sO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Bie(e,t){if(e.length!==t.length)return!1;const r=sO(e),n=sO(t);return r.every((s,i)=>{const o=n[i];return Qk(s,o)})}function Xk(e){return typeof e=="number"}function X1(e){return typeof e=="string"}function gb(e){return typeof e=="boolean"}function aO(e){return Object.prototype.toString.call(e)==="[object Object]"}function ir(e){return Math.abs(e)}function Zk(e){return Math.sign(e)}function hh(e,t){return ir(e-t)}function Vie(e,t){if(e===0||t===0||ir(e)<=ir(t))return 0;const r=hh(ir(e),ir(t));return ir(r/e)}function qie(e){return Math.round(e*100)/100}function lm(e){return cm(e).map(Number)}function pa(e){return e[Np(e)]}function Np(e){return Math.max(0,e.length-1)}function Jk(e,t){return t===Np(e)}function iO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function cm(e){return Object.keys(e)}function L6(e,t){return[e,t].reduce((r,n)=>(cm(n).forEach(s=>{const i=r[s],o=n[s],l=aO(i)&&aO(o);r[s]=l?L6(i,o):o}),r),{})}function Z1(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function zie(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,u){return X1(e)?r[e](c):e(t,c,u)}return{measure:o}}function um(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function Wie(e,t,r,n){const s=um(),i=1e3/60;let o=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&x()})}function d(){p(),s.clear()}function f(b){if(!c)return;o||(o=b,r(),r());const y=b-o;for(o=b,l+=y;l>=i;)r(),l-=i;const g=l/i;n(g),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function x(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function Hie(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(x){const{height:m,width:b}=x;return n?m:b}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(x){return x*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function lc(e=0,t=0){const r=ir(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function F6(e,t,r){const{constrain:n}=lc(0,e),s=e+1;let i=o(t);function o(h){return r?ir((s+h)%s):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return F6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function Kie(e,t,r,n,s,i,o,l,c,u,d,f,h,p,x,m,b,y,g){const{cross:w,direction:N}=e,j=["INPUT","SELECT","TEXTAREA"],S={passive:!1},_=um(),k=um(),C=lc(50,225).constrain(p.measure(20)),E={mouse:300,touch:400},P={mouse:500,touch:600},R=x?43:25;let O=!1,I=0,T=0,D=!1,q=!1,A=!1,$=!1;function H(W){if(!g)return;function z(qe){(gb(g)||g(W,qe))&&be(qe)}const le=t;_.add(le,"dragstart",qe=>qe.preventDefault(),S).add(le,"touchmove",()=>{},S).add(le,"touchend",()=>{}).add(le,"touchstart",z).add(le,"mousedown",z).add(le,"touchcancel",se).add(le,"contextmenu",se).add(le,"click",Q,!0)}function Y(){_.clear(),k.clear()}function L(){const W=$?r:t;k.add(W,"touchmove",ee,S).add(W,"touchend",se).add(W,"mousemove",ee,S).add(W,"mouseup",se)}function K(W){const z=W.nodeName||"";return j.includes(z)}function re(){return(x?P:E)[$?"mouse":"touch"]}function ie(W,z){const le=f.add(Zk(W)*-1),qe=d.byDistance(W,!x).distance;return x||ir(W)<C?qe:b&&z?qe*.5:d.byIndex(le.get(),0).distance}function be(W){const z=Z1(W,n);$=z,A=x&&z&&!W.buttons&&O,O=hh(s.get(),o.get())>=2,!(z&&W.button!==0)&&(K(W.target)||(D=!0,i.pointerDown(W),u.useFriction(0).useDuration(0),s.set(o),L(),I=i.readPoint(W),T=i.readPoint(W,w),h.emit("pointerDown")))}function ee(W){if(!Z1(W,n)&&W.touches.length>=2)return se(W);const le=i.readPoint(W),qe=i.readPoint(W,w),Ye=hh(le,I),ut=hh(qe,T);if(!q&&!$&&(!W.cancelable||(q=Ye>ut,!q)))return se(W);const Yt=i.pointerMove(W);Ye>m&&(A=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(N(Yt)),W.preventDefault()}function se(W){const le=d.byDistance(0,!1).index!==f.get(),qe=i.pointerUp(W)*re(),Ye=ie(N(qe),le),ut=Vie(qe,Ye),Yt=R-10*ut,kt=y+ut/50;q=!1,D=!1,k.clear(),u.useDuration(Yt).useFriction(kt),c.distance(Ye,!x),$=!1,h.emit("pointerUp")}function Q(W){A&&(W.stopPropagation(),W.preventDefault(),A=!1)}function X(){return D}return{init:H,destroy:Y,pointerDown:X}}function Gie(e,t){let n,s;function i(f){return f.timeStamp}function o(f,h){const x=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(Z1(f,t)?f:f.touches[0])[x]}function l(f){return n=f,s=f,o(f)}function c(f){const h=o(f)-o(s),p=i(f)-i(n)>170;return s=f,p&&(n=f),h}function u(f){if(!n||!s)return 0;const h=o(s)-o(n),p=i(f)-i(n),x=i(f)-i(s)>170,m=h/p;return p&&!x&&ir(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Yie(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:s+i,bottom:n+o,left:s,width:i,height:o}}return{measure:e}}function Qie(e){function t(n){return e*(n/100)}return{measure:t}}function Xie(e,t,r,n,s,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(b){return s.measureSize(o.measure(b))}function p(b){if(!i)return;u=h(e),d=n.map(h);function y(g){for(const w of g){if(f)return;const N=w.target===e,j=n.indexOf(w.target),S=N?u:d[j],_=h(N?e:n[j]);if(ir(_-S)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(g=>{(gb(i)||i(b,g))&&y(g)}),r.requestAnimationFrame(()=>{l.forEach(g=>c.observe(g))})}function x(){f=!0,c&&c.disconnect()}return{init:p,destroy:x}}function Zie(e,t,r,n,s,i){let o=0,l=0,c=s,u=i,d=e.get(),f=0;function h(){const S=n.get()-e.get(),_=!c;let k=0;return _?(o=0,r.set(n),e.set(n),k=S):(r.set(e),o+=S/c,o*=u,d+=o,e.add(o),k=d-f),l=Zk(k),f=d,j}function p(){const S=n.get()-t.get();return ir(S)<.001}function x(){return c}function m(){return l}function b(){return o}function y(){return w(s)}function g(){return N(i)}function w(S){return c=S,j}function N(S){return u=S,j}const j={direction:m,duration:x,velocity:b,seek:h,settled:p,useBaseFriction:g,useBaseDuration:y,useFriction:N,useDuration:w};return j}function Jie(e,t,r,n,s){const i=s.measure(10),o=s.measure(50),l=lc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const x=e.reachedMin(t.get())?"min":"max",m=ir(e[x]-t.get()),b=r.get()-t.get(),y=l.constrain(m/o);r.subtract(b*y),!p&&ir(b)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function eoe(e,t,r,n,s){const i=lc(-t+e,0),o=f(),l=d(),c=h();function u(x,m){return hh(x,m)<=1}function d(){const x=o[0],m=pa(o),b=o.lastIndexOf(x),y=o.indexOf(m)+1;return lc(b,y)}function f(){return r.map((x,m)=>{const{min:b,max:y}=i,g=i.constrain(x),w=!m,N=Jk(r,m);return w?y:N||u(b,g)?b:u(y,g)?y:g}).map(x=>parseFloat(x.toFixed(3)))}function h(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return o;const{min:x,max:m}=l;return o.slice(x,m)}return{snapsContained:c,scrollContainLimit:l}}function toe(e,t,r){const n=t[0],s=r?n-e:pa(t);return{limit:lc(s,n)}}function roe(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=lc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(x=>x.add(p))}return{loop:d}}function noe(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function soe(e,t,r,n,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>pa(m)[o]-m[0][i]).map(ir)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-ir(m))}function p(){return l(u).map(m=>m[0]).map((m,b)=>m+c[b])}return{snaps:u,snapsAligned:d}}function aoe(e,t,r,n,s,i){const{groupSlides:o}=s,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((x,m,b)=>{const y=!m,g=Jk(b,m);if(y){const w=pa(b[0])+1;return iO(w)}if(g){const w=Np(i)-pa(b)[0]+1;return iO(w,pa(b)[0])}return x})}return{slideRegistry:u}}function ioe(e,t,r,n,s){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(x){return x.concat().sort((m,b)=>ir(m)-ir(b))[0]}function u(x){const m=e?o(x):l(x),b=t.map((g,w)=>({diff:d(g-m,0),index:w})).sort((g,w)=>ir(g.diff)-ir(w.diff)),{index:y}=b[0];return{index:y,distance:m}}function d(x,m){const b=[x,x+r,x-r];if(!e)return x;if(!m)return c(b);const y=b.filter(g=>Zk(g)===m);return y.length?c(y):pa(b)-r}function f(x,m){const b=t[x]-s.get(),y=d(b,m);return{index:x,distance:y}}function h(x,m){const b=s.get()+x,{index:y,distance:g}=u(b),w=!e&&i(b);if(!m||w)return{index:y,distance:x};const N=t[y]-g,j=x+d(N,0);return{index:y,distance:j}}return{byDistance:h,byIndex:f,shortcut:d}}function ooe(e,t,r,n,s,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=s.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),x=s.byIndex(p.get(),h);l(x)}return{distance:c,index:u}}function loe(e,t,r,n,s,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function x(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const g=r.findIndex(w=>w.includes(m));Xk(g)&&(s.useDuration(0),n.index(g,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,b)=>{i.add(m,"focus",y=>{(gb(l)||l(p,y))&&x(b)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Gf(e){let t=e;function r(){return t}function n(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return Xk(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function U6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let s=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=qie(e.direction(h));p!==s&&(n.transform=r(p),s=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function coe(e,t,r,n,s,i,o,l,c){const d=lm(s),f=lm(s).reverse(),h=y().concat(g());function p(_,k){return _.reduce((C,E)=>C-s[E],k)}function x(_,k){return _.reduce((C,E)=>p(C,k)>0?C.concat([E]):C,[])}function m(_){return i.map((k,C)=>({start:k-n[C]+.5+_,end:k+t-.5+_}))}function b(_,k,C){const E=m(k);return _.map(P=>{const R=C?0:-r,O=C?r:0,I=C?"end":"start",T=E[P][I];return{index:P,loopPoint:T,slideLocation:Gf(-1),translate:U6(e,c[P]),target:()=>l.get()>T?R:O}})}function y(){const _=o[0],k=x(f,_);return b(k,r,!1)}function g(){const _=t-o[0]-1,k=x(d,_);return b(k,-r,!0)}function w(){return h.every(({index:_})=>{const k=d.filter(C=>C!==_);return p(k,t)<=.1})}function N(){h.forEach(_=>{const{target:k,translate:C,slideLocation:E}=_,P=k();P!==E.get()&&(C.to(P),E.set(P))})}function j(){h.forEach(_=>_.translate.clear())}return{canLoop:w,clear:j,loop:N,loopPoints:h}}function uoe(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(gb(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:i,destroy:o}}function doe(e,t,r,n){const s={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(x=>{c||(x.forEach(m=>{const b=t.indexOf(m.target);s[b]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(x=>l.observe(x))}function d(){l&&l.disconnect(),c=!0}function f(x){return cm(s).reduce((m,b)=>{const y=parseInt(b),{isIntersecting:g}=s[y];return(x&&g||!x&&!g)&&m.push(y),m},[])}function h(x=!0){if(x&&i)return i;if(!x&&o)return o;const m=f(x);return x&&(i=m),x||(o=m),m}return{init:u,destroy:d,get:h}}function foe(e,t,r,n,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=x(),f=m(),h=r.map(o),p=b();function x(){if(!u)return 0;const g=r[0];return ir(t[l]-g[l])}function m(){if(!u)return 0;const g=i.getComputedStyle(pa(n));return parseFloat(g.getPropertyValue(`margin-${c}`))}function b(){return r.map((g,w,N)=>{const j=!w,S=Jk(N,w);return j?h[w]+d:S?h[w]+f:N[w+1][l]-g[l]}).map(ir)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function hoe(e,t,r,n,s,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=Xk(r);function p(y,g){return lm(y).filter(w=>w%g===0).map(w=>y.slice(w,w+g))}function x(y){return y.length?lm(y).reduce((g,w,N)=>{const j=pa(g)||0,S=j===0,_=w===Np(y),k=s[u]-i[j][u],C=s[u]-i[w][d],E=!n&&S?f(o):0,P=!n&&_?f(l):0,R=ir(C-P-(k+E));return N&&R>t+c&&g.push(w),_&&g.push(y.length),g},[]).map((g,w,N)=>{const j=Math.max(N[w-1]||0);return y.slice(j,g)}):[]}function m(y){return h?p(y,r):x(y)}return{groupSlides:m}}function moe(e,t,r,n,s,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:x,inViewThreshold:m,slidesToScroll:b,skipSnaps:y,containScroll:g,watchResize:w,watchSlides:N,watchDrag:j,watchFocus:S}=i,_=2,k=Yie(),C=k.measure(t),E=r.map(k.measure),P=Hie(c,u),R=P.measureSize(C),O=Qie(R),I=zie(l,R),T=!f&&!!g,D=f||!!g,{slideSizes:q,slideSizesWithGaps:A,startGap:$,endGap:H}=foe(P,C,E,r,D,s),Y=hoe(P,R,b,f,C,E,$,H,_),{snaps:L,snapsAligned:K}=soe(P,I,C,E,Y),re=-pa(L)+pa(A),{snapsContained:ie,scrollContainLimit:be}=eoe(R,re,K,g,_),ee=T?ie:K,{limit:se}=toe(re,ee,f),Q=F6(Np(ee),d,f),X=Q.clone(),oe=lm(r),W=({dragHandler:Rt,scrollBody:Ys,scrollBounds:Cn,options:{loop:Ca}})=>{Ca||Cn.constrain(Rt.pointerDown()),Ys.seek()},z=({scrollBody:Rt,translate:Ys,location:Cn,offsetLocation:Ca,previousLocation:tl,scrollLooper:ei,slideLooper:rl,dragHandler:Oc,animation:uf,eventHandler:Dr,scrollBounds:b0,options:{loop:df}},$p)=>{const Mp=Rt.settled(),Dp=!b0.shouldConstrain(),ff=df?Mp:Mp&&Dp,Wi=ff&&!Oc.pointerDown();Wi&&uf.stop();const Lp=Cn.get()*$p+tl.get()*(1-$p);Ca.set(Lp),df&&(ei.loop(Rt.direction()),rl.loop()),Ys.to(Ca.get()),Wi&&Dr.emit("settle"),ff||Dr.emit("scroll")},le=Wie(n,s,()=>W(Ct),Rt=>z(Ct,Rt)),qe=.68,Ye=ee[Q.get()],ut=Gf(Ye),Yt=Gf(Ye),kt=Gf(Ye),kr=Gf(Ye),F=Zie(ut,kt,Yt,kr,h,qe),G=ioe(f,ee,re,se,kr),Z=ooe(le,Q,X,F,G,kr,o),_e=noe(se),ye=um(),ge=doe(t,r,o,m),{slideRegistry:Ue}=aoe(T,g,ee,be,Y,oe),xt=loe(e,r,Ue,Z,F,ye,o,S),Ct={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:C,slideRects:E,animation:le,axis:P,dragHandler:Kie(P,e,n,s,kr,Gie(P,s),ut,le,Z,F,G,Q,o,O,p,x,y,qe,j),eventStore:ye,percentOfView:O,index:Q,indexPrevious:X,limit:se,location:ut,offsetLocation:kt,previousLocation:Yt,options:i,resizeHandler:Xie(t,o,s,r,P,w,k),scrollBody:F,scrollBounds:Jie(se,kt,kr,F,O),scrollLooper:roe(re,se,kt,[ut,kt,Yt,kr]),scrollProgress:_e,scrollSnapList:ee.map(_e.get),scrollSnaps:ee,scrollTarget:G,scrollTo:Z,slideLooper:coe(P,R,re,q,A,L,ee,kt,r),slideFocus:xt,slidesHandler:uoe(t,o,N),slidesInView:ge,slideIndexes:oe,slideRegistry:Ue,slidesToScroll:Y,target:kr,translate:U6(P,t)};return Ct}function poe(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const goe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function voe(e){function t(i,o){return L6(i,o||{})}function r(i){const o=i.breakpoints||{},l=cm(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>cm(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function yoe(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function dy(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=voe(s),o=yoe(i),l=um(),c=poe(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:x}=c,m=P;let b=!1,y,g=u(goe,dy.globalOptions),w=u(g),N=[],j,S,_;function k(){const{container:oe,slides:W}=w;S=(X1(oe)?e.querySelector(oe):oe)||e.children[0];const le=X1(W)?S.querySelectorAll(W):W;_=[].slice.call(le||S.children)}function C(oe){const W=moe(e,S,_,n,s,oe,c);if(oe.loop&&!W.slideLooper.canLoop()){const z=Object.assign({},oe,{loop:!1});return C(z)}return W}function E(oe,W){b||(g=u(g,oe),w=d(g),N=W||N,k(),y=C(w),f([g,...N.map(({options:z})=>z)]).forEach(z=>l.add(z,"change",P)),w.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(X),y.eventHandler.init(X),y.resizeHandler.init(X),y.slidesHandler.init(X),y.options.loop&&y.slideLooper.loop(),S.offsetParent&&_.length&&y.dragHandler.init(X),j=o.init(X,N)))}function P(oe,W){const z=Y();R(),E(u({startIndex:z},oe),W),c.emit("reInit")}function R(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),o.destroy(),l.clear()}function O(){b||(b=!0,l.clear(),R(),c.emit("destroy"),c.clear())}function I(oe,W,z){!w.active||b||(y.scrollBody.useBaseFriction().useDuration(W===!0?0:w.duration),y.scrollTo.index(oe,z||0))}function T(oe){const W=y.index.add(1).get();I(W,oe,-1)}function D(oe){const W=y.index.add(-1).get();I(W,oe,1)}function q(){return y.index.add(1).get()!==Y()}function A(){return y.index.add(-1).get()!==Y()}function $(){return y.scrollSnapList}function H(){return y.scrollProgress.get(y.offsetLocation.get())}function Y(){return y.index.get()}function L(){return y.indexPrevious.get()}function K(){return y.slidesInView.get()}function re(){return y.slidesInView.get(!1)}function ie(){return j}function be(){return y}function ee(){return e}function se(){return S}function Q(){return _}const X={canScrollNext:q,canScrollPrev:A,containerNode:se,internalEngine:be,destroy:O,off:p,on:h,emit:x,plugins:ie,previousScrollSnap:L,reInit:m,rootNode:ee,scrollNext:T,scrollPrev:D,scrollProgress:H,scrollSnapList:$,scrollTo:I,selectedScrollSnap:Y,slideNodes:Q,slidesInView:K,slidesNotInView:re};return E(t,r),setTimeout(()=>c.emit("init"),0),X}dy.globalOptions=void 0;function eC(e={},t=[]){const r=v.useRef(e),n=v.useRef(t),[s,i]=v.useState(),[o,l]=v.useState(),c=v.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return v.useEffect(()=>{Qk(r.current,e)||(r.current=e,c())},[e,c]),v.useEffect(()=>{Bie(n.current,t)||(n.current=t,c())},[t,c]),v.useEffect(()=>{if(Uie()&&o){dy.globalOptions=eC.globalOptions;const u=dy(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,s]}eC.globalOptions=void 0;const B6=v.createContext(null);function vb(){const e=v.useContext(B6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const V6=v.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...o},l)=>{const[c,u]=eC({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=v.useState(!1),[h,p]=v.useState(!1),x=v.useCallback(g=>{g&&(f(g.canScrollPrev()),p(g.canScrollNext()))},[]),m=v.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=v.useCallback(()=>{u==null||u.scrollNext()},[u]),y=v.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),m()):g.key==="ArrowRight"&&(g.preventDefault(),b())},[m,b]);return v.useEffect(()=>{!u||!r||r(u)},[u,r]),v.useEffect(()=>{if(u)return x(u),u.on("reInit",x),u.on("select",x),()=>{u==null||u.off("select",x)}},[u,x]),a.jsx(B6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:b,canScrollPrev:d,canScrollNext:h},children:a.jsx("div",{ref:l,onKeyDownCapture:y,className:fe("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});V6.displayName="Carousel";const q6=v.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=vb();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:fe("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});q6.displayName="CarouselContent";const z6=v.forwardRef(({className:e,...t},r)=>{const{orientation:n}=vb();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:fe("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});z6.displayName="CarouselItem";const xoe=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=vb();return a.jsxs(U,{ref:s,variant:t,size:r,className:fe("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(In,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});xoe.displayName="CarouselPrevious";const boe=v.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=vb();return a.jsxs(U,{ref:s,variant:t,size:r,className:fe("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(U_,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});boe.displayName="CarouselNext";const woe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function joe(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function Noe(e,t){const r=e.rootNode();return t&&t(r)||r}function tC(e={}){let t,r,n,s,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(I,T){r=I;const{mergeOptions:D,optionsAtMedia:q}=T,A=D(woe,tC.globalOptions),$=D(A,e);if(t=q($),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=joe(r,t.delay);const{eventStore:H,ownerDocument:Y}=r.internalEngine(),L=!!r.internalEngine().options.watchDrag,K=Noe(r,t.rootNode);H.add(Y,"visibilitychange",y),L&&r.on("pointerDown",w),L&&!t.stopOnInteraction&&r.on("pointerUp",N),t.stopOnMouseEnter&&H.add(K,"mouseenter",j),t.stopOnMouseEnter&&!t.stopOnInteraction&&H.add(K,"mouseleave",S),t.stopOnFocusIn&&r.on("slideFocusStart",b),t.stopOnFocusIn&&!t.stopOnInteraction&&H.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",w).off("pointerUp",N).off("slideFocusStart",b),b(),n=!0,l=!1}function p(){const{ownerWindow:I}=r.internalEngine();I.clearTimeout(o),o=I.setTimeout(P,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function x(){const{ownerWindow:I}=r.internalEngine();I.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(g()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function b(){n||(l&&r.emit("autoplay:stop"),x(),l=!1)}function y(){if(g())return u=l,b();u&&m()}function g(){const{ownerDocument:I}=r.internalEngine();return I.visibilityState==="hidden"}function w(){c||b()}function N(){c||m()}function j(){c=!0,b()}function S(){c=!1,m()}function _(I){typeof I<"u"&&(d=I),m()}function k(){l&&b()}function C(){l&&m()}function E(){return l}function P(){const{index:I}=r.internalEngine(),T=I.clone().add(1).get(),D=r.scrollSnapList().length-1,q=t.stopOnLastSnap&&T===D;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),q)return b();m()}function R(){if(!i)return null;const I=s[r.selectedScrollSnap()],T=new Date().getTime()-i;return I-T}return{name:"autoplay",options:e,init:f,destroy:h,play:_,stop:k,reset:C,isPlaying:E,timeUntilNext:R}}tC.globalOptions=void 0;const Soe=[{src:r5,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{src:wp,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{src:wk,alt:"Squash Court",caption:"Professional Squash Facility"},{src:n5,alt:"Sports Arena",caption:"Modern Architecture"},{src:s5,alt:"Construction Progress",caption:"Building Your Future"}];function _oe(){const{toast:e}=At(),[t,r]=v.useState(""),[n,s]=v.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=v.useState(!1),{getValue:l}=_c(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ze),c=l("coming_soon_launch_date")||Ze.coming_soon_launch_date||"2026-10-01",u=new Date(c);v.useEffect(()=>{const p=()=>{const m=+u-+new Date;return m>0?(o(!1),{days:Math.floor(m/864e5),hours:Math.floor(m/36e5%24),minutes:Math.floor(m/1e3/60%60),seconds:Math.floor(m/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};s(p());const x=setInterval(()=>{s(p())},1e3);return()=>clearInterval(x)},[c]);const d=Te({mutationFn:async p=>await Ae("POST","/api/contact",{name:"Early Interest Subscriber",email:p,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:p=>{e({title:"Subscription Failed",description:p.message||"Please try again later.",variant:"destructive"})}}),f=p=>{p.preventDefault(),t&&d.mutate(t)},h=({value:p,label:x})=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:a.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:p.toString().padStart(2,"0")})}),a.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:x})]});return a.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col",children:[a.jsx("header",{className:"flex justify-center items-center mb-8",children:a.jsx("span",{className:"text-2xl font-bold text-white","data-testid":"text-brand",children:l("site_name")||Ze.site_name||"The Quarterdeck"})}),a.jsxs("main",{className:"flex-1 flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"flex-1 max-w-xl text-center lg:text-left",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-6",children:[a.jsx(gn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm text-white/90","data-testid":"text-launch-badge",children:l("hero_eyebrow")||Ze.hero_eyebrow})]}),a.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-4 leading-tight","data-testid":"text-coming-soon-title",children:l("coming_soon_title")||Ze.coming_soon_title}),a.jsx("p",{className:"text-lg sm:text-xl text-white/80 mb-8","data-testid":"text-coming-soon-subtitle",children:l("coming_soon_subtitle")||Ze.coming_soon_subtitle}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4 sm:gap-6 mb-10",children:[a.jsx(h,{value:n.days,label:"Days"}),a.jsx(h,{value:n.hours,label:"Hours"}),a.jsx(h,{value:n.minutes,label:"Mins"}),a.jsx(h,{value:n.seconds,label:"Secs"})]}),a.jsxs("form",{onSubmit:f,className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto lg:mx-0 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),a.jsx(ne,{type:"email",placeholder:"Enter your email for updates",value:t,onChange:p=>r(p.target.value),required:!0,className:"pl-10 bg-white/10 border-white/20 text-white placeholder:text-white/50 focus:border-cyan-400 rounded-lg h-12","data-testid":"input-coming-soon-email"})]}),a.jsx(U,{type:"submit",className:"h-12 px-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg",disabled:d.isPending,"data-testid":"button-subscribe",children:d.isPending?a.jsx(ct,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["Notify Me ",a.jsx(U_,{className:"ml-2 w-4 h-4"})]})})]}),a.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-6 text-white/70",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(za,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm",children:l("coming_soon_location")||Ze.coming_soon_location})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-sm",children:"6 AM - 10 PM Daily"})]})]}),a.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-4",children:["Padel Tennis","Squash","Air Rifle","Multipurpose Hall"].map(p=>a.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[a.jsx(Ss,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:p})]},p))})]}),a.jsxs("div",{className:"flex-1 max-w-lg w-full",children:[a.jsx(V6,{className:"w-full",opts:{loop:!0},plugins:[tC({delay:4e3})],children:a.jsx(q6,{children:Soe.map((p,x)=>a.jsx(z6,{children:a.jsx(ce,{className:"border-0 bg-transparent",children:a.jsx(ue,{className:"p-0",children:a.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden",children:[a.jsx("img",{src:p.src,alt:p.alt,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsx("span",{className:"text-white font-medium text-lg",children:p.caption})})]})})})},x))})}),a.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[i?a.jsx(ae,{href:"/",children:a.jsx(U,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10 rounded-lg","data-testid":"button-explore-site",children:"Explore Full Site"})}):a.jsx(U,{variant:"outline",className:"border-white/20 text-white/50 rounded-lg cursor-not-allowed opacity-60",disabled:!0,"data-testid":"button-explore-site",children:"Explore Full Site"}),a.jsx(ae,{href:"/roadmap",children:a.jsx(U,{className:"bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","data-testid":"button-view-progress",children:"View Progress"})})]})]})]}),a.jsx("footer",{className:"mt-8 text-center text-white/50 text-sm",children:a.jsx("p",{children:"2024-2026 The Quarterdeck. All rights reserved."})})]})]})}const koe=Qa({name:jt().min(2,"Name must be at least 2 characters"),email:jt().email("Please enter a valid email address"),phone:jt().optional(),subject:jt().min(3,"Subject must be at least 3 characters"),message:jt().min(10,"Message must be at least 10 characters")});function Coe(){const{toast:e}=At(),[t,r]=v.useState(!1),{data:n={}}=ve({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}}}),s=u=>n[u]||"",i=ba({resolver:wa(koe),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),o=Te({mutationFn:async u=>await Ae("POST","/api/contact",u),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),i.reset()},onError:u=>{e({title:"Error",description:u.message||"Failed to send message. Please try again.",variant:"destructive"})}}),l=u=>{o.mutate(u)},c=[{icon:gn,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:Qr,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:kn,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Contact Us",subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",testId:"text-contact-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(xK,{className:"w-5 h-5"}),"Send Us a Message"]})}),a.jsx(ue,{children:t?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:a.jsx($v,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank You!"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your message has been sent successfully. We'll respond within 24-48 hours."}),a.jsx(U,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):a.jsx(Na,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(l),className:"space-y-4",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(tt,{control:i.control,name:"name",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Full Name *"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"Your name",...u,"data-testid":"input-contact-name"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:i.control,name:"email",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email Address *"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com",...u,"data-testid":"input-contact-email"})}),a.jsx(st,{})]})})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(tt,{control:i.control,name:"phone",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone Number"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"+92 xxx xxxxxxx",...u,"data-testid":"input-contact-phone"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:i.control,name:"subject",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Subject *"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"What's this about?",...u,"data-testid":"input-contact-subject"})}),a.jsx(st,{})]})})]}),a.jsx(tt,{control:i.control,name:"message",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Message *"}),a.jsx(Xe,{children:a.jsx(ur,{placeholder:"How can we help you?",rows:5,...u,"data-testid":"input-contact-message"})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full sm:w-auto",disabled:o.isPending,"data-testid":"button-contact-submit",children:o.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx($v,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),a.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:c.map(u=>a.jsx(ae,{href:u.href,children:a.jsx(ce,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${u.title.toLowerCase().replace(/\s/g,"-")}`,children:a.jsxs(ue,{className:"p-4",children:[a.jsx(u.icon,{className:"w-8 h-8 text-primary mb-3"}),a.jsx("h3",{className:"font-semibold mb-1",children:u.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})})},u.href))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Contact Information"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(za,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Address"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(YD,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Phone"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("phone")||"+92 51 XXX XXXX"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ip,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("email")||"info@thequarterdeck.pk"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(_r,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Operating Hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Follow Us"})}),a.jsx(ue,{children:a.jsxs("div",{className:"flex gap-3",children:[s("facebook")&&a.jsx("a",{href:s("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:a.jsx(UD,{className:"w-5 h-5 text-primary"})}),s("instagram")&&a.jsx("a",{href:s("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:a.jsx(HD,{className:"w-5 h-5 text-primary"})}),s("twitter")&&a.jsx("a",{href:s("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:a.jsx(TK,{className:"w-5 h-5 text-primary"})}),!s("facebook")&&!s("instagram")&&!s("twitter")&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Frequently Asked"})}),a.jsxs(ue,{className:"space-y-3",children:[a.jsxs(ae,{href:"/booking",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-booking",children:[a.jsx("span",{className:"text-sm",children:"How do I book a facility?"}),a.jsx(Yn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(ae,{href:"/membership",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-membership",children:[a.jsx("span",{className:"text-sm",children:"What membership options are available?"}),a.jsx(Yn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(ae,{href:"/rules",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-rules",children:[a.jsx("span",{className:"text-sm",children:"What are the facility rules?"}),a.jsx(Yn,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsxs(ae,{href:"/events",className:"flex items-center justify-between p-2 rounded-md hover-elevate cursor-pointer","data-testid":"link-faq-events",children:[a.jsx("span",{className:"text-sm",children:"How do I join events?"}),a.jsx(Yn,{className:"w-4 h-4 text-muted-foreground"})]})]})]})]})]})]})]}),a.jsx(nr,{})]})}const Poe={"help-circle":Vl,users:Qr,calendar:gn,"credit-card":V_,clock:_r,"building-2":kn,shield:tc,settings:Mv};function Eoe({item:e,isOpen:t,onToggle:r}){return a.jsxs("div",{className:"border-b border-border last:border-b-0",children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[a.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),a.jsx(Pi,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&a.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function Aoe(){const[e,t]=v.useState({}),{data:r=[],isLoading:n}=ve({queryKey:["/api/faq"]}),s=o=>{t(l=>({...l,[o]:!l[o]}))},i=o=>Poe[o||"help-circle"]||Vl;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Frequently Asked Questions",subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",testId:"text-faq-title"}),a.jsx("section",{className:"py-12 md:py-16",children:a.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[a.jsx(Xa,{items:[{label:"FAQ"}]}),n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):r.length===0?a.jsx(ce,{className:"overflow-visible",children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(Vl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),a.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):a.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:r.map(o=>{const l=i(o.icon);return a.jsx(ce,{className:"overflow-visible","data-testid":`card-faq-${o.id}`,children:a.jsxs(ue,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:a.jsx(l,{className:"w-5 h-5 text-primary"})}),a.jsx("h2",{className:"text-lg font-semibold",children:o.title})]}),a.jsx("div",{children:o.items.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):o.items.map(c=>a.jsx(Eoe,{item:c,isOpen:e[c.id]||!1,onToggle:()=>s(c.id)},c.id))})]})},o.id)})}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx(ce,{className:"inline-block overflow-visible",children:a.jsxs(ue,{className:"p-8",children:[a.jsx(Vl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),a.jsx(ae,{href:"/contact",children:a.jsx(U,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),a.jsx(nr,{})]})}const Ooe={FOUNDING:FD,GOLD:op,SILVER:QD,GUEST:Qr},oO={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},Toe=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],Ioe=[{feature:"Advance Booking Window",founding:"14 days",gold:"7 days",silver:"5 days",guest:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",founding:"25%",gold:"20%",silver:"10%",guest:"None"},{feature:"Monthly Guest Passes",founding:"10",gold:"4",silver:"2",guest:"N/A"},{feature:"Coaching Discount",founding:"20%",gold:"15%",silver:"10%",guest:"None"},{feature:"Event Priority",founding:"VIP",gold:"Priority",silver:"Standard",guest:"Last"}],Roe=[{icon:_r,title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:hK,title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:ev,title:"Guest Passes",description:"Share the experience with friends and family"},{icon:tc,title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function $oe(){const[e,t]=v.useState(null),[r,n]=v.useState(!1),{data:s,isLoading:i}=ve({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const c=await fetch("/api/pricing-tiers");if(!c.ok)throw new Error("Failed to fetch pricing tiers");return c.json()}}),o=v.useMemo(()=>s&&s.length>0?s.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({...c,tagline:c.tier==="FOUNDING"?"Limited & Exclusive":c.tier==="GOLD"?"Premium Access":c.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:c.tier==="FOUNDING"})):Toe,[s]),l=c=>{t(e===c?null:c)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsxs("main",{className:"flex-1",children:[a.jsx(is,{title:"Membership",subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",testId:"text-membership-title"}),a.jsxs("div",{className:"qd-container py-8",children:[a.jsx(Xa,{}),a.jsxs("section",{className:"mt-8 mb-16",children:[a.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Why Become a Member?"}),a.jsx("p",{className:"text-muted-foreground",children:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts."})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:Roe.map((c,u)=>a.jsx(ce,{className:"text-center","data-testid":`card-benefit-${u}`,children:a.jsxs(ue,{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(c.icon,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"font-semibold mb-2",children:c.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})},u))})]}),a.jsxs("section",{className:"mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Membership Tiers"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Choose the membership tier that best fits your lifestyle and sports goals."})]}),i?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(c=>a.jsx(ce,{children:a.jsxs(ue,{className:"p-6 space-y-4",children:[a.jsx(pt,{className:"h-8 w-24"}),a.jsx(pt,{className:"h-10 w-32"}),a.jsx(pt,{className:"h-4 w-full"}),a.jsx(pt,{className:"h-4 w-3/4"})]})},c))}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:o.map(c=>{var h,p,x,m;const u=Ooe[c.tier]||op,d=oO[c.tier]||oO.SILVER,f=e===c.id;return a.jsxs(ce,{className:`relative overflow-visible ${c.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(h=c.tier)==null?void 0:h.toLowerCase()}`,children:[c.featured&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:a.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),c.closed&&a.jsx("div",{className:"absolute -top-3 right-4",children:a.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),a.jsxs(ue,{className:"p-6",children:[a.jsx("div",{className:`w-12 h-12 rounded-full ${d.bg} flex items-center justify-center mb-4`,children:a.jsx(u,{className:`w-6 h-6 ${d.text}`})}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:c.name}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:c.tagline}),a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-3xl font-bold",children:c.price===0?"Free":`PKR ${c.price.toLocaleString()}`}),c.price>0&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",c.billingPeriod]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:c.description}),a.jsxs("button",{onClick:()=>l(c.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(p=c.tier)==null?void 0:p.toLowerCase()}`,children:[f?"Hide":"View"," Benefits",f?a.jsx(Uh,{className:"w-4 h-4"}):a.jsx(Pi,{className:"w-4 h-4"})]}),f&&a.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(x=c.benefits)==null?void 0:x.map((b,y)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx(an,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),a.jsx("span",{children:b})]},y))}),c.closed?a.jsx(U,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):a.jsx(ae,{href:"/register",children:a.jsx(U,{variant:c.featured?"default":"outline",className:"w-full","data-testid":`button-join-${(m=c.tier)==null?void 0:m.toLowerCase()}`,children:c.price===0?"Register Free":"Join Now"})})]})]},c.id)})})]}),a.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?a.jsx(Uh,{className:"w-5 h-5"}):a.jsx(Pi,{className:"w-5 h-5"})]}),r&&a.jsx(ce,{className:"overflow-visible animate-qd-fade-in",children:a.jsx(ue,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),a.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),a.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),a.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),a.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),a.jsx("tbody",{children:Ioe.map((c,u)=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"p-4 text-sm",children:c.feature}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.founding}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.gold}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.silver}),a.jsx("td",{className:"text-center p-4 text-sm font-medium",children:c.guest})]},u))})]})})})})]}),a.jsx("section",{className:"text-center max-w-2xl mx-auto",children:a.jsx(ce,{children:a.jsxs(ue,{className:"p-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ready to Join?"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your account and choose your membership tier to start enjoying exclusive benefits today."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx(ae,{href:"/register",children:a.jsx(U,{"data-testid":"button-create-account",children:"Create Account"})}),a.jsx(ae,{href:"/contact",children:a.jsx(U,{variant:"outline","data-testid":"button-contact-membership",children:"Contact Us"})})]})]})})})]})]}),a.jsx(nr,{})]})}function Moe(){const[,e]=as();return v.useEffect(()=>{e("/roadmap")},[e]),null}function Doe(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsx(rr,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:a.jsx(ce,{className:"w-full max-w-lg mx-4",children:a.jsxs(ue,{className:"pt-8 pb-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),a.jsx(ae,{href:"/",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[a.jsx(q_,{className:"h-4 w-4"}),"Go to Homepage"]})}),a.jsx(ae,{href:"/facilities",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[a.jsx(gn,{className:"h-4 w-4"}),"View Facilities"]})}),a.jsx(ae,{href:"/#membership",children:a.jsxs(U,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[a.jsx(Qr,{className:"h-4 w-4"}),"Membership Plans"]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs(U,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[a.jsx(In,{className:"h-4 w-4"}),"Go Back"]})})]})})}),a.jsx(nr,{})]})}const Loe=sp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Sp=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:fe(Loe({variant:t}),e),...r}));Sp.displayName="Alert";const Foe=v.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",e),...t}));Foe.displayName="AlertTitle";const _p=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",e),...t}));_p.displayName="AlertDescription";function Uoe(e){return xp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Boe(e){return xp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function Voe(e){return xp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}const qoe=[{id:"twitter",name:"X",icon:Voe},{id:"github",name:"GitHub",icon:Boe},{id:"facebook",name:"Facebook",icon:Uoe}];function W6({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=Kd(),{toast:n}=At(),[s,i]=v.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:qoe.map(c=>{const u=c.icon,d=s===c.id;return a.jsxs(U,{type:"button",variant:"outline",className:"gap-2",disabled:s!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?a.jsx(ct,{className:"h-4 w-4 animate-spin"}):a.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var zoe=({as:e="div",...t},r)=>a.jsx(e,{...t,ref:r}),Woe=v.forwardRef(zoe),Hoe="https://challenges.cloudflare.com/turnstile/v0/api.js",rC="cf-turnstile-script",Koe="cf-turnstile",nC="onloadTurnstileCallback",H6=e=>!!document.getElementById(e),Goe=({render:e="explicit",onLoadCallbackName:t=nC,scriptOptions:{nonce:r="",defer:n=!0,async:s=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||rC;if(H6(u))return;let d=document.createElement("script");d.id=u,d.src=`${Hoe}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!s,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},ol={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function Yoe(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function Qoe(e=rC){let[t,r]=v.useState(!1);return v.useEffect(()=>{let n=()=>{H6(e)&&r(!0)},s=new MutationObserver(n);return s.observe(document,{childList:!0,subtree:!0}),n(),()=>{s.disconnect()}},[e]),t}var mh="unloaded",K6,Xoe=new Promise((e,t)=>{K6={resolve:e,reject:t},mh==="ready"&&e(void 0)}),Zoe=(e=nC)=>(mh==="unloaded"&&(mh="loading",window[e]=()=>{K6.resolve(),mh="ready",delete window[e]}),Xoe),sC=v.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:s,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:p,id:x,style:m,as:b="div",injectScript:y=!0,rerenderOnCallbackChange:g=!1,...w}=e,N=n.size,j=v.useCallback(()=>typeof N>"u"?{}:n.execution==="execute"?ol.invisible:n.appearance==="interaction-only"?ol.interactionOnly:ol[N],[n.execution,N,n.appearance]),[S,_]=v.useState(j()),k=v.useRef(null),[C,E]=v.useState(!1),P=v.useRef(void 0),R=v.useRef(!1),O=x||Koe,I=v.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});v.useEffect(()=>{g||(I.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let T=(r==null?void 0:r.id)||rC,D=Qoe(T),q=(r==null?void 0:r.onLoadCallbackName)||nC,A=n.appearance||"always",$=v.useMemo(()=>({sitekey:s,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:Yoe(N),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:Y=>{var L,K;R.current=!0,g?o==null||o(Y):(K=(L=I.current).onSuccess)==null||K.call(L,Y)},"error-callback":g?c:(...Y)=>{var L,K;return(K=(L=I.current).onError)==null?void 0:K.call(L,...Y)},"expired-callback":g?l:(...Y)=>{var L,K;return(K=(L=I.current).onExpire)==null?void 0:K.call(L,...Y)},"before-interactive-callback":g?u:(...Y)=>{var L,K;return(K=(L=I.current).onBeforeInteractive)==null?void 0:K.call(L,...Y)},"after-interactive-callback":g?d:(...Y)=>{var L,K;return(K=(L=I.current).onAfterInteractive)==null?void 0:K.call(L,...Y)},"unsupported-callback":g?f:(...Y)=>{var L,K;return(K=(L=I.current).onUnsupported)==null?void 0:K.call(L,...Y)},"timeout-callback":g?h:(...Y)=>{var L,K;return(K=(L=I.current).onTimeout)==null?void 0:K.call(L,...Y)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,s,N,g,g?o:null,g?c:null,g?l:null,g?u:null,g?d:null,g?f:null,g?h:null]),H=v.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return v.useEffect(function(){y&&!C&&Goe({onLoadCallbackName:q,scriptOptions:{...r,id:T}})},[y,C,r,T]),v.useEffect(function(){mh!=="ready"&&Zoe(q).then(()=>E(!0)).catch(console.error)},[]),v.useEffect(function(){if(!k.current||!C)return;let Y=!1;return(async()=>{if(Y||!k.current)return;let L=window.turnstile.render(k.current,$);P.current=L,P.current&&(i==null||i(P.current))})(),()=>{Y=!0,P.current&&(window.turnstile.remove(P.current),R.current=!1)}},[O,C,$]),v.useImperativeHandle(t,()=>{let{turnstile:Y}=window;return{getResponse(){if(!(Y!=null&&Y.getResponse)||!P.current||!H()){console.warn("Turnstile has not been loaded");return}return Y.getResponse(P.current)},async getResponsePromise(L=3e4,K=100){return new Promise((re,ie)=>{let be,ee=async()=>{if(R.current&&window.turnstile&&P.current)try{let se=window.turnstile.getResponse(P.current);return be&&clearTimeout(be),se?re(se):ie(new Error("No response received"))}catch(se){return be&&clearTimeout(be),console.warn("Failed to get response",se),ie(new Error("Failed to get response"))}be||(be=setTimeout(()=>{be&&clearTimeout(be),ie(new Error("Timeout"))},L)),await new Promise(se=>setTimeout(se,K)),await ee()};ee()})},reset(){if(!(Y!=null&&Y.reset)||!P.current||!H()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&_(ol.invisible);try{R.current=!1,Y.reset(P.current)}catch(L){console.warn(`Failed to reset Turnstile widget ${P}`,L)}},remove(){if(!(Y!=null&&Y.remove)||!P.current||!H()){console.warn("Turnstile has not been loaded");return}_(ol.invisible),R.current=!1,Y.remove(P.current),P.current=null},render(){if(!(Y!=null&&Y.render)||!k.current||!H()||P.current){console.warn("Turnstile has not been loaded or container not found");return}let L=Y.render(k.current,$);return P.current=L,P.current&&(i==null||i(P.current)),n.execution!=="execute"&&_(N?ol[N]:{}),L},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(Y!=null&&Y.execute)||!k.current||!P.current||!H()){console.warn("Turnstile has not been loaded or container not found");return}Y.execute(k.current,$),_(N?ol[N]:{})},isExpired(){return!(Y!=null&&Y.isExpired)||!P.current||!H()?(console.warn("Turnstile has not been loaded"),!1):Y.isExpired(P.current)}}},[P,n.execution,N,$,k,H,C,i]),v.useEffect(()=>{D&&!C&&window.turnstile&&E(!0)},[C,D]),v.useEffect(()=>{_(j())},[n.execution,N,A]),v.useEffect(()=>{!D||typeof p!="function"||p()},[D]),a.jsx(Woe,{ref:k,as:b,id:O,style:{...S,...m},...w})});sC.displayName="Turnstile";const Joe=Qa({email:jt().email("Please enter a valid email address"),password:jt().min(1,"Password is required")});function ele(){const[,e]=as(),{toast:t}=At(),{signIn:r,isSupabaseConfigured:n}=Kd(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),h=v.useRef(null);v.useEffect(()=>{fetch("/api/public-config").then(m=>m.json()).then(m=>{m.turnstileSiteKey&&f(m.turnstileSiteKey)}).catch(()=>{})},[]);const p=ba({resolver:wa(Joe),defaultValues:{email:"",password:""}}),x=async m=>{var b;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(d&&!c){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}l(!0);try{const{error:y,requiresEmailVerification:g}=await r(m.email,m.password);y?(t(g?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:y.message||"Invalid email or password",variant:"destructive"}),(b=h.current)==null||b.reset(),u(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1)}};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx(ae,{href:"/",children:a.jsxs(U,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[a.jsx(In,{className:"w-4 h-4"}),"Back"]})}),a.jsx(ae,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),a.jsx("div",{className:"w-16"})]}),a.jsx(et,{className:"text-2xl font-bold",children:"Welcome Back"}),a.jsx(Kt,{children:"Sign in to your Quarterdeck account"})]}),a.jsxs(ue,{children:[a.jsx(Na,{...p,children:a.jsxs("form",{onSubmit:p.handleSubmit(x),className:"space-y-4",children:[a.jsx(tt,{control:p.control,name:"email",render:({field:m})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...m})}),a.jsx(st,{})]})}),a.jsx(tt,{control:p.control,name:"password",render:({field:m})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:s?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...m}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),"data-testid":"button-toggle-password",children:s?a.jsx(Vh,{className:"h-4 w-4"}):a.jsx($o,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ae,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),d&&a.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:a.jsx(sC,{ref:h,siteKey:d,options:{theme:"dark"},onSuccess:m=>u(m),onError:()=>u(null),onExpire:()=>u(null)})}),a.jsx(U,{type:"submit",className:"w-full",disabled:o,"data-testid":"button-login",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),a.jsx("div",{className:"mt-6",children:a.jsx(W6,{mode:"signin"})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),a.jsx(ae,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Sp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(_p,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(ae,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}function aC(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yb="Checkbox",[tle]=yn(yb),[rle,iC]=tle(yb);function nle(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ns({prop:r,defaultProp:s??!1,onChange:c,caller:yb}),[x,m]=v.useState(null),[b,y]=v.useState(null),g=v.useRef(!1),w=x?!!o||!!x.closest("form"):!0,N={checked:h,disabled:i,setChecked:p,control:x,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Ao(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:y};return a.jsx(rle,{scope:t,...N,children:sle(f)?f(N):n})}var G6="CheckboxTrigger",Y6=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=iC(G6,e),m=rt(s,d),b=v.useRef(c);return v.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const g=()=>f(b.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[i,f]),a.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Ao(c)?"mixed":c,"aria-required":u,"data-state":eU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:me(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:me(r,y=>{f(g=>Ao(g)?!0:!g),x&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});Y6.displayName=G6;var oC=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(nle,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(Y6,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(J6,{__scopeCheckbox:r})]})})});oC.displayName=yb;var Q6="CheckboxIndicator",X6=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=iC(Q6,r);return a.jsx(Xr,{present:n||Ao(i.checked)||i.checked===!0,children:a.jsx(Oe.span,{"data-state":eU(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});X6.displayName=Q6;var Z6="CheckboxBubbleInput",J6=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=iC(Z6,e),x=rt(r,p),m=aC(i),b=Z_(n);v.useEffect(()=>{const g=h;if(!g)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,S=!s.current;if(m!==i&&j){const _=new Event("click",{bubbles:S});g.indeterminate=Ao(i),j.call(g,Ao(i)?!1:i),g.dispatchEvent(_)}},[h,m,i,s]);const y=v.useRef(Ao(i)?!1:i);return a.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});J6.displayName=Z6;function sle(e){return typeof e=="function"}function Ao(e){return e==="indeterminate"}function eU(e){return Ao(e)?"indeterminate":e?"checked":"unchecked"}const tU=v.forwardRef(({className:e,...t},r)=>a.jsx(oC,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(X6,{className:fe("flex items-center justify-center text-current"),children:a.jsx(an,{className:"h-4 w-4"})})}));tU.displayName=oC.displayName;const ale=Qa({email:jt().email("Please enter a valid email address"),password:jt().min(8,"Password must be at least 8 characters"),confirmPassword:jt(),firstName:jt().min(1,"First name is required"),lastName:jt().min(1,"Last name is required"),phone:jt().optional(),termsAccepted:$k().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ile(){const[,e]=as(),{toast:t}=At(),{signUp:r,isSupabaseConfigured:n}=Kd(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,p]=v.useState(null),x=v.useRef(null);v.useEffect(()=>{fetch("/api/public-config").then(y=>y.json()).then(y=>{y.turnstileSiteKey&&p(y.turnstileSiteKey)}).catch(()=>{})},[]);const m=ba({resolver:wa(ale),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),b=async y=>{var g;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(h&&!d){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}u(!0);try{const{error:w}=await r(y.email,y.password,{firstName:y.firstName,lastName:y.lastName});w?(t({title:"Signup failed",description:w.message||"Failed to create account",variant:"destructive"}),(g=x.current)==null||g.reset(),f(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{u(!1)}};return n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(ae,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Create Account"}),a.jsx(Kt,{children:"Join The Quarterdeck community"})]}),a.jsxs(ue,{children:[a.jsx(Na,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(b),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(tt,{control:m.control,name:"firstName",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"First Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"John","data-testid":"input-first-name",...y})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"lastName",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Last Name"}),a.jsx(Xe,{children:a.jsx(ne,{placeholder:"Doe","data-testid":"input-last-name",...y})}),a.jsx(st,{})]})})]}),a.jsx(tt,{control:m.control,name:"email",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...y})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"phone",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Phone (Optional)"}),a.jsx(Xe,{children:a.jsx(ne,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...y})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"password",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:s?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...y}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),"data-testid":"button-toggle-password",children:s?a.jsx(Vh,{className:"h-4 w-4"}):a.jsx($o,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"confirmPassword",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Confirm Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:o?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...y}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>l(!o),"data-testid":"button-toggle-confirm-password",children:o?a.jsx(Vh,{className:"h-4 w-4"}):a.jsx($o,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"termsAccepted",render:({field:y})=>a.jsxs(Qe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Xe,{children:a.jsx(tU,{checked:y.value,onCheckedChange:y.onChange,"data-testid":"checkbox-terms"})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsxs(nt,{className:"text-sm font-normal",children:["I agree to the"," ",a.jsx(ae,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",a.jsx(ae,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),a.jsx(st,{})]})]})}),h&&a.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:a.jsx(sC,{ref:x,siteKey:h,options:{theme:"dark"},onSuccess:y=>f(y),onError:()=>f(null),onExpire:()=>f(null)})}),a.jsx(U,{type:"submit",className:"w-full",disabled:c,"data-testid":"button-signup",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),a.jsx("div",{className:"mt-6",children:a.jsx(W6,{mode:"signup"})}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),a.jsx(ae,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Sp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(_p,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(ae,{href:"/",children:a.jsx(U,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const ole=Qa({email:jt().email("Please enter a valid email address")});function lle(){const{toast:e}=At(),{resetPassword:t,isSupabaseConfigured:r}=Kd(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),l=ba({resolver:wa(ole),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):s(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Check Your Email"}),a.jsx(Kt,{children:"If an account exists with that email, we've sent password reset instructions."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"The link will expire in 60 minutes."}),a.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",a.jsx("button",{onClick:()=>s(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),a.jsx(ae,{href:"/login",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[a.jsx(In,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a.jsx(ip,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Forgot Password?"}),a.jsx(Kt,{children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs(ue,{children:[a.jsx(Na,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[a.jsx(tt,{control:l.control,name:"email",render:({field:u})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Email"}),a.jsx(Xe,{children:a.jsx(ne,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(ae,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[a.jsx(In,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Service Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Sp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(_p,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(ae,{href:"/login",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const cle=Qa({password:jt().min(8,"Password must be at least 8 characters"),confirmPassword:jt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ule(){as();const{toast:e}=At(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:s}=Kd(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[p,x]=v.useState(!0),m=ba({resolver:wa(cle),defaultValues:{password:"",confirmPassword:""}});v.useEffect(()=>{if(!s){const y=setTimeout(()=>{x(!1)},1e3);return()=>clearTimeout(y)}},[s]);const b=async y=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:g}=await t(y.password);g?e({title:"Reset failed",description:g.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||s?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(ce,{className:"w-full max-w-md",children:a.jsxs(ue,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[a.jsx(ct,{className:"h-8 w-8 animate-spin text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Password Reset!"}),a.jsx(Kt,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),a.jsx(ue,{children:a.jsx(ae,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(ae,{href:"/",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:a.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(Kt,{children:"Enter your new password below"})]}),a.jsx(ue,{children:a.jsx(Na,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(b),className:"space-y-4",children:[a.jsx(tt,{control:m.control,name:"password",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"New Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...y}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?a.jsx(Vh,{className:"h-4 w-4"}):a.jsx($o,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(tt,{control:m.control,name:"confirmPassword",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Confirm New Password"}),a.jsx(Xe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ne,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...y}),a.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?a.jsx(Vh,{className:"h-4 w-4"}):a.jsx($o,{className:"h-4 w-4"})})]})}),a.jsx(st,{})]})}),a.jsx(U,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($n,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Session Expired"}),a.jsx(Kt,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx(ae,{href:"/forgot-password",children:a.jsx(U,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),a.jsx(ae,{href:"/login",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsx(Ge,{className:"text-center",children:a.jsx(et,{className:"text-2xl font-bold",children:"Service Unavailable"})}),a.jsxs(ue,{children:[a.jsxs(Sp,{variant:"destructive",children:[a.jsx($n,{className:"h-4 w-4"}),a.jsx(_p,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(ae,{href:"/login",children:a.jsx(U,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function dle(){const[,e]=as(),{isAuthenticated:t,isLoading:r}=Kd(),[n,s]=v.useState("checking");return v.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(s("verified"),setTimeout(()=>{e("/")},2e3)):s("pending"))})()},[t,r,e]),n==="checking"||r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(ce,{className:"w-full max-w-md",children:a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(ct,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),a.jsx(et,{className:"text-2xl font-bold",children:"Verifying Email"}),a.jsx(Kt,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Email Verified!"}),a.jsx(Kt,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),a.jsx(ue,{children:a.jsx(ae,{href:"/",children:a.jsx(U,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!oF()?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($n,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Verification Failed"}),a.jsx(Kt,{children:"This verification link is invalid or has expired."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx(ae,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:a.jsx(ip,{className:"h-8 w-8 text-muted-foreground"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Check Your Email"}),a.jsx(Kt,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"The link will expire in 24 hours."}),a.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),a.jsx(ae,{href:"/login",children:a.jsx(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function fle(){const[,e]=as(),[t,r]=v.useState("loading"),[n,s]=v.useState("");return v.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),s("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(ce,{className:"w-full max-w-md",children:a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(ct,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),a.jsx(et,{className:"text-2xl font-bold",children:"Processing"}),a.jsx(Kt,{children:"Please wait while we complete your request..."})]})})}):t==="success"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(ce,{className:"w-full max-w-md",children:a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Ss,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Success!"}),a.jsx(Kt,{children:n})]})})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ce,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx($n,{className:"h-8 w-8 text-destructive"})})}),a.jsx(et,{className:"text-2xl font-bold",children:"Something Went Wrong"}),a.jsx(Kt,{children:n})]}),a.jsx(ue,{className:"space-y-4",children:a.jsx(ae,{href:"/login",children:a.jsx(U,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var lO=1,hle=.9,mle=.8,ple=.17,Sw=.1,_w=.999,gle=.9999,vle=.99,yle=/[\\\/_+.#"@\[\(\{&]/,xle=/[\\\/_+.#"@\[\(\{&]/g,ble=/[\s-]/,rU=/[\s-]/g;function J1(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?lO:vle;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,s),d=0,f,h,p,x;u>=0;)f=J1(e,t,r,n,u+1,i+1,o),f>d&&(u===s?f*=lO:yle.test(e.charAt(u-1))?(f*=mle,p=e.slice(s,u-1).match(xle),p&&s>0&&(f*=Math.pow(_w,p.length))):ble.test(e.charAt(u-1))?(f*=hle,x=e.slice(s,u-1).match(rU),x&&s>0&&(f*=Math.pow(_w,x.length))):(f*=ple,s>0&&(f*=Math.pow(_w,u-s))),e.charAt(u)!==t.charAt(i)&&(f*=gle)),(f<Sw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=J1(e,t,r,n,u+1,i+2,o),h*Sw>f&&(f=h*Sw)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function cO(e){return e.toLowerCase().replace(rU," ")}function wle(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,J1(e,t,cO(e),cO(t),0,0,{})}var Pf='[cmdk-group=""]',kw='[cmdk-group-items=""]',jle='[cmdk-group-heading=""]',nU='[cmdk-item=""]',uO=`${nU}:not([aria-disabled="true"])`,eN="cmdk-item-select",tu="data-value",Nle=(e,t,r)=>wle(e,t,r),sU=v.createContext(void 0),kp=()=>v.useContext(sU),aU=v.createContext(void 0),lC=()=>v.useContext(aU),iU=v.createContext(void 0),oU=v.forwardRef((e,t)=>{let r=ru(()=>{var L,K;return{search:"",value:(K=(L=e.value)!=null?L:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ru(()=>new Set),s=ru(()=>new Map),i=ru(()=>new Map),o=ru(()=>new Set),l=lU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:x,disablePointerSelection:m=!1,vimBindings:b=!0,...y}=e,g=Rr(),w=Rr(),N=Rr(),j=v.useRef(null),S=Rle();cc(()=>{if(d!==void 0){let L=d.trim();r.current.value=L,_.emit()}},[d]),cc(()=>{S(6,O)},[]);let _=v.useMemo(()=>({subscribe:L=>(o.current.add(L),()=>o.current.delete(L)),snapshot:()=>r.current,setState:(L,K,re)=>{var ie,be,ee,se;if(!Object.is(r.current[L],K)){if(r.current[L]=K,L==="search")R(),E(),S(1,P);else if(L==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(N);Q?Q.focus():(ie=document.getElementById(g))==null||ie.focus()}if(S(7,()=>{var Q;r.current.selectedItemId=(Q=I())==null?void 0:Q.id,_.emit()}),re||S(5,O),((be=l.current)==null?void 0:be.value)!==void 0){let Q=K??"";(se=(ee=l.current).onValueChange)==null||se.call(ee,Q);return}}_.emit()}},emit:()=>{o.current.forEach(L=>L())}}),[]),k=v.useMemo(()=>({value:(L,K,re)=>{var ie;K!==((ie=i.current.get(L))==null?void 0:ie.value)&&(i.current.set(L,{value:K,keywords:re}),r.current.filtered.items.set(L,C(K,re)),S(2,()=>{E(),_.emit()}))},item:(L,K)=>(n.current.add(L),K&&(s.current.has(K)?s.current.get(K).add(L):s.current.set(K,new Set([L]))),S(3,()=>{R(),E(),r.current.value||P(),_.emit()}),()=>{i.current.delete(L),n.current.delete(L),r.current.filtered.items.delete(L);let re=I();S(4,()=>{R(),(re==null?void 0:re.getAttribute("id"))===L&&P(),_.emit()})}),group:L=>(s.current.has(L)||s.current.set(L,new Set),()=>{i.current.delete(L),s.current.delete(L)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:g,inputId:N,labelId:w,listInnerRef:j}),[]);function C(L,K){var re,ie;let be=(ie=(re=l.current)==null?void 0:re.filter)!=null?ie:Nle;return L?be(L,r.current.search,K):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let L=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(ie=>{let be=s.current.get(ie),ee=0;be.forEach(se=>{let Q=L.get(se);ee=Math.max(Q,ee)}),K.push([ie,ee])});let re=j.current;T().sort((ie,be)=>{var ee,se;let Q=ie.getAttribute("id"),X=be.getAttribute("id");return((ee=L.get(X))!=null?ee:0)-((se=L.get(Q))!=null?se:0)}).forEach(ie=>{let be=ie.closest(kw);be?be.appendChild(ie.parentElement===be?ie:ie.closest(`${kw} > *`)):re.appendChild(ie.parentElement===re?ie:ie.closest(`${kw} > *`))}),K.sort((ie,be)=>be[1]-ie[1]).forEach(ie=>{var be;let ee=(be=j.current)==null?void 0:be.querySelector(`${Pf}[${tu}="${encodeURIComponent(ie[0])}"]`);ee==null||ee.parentElement.appendChild(ee)})}function P(){let L=T().find(re=>re.getAttribute("aria-disabled")!=="true"),K=L==null?void 0:L.getAttribute(tu);_.setState("value",K||void 0)}function R(){var L,K,re,ie;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let be=0;for(let ee of n.current){let se=(K=(L=i.current.get(ee))==null?void 0:L.value)!=null?K:"",Q=(ie=(re=i.current.get(ee))==null?void 0:re.keywords)!=null?ie:[],X=C(se,Q);r.current.filtered.items.set(ee,X),X>0&&be++}for(let[ee,se]of s.current)for(let Q of se)if(r.current.filtered.items.get(Q)>0){r.current.filtered.groups.add(ee);break}r.current.filtered.count=be}function O(){var L,K,re;let ie=I();ie&&(((L=ie.parentElement)==null?void 0:L.firstChild)===ie&&((re=(K=ie.closest(Pf))==null?void 0:K.querySelector(jle))==null||re.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function I(){var L;return(L=j.current)==null?void 0:L.querySelector(`${nU}[aria-selected="true"]`)}function T(){var L;return Array.from(((L=j.current)==null?void 0:L.querySelectorAll(uO))||[])}function D(L){let K=T()[L];K&&_.setState("value",K.getAttribute(tu))}function q(L){var K;let re=I(),ie=T(),be=ie.findIndex(se=>se===re),ee=ie[be+L];(K=l.current)!=null&&K.loop&&(ee=be+L<0?ie[ie.length-1]:be+L===ie.length?ie[0]:ie[be+L]),ee&&_.setState("value",ee.getAttribute(tu))}function A(L){let K=I(),re=K==null?void 0:K.closest(Pf),ie;for(;re&&!ie;)re=L>0?Tle(re,Pf):Ile(re,Pf),ie=re==null?void 0:re.querySelector(uO);ie?_.setState("value",ie.getAttribute(tu)):q(L)}let $=()=>D(T().length-1),H=L=>{L.preventDefault(),L.metaKey?$():L.altKey?A(1):q(1)},Y=L=>{L.preventDefault(),L.metaKey?D(0):L.altKey?A(-1):q(-1)};return v.createElement(Oe.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:L=>{var K;(K=y.onKeyDown)==null||K.call(y,L);let re=L.nativeEvent.isComposing||L.keyCode===229;if(!(L.defaultPrevented||re))switch(L.key){case"n":case"j":{b&&L.ctrlKey&&H(L);break}case"ArrowDown":{H(L);break}case"p":case"k":{b&&L.ctrlKey&&Y(L);break}case"ArrowUp":{Y(L);break}case"Home":{L.preventDefault(),D(0);break}case"End":{L.preventDefault(),$();break}case"Enter":{L.preventDefault();let ie=I();if(ie){let be=new Event(eN);ie.dispatchEvent(be)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:Mle},c),xb(e,L=>v.createElement(aU.Provider,{value:_},v.createElement(sU.Provider,{value:k},L))))}),Sle=v.forwardRef((e,t)=>{var r,n;let s=Rr(),i=v.useRef(null),o=v.useContext(iU),l=kp(),c=lU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;cc(()=>{if(!u)return l.item(s,o==null?void 0:o.id)},[u]);let d=cU(s,i,[e.value,e.children,i],e.keywords),f=lC(),h=qo(S=>S.value&&S.value===d.current),p=qo(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);v.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(eN,x),()=>S.removeEventListener(eN,x)},[p,e.onSelect,e.disabled]);function x(){var S,_;m(),(_=(S=c.current).onSelect)==null||_.call(S,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:y,onSelect:g,forceMount:w,keywords:N,...j}=e;return v.createElement(Oe.div,{ref:Un(i,t),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:m,onClick:b?void 0:x},e.children)}),_le=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=Rr(),l=v.useRef(null),c=v.useRef(null),u=Rr(),d=kp(),f=qo(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);cc(()=>d.group(o),[]),cU(o,l,[e.value,e.heading,c]);let h=v.useMemo(()=>({id:o,forceMount:s}),[s]);return v.createElement(Oe.div,{ref:Un(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),xb(e,p=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},v.createElement(iU.Provider,{value:h},p))))}),kle=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=v.useRef(null),i=qo(o=>!o.search);return!r&&!i?null:v.createElement(Oe.div,{ref:Un(s,t),...n,"cmdk-separator":"",role:"separator"})}),Cle=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=lC(),o=qo(u=>u.search),l=qo(u=>u.selectedItemId),c=kp();return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Oe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Ple=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=v.useRef(null),o=v.useRef(null),l=qo(u=>u.selectedItemId),c=kp();return v.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),v.createElement(Oe.div,{ref:Un(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},xb(e,u=>v.createElement("div",{ref:Un(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Ele=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...l}=e;return v.createElement(Fk,{open:r,onOpenChange:n},v.createElement(Uk,{container:o},v.createElement(ub,{"cmdk-overlay":"",className:s}),v.createElement(db,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(oU,{ref:t,...l}))))}),Ale=v.forwardRef((e,t)=>qo(r=>r.filtered.count===0)?v.createElement(Oe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Ole=v.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return v.createElement(Oe.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},xb(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),os=Object.assign(oU,{List:Ple,Item:Sle,Input:Cle,Group:_le,Separator:kle,Dialog:Ele,Empty:Ale,Loading:Ole});function Tle(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Ile(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function lU(e){let t=v.useRef(e);return cc(()=>{t.current=e}),t}var cc=typeof window>"u"?v.useEffect:v.useLayoutEffect;function ru(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function qo(e){let t=lC(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function cU(e,t,r,n=[]){let s=v.useRef(),i=kp();return cc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(tu,l),s.current=l}),s}var Rle=()=>{let[e,t]=v.useState(),r=ru(()=>new Map);return cc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function $le(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function xb({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement($le(t),{ref:t.ref},r(t.props.children)):r(t)}var Mle={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const uU=v.forwardRef(({className:e,...t},r)=>a.jsx(os,{ref:r,className:fe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));uU.displayName=os.displayName;const Dle=({children:e,...t})=>a.jsx(xr,{...t,children:a.jsx(cr,{className:"overflow-hidden p-0 shadow-lg",children:a.jsx(uU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),dU=v.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx($x,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(os.Input,{ref:r,className:fe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));dU.displayName=os.Input.displayName;const fU=v.forwardRef(({className:e,...t},r)=>a.jsx(os.List,{ref:r,className:fe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));fU.displayName=os.List.displayName;const hU=v.forwardRef((e,t)=>a.jsx(os.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));hU.displayName=os.Empty.displayName;const Yf=v.forwardRef(({className:e,...t},r)=>a.jsx(os.Group,{ref:r,className:fe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Yf.displayName=os.Group.displayName;const Lle=v.forwardRef(({className:e,...t},r)=>a.jsx(os.Separator,{ref:r,className:fe("-mx-1 h-px bg-border",e),...t}));Lle.displayName=os.Separator.displayName;const Qf=v.forwardRef(({className:e,...t},r)=>a.jsx(os.Item,{ref:r,className:fe("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Qf.displayName=os.Item.displayName;const Fle=3e4,dO=["mousemove","keydown","click","scroll","touchstart"],Ule=5e3;function Ble(){const[,e]=as(),{toast:t}=At(),[r,n]=v.useState(null),s=v.useRef(Date.now()),i=v.useRef(null),o=v.useRef(!1),l=v.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=v.useCallback(async()=>{try{const f=await(await Ae("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=v.useCallback(()=>{const d=Date.now();d-s.current>Ule&&(s.current=d,c())},[c]);return v.useEffect(()=>(c(),i.current=setInterval(c,Fle),dO.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),dO.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),v.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}function Vle(e){return[{path:e,label:"Dashboard",icon:gK},{path:`${e}/branding`,label:"Branding & Nav",icon:SK},{path:`${e}/homepage`,label:"Site Content",icon:q_},{path:`${e}/coming-soon`,label:"Coming Soon",icon:_r},{path:`${e}/facilities`,label:"Facilities",icon:kn},{path:`${e}/bookings`,label:"Bookings",icon:V_},{path:`${e}/members`,label:"Members",icon:Qr},{path:`${e}/roadmap`,label:"Construction Status",icon:zD},{path:`${e}/events`,label:"Events & Academies",icon:gn},{path:`${e}/pricing`,label:"Pricing Tiers",icon:m1},{path:`${e}/announcements`,label:"Announcements",icon:ed},{path:`${e}/careers`,label:"Careers",icon:Fh},{path:`${e}/rules`,label:"Rules & Safety",icon:ec},{path:`${e}/faq`,label:"FAQ",icon:Vl},{path:`${e}/policies`,label:"Privacy & Terms",icon:qh},{path:`${e}/gallery`,label:"Gallery",icon:Ei},{path:`${e}/site-images`,label:"Site Images",icon:Ei}]}function Nt({children:e,title:t}){var y,g;const[r,n]=as(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),{adminPath:c}=dp();Ble();const u=`/${c}`,d=v.useMemo(()=>Vle(u),[u]),{data:f,isLoading:h}=ve({queryKey:["/api/auth/user"]}),{data:p}=ve({queryKey:["/api/admin/users"]}),{data:x}=ve({queryKey:["/api/admin/bookings"]}),{data:m}=ve({queryKey:["/api/admin/facilities"]});v.useEffect(()=>{const w=N=>{N.key==="k"&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),l(j=>!j))};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const b=v.useCallback(w=>{l(!1),n(w)},[n]);return h?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!f||f.role!=="ADMIN"&&f.role!=="SUPER_ADMIN"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You need administrator privileges to access this page."}),a.jsx(ae,{href:"/",children:a.jsxs(U,{children:[a.jsx(In,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(U,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!s),"data-testid":"button-mobile-menu",children:s?a.jsx(td,{className:"h-5 w-5"}):a.jsx(GD,{className:"h-5 w-5"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),a.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs(ae,{href:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),a.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1",children:d.map(w=>{const N=w.icon,j=r===w.path||w.path!=="/admin"&&r.startsWith(w.path);return a.jsx(ae,{href:w.path,children:a.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${j?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${w.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(N,{className:"w-4 h-4"}),w.label]})},w.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsx(ae,{href:"/",children:a.jsxs(U,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[a.jsx(In,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),a.jsxs("main",{className:"lg:ml-64",children:[a.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(U,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[a.jsx($x,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),a.jsx("span",{className:"inline sm:hidden",children:"Search..."}),a.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[a.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),a.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?a.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):a.jsxs("span",{className:"text-xs font-medium",children:[(y=f.firstName)==null?void 0:y[0],(g=f.lastName)==null?void 0:g[0]]})})]})]})}),a.jsxs(Dle,{open:o,onOpenChange:l,children:[a.jsx(dU,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),a.jsxs(fU,{children:[a.jsx(hU,{children:"No results found."}),a.jsx(Yf,{heading:"Navigation",children:d.map(w=>a.jsxs(Qf,{value:w.label,onSelect:()=>b(w.path),"data-testid":`search-nav-${w.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(w.icon,{className:"mr-2 h-4 w-4"}),w.label]},w.path))}),m&&m.length>0&&a.jsx(Yf,{heading:"Facilities",children:m.slice(0,5).map(w=>a.jsxs(Qf,{value:`facility ${w.name} ${w.slug}`,onSelect:()=>b("/admin/facilities"),"data-testid":`search-facility-${w.id}`,children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),w.name]},w.id))}),p&&p.length>0&&a.jsx(Yf,{heading:"Users",children:p.slice(0,5).map(w=>a.jsxs(Qf,{value:`user ${w.firstName} ${w.lastName} ${w.email}`,onSelect:()=>b("/admin/bookings"),"data-testid":`search-user-${w.id}`,children:[a.jsx(Qr,{className:"mr-2 h-4 w-4"}),w.firstName," ",w.lastName," - ",w.email]},w.id))}),x&&x.length>0&&a.jsx(Yf,{heading:"Recent Bookings",children:x.slice(0,5).map(w=>{const N=m==null?void 0:m.find(j=>j.id===w.facilityId);return a.jsxs(Qf,{value:`booking ${w.id} ${N==null?void 0:N.name} ${w.date}`,onSelect:()=>b("/admin/bookings"),"data-testid":`search-booking-${w.id}`,children:[a.jsx(gn,{className:"mr-2 h-4 w-4"}),N==null?void 0:N.name," - ",w.date," at ",w.startTime]},w.id)})})]})]}),a.jsx("div",{className:"p-6",children:e})]})]})}const es=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",e),...t})}));es.displayName="Table";const ts=v.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",e),...t}));ts.displayName="TableHeader";const rs=v.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",e),...t}));rs.displayName="TableBody";const qle=v.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qle.displayName="TableFooter";const wt=v.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));wt.displayName="TableRow";const ke=v.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ke.displayName="TableHead";const we=v.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableCell";const zle=v.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",e),...t}));zle.displayName="TableCaption";var Wle=Array.isArray,ls=Wle,Hle=typeof qp=="object"&&qp&&qp.Object===Object&&qp,mU=Hle,Kle=mU,Gle=typeof self=="object"&&self&&self.Object===Object&&self,Yle=Kle||Gle||Function("return this")(),Za=Yle,Qle=Za,Xle=Qle.Symbol,Cp=Xle,fO=Cp,pU=Object.prototype,Zle=pU.hasOwnProperty,Jle=pU.toString,Ef=fO?fO.toStringTag:void 0;function ece(e){var t=Zle.call(e,Ef),r=e[Ef];try{e[Ef]=void 0;var n=!0}catch{}var s=Jle.call(e);return n&&(t?e[Ef]=r:delete e[Ef]),s}var tce=ece,rce=Object.prototype,nce=rce.toString;function sce(e){return nce.call(e)}var ace=sce,hO=Cp,ice=tce,oce=ace,lce="[object Null]",cce="[object Undefined]",mO=hO?hO.toStringTag:void 0;function uce(e){return e==null?e===void 0?cce:lce:mO&&mO in Object(e)?ice(e):oce(e)}var Ui=uce;function dce(e){return e!=null&&typeof e=="object"}var Bi=dce,fce=Ui,hce=Bi,mce="[object Symbol]";function pce(e){return typeof e=="symbol"||hce(e)&&fce(e)==mce}var Yd=pce,gce=ls,vce=Yd,yce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xce=/^\w*$/;function bce(e,t){if(gce(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vce(e)?!0:xce.test(e)||!yce.test(e)||t!=null&&e in Object(t)}var cC=bce;function wce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yo=wce;const Qd=It(Yo);var jce=Ui,Nce=Yo,Sce="[object AsyncFunction]",_ce="[object Function]",kce="[object GeneratorFunction]",Cce="[object Proxy]";function Pce(e){if(!Nce(e))return!1;var t=jce(e);return t==_ce||t==kce||t==Sce||t==Cce}var uC=Pce;const at=It(uC);var Ece=Za,Ace=Ece["__core-js_shared__"],Oce=Ace,Cw=Oce,pO=function(){var e=/[^.]+$/.exec(Cw&&Cw.keys&&Cw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Tce(e){return!!pO&&pO in e}var Ice=Tce,Rce=Function.prototype,$ce=Rce.toString;function Mce(e){if(e!=null){try{return $ce.call(e)}catch{}try{return e+""}catch{}}return""}var gU=Mce,Dce=uC,Lce=Ice,Fce=Yo,Uce=gU,Bce=/[\\^$.*+?()[\]{}|]/g,Vce=/^\[object .+?Constructor\]$/,qce=Function.prototype,zce=Object.prototype,Wce=qce.toString,Hce=zce.hasOwnProperty,Kce=RegExp("^"+Wce.call(Hce).replace(Bce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gce(e){if(!Fce(e)||Lce(e))return!1;var t=Dce(e)?Kce:Vce;return t.test(Uce(e))}var Yce=Gce;function Qce(e,t){return e==null?void 0:e[t]}var Xce=Qce,Zce=Yce,Jce=Xce;function eue(e,t){var r=Jce(e,t);return Zce(r)?r:void 0}var kc=eue,tue=kc,rue=tue(Object,"create"),bb=rue,gO=bb;function nue(){this.__data__=gO?gO(null):{},this.size=0}var sue=nue;function aue(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var iue=aue,oue=bb,lue="__lodash_hash_undefined__",cue=Object.prototype,uue=cue.hasOwnProperty;function due(e){var t=this.__data__;if(oue){var r=t[e];return r===lue?void 0:r}return uue.call(t,e)?t[e]:void 0}var fue=due,hue=bb,mue=Object.prototype,pue=mue.hasOwnProperty;function gue(e){var t=this.__data__;return hue?t[e]!==void 0:pue.call(t,e)}var vue=gue,yue=bb,xue="__lodash_hash_undefined__";function bue(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yue&&t===void 0?xue:t,this}var wue=bue,jue=sue,Nue=iue,Sue=fue,_ue=vue,kue=wue;function Xd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xd.prototype.clear=jue;Xd.prototype.delete=Nue;Xd.prototype.get=Sue;Xd.prototype.has=_ue;Xd.prototype.set=kue;var Cue=Xd;function Pue(){this.__data__=[],this.size=0}var Eue=Pue;function Aue(e,t){return e===t||e!==e&&t!==t}var dC=Aue,Oue=dC;function Tue(e,t){for(var r=e.length;r--;)if(Oue(e[r][0],t))return r;return-1}var wb=Tue,Iue=wb,Rue=Array.prototype,$ue=Rue.splice;function Mue(e){var t=this.__data__,r=Iue(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$ue.call(t,r,1),--this.size,!0}var Due=Mue,Lue=wb;function Fue(e){var t=this.__data__,r=Lue(t,e);return r<0?void 0:t[r][1]}var Uue=Fue,Bue=wb;function Vue(e){return Bue(this.__data__,e)>-1}var que=Vue,zue=wb;function Wue(e,t){var r=this.__data__,n=zue(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Hue=Wue,Kue=Eue,Gue=Due,Yue=Uue,Que=que,Xue=Hue;function Zd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zd.prototype.clear=Kue;Zd.prototype.delete=Gue;Zd.prototype.get=Yue;Zd.prototype.has=Que;Zd.prototype.set=Xue;var jb=Zd,Zue=kc,Jue=Za,ede=Zue(Jue,"Map"),fC=ede,vO=Cue,tde=jb,rde=fC;function nde(){this.size=0,this.__data__={hash:new vO,map:new(rde||tde),string:new vO}}var sde=nde;function ade(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ide=ade,ode=ide;function lde(e,t){var r=e.__data__;return ode(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Nb=lde,cde=Nb;function ude(e){var t=cde(this,e).delete(e);return this.size-=t?1:0,t}var dde=ude,fde=Nb;function hde(e){return fde(this,e).get(e)}var mde=hde,pde=Nb;function gde(e){return pde(this,e).has(e)}var vde=gde,yde=Nb;function xde(e,t){var r=yde(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var bde=xde,wde=sde,jde=dde,Nde=mde,Sde=vde,_de=bde;function Jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jd.prototype.clear=wde;Jd.prototype.delete=jde;Jd.prototype.get=Nde;Jd.prototype.has=Sde;Jd.prototype.set=_de;var hC=Jd,vU=hC,kde="Expected a function";function mC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kde);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(mC.Cache||vU),r}mC.Cache=vU;var yU=mC;const Cde=It(yU);var Pde=yU,Ede=500;function Ade(e){var t=Pde(e,function(n){return r.size===Ede&&r.clear(),n}),r=t.cache;return t}var Ode=Ade,Tde=Ode,Ide=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rde=/\\(\\)?/g,$de=Tde(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ide,function(r,n,s,i){t.push(s?i.replace(Rde,"$1"):n||r)}),t}),Mde=$de;function Dde(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var pC=Dde,yO=Cp,Lde=pC,Fde=ls,Ude=Yd,xO=yO?yO.prototype:void 0,bO=xO?xO.toString:void 0;function xU(e){if(typeof e=="string")return e;if(Fde(e))return Lde(e,xU)+"";if(Ude(e))return bO?bO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Bde=xU,Vde=Bde;function qde(e){return e==null?"":Vde(e)}var bU=qde,zde=ls,Wde=cC,Hde=Mde,Kde=bU;function Gde(e,t){return zde(e)?e:Wde(e,t)?[e]:Hde(Kde(e))}var wU=Gde,Yde=Yd;function Qde(e){if(typeof e=="string"||Yde(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Sb=Qde,Xde=wU,Zde=Sb;function Jde(e,t){t=Xde(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Zde(t[r++])];return r&&r==n?e:void 0}var gC=Jde,efe=gC;function tfe(e,t,r){var n=e==null?void 0:efe(e,t);return n===void 0?r:n}var jU=tfe;const js=It(jU);function rfe(e){return e==null}var nfe=rfe;const vt=It(nfe);var sfe=Ui,afe=ls,ife=Bi,ofe="[object String]";function lfe(e){return typeof e=="string"||!afe(e)&&ife(e)&&sfe(e)==ofe}var cfe=lfe;const uc=It(cfe);var NU={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=Symbol.for("react.element"),yC=Symbol.for("react.portal"),_b=Symbol.for("react.fragment"),kb=Symbol.for("react.strict_mode"),Cb=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Eb=Symbol.for("react.context"),ufe=Symbol.for("react.server_context"),Ab=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),Tb=Symbol.for("react.suspense_list"),Ib=Symbol.for("react.memo"),Rb=Symbol.for("react.lazy"),dfe=Symbol.for("react.offscreen"),SU;SU=Symbol.for("react.module.reference");function Ks(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vC:switch(e=e.type,e){case _b:case Cb:case kb:case Ob:case Tb:return e;default:switch(e=e&&e.$$typeof,e){case ufe:case Eb:case Ab:case Rb:case Ib:case Pb:return e;default:return t}}case yC:return t}}}Ut.ContextConsumer=Eb;Ut.ContextProvider=Pb;Ut.Element=vC;Ut.ForwardRef=Ab;Ut.Fragment=_b;Ut.Lazy=Rb;Ut.Memo=Ib;Ut.Portal=yC;Ut.Profiler=Cb;Ut.StrictMode=kb;Ut.Suspense=Ob;Ut.SuspenseList=Tb;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(e){return Ks(e)===Eb};Ut.isContextProvider=function(e){return Ks(e)===Pb};Ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vC};Ut.isForwardRef=function(e){return Ks(e)===Ab};Ut.isFragment=function(e){return Ks(e)===_b};Ut.isLazy=function(e){return Ks(e)===Rb};Ut.isMemo=function(e){return Ks(e)===Ib};Ut.isPortal=function(e){return Ks(e)===yC};Ut.isProfiler=function(e){return Ks(e)===Cb};Ut.isStrictMode=function(e){return Ks(e)===kb};Ut.isSuspense=function(e){return Ks(e)===Ob};Ut.isSuspenseList=function(e){return Ks(e)===Tb};Ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_b||e===Cb||e===kb||e===Ob||e===Tb||e===dfe||typeof e=="object"&&e!==null&&(e.$$typeof===Rb||e.$$typeof===Ib||e.$$typeof===Pb||e.$$typeof===Eb||e.$$typeof===Ab||e.$$typeof===SU||e.getModuleId!==void 0)};Ut.typeOf=Ks;NU.exports=Ut;var ffe=NU.exports,hfe=Ui,mfe=Bi,pfe="[object Number]";function gfe(e){return typeof e=="number"||mfe(e)&&hfe(e)==pfe}var _U=gfe;const vfe=It(_U);var yfe=_U;function xfe(e){return yfe(e)&&e!=+e}var bfe=xfe;const Pp=It(bfe);var Mn=function(t){return t===0?0:t>0?1:-1},Cl=function(t){return uc(t)&&t.indexOf("%")===t.length-1},je=function(t){return vfe(t)&&!Pp(t)},wfe=function(t){return vt(t)},Hr=function(t){return je(t)||uc(t)},jfe=0,Ep=function(t){var r=++jfe;return"".concat(t||"").concat(r)},Dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!uc(t))return n;var i;if(Cl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Pp(i)&&(i=n),s&&i>r&&(i=r),i},io=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Nfe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},to=function(t,r){return je(t)&&je(r)?function(n){return t+n*(r-t)}:function(){return r}};function tN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):js(n,t))===r})}var Sfe=function(t,r){return je(t)&&je(r)?t-r:uc(t)&&uc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Au(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function rN(e){"@babel/helpers - typeof";return rN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rN(e)}var _fe=["viewBox","children"],kfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wO=["points","pathLength"],Pw={svg:_fe,polygon:wO,polyline:wO},xC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!Qd(n))return null;var s={};return Object.keys(n).forEach(function(i){xC.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Cfe=function(t,r,n){return function(s){return t(r,n,s),null}},dc=function(t,r,n){if(!Qd(t)||rN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];xC.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Cfe(o,r,n))}),s},Pfe=["children"],Efe=["children"];function jO(e,t){if(e==null)return{};var r=Afe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Afe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},SO=null,Ew=null,bC=function e(t){if(t===SO&&Array.isArray(Ew))return Ew;var r=[];return v.Children.forEach(t,function(n){vt(n)||(ffe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ew=r,SO=t,r};function Bs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return wi(s)}):n=[wi(t)],bC(e).forEach(function(s){var i=js(s,"type.displayName")||js(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function fs(e,t){var r=Bs(e,t);return r&&r[0]}var _O=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!je(n)||n<=0||!je(s)||s<=0)},Ofe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tfe=function(t){return t&&t.type&&uc(t.type)&&Ofe.indexOf(t.type)>=0},Ife=function(t,r,n,s){var i,o=(i=Pw==null?void 0:Pw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!at(t)&&(s&&o.includes(r)||kfe.includes(r))||n&&xC.includes(r)},Je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Qd(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Ife((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},nN=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!kO(i,o))return!1}return!0},kO=function(t,r){if(vt(t)&&vt(r))return!0;if(!vt(t)&&!vt(r)){var n=t.props||{},s=n.children,i=jO(n,Pfe),o=r.props||{},l=o.children,c=jO(o,Efe);return s&&l?Au(i,c)&&nN(s,l):!s&&!l?Au(i,c):!1}return!1},CO=function(t,r){var n=[],s={};return bC(t).forEach(function(i,o){if(Tfe(i))n.push(i);else if(i){var l=wi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},Rfe=function(t){var r=t&&t.type;return r&&NO[r]?NO[r]:null},$fe=function(t,r){return bC(r).indexOf(t)},Mfe=["children","width","height","viewBox","className","style","title","desc"];function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}function Dfe(e,t){if(e==null)return{};var r=Lfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aN(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Dfe(e,Mfe),d=s||{width:r,height:n,x:0,y:0},f=ft("recharts-surface",i);return M.createElement("svg",sN({},Je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var Ffe=["children","className"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function Ufe(e,t){if(e==null)return{};var r=Bfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dt=M.forwardRef(function(e,t){var r=e.children,n=e.className,s=Ufe(e,Ffe),i=ft("recharts-layer",n);return M.createElement("g",iN({className:i},Je(s,!0),{ref:t}),r)}),ga=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Vfe(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var qfe=Vfe,zfe=qfe;function Wfe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:zfe(e,t,r)}var Hfe=Wfe,Kfe="\\ud800-\\udfff",Gfe="\\u0300-\\u036f",Yfe="\\ufe20-\\ufe2f",Qfe="\\u20d0-\\u20ff",Xfe=Gfe+Yfe+Qfe,Zfe="\\ufe0e\\ufe0f",Jfe="\\u200d",ehe=RegExp("["+Jfe+Kfe+Xfe+Zfe+"]");function the(e){return ehe.test(e)}var kU=the;function rhe(e){return e.split("")}var nhe=rhe,CU="\\ud800-\\udfff",she="\\u0300-\\u036f",ahe="\\ufe20-\\ufe2f",ihe="\\u20d0-\\u20ff",ohe=she+ahe+ihe,lhe="\\ufe0e\\ufe0f",che="["+CU+"]",oN="["+ohe+"]",lN="\\ud83c[\\udffb-\\udfff]",uhe="(?:"+oN+"|"+lN+")",PU="[^"+CU+"]",EU="(?:\\ud83c[\\udde6-\\uddff]){2}",AU="[\\ud800-\\udbff][\\udc00-\\udfff]",dhe="\\u200d",OU=uhe+"?",TU="["+lhe+"]?",fhe="(?:"+dhe+"(?:"+[PU,EU,AU].join("|")+")"+TU+OU+")*",hhe=TU+OU+fhe,mhe="(?:"+[PU+oN+"?",oN,EU,AU,che].join("|")+")",phe=RegExp(lN+"(?="+lN+")|"+mhe+hhe,"g");function ghe(e){return e.match(phe)||[]}var vhe=ghe,yhe=nhe,xhe=kU,bhe=vhe;function whe(e){return xhe(e)?bhe(e):yhe(e)}var jhe=whe,Nhe=Hfe,She=kU,_he=jhe,khe=bU;function Che(e){return function(t){t=khe(t);var r=She(t)?_he(t):void 0,n=r?r[0]:t.charAt(0),s=r?Nhe(r,1).join(""):t.slice(1);return n[e]()+s}}var Phe=Che,Ehe=Phe,Ahe=Ehe("toUpperCase"),Ohe=Ahe;const $b=It(Ohe);function Wt(e){return function(){return e}}const IU=Math.cos,hy=Math.sin,ka=Math.sqrt,my=Math.PI,Mb=2*my,cN=Math.PI,uN=2*cN,pl=1e-6,The=uN-pl;function RU(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ihe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RU;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Rhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RU:Ihe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>pl)if(!(Math.abs(f*c-u*d)>pl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,x=s-l,m=c*c+u*u,b=p*p+x*x,y=Math.sqrt(m),g=Math.sqrt(h),w=i*Math.tan((cN-Math.acos((m+h-b)/(2*y*g)))/2),N=w/g,j=w/y;Math.abs(N-1)>pl&&this._append`L${t+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*p>d*x)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pl||Math.abs(this._y1-d)>pl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%uN+uN),h>The?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>pl&&this._append`A${n},${n},0,${+(h>=cN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function wC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Rhe(t)}function jC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $U(e){this._context=e}$U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Db(e){return new $U(e)}function MU(e){return e[0]}function DU(e){return e[1]}function LU(e,t){var r=Wt(!0),n=null,s=Db,i=null,o=wC(l);e=typeof e=="function"?e:e===void 0?MU:Wt(e),t=typeof t=="function"?t:t===void 0?DU:Wt(t);function l(c){var u,d=(c=jC(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Sg(e,t,r){var n=null,s=Wt(!0),i=null,o=Db,l=null,c=wC(u);e=typeof e=="function"?e:e===void 0?MU:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DU:Wt(+r);function u(f){var h,p,x,m=(f=jC(f)).length,b,y=!1,g,w=new Array(m),N=new Array(m);for(i==null&&(l=o(g=c())),h=0;h<=m;++h){if(!(h<m&&s(b=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=p;--x)l.point(w[x],N[x]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(b,h,f),N[h]=+t(b,h,f),l.point(n?+n(b,h,f):w[h],r?+r(b,h,f):N[h]))}if(g)return l=null,g+""||null}function d(){return LU().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class FU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $he(e){return new FU(e,!0)}function Mhe(e){return new FU(e,!1)}const NC={draw(e,t){const r=ka(t/my);e.moveTo(r,0),e.arc(0,0,r,0,Mb)}},Dhe={draw(e,t){const r=ka(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},UU=ka(1/3),Lhe=UU*2,Fhe={draw(e,t){const r=ka(t/Lhe),n=r*UU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Uhe={draw(e,t){const r=ka(t),n=-r/2;e.rect(n,n,r,r)}},Bhe=.8908130915292852,BU=hy(my/10)/hy(7*my/10),Vhe=hy(Mb/10)*BU,qhe=-IU(Mb/10)*BU,zhe={draw(e,t){const r=ka(t*Bhe),n=Vhe*r,s=qhe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Mb*i/5,l=IU(o),c=hy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Aw=ka(3),Whe={draw(e,t){const r=-ka(t/(Aw*3));e.moveTo(0,r*2),e.lineTo(-Aw*r,-r),e.lineTo(Aw*r,-r),e.closePath()}},Ps=-.5,Es=ka(3)/2,dN=1/ka(12),Hhe=(dN/2+1)*3,Khe={draw(e,t){const r=ka(t/Hhe),n=r/2,s=r*dN,i=n,o=r*dN+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ps*n-Es*s,Es*n+Ps*s),e.lineTo(Ps*i-Es*o,Es*i+Ps*o),e.lineTo(Ps*l-Es*c,Es*l+Ps*c),e.lineTo(Ps*n+Es*s,Ps*s-Es*n),e.lineTo(Ps*i+Es*o,Ps*o-Es*i),e.lineTo(Ps*l+Es*c,Ps*c-Es*l),e.closePath()}};function Ghe(e,t){let r=null,n=wC(s);e=typeof e=="function"?e:Wt(e||NC),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Wt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function py(){}function gy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VU(e){this._context=e}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yhe(e){return new VU(e)}function qU(e){this._context=e}qU.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qhe(e){return new qU(e)}function zU(e){this._context=e}zU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xhe(e){return new zU(e)}function WU(e){this._context=e}WU.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Zhe(e){return new WU(e)}function PO(e){return e<0?-1:1}function EO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(PO(i)+PO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function AO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ow(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function vy(e){this._context=e}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ow(this,this._t0,AO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ow(this,AO(this,r=EO(this,e,t)),r);break;default:Ow(this,this._t0,r=EO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HU(e){this._context=new KU(e)}(HU.prototype=Object.create(vy.prototype)).point=function(e,t){vy.prototype.point.call(this,t,e)};function KU(e){this._context=e}KU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Jhe(e){return new vy(e)}function eme(e){return new HU(e)}function GU(e){this._context=e}GU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=OO(e),s=OO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function tme(e){return new GU(e)}function Lb(e,t){this._context=e,this._t=t}Lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rme(e){return new Lb(e,.5)}function nme(e){return new Lb(e,0)}function sme(e){return new Lb(e,1)}function fd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function fN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ame(e,t){return e[t]}function ime(e){const t=[];return t.key=e,t}function ome(){var e=Wt([]),t=fN,r=fd,n=ame;function s(i){var o=Array.from(e.apply(this,arguments),ime),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=jC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Wt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Wt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?fN:typeof i=="function"?i:Wt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??fd,s):r},s}function lme(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}fd(e,t)}}function cme(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}fd(e,t)}}function ume(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,x=0;x<l;++x){var m=e[t[x]],b=m[n][1]||0,y=m[n-1][1]||0;p+=b-y}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,fd(e,t)}}function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}var dme=["type","size","sizeType"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(this,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fme(e,t,r){return t=hme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hme(e){var t=mme(e,"string");return dm(t)=="symbol"?t:t+""}function mme(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){if(e==null)return{};var r=gme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YU={symbolCircle:NC,symbolCross:Dhe,symbolDiamond:Fhe,symbolSquare:Uhe,symbolStar:zhe,symbolTriangle:Whe,symbolWye:Khe},vme=Math.PI/180,yme=function(t){var r="symbol".concat($b(t));return YU[r]||NC},xme=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*vme;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bme=function(t,r){YU["symbol".concat($b(t))]=r},SC=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=pme(t,dme),u=IO(IO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var b=yme(n),y=Ghe().type(b).size(xme(i,l,n));return y()},f=u.className,h=u.cx,p=u.cy,x=Je(u,!0);return h===+h&&p===+p&&i===+i?M.createElement("path",hN({},x,{className:ft("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};SC.registerSymbol=bme;function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){fm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XU(n.key),n)}}function Sme(e,t,r){return t&&Nme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _me(e,t,r){return t=yy(t),kme(e,QU()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function kme(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(e)}function Cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function Pme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pN(e,t)}function fm(e,t,r){return t=XU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=Eme(e,"string");return hd(t)=="symbol"?t:t+""}function Eme(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var As=32,_C=function(e){function t(){return jme(this,t),_me(this,t,arguments)}return Pme(t,e),Sme(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=As/2,o=As/6,l=As/3,c=n.inactive?s:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:As,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(As,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(As/8,"h").concat(As,"v").concat(As*3/4,"h").concat(-As,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=wme({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(SC,{fill:c,cx:i,cy:i,size:As,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:As,height:As},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,x){var m=p.formatter||c,b=ft(fm(fm({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=at(p.value)?null:p.value;ga(!at(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return M.createElement("li",mN({className:b,style:f,key:"legend-item-".concat(x)},dc(n.props,p,x)),M.createElement(aN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(y,p,x):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);fm(_C,"displayName","Legend");fm(_C,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ame=jb;function Ome(){this.__data__=new Ame,this.size=0}var Tme=Ome;function Ime(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Rme=Ime;function $me(e){return this.__data__.get(e)}var Mme=$me;function Dme(e){return this.__data__.has(e)}var Lme=Dme,Fme=jb,Ume=fC,Bme=hC,Vme=200;function qme(e,t){var r=this.__data__;if(r instanceof Fme){var n=r.__data__;if(!Ume||n.length<Vme-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Bme(n)}return r.set(e,t),this.size=r.size,this}var zme=qme,Wme=jb,Hme=Tme,Kme=Rme,Gme=Mme,Yme=Lme,Qme=zme;function ef(e){var t=this.__data__=new Wme(e);this.size=t.size}ef.prototype.clear=Hme;ef.prototype.delete=Kme;ef.prototype.get=Gme;ef.prototype.has=Yme;ef.prototype.set=Qme;var ZU=ef,Xme="__lodash_hash_undefined__";function Zme(e){return this.__data__.set(e,Xme),this}var Jme=Zme;function epe(e){return this.__data__.has(e)}var tpe=epe,rpe=hC,npe=Jme,spe=tpe;function xy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new rpe;++t<r;)this.add(e[t])}xy.prototype.add=xy.prototype.push=npe;xy.prototype.has=spe;var JU=xy;function ape(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var eB=ape;function ipe(e,t){return e.has(t)}var tB=ipe,ope=JU,lpe=eB,cpe=tB,upe=1,dpe=2;function fpe(e,t,r,n,s,i){var o=r&upe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&dpe?new ope:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],m=t[f];if(n)var b=o?n(m,x,f,t,e,i):n(x,m,f,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!lpe(t,function(y,g){if(!cpe(p,g)&&(x===y||s(x,y,r,n,i)))return p.push(g)})){h=!1;break}}else if(!(x===m||s(x,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var rB=fpe,hpe=Za,mpe=hpe.Uint8Array,ppe=mpe;function gpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var vpe=gpe;function ype(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var kC=ype,$O=Cp,MO=ppe,xpe=dC,bpe=rB,wpe=vpe,jpe=kC,Npe=1,Spe=2,_pe="[object Boolean]",kpe="[object Date]",Cpe="[object Error]",Ppe="[object Map]",Epe="[object Number]",Ape="[object RegExp]",Ope="[object Set]",Tpe="[object String]",Ipe="[object Symbol]",Rpe="[object ArrayBuffer]",$pe="[object DataView]",DO=$O?$O.prototype:void 0,Tw=DO?DO.valueOf:void 0;function Mpe(e,t,r,n,s,i,o){switch(r){case $pe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rpe:return!(e.byteLength!=t.byteLength||!i(new MO(e),new MO(t)));case _pe:case kpe:case Epe:return xpe(+e,+t);case Cpe:return e.name==t.name&&e.message==t.message;case Ape:case Tpe:return e==t+"";case Ppe:var l=wpe;case Ope:var c=n&Npe;if(l||(l=jpe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Spe,o.set(e,t);var d=bpe(l(e),l(t),n,s,i,o);return o.delete(e),d;case Ipe:if(Tw)return Tw.call(e)==Tw.call(t)}return!1}var Dpe=Mpe;function Lpe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var nB=Lpe,Fpe=nB,Upe=ls;function Bpe(e,t,r){var n=t(e);return Upe(e)?n:Fpe(n,r(e))}var Vpe=Bpe;function qpe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var zpe=qpe;function Wpe(){return[]}var Hpe=Wpe,Kpe=zpe,Gpe=Hpe,Ype=Object.prototype,Qpe=Ype.propertyIsEnumerable,LO=Object.getOwnPropertySymbols,Xpe=LO?function(e){return e==null?[]:(e=Object(e),Kpe(LO(e),function(t){return Qpe.call(e,t)}))}:Gpe,Zpe=Xpe;function Jpe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ege=Jpe,tge=Ui,rge=Bi,nge="[object Arguments]";function sge(e){return rge(e)&&tge(e)==nge}var age=sge,FO=age,ige=Bi,sB=Object.prototype,oge=sB.hasOwnProperty,lge=sB.propertyIsEnumerable,cge=FO(function(){return arguments}())?FO:function(e){return ige(e)&&oge.call(e,"callee")&&!lge.call(e,"callee")},CC=cge,by={exports:{}};function uge(){return!1}var dge=uge;by.exports;(function(e,t){var r=Za,n=dge,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(by,by.exports);var aB=by.exports,fge=9007199254740991,hge=/^(?:0|[1-9]\d*)$/;function mge(e,t){var r=typeof e;return t=t??fge,!!t&&(r=="number"||r!="symbol"&&hge.test(e))&&e>-1&&e%1==0&&e<t}var PC=mge,pge=9007199254740991;function gge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pge}var EC=gge,vge=Ui,yge=EC,xge=Bi,bge="[object Arguments]",wge="[object Array]",jge="[object Boolean]",Nge="[object Date]",Sge="[object Error]",_ge="[object Function]",kge="[object Map]",Cge="[object Number]",Pge="[object Object]",Ege="[object RegExp]",Age="[object Set]",Oge="[object String]",Tge="[object WeakMap]",Ige="[object ArrayBuffer]",Rge="[object DataView]",$ge="[object Float32Array]",Mge="[object Float64Array]",Dge="[object Int8Array]",Lge="[object Int16Array]",Fge="[object Int32Array]",Uge="[object Uint8Array]",Bge="[object Uint8ClampedArray]",Vge="[object Uint16Array]",qge="[object Uint32Array]",Xt={};Xt[$ge]=Xt[Mge]=Xt[Dge]=Xt[Lge]=Xt[Fge]=Xt[Uge]=Xt[Bge]=Xt[Vge]=Xt[qge]=!0;Xt[bge]=Xt[wge]=Xt[Ige]=Xt[jge]=Xt[Rge]=Xt[Nge]=Xt[Sge]=Xt[_ge]=Xt[kge]=Xt[Cge]=Xt[Pge]=Xt[Ege]=Xt[Age]=Xt[Oge]=Xt[Tge]=!1;function zge(e){return xge(e)&&yge(e.length)&&!!Xt[vge(e)]}var Wge=zge;function Hge(e){return function(t){return e(t)}}var iB=Hge,wy={exports:{}};wy.exports;(function(e,t){var r=mU,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(wy,wy.exports);var Kge=wy.exports,Gge=Wge,Yge=iB,UO=Kge,BO=UO&&UO.isTypedArray,Qge=BO?Yge(BO):Gge,oB=Qge,Xge=ege,Zge=CC,Jge=ls,eve=aB,tve=PC,rve=oB,nve=Object.prototype,sve=nve.hasOwnProperty;function ave(e,t){var r=Jge(e),n=!r&&Zge(e),s=!r&&!n&&eve(e),i=!r&&!n&&!s&&rve(e),o=r||n||s||i,l=o?Xge(e.length,String):[],c=l.length;for(var u in e)(t||sve.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tve(u,c)))&&l.push(u);return l}var ive=ave,ove=Object.prototype;function lve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ove;return e===r}var cve=lve;function uve(e,t){return function(r){return e(t(r))}}var lB=uve,dve=lB,fve=dve(Object.keys,Object),hve=fve,mve=cve,pve=hve,gve=Object.prototype,vve=gve.hasOwnProperty;function yve(e){if(!mve(e))return pve(e);var t=[];for(var r in Object(e))vve.call(e,r)&&r!="constructor"&&t.push(r);return t}var xve=yve,bve=uC,wve=EC;function jve(e){return e!=null&&wve(e.length)&&!bve(e)}var Ap=jve,Nve=ive,Sve=xve,_ve=Ap;function kve(e){return _ve(e)?Nve(e):Sve(e)}var Fb=kve,Cve=Vpe,Pve=Zpe,Eve=Fb;function Ave(e){return Cve(e,Eve,Pve)}var Ove=Ave,VO=Ove,Tve=1,Ive=Object.prototype,Rve=Ive.hasOwnProperty;function $ve(e,t,r,n,s,i){var o=r&Tve,l=VO(e),c=l.length,u=VO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Rve.call(t,h)))return!1}var p=i.get(e),x=i.get(t);if(p&&x)return p==t&&x==e;var m=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<c;){h=l[f];var y=e[h],g=t[h];if(n)var w=o?n(g,y,h,t,e,i):n(y,g,h,e,t,i);if(!(w===void 0?y===g||s(y,g,r,n,i):w)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var Mve=$ve,Dve=kc,Lve=Za,Fve=Dve(Lve,"DataView"),Uve=Fve,Bve=kc,Vve=Za,qve=Bve(Vve,"Promise"),zve=qve,Wve=kc,Hve=Za,Kve=Wve(Hve,"Set"),cB=Kve,Gve=kc,Yve=Za,Qve=Gve(Yve,"WeakMap"),Xve=Qve,gN=Uve,vN=fC,yN=zve,xN=cB,bN=Xve,uB=Ui,tf=gU,qO="[object Map]",Zve="[object Object]",zO="[object Promise]",WO="[object Set]",HO="[object WeakMap]",KO="[object DataView]",Jve=tf(gN),eye=tf(vN),tye=tf(yN),rye=tf(xN),nye=tf(bN),gl=uB;(gN&&gl(new gN(new ArrayBuffer(1)))!=KO||vN&&gl(new vN)!=qO||yN&&gl(yN.resolve())!=zO||xN&&gl(new xN)!=WO||bN&&gl(new bN)!=HO)&&(gl=function(e){var t=uB(e),r=t==Zve?e.constructor:void 0,n=r?tf(r):"";if(n)switch(n){case Jve:return KO;case eye:return qO;case tye:return zO;case rye:return WO;case nye:return HO}return t});var sye=gl,Iw=ZU,aye=rB,iye=Dpe,oye=Mve,GO=sye,YO=ls,QO=aB,lye=oB,cye=1,XO="[object Arguments]",ZO="[object Array]",_g="[object Object]",uye=Object.prototype,JO=uye.hasOwnProperty;function dye(e,t,r,n,s,i){var o=YO(e),l=YO(t),c=o?ZO:GO(e),u=l?ZO:GO(t);c=c==XO?_g:c,u=u==XO?_g:u;var d=c==_g,f=u==_g,h=c==u;if(h&&QO(e)){if(!QO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Iw),o||lye(e)?aye(e,t,r,n,s,i):iye(e,t,c,r,n,s,i);if(!(r&cye)){var p=d&&JO.call(e,"__wrapped__"),x=f&&JO.call(t,"__wrapped__");if(p||x){var m=p?e.value():e,b=x?t.value():t;return i||(i=new Iw),s(m,b,r,n,i)}}return h?(i||(i=new Iw),oye(e,t,r,n,s,i)):!1}var fye=dye,hye=fye,eT=Bi;function dB(e,t,r,n,s){return e===t?!0:e==null||t==null||!eT(e)&&!eT(t)?e!==e&&t!==t:hye(e,t,r,n,dB,s)}var AC=dB,mye=ZU,pye=AC,gye=1,vye=2;function yye(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new mye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?pye(d,u,gye|vye,n,f):h))return!1}}return!0}var xye=yye,bye=Yo;function wye(e){return e===e&&!bye(e)}var fB=wye,jye=fB,Nye=Fb;function Sye(e){for(var t=Nye(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,jye(s)]}return t}var _ye=Sye;function kye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var hB=kye,Cye=xye,Pye=_ye,Eye=hB;function Aye(e){var t=Pye(e);return t.length==1&&t[0][2]?Eye(t[0][0],t[0][1]):function(r){return r===e||Cye(r,e,t)}}var Oye=Aye;function Tye(e,t){return e!=null&&t in Object(e)}var Iye=Tye,Rye=wU,$ye=CC,Mye=ls,Dye=PC,Lye=EC,Fye=Sb;function Uye(e,t,r){t=Rye(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Fye(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Lye(s)&&Dye(o,s)&&(Mye(e)||$ye(e)))}var Bye=Uye,Vye=Iye,qye=Bye;function zye(e,t){return e!=null&&qye(e,t,Vye)}var Wye=zye,Hye=AC,Kye=jU,Gye=Wye,Yye=cC,Qye=fB,Xye=hB,Zye=Sb,Jye=1,exe=2;function txe(e,t){return Yye(e)&&Qye(t)?Xye(Zye(e),t):function(r){var n=Kye(r,e);return n===void 0&&n===t?Gye(r,e):Hye(t,n,Jye|exe)}}var rxe=txe;function nxe(e){return e}var rf=nxe;function sxe(e){return function(t){return t==null?void 0:t[e]}}var axe=sxe,ixe=gC;function oxe(e){return function(t){return ixe(t,e)}}var lxe=oxe,cxe=axe,uxe=lxe,dxe=cC,fxe=Sb;function hxe(e){return dxe(e)?cxe(fxe(e)):uxe(e)}var mxe=hxe,pxe=Oye,gxe=rxe,vxe=rf,yxe=ls,xxe=mxe;function bxe(e){return typeof e=="function"?e:e==null?vxe:typeof e=="object"?yxe(e)?gxe(e[0],e[1]):pxe(e):xxe(e)}var Ja=bxe;function wxe(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var mB=wxe;function jxe(e){return e!==e}var Nxe=jxe;function Sxe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var _xe=Sxe,kxe=mB,Cxe=Nxe,Pxe=_xe;function Exe(e,t,r){return t===t?Pxe(e,t,r):kxe(e,Cxe,r)}var Axe=Exe,Oxe=Axe;function Txe(e,t){var r=e==null?0:e.length;return!!r&&Oxe(e,t,0)>-1}var Ixe=Txe;function Rxe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var $xe=Rxe;function Mxe(){}var Dxe=Mxe,Rw=cB,Lxe=Dxe,Fxe=kC,Uxe=1/0,Bxe=Rw&&1/Fxe(new Rw([,-0]))[1]==Uxe?function(e){return new Rw(e)}:Lxe,Vxe=Bxe,qxe=JU,zxe=Ixe,Wxe=$xe,Hxe=tB,Kxe=Vxe,Gxe=kC,Yxe=200;function Qxe(e,t,r){var n=-1,s=zxe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Wxe;else if(i>=Yxe){var u=t?null:Kxe(e);if(u)return Gxe(u);o=!1,s=Hxe,c=new qxe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Xxe=Qxe,Zxe=Ja,Jxe=Xxe;function ebe(e,t){return e&&e.length?Jxe(e,Zxe(t)):[]}var tbe=ebe;const tT=It(tbe);function pB(e,t,r){return t===!0?tT(e,r):at(t)?tT(e,t):e}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}var rbe=["ref"];function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function sbe(e,t,r){return t&&nT(e.prototype,t),r&&nT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function abe(e,t,r){return t=jy(t),ibe(e,gB()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function ibe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return obe(e)}function obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function lbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wN(e,t)}function Ub(e,t,r){return t=vB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=cbe(e,"string");return md(t)=="symbol"?t:t+""}function cbe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ube(e,t){if(e==null)return{};var r=dbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fbe(e){return e.value}function hbe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=ube(t,rbe);return M.createElement(_C,r)}var sT=1,zl=function(e){function t(){var r;nbe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=abe(this,t,[].concat(s)),Ub(r,"lastBoundingBox",{width:-1,height:-1}),r}return lbe(t,e),sbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>sT||Math.abs(s.height-this.lastBoundingBox.height)>sT)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return si(si({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=si(si({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},hbe(i,si(si({},this.props),{},{payload:pB(d,u,fbe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=si(si({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);Ub(zl,"displayName","Legend");Ub(zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aT=Cp,mbe=CC,pbe=ls,iT=aT?aT.isConcatSpreadable:void 0;function gbe(e){return pbe(e)||mbe(e)||!!(iT&&e&&e[iT])}var vbe=gbe,ybe=nB,xbe=vbe;function yB(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=xbe),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?yB(l,t-1,r,n,s):ybe(s,l):n||(s[s.length]=l)}return s}var xB=yB;function bbe(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var wbe=bbe,jbe=wbe,Nbe=jbe(),Sbe=Nbe,_be=Sbe,kbe=Fb;function Cbe(e,t){return e&&_be(e,t,kbe)}var bB=Cbe,Pbe=Ap;function Ebe(e,t){return function(r,n){if(r==null)return r;if(!Pbe(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Abe=Ebe,Obe=bB,Tbe=Abe,Ibe=Tbe(Obe),OC=Ibe,Rbe=OC,$be=Ap;function Mbe(e,t){var r=-1,n=$be(e)?Array(e.length):[];return Rbe(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var wB=Mbe;function Dbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Lbe=Dbe,oT=Yd;function Fbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=oT(e),o=t!==void 0,l=t===null,c=t===t,u=oT(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Ube=Fbe,Bbe=Ube;function Vbe(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Bbe(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var qbe=Vbe,$w=pC,zbe=gC,Wbe=Ja,Hbe=wB,Kbe=Lbe,Gbe=iB,Ybe=qbe,Qbe=rf,Xbe=ls;function Zbe(e,t,r){t.length?t=$w(t,function(i){return Xbe(i)?function(o){return zbe(o,i.length===1?i[0]:i)}:i}):t=[Qbe];var n=-1;t=$w(t,Gbe(Wbe));var s=Hbe(e,function(i,o,l){var c=$w(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Kbe(s,function(i,o){return Ybe(i,o,r)})}var Jbe=Zbe;function e0e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var t0e=e0e,r0e=t0e,lT=Math.max;function n0e(e,t,r){return t=lT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=lT(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),r0e(e,this,l)}}var s0e=n0e;function a0e(e){return function(){return e}}var i0e=a0e,o0e=kc,l0e=function(){try{var e=o0e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jB=l0e,c0e=i0e,cT=jB,u0e=rf,d0e=cT?function(e,t){return cT(e,"toString",{configurable:!0,enumerable:!1,value:c0e(t),writable:!0})}:u0e,f0e=d0e,h0e=800,m0e=16,p0e=Date.now;function g0e(e){var t=0,r=0;return function(){var n=p0e(),s=m0e-(n-r);if(r=n,s>0){if(++t>=h0e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var v0e=g0e,y0e=f0e,x0e=v0e,b0e=x0e(y0e),w0e=b0e,j0e=rf,N0e=s0e,S0e=w0e;function _0e(e,t){return S0e(N0e(e,t,j0e),e+"")}var k0e=_0e,C0e=dC,P0e=Ap,E0e=PC,A0e=Yo;function O0e(e,t,r){if(!A0e(r))return!1;var n=typeof t;return(n=="number"?P0e(r)&&E0e(t,r.length):n=="string"&&t in r)?C0e(r[t],e):!1}var Bb=O0e,T0e=xB,I0e=Jbe,R0e=k0e,uT=Bb,$0e=R0e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uT(e,t[0],t[1])?t=[]:r>2&&uT(t[0],t[1],t[2])&&(t=[t[0]]),I0e(e,T0e(t,1),[])}),M0e=$0e;const TC=It(M0e);function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(this,arguments)}function D0e(e,t){return B0e(e)||U0e(e,t)||F0e(e,t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function B0e(e){if(Array.isArray(e))return e}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){V0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0e(e,t,r){return t=q0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q0e(e){var t=z0e(e,"string");return hm(t)=="symbol"?t:t+""}function z0e(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0e(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var H0e=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,x=t.labelClassName,m=t.label,b=t.labelFormatter,y=t.accessibilityLayer,g=y===void 0?!1:y,w=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?TC(d,h):d).map(function(I,T){if(I.type==="none")return null;var D=Mw({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),q=I.formatter||f||W0e,A=I.value,$=I.name,H=A,Y=$;if(q&&H!=null&&Y!=null){var L=q(A,$,I,T,d);if(Array.isArray(L)){var K=D0e(L,2);H=K[0],Y=K[1]}else H=L}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:D},Hr(Y)?M.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Hr(Y)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},H),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},N=Mw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Mw({margin:0},u),S=!vt(m),_=S?m:"",k=ft("recharts-default-tooltip",p),C=ft("recharts-tooltip-label",x);S&&b&&d!==void 0&&d!==null&&(_=b(m,d));var E=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",jN({className:k,style:N},E),M.createElement("p",{className:C,style:j},M.isValidElement(_)?_:"".concat(_)),w())};function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function kg(e,t,r){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K0e(e){var t=G0e(e,"string");return mm(t)=="symbol"?t:t+""}function G0e(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Af="recharts-tooltip-wrapper",Y0e={visibility:"hidden"};function Q0e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ft(Af,kg(kg(kg(kg({},"".concat(Af,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(Af,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(Af,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(Af,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function hT(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,m=c[n]+u;return x>m?Math.max(d,c[n]):Math.max(f,c[n])}function X0e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Z0e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=hT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=hT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=X0e({translateX:d,translateY:f,useTranslate3d:l})):u=Y0e,{cssProperties:u,cssClasses:Q0e({translateX:d,translateY:f,coordinate:r})}}function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){SN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ewe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SB(n.key),n)}}function twe(e,t,r){return t&&ewe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rwe(e,t,r){return t=Ny(t),nwe(e,NB()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function nwe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(e)}function swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NB=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function awe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NN(e,t)}function SN(e,t,r){return t=SB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=iwe(e,"string");return pd(t)=="symbol"?t:t+""}function iwe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gT=1,owe=function(e){function t(){var r;J0e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=rwe(this,t,[].concat(s)),SN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),SN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return awe(t,e),twe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gT||Math.abs(n.height-this.state.lastBoundingBox.height)>gT)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,x=s.position,m=s.reverseDirection,b=s.useTranslate3d,y=s.viewBox,g=s.wrapperStyle,w=Z0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:x,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),N=w.cssClasses,j=w.cssProperties,S=pT(pT({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(v.PureComponent),lwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nf={isSsr:lwe()};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){IC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kB(n.key),n)}}function dwe(e,t,r){return t&&uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fwe(e,t,r){return t=Sy(t),hwe(e,_B()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function hwe(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(e)}function mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function pwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_N(e,t)}function IC(e,t,r){return t=kB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=gwe(e,"string");return gd(t)=="symbol"?t:t+""}function gwe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vwe(e){return e.dataKey}function ywe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(H0e,t)}var ia=function(e){function t(){return cwe(this,t),fwe(this,t,arguments)}return pwe(t,e),dwe(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,x=s.payload,m=s.payloadUniqBy,b=s.position,y=s.reverseDirection,g=s.useTranslate3d,w=s.viewBox,N=s.wrapperStyle,j=x??[];f&&j.length&&(j=pB(x.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),m,vwe));var S=j.length>0;return M.createElement(owe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:b,reverseDirection:y,useTranslate3d:g,viewBox:w,wrapperStyle:N},ywe(u,yT(yT({},this.props),{},{payload:j})))}}])}(v.PureComponent);IC(ia,"displayName","Tooltip");IC(ia,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xwe=Za,bwe=function(){return xwe.Date.now()},wwe=bwe,jwe=/\s/;function Nwe(e){for(var t=e.length;t--&&jwe.test(e.charAt(t)););return t}var Swe=Nwe,_we=Swe,kwe=/^\s+/;function Cwe(e){return e&&e.slice(0,_we(e)+1).replace(kwe,"")}var Pwe=Cwe,Ewe=Pwe,xT=Yo,Awe=Yd,bT=NaN,Owe=/^[-+]0x[0-9a-f]+$/i,Twe=/^0b[01]+$/i,Iwe=/^0o[0-7]+$/i,Rwe=parseInt;function $we(e){if(typeof e=="number")return e;if(Awe(e))return bT;if(xT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ewe(e);var r=Twe.test(e);return r||Iwe.test(e)?Rwe(e.slice(2),r?2:8):Owe.test(e)?bT:+e}var CB=$we,Mwe=Yo,Dw=wwe,wT=CB,Dwe="Expected a function",Lwe=Math.max,Fwe=Math.min;function Uwe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Dwe);t=wT(t)||0,Mwe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Lwe(wT(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var _=n,k=s;return n=s=void 0,u=S,o=e.apply(k,_),o}function x(S){return u=S,l=setTimeout(y,t),d?p(S):o}function m(S){var _=S-c,k=S-u,C=t-_;return f?Fwe(C,i-k):C}function b(S){var _=S-c,k=S-u;return c===void 0||_>=t||_<0||f&&k>=i}function y(){var S=Dw();if(b(S))return g(S);l=setTimeout(y,m(S))}function g(S){return l=void 0,h&&n?p(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:g(Dw())}function j(){var S=Dw(),_=b(S);if(n=arguments,s=this,c=S,_){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=w,j.flush=N,j}var Bwe=Uwe,Vwe=Bwe,qwe=Yo,zwe="Expected a function";function Wwe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(zwe);return qwe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Vwe(e,t,{leading:n,maxWait:t,trailing:s})}var Hwe=Wwe;const PB=It(Hwe);function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t,r){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=Ywe(e,"string");return pm(t)=="symbol"?t:t+""}function Ywe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qwe(e,t){return eje(e)||Jwe(e,t)||Zwe(e,t)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zwe(e,t){if(e){if(typeof e=="string")return NT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(e,t)}}function NT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eje(e){if(Array.isArray(e))return e}var ST=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,x=e.debounce,m=x===void 0?0:x,b=e.id,y=e.className,g=e.onResize,w=e.style,N=w===void 0?{}:w,j=v.useRef(null),S=v.useRef();S.current=g,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=v.useState({containerWidth:s.width,containerHeight:s.height}),k=Qwe(_,2),C=k[0],E=k[1],P=v.useCallback(function(O,I){E(function(T){var D=Math.round(O),q=Math.round(I);return T.containerWidth===D&&T.containerHeight===q?T:{containerWidth:D,containerHeight:q}})},[]);v.useEffect(function(){var O=function($){var H,Y=$[0].contentRect,L=Y.width,K=Y.height;P(L,K),(H=S.current)===null||H===void 0||H.call(S,L,K)};m>0&&(O=PB(O,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(O),T=j.current.getBoundingClientRect(),D=T.width,q=T.height;return P(D,q),I.observe(j.current),function(){I.disconnect()}},[P,m]);var R=v.useMemo(function(){var O=C.containerWidth,I=C.containerHeight;if(O<0||I<0)return null;ga(Cl(o)||Cl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Cl(o)?O:o,D=Cl(c)?I:c;r&&r>0&&(T?D=T/r:D&&(T=D*r),h&&D>h&&(D=h)),ga(T>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,o,c,d,f,r);var q=!Array.isArray(p)&&wi(p.type).endsWith("Chart");return M.Children.map(p,function(A){return M.isValidElement(A)?v.cloneElement(A,Cg({width:T,height:D},q?{style:Cg({height:"100%",width:"100%",maxHeight:D,maxWidth:T},A.props.style)}:{})):A})},[r,p,c,h,f,d,C,o]);return M.createElement("div",{id:b?"".concat(b):void 0,className:ft("recharts-responsive-container",y),style:Cg(Cg({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},R)}),Vb=function(t){return null};Vb.displayName="Cell";function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){tje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tje(e,t,r){return t=rje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rje(e){var t=nje(e,"string");return gm(t)=="symbol"?t:t+""}function nje(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hc={widthCache:{},cacheCount:0},sje=2e3,aje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kT="recharts_measurement_span";function ije(e){var t=kN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ph=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nf.isSsr)return{width:0,height:0};var n=ije(r),s=JSON.stringify({text:t,copyStyle:n});if(Hc.widthCache[s])return Hc.widthCache[s];try{var i=document.getElementById(kT);i||(i=document.createElement("span"),i.setAttribute("id",kT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=kN(kN({},aje),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Hc.widthCache[s]=c,++Hc.cacheCount>sje&&(Hc.cacheCount=0,Hc.widthCache={}),c}catch{return{width:0,height:0}}},oje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function _y(e,t){return dje(e)||uje(e,t)||cje(e,t)||lje()}function lje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cje(e,t){if(e){if(typeof e=="string")return CT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CT(e,t)}}function CT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dje(e){if(Array.isArray(e))return e}function fje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mje(n.key),n)}}function hje(e,t,r){return t&&PT(e.prototype,t),r&&PT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mje(e){var t=pje(e,"string");return vm(t)=="symbol"?t:t+""}function pje(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ET=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yje=Object.keys(EB),gu="NaN";function xje(e,t){return e*EB[t]}var Pg=function(){function e(t,r){fje(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gje.test(r)&&(this.num=NaN,this.unit=""),yje.includes(r)&&(this.num=xje(t,r),this.unit="px")}return hje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=vje.exec(r))!==null&&n!==void 0?n:[],i=_y(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function AB(e){if(e.includes(gu))return gu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ET.exec(t))!==null&&r!==void 0?r:[],s=_y(n,4),i=s[1],o=s[2],l=s[3],c=Pg.parse(i??""),u=Pg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return gu;t=t.replace(ET,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=AT.exec(t))!==null&&f!==void 0?f:[],p=_y(h,4),x=p[1],m=p[2],b=p[3],y=Pg.parse(x??""),g=Pg.parse(b??""),w=m==="+"?y.add(g):y.subtract(g);if(w.isNaN())return gu;t=t.replace(AT,w.toString())}return t}var OT=/\(([^()]*)\)/;function bje(e){for(var t=e;t.includes("(");){var r=OT.exec(t),n=_y(r,2),s=n[1];t=t.replace(OT,AB(s))}return t}function wje(e){var t=e.replace(/\s+/g,"");return t=bje(t),t=AB(t),t}function jje(e){try{return wje(e)}catch{return gu}}function Lw(e){var t=jje(e.slice(5,-1));return t===gu?"":t}var Nje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sje=["dx","dy","angle","className","breakAll"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function TT(e,t){if(e==null)return{};var r=_je(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _je(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IT(e,t){return Eje(e)||Pje(e,t)||Cje(e,t)||kje()}function kje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cje(e,t){if(e){if(typeof e=="string")return RT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(e,t)}}function RT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eje(e){if(Array.isArray(e))return e}var OB=/[ \f\n\r\t\v\u2028\u2029]+/,TB=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];vt(r)||(n?i=r.toString().split(""):i=r.toString().split(OB));var o=i.map(function(c){return{word:c,width:ph(c,s).width}}),l=n?0:ph("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Aje=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=je(o),f=l,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(D,q){var A=q.word,$=q.width,H=D[D.length-1];if(H&&(s==null||i||H.width+$+n<Number(s)))H.words.push(A),H.width+=$+n;else{var Y={words:[A],width:$};D.push(Y)}return D},[])},p=h(r),x=function(T){return T.reduce(function(D,q){return D.width>q.width?D:q})};if(!d)return p;for(var m="",b=function(T){var D=f.slice(0,T),q=TB({breakAll:u,style:c,children:D+m}).wordsWithComputedWidth,A=h(q),$=A.length>o||x(A).width>Number(s);return[$,A]},y=0,g=f.length-1,w=0,N;y<=g&&w<=f.length-1;){var j=Math.floor((y+g)/2),S=j-1,_=b(S),k=IT(_,2),C=k[0],E=k[1],P=b(j),R=IT(P,1),O=R[0];if(!C&&!O&&(y=j+1),C&&O&&(g=j-1),!C&&O){N=E;break}w++}return N||p},$T=function(t){var r=vt(t)?[]:t.toString().split(OB);return[{words:r}]},Oje=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!nf.isSsr){var c,u,d=TB({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return $T(s);return Aje({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return $T(s)},MT="#808080",fc=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,x=t.verticalAnchor,m=x===void 0?"end":x,b=t.fill,y=b===void 0?MT:b,g=TT(t,Nje),w=v.useMemo(function(){return Oje({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),N=g.dx,j=g.dy,S=g.angle,_=g.className,k=g.breakAll,C=TT(g,Sje);if(!Hr(n)||!Hr(i))return null;var E=n+(je(N)?N:0),P=i+(je(j)?j:0),R;switch(m){case"start":R=Lw("calc(".concat(u,")"));break;case"middle":R=Lw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=Lw("calc(".concat(w.length-1," * -").concat(l,")"));break}var O=[];if(f){var I=w[0].width,T=g.width;O.push("scale(".concat((je(T)?T/I:1)/I,")"))}return S&&O.push("rotate(".concat(S,", ").concat(E,", ").concat(P,")")),O.length&&(C.transform=O.join(" ")),M.createElement("text",CN({},Je(C,!0),{x:E,y:P,className:ft("recharts-text",_),textAnchor:p,fill:y.includes("url")?MT:y}),w.map(function(D,q){var A=D.words.join(k?"":" ");return M.createElement("tspan",{x:E,dy:q===0?R:l,key:"".concat(A,"-").concat(q)},A)}))};function Oo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RC(e){let t,r,n;e.length!==2?(t=Oo,r=(l,c)=>Oo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Oo||e===Tje?e:Ije,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Ije(){return 0}function IB(e){return e===null?NaN:+e}function*Rje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $je=RC(Oo),Op=$je.right;RC(IB).center;class DT extends Map{constructor(t,r=Lje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(LT(this,t))}has(t){return super.has(LT(this,t))}set(t,r){return super.set(Mje(this,t),r)}delete(t){return super.delete(Dje(this,t))}}function LT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Mje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Dje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Lje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fje(e=Oo){if(e===Oo)return RB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function RB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Uje=Math.sqrt(50),Bje=Math.sqrt(10),Vje=Math.sqrt(2);function ky(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Uje?10:i>=Bje?5:i>=Vje?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ky(e,t,r*2):[l,c,u]}function PN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?ky(t,e,r):ky(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function EN(e,t,r){return t=+t,e=+e,r=+r,ky(e,t,r)[2]}function AN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?EN(t,e,r):EN(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function FT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $B(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?RB:Fje(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));$B(e,t,p,x,s)}const i=e[t];let o=r,l=n;for(Of(e,r,t),s(e[n],i)>0&&Of(e,r,n);o<l;){for(Of(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Of(e,r,l):(++l,Of(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Of(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function qje(e,t,r){if(e=Float64Array.from(Rje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return UT(e);if(t>=1)return FT(e);var n,s=(n-1)*t,i=Math.floor(s),o=FT($B(e,i).subarray(0,i+1)),l=UT(e.subarray(i+1));return o+(l-o)*(s-i)}}function zje(e,t,r=IB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Wje(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Gs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ON=Symbol("implicit");function $C(){var e=new DT,t=[],r=[],n=ON;function s(i){let o=e.get(i);if(o===void 0){if(n!==ON)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new DT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return $C(t,r).unknown(n)},Gs.apply(s,arguments),s}function ym(){var e=$C().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,x=p?s:n,m=p?n:s;i=(m-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(m-x-i*(h-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var b=Wje(h).map(function(y){return x+i*y});return r(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ym(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gs.apply(f(),arguments)}function MB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MB(t())},e}function gh(){return MB(ym.apply(null,arguments).paddingInner(1))}function MC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Tp(){}var xm=.7,Cy=1/xm,Ou="\\s*([+-]?\\d+)\\s*",bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hje=/^#([0-9a-f]{3,8})$/,Kje=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),Gje=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),Yje=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${bm}\\)$`),Qje=new RegExp(`^rgba\\(${Va},${Va},${Va},${bm}\\)$`),Xje=new RegExp(`^hsl\\(${bm},${Va},${Va}\\)$`),Zje=new RegExp(`^hsla\\(${bm},${Va},${Va},${bm}\\)$`),BT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MC(Tp,wm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VT,formatHex:VT,formatHex8:Jje,formatHsl:e1e,formatRgb:qT,toString:qT});function VT(){return this.rgb().formatHex()}function Jje(){return this.rgb().formatHex8()}function e1e(){return LB(this).formatHsl()}function qT(){return this.rgb().formatRgb()}function wm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Hje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zT(t):r===3?new Qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kje.exec(e))?new Qn(t[1],t[2],t[3],1):(t=Gje.exec(e))?new Qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yje.exec(e))?Eg(t[1],t[2],t[3],t[4]):(t=Qje.exec(e))?Eg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xje.exec(e))?KT(t[1],t[2]/100,t[3]/100,1):(t=Zje.exec(e))?KT(t[1],t[2]/100,t[3]/100,t[4]):BT.hasOwnProperty(e)?zT(BT[e]):e==="transparent"?new Qn(NaN,NaN,NaN,0):null}function zT(e){return new Qn(e>>16&255,e>>8&255,e&255,1)}function Eg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qn(e,t,r,n)}function t1e(e){return e instanceof Tp||(e=wm(e)),e?(e=e.rgb(),new Qn(e.r,e.g,e.b,e.opacity)):new Qn}function TN(e,t,r,n){return arguments.length===1?t1e(e):new Qn(e,t,r,n??1)}function Qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}MC(Qn,TN,DB(Tp,{brighter(e){return e=e==null?Cy:Math.pow(Cy,e),new Qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xm:Math.pow(xm,e),new Qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qn(Wl(this.r),Wl(this.g),Wl(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WT,formatHex:WT,formatHex8:r1e,formatRgb:HT,toString:HT}));function WT(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function r1e(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function HT(){const e=Py(this.opacity);return`${e===1?"rgb(":"rgba("}${Wl(this.r)}, ${Wl(this.g)}, ${Wl(this.b)}${e===1?")":`, ${e})`}`}function Py(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return e=Wl(e),(e<16?"0":"")+e.toString(16)}function KT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fa(e,t,r,n)}function LB(e){if(e instanceof fa)return new fa(e.h,e.s,e.l,e.opacity);if(e instanceof Tp||(e=wm(e)),!e)return new fa;if(e instanceof fa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new fa(o,l,c,e.opacity)}function n1e(e,t,r,n){return arguments.length===1?LB(e):new fa(e,t,r,n??1)}function fa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}MC(fa,n1e,DB(Tp,{brighter(e){return e=e==null?Cy:Math.pow(Cy,e),new fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xm:Math.pow(xm,e),new fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Qn(Fw(e>=240?e-240:e+120,s,n),Fw(e,s,n),Fw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new fa(GT(this.h),Ag(this.s),Ag(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Py(this.opacity);return`${e===1?"hsl(":"hsla("}${GT(this.h)}, ${Ag(this.s)*100}%, ${Ag(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GT(e){return e=(e||0)%360,e<0?e+360:e}function Ag(e){return Math.max(0,Math.min(1,e||0))}function Fw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const DC=e=>()=>e;function s1e(e,t){return function(r){return e+r*t}}function a1e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function i1e(e){return(e=+e)==1?FB:function(t,r){return r-t?a1e(t,r,e):DC(isNaN(t)?r:t)}}function FB(e,t){var r=t-e;return r?s1e(e,r):DC(isNaN(e)?t:e)}const YT=function e(t){var r=i1e(t);function n(s,i){var o=r((s=TN(s)).r,(i=TN(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=FB(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function o1e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function l1e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c1e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=sf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function u1e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ey(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d1e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=sf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var IN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uw=new RegExp(IN.source,"g");function f1e(e){return function(){return e}}function h1e(e){return function(t){return e(t)+""}}function m1e(e,t){var r=IN.lastIndex=Uw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=IN.exec(e))&&(s=Uw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ey(n,s)})),r=Uw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?h1e(c[0].x):f1e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function sf(e,t){var r=typeof t,n;return t==null||r==="boolean"?DC(t):(r==="number"?Ey:r==="string"?(n=wm(t))?(t=n,YT):m1e:t instanceof wm?YT:t instanceof Date?u1e:l1e(t)?o1e:Array.isArray(t)?c1e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d1e:Ey)(e,t)}function LC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function p1e(e,t){t===void 0&&(t=e,e=sf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function g1e(e){return function(){return e}}function Ay(e){return+e}var QT=[0,1];function Ln(e){return e}function RN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:g1e(isNaN(t)?NaN:.5)}function v1e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function y1e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=RN(s,n),i=r(o,i)):(n=RN(n,s),i=r(i,o)),function(l){return i(n(l))}}function x1e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=RN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Op(e,l,1,n)-1;return i[c](s[c](l))}}function Ip(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qb(){var e=QT,t=QT,r=sf,n,s,i,o=Ln,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ln&&(o=v1e(e[0],e[h-1])),l=h>2?x1e:y1e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Ey)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ay),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=LC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ln,d()):o!==Ln},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function FC(){return qb()(Ln,Ln)}function b1e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Oy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vd(e){return e=Oy(Math.abs(e)),e?e[1]:NaN}function w1e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function j1e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var N1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jm(e){if(!(t=N1e.exec(e)))throw new Error("invalid format: "+e);var t;return new UC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jm.prototype=UC.prototype;function UC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}UC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S1e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var UB;function _1e(e,t){var r=Oy(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(UB=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Oy(e,Math.max(0,t+i-1))[0]}function XT(e,t){var r=Oy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const ZT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:b1e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XT(e*100,t),r:XT,s:_1e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JT(e){return e}var eI=Array.prototype.map,tI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k1e(e){var t=e.grouping===void 0||e.thousands===void 0?JT:w1e(eI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?JT:j1e(eI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=jm(f);var h=f.fill,p=f.align,x=f.sign,m=f.symbol,b=f.zero,y=f.width,g=f.comma,w=f.precision,N=f.trim,j=f.type;j==="n"?(g=!0,j="g"):ZT[j]||(w===void 0&&(w=12),N=!0,j="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=m==="$"?n:/[%p]/.test(j)?o:"",k=ZT[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(P){var R=S,O=_,I,T,D;if(j==="c")O=k(P)+O,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),N&&(P=S1e(P)),q&&+P==0&&x!=="+"&&(q=!1),R=(q?x==="("?x:l:x==="-"||x==="("?"":x)+R,O=(j==="s"?tI[8+UB/3]:"")+O+(q&&x==="("?")":""),C){for(I=-1,T=P.length;++I<T;)if(D=P.charCodeAt(I),48>D||D>57){O=(D===46?s+P.slice(I+1):P.slice(I))+O,P=P.slice(0,I);break}}}g&&!b&&(P=t(P,1/0));var A=R.length+P.length+O.length,$=A<y?new Array(y-A+1).join(h):"";switch(g&&b&&(P=t($+P,$.length?y-O.length:1/0),$=""),p){case"<":P=R+P+O+$;break;case"=":P=R+$+P+O;break;case"^":P=$.slice(0,A=$.length>>1)+R+P+O+$.slice(A);break;default:P=$+R+P+O;break}return i(P)}return E.toString=function(){return f+""},E}function d(f,h){var p=u((f=jm(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(vd(h)/3)))*3,m=Math.pow(10,-x),b=tI[8+x/3];return function(y){return p(m*y)+b}}return{format:u,formatPrefix:d}}var Og,BC,BB;C1e({thousands:",",grouping:[3],currency:["$",""]});function C1e(e){return Og=k1e(e),BC=Og.format,BB=Og.formatPrefix,Og}function P1e(e){return Math.max(0,-vd(Math.abs(e)))}function E1e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vd(t)/3)))*3-vd(Math.abs(e)))}function A1e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vd(t)-vd(e))+1}function VB(e,t,r,n){var s=AN(e,t,r),i;switch(n=jm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=E1e(s,o))&&(n.precision=i),BB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=A1e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=P1e(s))&&(n.precision=i-(n.type==="%")*2);break}}return BC(n)}function Qo(e){var t=e.domain;return e.ticks=function(r){var n=t();return PN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return VB(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=EN(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ty(){var e=FC();return e.copy=function(){return Ip(e,Ty())},Gs.apply(e,arguments),Qo(e)}function qB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ay),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return qB(e).unknown(t)},e=arguments.length?Array.from(e,Ay):[0,1],Qo(r)}function zB(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function rI(e){return Math.log(e)}function nI(e){return Math.exp(e)}function O1e(e){return-Math.log(-e)}function T1e(e){return-Math.exp(-e)}function I1e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function R1e(e){return e===10?I1e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $1e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sI(e){return(t,r)=>-e(-t,r)}function VC(e){const t=e(rI,nI),r=t.domain;let n=10,s,i;function o(){return s=$1e(n),i=R1e(n),r()[0]<0?(s=sI(s),i=sI(i),e(O1e,T1e)):e(rI,nI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),x,m;const b=l==null?10:+l;let y=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(x=1;x<n;++x)if(m=h<0?x/i(-h):x*i(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(x=n-1;x>=1;--x)if(m=h>0?x/i(-h):x*i(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<b&&(y=PN(u,d,b))}else y=PN(h,p,Math.min(p-h,b)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=jm(c)).precision==null&&(c.trim=!0),c=BC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(zB(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function WB(){const e=VC(qb()).domain([1,10]);return e.copy=()=>Ip(e,WB()).base(e.base()),Gs.apply(e,arguments),e}function aI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qC(e){var t=1,r=e(aI(t),iI(t));return r.constant=function(n){return arguments.length?e(aI(t=+n),iI(t)):t},Qo(r)}function HB(){var e=qC(qb());return e.copy=function(){return Ip(e,HB()).constant(e.constant())},Gs.apply(e,arguments)}function oI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M1e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D1e(e){return e<0?-e*e:e*e}function zC(e){var t=e(Ln,Ln),r=1;function n(){return r===1?e(Ln,Ln):r===.5?e(M1e,D1e):e(oI(r),oI(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Qo(t)}function WC(){var e=zC(qb());return e.copy=function(){return Ip(e,WC()).exponent(e.exponent())},Gs.apply(e,arguments),e}function L1e(){return WC.apply(null,arguments).exponent(.5)}function lI(e){return Math.sign(e)*e*e}function F1e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KB(){var e=FC(),t=[0,1],r=!1,n;function s(i){var o=F1e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(lI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ay)).map(lI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return KB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gs.apply(s,arguments),Qo(s)}function GB(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=zje(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Op(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Oo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return GB().domain(e).range(t).unknown(n)},Gs.apply(i,arguments)}function YB(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Op(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return YB().domain([e,t]).range(s).unknown(i)},Gs.apply(Qo(o),arguments)}function QB(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Op(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return QB().domain(e).range(t).unknown(r)},Gs.apply(s,arguments)}const Bw=new Date,Vw=new Date;function Zr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Zr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Bw.setTime(+i),Vw.setTime(+o),e(Bw),e(Vw),Math.floor(r(Bw,Vw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Iy=Zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Iy);Iy.range;const vi=1e3,Ls=vi*60,yi=Ls*60,Ri=yi*24,HC=Ri*7,cI=Ri*30,qw=Ri*365,El=Zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds());El.range;const KC=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getMinutes());KC.range;const GC=Zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCMinutes());GC.range;const YC=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*Ls)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());YC.range;const QC=Zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());QC.range;const Rp=Zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ls)/Ri,e=>e.getDate()-1);Rp.range;const zb=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>e.getUTCDate()-1);zb.range;const XB=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>Math.floor(e/Ri));XB.range;function Cc(e){return Zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/HC)}const Wb=Cc(0),Ry=Cc(1),U1e=Cc(2),B1e=Cc(3),yd=Cc(4),V1e=Cc(5),q1e=Cc(6);Wb.range;Ry.range;U1e.range;B1e.range;yd.range;V1e.range;q1e.range;function Pc(e){return Zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/HC)}const Hb=Pc(0),$y=Pc(1),z1e=Pc(2),W1e=Pc(3),xd=Pc(4),H1e=Pc(5),K1e=Pc(6);Hb.range;$y.range;z1e.range;W1e.range;xd.range;H1e.range;K1e.range;const XC=Zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());XC.range;const ZC=Zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ZC.range;const $i=Zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$i.range;const Mi=Zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mi.range;function ZB(e,t,r,n,s,i){const o=[[El,1,vi],[El,5,5*vi],[El,15,15*vi],[El,30,30*vi],[i,1,Ls],[i,5,5*Ls],[i,15,15*Ls],[i,30,30*Ls],[s,1,yi],[s,3,3*yi],[s,6,6*yi],[s,12,12*yi],[n,1,Ri],[n,2,2*Ri],[r,1,HC],[t,1,cI],[t,3,3*cI],[e,1,qw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),x=p?p.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,p=RC(([,,b])=>b).right(o,h);if(p===o.length)return e.every(AN(u/qw,d/qw,f));if(p===0)return Iy.every(Math.max(AN(u,d,f),1));const[x,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return x.every(m)}return[l,c]}const[G1e,Y1e]=ZB(Mi,ZC,Hb,XB,QC,GC),[Q1e,X1e]=ZB($i,XC,Wb,Rp,YC,KC);function zw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ww(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Z1e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=If(s),d=Rf(s),f=If(i),h=Rf(i),p=If(o),x=Rf(o),m=If(l),b=Rf(l),y=If(c),g=Rf(c),w={a:q,A,b:$,B:H,c:null,d:pI,e:pI,f:wNe,g:ONe,G:INe,H:yNe,I:xNe,j:bNe,L:JB,m:jNe,M:NNe,p:Y,q:L,Q:yI,s:xI,S:SNe,u:_Ne,U:kNe,V:CNe,w:PNe,W:ENe,x:null,X:null,y:ANe,Y:TNe,Z:RNe,"%":vI},N={a:K,A:re,b:ie,B:be,c:null,d:gI,e:gI,f:LNe,g:GNe,G:QNe,H:$Ne,I:MNe,j:DNe,L:t8,m:FNe,M:UNe,p:ee,q:se,Q:yI,s:xI,S:BNe,u:VNe,U:qNe,V:zNe,w:WNe,W:HNe,x:null,X:null,y:KNe,Y:YNe,Z:XNe,"%":vI},j={a:E,A:P,b:R,B:O,c:I,d:hI,e:hI,f:mNe,g:fI,G:dI,H:mI,I:mI,j:uNe,L:hNe,m:cNe,M:dNe,p:C,q:lNe,Q:gNe,s:vNe,S:fNe,u:nNe,U:sNe,V:aNe,w:rNe,W:iNe,x:T,X:D,y:fI,Y:dI,Z:oNe,"%":pNe};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(Q,X){return function(oe){var W=[],z=-1,le=0,qe=Q.length,Ye,ut,Yt;for(oe instanceof Date||(oe=new Date(+oe));++z<qe;)Q.charCodeAt(z)===37&&(W.push(Q.slice(le,z)),(ut=uI[Ye=Q.charAt(++z)])!=null?Ye=Q.charAt(++z):ut=Ye==="e"?" ":"0",(Yt=X[Ye])&&(Ye=Yt(oe,ut)),W.push(Ye),le=z+1);return W.push(Q.slice(le,z)),W.join("")}}function _(Q,X){return function(oe){var W=Tf(1900,void 0,1),z=k(W,Q,oe+="",0),le,qe;if(z!=oe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(X&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(le=Ww(Tf(W.y,0,1)),qe=le.getUTCDay(),le=qe>4||qe===0?$y.ceil(le):$y(le),le=zb.offset(le,(W.V-1)*7),W.y=le.getUTCFullYear(),W.m=le.getUTCMonth(),W.d=le.getUTCDate()+(W.w+6)%7):(le=zw(Tf(W.y,0,1)),qe=le.getDay(),le=qe>4||qe===0?Ry.ceil(le):Ry(le),le=Rp.offset(le,(W.V-1)*7),W.y=le.getFullYear(),W.m=le.getMonth(),W.d=le.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),qe="Z"in W?Ww(Tf(W.y,0,1)).getUTCDay():zw(Tf(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(qe+5)%7:W.w+W.U*7-(qe+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Ww(W)):zw(W)}}function k(Q,X,oe,W){for(var z=0,le=X.length,qe=oe.length,Ye,ut;z<le;){if(W>=qe)return-1;if(Ye=X.charCodeAt(z++),Ye===37){if(Ye=X.charAt(z++),ut=j[Ye in uI?X.charAt(z++):Ye],!ut||(W=ut(Q,oe,W))<0)return-1}else if(Ye!=oe.charCodeAt(W++))return-1}return W}function C(Q,X,oe){var W=u.exec(X.slice(oe));return W?(Q.p=d.get(W[0].toLowerCase()),oe+W[0].length):-1}function E(Q,X,oe){var W=p.exec(X.slice(oe));return W?(Q.w=x.get(W[0].toLowerCase()),oe+W[0].length):-1}function P(Q,X,oe){var W=f.exec(X.slice(oe));return W?(Q.w=h.get(W[0].toLowerCase()),oe+W[0].length):-1}function R(Q,X,oe){var W=y.exec(X.slice(oe));return W?(Q.m=g.get(W[0].toLowerCase()),oe+W[0].length):-1}function O(Q,X,oe){var W=m.exec(X.slice(oe));return W?(Q.m=b.get(W[0].toLowerCase()),oe+W[0].length):-1}function I(Q,X,oe){return k(Q,t,X,oe)}function T(Q,X,oe){return k(Q,r,X,oe)}function D(Q,X,oe){return k(Q,n,X,oe)}function q(Q){return o[Q.getDay()]}function A(Q){return i[Q.getDay()]}function $(Q){return c[Q.getMonth()]}function H(Q){return l[Q.getMonth()]}function Y(Q){return s[+(Q.getHours()>=12)]}function L(Q){return 1+~~(Q.getMonth()/3)}function K(Q){return o[Q.getUTCDay()]}function re(Q){return i[Q.getUTCDay()]}function ie(Q){return c[Q.getUTCMonth()]}function be(Q){return l[Q.getUTCMonth()]}function ee(Q){return s[+(Q.getUTCHours()>=12)]}function se(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var X=S(Q+="",w);return X.toString=function(){return Q},X},parse:function(Q){var X=_(Q+="",!1);return X.toString=function(){return Q},X},utcFormat:function(Q){var X=S(Q+="",N);return X.toString=function(){return Q},X},utcParse:function(Q){var X=_(Q+="",!0);return X.toString=function(){return Q},X}}}var uI={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,J1e=/^%/,eNe=/[\\^$*+?|[\]().{}]/g;function Et(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function tNe(e){return e.replace(eNe,"\\$&")}function If(e){return new RegExp("^(?:"+e.map(tNe).join("|")+")","i")}function Rf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rNe(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nNe(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function aNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function iNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dI(e,t,r){var n=cn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oNe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lNe(e,t,r){var n=cn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uNe(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mI(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fNe(e,t,r){var n=cn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hNe(e,t,r){var n=cn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mNe(e,t,r){var n=cn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pNe(e,t,r){var n=J1e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gNe(e,t,r){var n=cn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function vNe(e,t,r){var n=cn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pI(e,t){return Et(e.getDate(),t,2)}function yNe(e,t){return Et(e.getHours(),t,2)}function xNe(e,t){return Et(e.getHours()%12||12,t,2)}function bNe(e,t){return Et(1+Rp.count($i(e),e),t,3)}function JB(e,t){return Et(e.getMilliseconds(),t,3)}function wNe(e,t){return JB(e,t)+"000"}function jNe(e,t){return Et(e.getMonth()+1,t,2)}function NNe(e,t){return Et(e.getMinutes(),t,2)}function SNe(e,t){return Et(e.getSeconds(),t,2)}function _Ne(e){var t=e.getDay();return t===0?7:t}function kNe(e,t){return Et(Wb.count($i(e)-1,e),t,2)}function e8(e){var t=e.getDay();return t>=4||t===0?yd(e):yd.ceil(e)}function CNe(e,t){return e=e8(e),Et(yd.count($i(e),e)+($i(e).getDay()===4),t,2)}function PNe(e){return e.getDay()}function ENe(e,t){return Et(Ry.count($i(e)-1,e),t,2)}function ANe(e,t){return Et(e.getFullYear()%100,t,2)}function ONe(e,t){return e=e8(e),Et(e.getFullYear()%100,t,2)}function TNe(e,t){return Et(e.getFullYear()%1e4,t,4)}function INe(e,t){var r=e.getDay();return e=r>=4||r===0?yd(e):yd.ceil(e),Et(e.getFullYear()%1e4,t,4)}function RNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function gI(e,t){return Et(e.getUTCDate(),t,2)}function $Ne(e,t){return Et(e.getUTCHours(),t,2)}function MNe(e,t){return Et(e.getUTCHours()%12||12,t,2)}function DNe(e,t){return Et(1+zb.count(Mi(e),e),t,3)}function t8(e,t){return Et(e.getUTCMilliseconds(),t,3)}function LNe(e,t){return t8(e,t)+"000"}function FNe(e,t){return Et(e.getUTCMonth()+1,t,2)}function UNe(e,t){return Et(e.getUTCMinutes(),t,2)}function BNe(e,t){return Et(e.getUTCSeconds(),t,2)}function VNe(e){var t=e.getUTCDay();return t===0?7:t}function qNe(e,t){return Et(Hb.count(Mi(e)-1,e),t,2)}function r8(e){var t=e.getUTCDay();return t>=4||t===0?xd(e):xd.ceil(e)}function zNe(e,t){return e=r8(e),Et(xd.count(Mi(e),e)+(Mi(e).getUTCDay()===4),t,2)}function WNe(e){return e.getUTCDay()}function HNe(e,t){return Et($y.count(Mi(e)-1,e),t,2)}function KNe(e,t){return Et(e.getUTCFullYear()%100,t,2)}function GNe(e,t){return e=r8(e),Et(e.getUTCFullYear()%100,t,2)}function YNe(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function QNe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xd(e):xd.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function XNe(){return"+0000"}function vI(){return"%"}function yI(e){return+e}function xI(e){return Math.floor(+e/1e3)}var Kc,n8,s8;ZNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZNe(e){return Kc=Z1e(e),n8=Kc.format,Kc.parse,s8=Kc.utcFormat,Kc.utcParse,Kc}function JNe(e){return new Date(e)}function eSe(e){return e instanceof Date?+e:+new Date(+e)}function JC(e,t,r,n,s,i,o,l,c,u){var d=FC(),f=d.invert,h=d.domain,p=u(".%L"),x=u(":%S"),m=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),g=u("%b %d"),w=u("%B"),N=u("%Y");function j(S){return(c(S)<S?p:l(S)<S?x:o(S)<S?m:i(S)<S?b:n(S)<S?s(S)<S?y:g:r(S)<S?w:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,eSe)):h().map(JNe)},d.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?j:u(_)},d.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(zB(_,S)):d},d.copy=function(){return Ip(d,JC(e,t,r,n,s,i,o,l,c,u))},d}function tSe(){return Gs.apply(JC(Q1e,X1e,$i,XC,Wb,Rp,YC,KC,El,n8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rSe(){return Gs.apply(JC(G1e,Y1e,Mi,ZC,Hb,zb,QC,GC,El,s8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kb(){var e=0,t=1,r,n,s,i,o=Ln,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,x;return arguments.length?([p,x]=h,o=f(p,x),u):[o(0),o(1)]}}return u.range=d(sf),u.rangeRound=d(LC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a8(){var e=Qo(Kb()(Ln));return e.copy=function(){return Xo(e,a8())},Vi.apply(e,arguments)}function i8(){var e=VC(Kb()).domain([1,10]);return e.copy=function(){return Xo(e,i8()).base(e.base())},Vi.apply(e,arguments)}function o8(){var e=qC(Kb());return e.copy=function(){return Xo(e,o8()).constant(e.constant())},Vi.apply(e,arguments)}function eP(){var e=zC(Kb());return e.copy=function(){return Xo(e,eP()).exponent(e.exponent())},Vi.apply(e,arguments)}function nSe(){return eP.apply(null,arguments).exponent(.5)}function l8(){var e=[],t=Ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((Op(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Oo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>qje(e,i/n))},r.copy=function(){return l8(t).domain(e)},Vi.apply(r,arguments)}function Gb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Ln,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function x(m){return function(b){var y,g,w;return arguments.length?([y,g,w]=b,u=p1e(m,[y,g,w]),p):[u(0),u(.5),u(1)]}}return p.range=x(sf),p.rangeRound=x(LC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function c8(){var e=Qo(Gb()(Ln));return e.copy=function(){return Xo(e,c8())},Vi.apply(e,arguments)}function u8(){var e=VC(Gb()).domain([.1,1,10]);return e.copy=function(){return Xo(e,u8()).base(e.base())},Vi.apply(e,arguments)}function d8(){var e=qC(Gb());return e.copy=function(){return Xo(e,d8()).constant(e.constant())},Vi.apply(e,arguments)}function tP(){var e=zC(Gb());return e.copy=function(){return Xo(e,tP()).exponent(e.exponent())},Vi.apply(e,arguments)}function sSe(){return tP.apply(null,arguments).exponent(.5)}const bI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ym,scaleDiverging:c8,scaleDivergingLog:u8,scaleDivergingPow:tP,scaleDivergingSqrt:sSe,scaleDivergingSymlog:d8,scaleIdentity:qB,scaleImplicit:ON,scaleLinear:Ty,scaleLog:WB,scaleOrdinal:$C,scalePoint:gh,scalePow:WC,scaleQuantile:GB,scaleQuantize:YB,scaleRadial:KB,scaleSequential:a8,scaleSequentialLog:i8,scaleSequentialPow:eP,scaleSequentialQuantile:l8,scaleSequentialSqrt:nSe,scaleSequentialSymlog:o8,scaleSqrt:L1e,scaleSymlog:HB,scaleThreshold:QB,scaleTime:tSe,scaleUtc:rSe,tickFormat:VB},Symbol.toStringTag,{value:"Module"}));var aSe=Yd;function iSe(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!aSe(o):r(o,l)))var l=o,c=i}return c}var Yb=iSe;function oSe(e,t){return e>t}var f8=oSe,lSe=Yb,cSe=f8,uSe=rf;function dSe(e){return e&&e.length?lSe(e,uSe,cSe):void 0}var fSe=dSe;const Qb=It(fSe);function hSe(e,t){return e<t}var h8=hSe,mSe=Yb,pSe=h8,gSe=rf;function vSe(e){return e&&e.length?mSe(e,gSe,pSe):void 0}var ySe=vSe;const Xb=It(ySe);var xSe=pC,bSe=Ja,wSe=wB,jSe=ls;function NSe(e,t){var r=jSe(e)?xSe:wSe;return r(e,bSe(t))}var SSe=NSe,_Se=xB,kSe=SSe;function CSe(e,t){return _Se(kSe(e,t),1)}var PSe=CSe;const ESe=It(PSe);var ASe=AC;function OSe(e,t){return ASe(e,t)}var TSe=OSe;const Zb=It(TSe);var af=1e9,ISe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nP,tr=!0,zs="[DecimalError] ",Hl=zs+"Invalid argument: ",rP=zs+"Exponent out of range: ",of=Math.floor,vl=Math.pow,RSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ys,tn=1e7,Zt=7,m8=9007199254740991,My=of(m8/Zt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(e){return ji(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,r=t.constructor;return Vt(ji(t,new r(e),0,1),r.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return Mr(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ys))throw Error(zs+"NaN");if(r.s<1)throw Error(zs+(r.s?"NaN":"-Infinity"));return r.eq(ys)?new n(0):(tr=!1,t=ji(Nm(r,i),Nm(e,i),i),tr=!0,Vt(t,s))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v8(t,e):p8(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(zs+"NaN");return r.s?(tr=!1,t=ji(r,e,0,1).times(e),tr=!0,r.minus(t)):Vt(new n(r),s)};Re.naturalExponential=Re.exp=function(){return g8(this)};Re.naturalLogarithm=Re.ln=function(){return Nm(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p8(t,e):v8(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hl+e);if(t=Mr(s)+1,n=s.d.length-1,r=n*Zt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Re.squareRoot=Re.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zs+"NaN")}for(e=Mr(l),tr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Da(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=of((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(ji(l,i,o+2)).times(.5),Da(i.d).slice(0,o)===(t=Da(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Vt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return tr=!0,Vt(n,r)};Re.times=Re.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%tn|0,t=l/tn|0;i[s]=(i[s]+t)%tn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,tr?Vt(e,f.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ka(e,0,af),t===void 0?t=n.rounding:Ka(t,0,8),Vt(r,e+Mr(r)+1,t))};Re.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=hc(n,!0):(Ka(e,0,af),t===void 0?t=s.rounding:Ka(t,0,8),n=Vt(new s(n),e+1,t),r=hc(n,!0,e+1)),r};Re.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?hc(s):(Ka(e,0,af),t===void 0?t=i.rounding:Ka(t,0,8),n=Vt(new i(s),e+Mr(s)+1,t),r=hc(n.abs(),!1,e+Mr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Mr(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ys);if(l=new c(l),!l.s){if(e.s<1)throw Error(zs+"Infinity");return l}if(l.eq(ys))return l;if(n=c.precision,e.eq(ys))return Vt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=m8){for(s=new c(ys),t=Math.ceil(n/Zt+4),tr=!1;r%2&&(s=s.times(l),jI(s.d,t)),r=of(r/2),r!==0;)l=l.times(l),jI(l.d,t);return tr=!0,e.s<0?new c(ys).div(s):Vt(s,n)}}else if(i<0)throw Error(zs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,tr=!1,s=e.times(Nm(l,n+u)),tr=!0,s=g8(s),s.s=i,s};Re.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Mr(s),n=hc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ka(e,1,af),t===void 0?t=i.rounding:Ka(t,0,8),s=Vt(new i(s),e,t),r=Mr(s),n=hc(s,e<=r||r<=i.toExpNeg,e)),n};Re.toSignificantDigits=Re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ka(e,1,af),t===void 0?t=n.rounding:Ka(t,0,8)),Vt(new n(r),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mr(e),r=e.constructor;return hc(e,t<=r.toExpNeg||t>=r.toExpPos)};function p8(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),tr?Vt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Zt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/tn|0,c[i]%=tn;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,tr?Vt(t,f):t}function Ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hl+e)}function Da(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Zt-n.length,r&&(i+=ro(r)),i+=n;o=e[t],n=o+"",r=Zt-n.length,r&&(i+=ro(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ji=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%tn|0,o=i/tn|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*tn+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,p,x,m,b,y,g,w,N,j,S,_,k,C=n.constructor,E=n.s==s.s?1:-1,P=n.d,R=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(zs+"Division by zero");for(c=n.e-s.e,_=R.length,j=P.length,p=new C(E),x=p.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,i==null?g=i=C.precision:o?g=i+(Mr(n)-Mr(s))+1:g=i,g<0)return new C(0);if(g=g/Zt+2|0,u=0,_==1)for(d=0,R=R[0],g++;(u<j||d)&&g--;u++)w=d*tn+(P[u]||0),x[u]=w/R|0,d=w%R|0;else{for(d=tn/(R[0]+1)|0,d>1&&(R=e(R,d),P=e(P,d),_=R.length,j=P.length),N=_,m=P.slice(0,_),b=m.length;b<_;)m[b++]=0;k=R.slice(),k.unshift(0),S=R[0],R[1]>=tn/2&&++S;do d=0,l=t(R,m,_,b),l<0?(y=m[0],_!=b&&(y=y*tn+(m[1]||0)),d=y/S|0,d>1?(d>=tn&&(d=tn-1),f=e(R,d),h=f.length,b=m.length,l=t(f,m,h,b),l==1&&(d--,r(f,_<h?k:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<b&&f.unshift(0),r(m,f,b),l==-1&&(b=m.length,l=t(R,m,_,b),l<1&&(d++,r(m,_<b?k:R,b))),b=m.length):l===0&&(d++,m=[0]),x[u++]=d,l&&m[0]?m[b++]=P[N]||0:(m=[P[N]],b=1);while((N++<j||m[0]!==void 0)&&g--)}return x[0]||x.shift(),p.e=c,Vt(p,o?i+Mr(p)+1:i)}}();function g8(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Mr(e)>16)throw Error(rP+Mr(e));if(!e.s)return new d(ys);for(tr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(vl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(ys),d.precision=l;;){if(s=Vt(s.times(e),l),r=r.times(++c),o=i.plus(ji(s,r,l)),Da(o.d).slice(0,l)===Da(i.d).slice(0,l)){for(;u--;)i=Vt(i.times(i),l);return d.precision=f,t==null?(tr=!0,Vt(i,f)):i}i=o}}function Mr(e){for(var t=e.e*Zt,r=e.d[0];r>=10;r/=10)t++;return t}function Hw(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(zs+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function ro(e){for(var t="";e--;)t+="0";return t}function Nm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,p=e,x=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(zs+(p.s?"NaN":"-Infinity"));if(p.eq(ys))return new m(0);if(t==null?(tr=!1,u=b):u=t,p.eq(10))return t==null&&(tr=!0),Hw(m,u);if(u+=h,m.precision=u,r=Da(x),n=r.charAt(0),i=Mr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Da(p.d),n=r.charAt(0),f++;i=Mr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Hw(m,u+2,b).times(i+""),p=Nm(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=b,t==null?(tr=!0,Vt(p,b)):p;for(l=o=p=ji(p.minus(ys),p.plus(ys),u),d=Vt(p.times(p),u),s=3;;){if(o=Vt(o.times(d),u),c=l.plus(ji(o,new m(s),u)),Da(c.d).slice(0,u)===Da(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Hw(m,u+2,b).times(i+""))),l=ji(l,new m(f),u),m.precision=b,t==null?(tr=!0,Vt(l,b)):l;l=c,s+=2}}function wI(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=of(r/Zt),e.d=[],n=(r+1)%Zt,r<0&&(n+=Zt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Zt;n<s;)e.d.push(+t.slice(n,n+=Zt));t=t.slice(n),n=Zt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>My||e.e<-My))throw Error(rP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Zt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Zt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Zt,s=n-Zt+o}if(r!==void 0&&(i=vl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/vl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Mr(e),f.length=1,t=t-i-1,f[0]=vl(10,(Zt-t%Zt)%Zt),e.e=of(-t/Zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=vl(10,Zt-n),f[d]=s>0?(u/vl(10,o-s)%vl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==tn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=tn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(tr&&(e.e>My||e.e<-My))throw Error(rP+Mr(e));return e}function v8(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tr?Vt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Zt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=tn-1;--c[i],c[s]+=tn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,tr?Vt(t,p):t):new h(0)}function hc(e,t,r){var n,s=Mr(e),i=Da(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ro(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ro(-s-1)+i,r&&(n=r-o)>0&&(i+=ro(n))):s>=o?(i+=ro(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ro(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ro(n))),e.s<0?"-"+i:i}function jI(e,t){if(e.length>t)return e.length=t,!0}function y8(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return wI(o,i.toString())}else if(typeof i!="string")throw Error(Hl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,RSe.test(i))wI(o,i);else throw Error(Hl+i)}if(s.prototype=Re,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=y8,s.config=s.set=$Se,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function $Se(e){if(!e||typeof e!="object")throw Error(zs+"Object expected");var t,r,n,s=["precision",1,af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(of(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Hl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hl+r+": "+n);return this}var nP=y8(ISe);ys=new nP(1);const Bt=nP;function MSe(e){return USe(e)||FSe(e)||LSe(e)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(e,t){if(e){if(typeof e=="string")return $N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(e,t)}}function FSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function USe(e){if(Array.isArray(e))return $N(e)}function $N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BSe=function(t){return t},x8={},b8=function(t){return t===x8},NI=function(t){return function r(){return arguments.length===0||arguments.length===1&&b8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},VSe=function e(t,r){return t===1?r:NI(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==x8}).length;return o>=t?r.apply(void 0,s):e(t-o,NI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return b8(f)?c.shift():f});return r.apply(void 0,MSe(d).concat(c))}))})},Jb=function(t){return VSe(t.length,t)},MN=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},qSe=Jb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),zSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return BSe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},DN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},w8=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function WSe(e){var t;return e===0?t=1:t=Math.floor(new Bt(e).abs().log(10).toNumber())+1,t}function HSe(e,t,r){for(var n=new Bt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var KSe=Jb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),GSe=Jb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),YSe=Jb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const e0={rangeStep:HSe,getDigitCount:WSe,interpolateNumber:KSe,uninterpolateNumber:GSe,uninterpolateTruncation:YSe};function LN(e){return ZSe(e)||XSe(e)||j8(e)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ZSe(e){if(Array.isArray(e))return FN(e)}function Sm(e,t){return t_e(e)||e_e(e,t)||j8(e,t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(e,t){if(e){if(typeof e=="string")return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e_e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function t_e(e){if(Array.isArray(e))return e}function N8(e){var t=Sm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function S8(e,t,r){if(e.lte(0))return new Bt(0);var n=e0.getDigitCount(e.toNumber()),s=new Bt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Bt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Bt(Math.ceil(c))}function r_e(e,t,r){var n=1,s=new Bt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Bt(10).pow(e0.getDigitCount(e)-1),s=new Bt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Bt(Math.floor(e)))}else e===0?s=new Bt(Math.floor((t-1)/2)):r||(s=new Bt(Math.floor(e)));var o=Math.floor((t-1)/2),l=zSe(qSe(function(c){return s.add(new Bt(c-o).mul(n)).toNumber()}),MN);return l(0,t)}function _8(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var i=S8(new Bt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Bt(0):(o=new Bt(e).add(t).div(2),o=o.sub(new Bt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Bt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?_8(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Bt(l).mul(i)),tickMax:o.add(new Bt(c).mul(i))})}function n_e(e){var t=Sm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=N8([r,n]),c=Sm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(LN(MN(0,s-1).map(function(){return 1/0}))):[].concat(LN(MN(0,s-1).map(function(){return-1/0})),[d]);return r>n?DN(f):f}if(u===d)return r_e(u,s,i);var h=_8(u,d,o,i),p=h.step,x=h.tickMin,m=h.tickMax,b=e0.rangeStep(x,m.add(new Bt(.1).mul(p)),p);return r>n?DN(b):b}function s_e(e,t){var r=Sm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=N8([n,s]),l=Sm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=S8(new Bt(u).sub(c).div(d-1),i,0),h=[].concat(LN(e0.rangeStep(new Bt(c),new Bt(u).sub(new Bt(.99).mul(f)),f)),[u]);return n>s?DN(h):h}var a_e=w8(n_e),i_e=w8(s_e),o_e="Invariant failed";function mc(e,t){throw new Error(o_e)}var l_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function c_e(e,t){return h_e(e)||f_e(e,t)||d_e(e,t)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(e,t){if(e){if(typeof e=="string")return SI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SI(e,t)}}function SI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function h_e(e){if(Array.isArray(e))return e}function m_e(e,t){if(e==null)return{};var r=p_e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P8(n.key),n)}}function y_e(e,t,r){return t&&v_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,r){return t=Ly(t),b_e(e,k8()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function b_e(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(e)}function w_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function j_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UN(e,t)}function C8(e,t,r){return t=P8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8(e){var t=N_e(e,"string");return bd(t)=="symbol"?t:t+""}function N_e(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t0=function(e){function t(){return g_e(this,t),x_e(this,t,arguments)}return j_e(t,e),y_e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=m_e(n,l_e),p=Je(h,!1);this.props.direction==="x"&&d.type!=="number"&&mc();var x=c.map(function(m){var b=u(m,l),y=b.x,g=b.y,w=b.value,N=b.errorVal;if(!N)return null;var j=[],S,_;if(Array.isArray(N)){var k=c_e(N,2);S=k[0],_=k[1]}else S=_=N;if(i==="vertical"){var C=d.scale,E=g+s,P=E+o,R=E-o,O=C(w-S),I=C(w+_);j.push({x1:I,y1:P,x2:I,y2:R}),j.push({x1:O,y1:E,x2:I,y2:E}),j.push({x1:O,y1:P,x2:O,y2:R})}else if(i==="horizontal"){var T=f.scale,D=y+s,q=D-o,A=D+o,$=T(w-S),H=T(w+_);j.push({x1:q,y1:H,x2:A,y2:H}),j.push({x1:D,y1:$,x2:D,y2:H}),j.push({x1:q,y1:$,x2:A,y2:$})}return M.createElement(Dt,Dy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),j.map(function(Y){return M.createElement("line",Dy({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return M.createElement(Dt,{className:"recharts-errorBars"},x)}}])}(M.Component);C8(t0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});C8(t0,"displayName","ErrorBar");function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function _I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(r),!0).forEach(function(n){S_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_e(e,t,r){return t=__e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=k_e(e,"string");return _m(t)=="symbol"?t:t+""}function k_e(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=fs(r,zl);if(!o)return null;var l=zl.defaultProps,c=l!==void 0?ll(ll({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,x=p.sectors||p.data||[];return d.concat(x.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ll(ll({},h),f.props):{},x=p.dataKey,m=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:x,type:c.iconType||b||"square",color:sP(f),value:m||x,payload:p}}),ll(ll(ll({},c),zl.getWithHeight(o,s)),{},{payload:u,item:o})};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function kI(e){return A_e(e)||E_e(e)||P_e(e)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function E_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A_e(e){if(Array.isArray(e))return BN(e)}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){Tu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tu(e,t,r){return t=O_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_e(e){var t=T_e(e,"string");return km(t)=="symbol"?t:t+""}function T_e(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(e,t,r){return vt(e)||vt(t)?r:Hr(t)?js(e,t,r):at(t)?t(e):r}function vh(e,t,r,n){var s=ESe(e,function(l){return Sn(l,t)});if(r==="number"){var i=s.filter(function(l){return je(l)||parseFloat(l)});return i.length?[Xb(i),Qb(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!vt(l)}):s;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var I_e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Mn(f-d)!==Mn(h-f)){var x=[];if(Mn(h-f)===Mn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];x[0]=Math.min(m,(m+d)/2),x[1]=Math.max(m,(m+d)/2)}else{p=d;var b=h+c[1]-c[0];x[0]=Math.min(f,(b+f)/2),x[1]=Math.max(f,(b+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=s[u].index;break}}else{var g=Math.min(d,h),w=Math.max(d,h);if(t>(g+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},sP=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},R_e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var x=d[f[h]],m=x.items,b=x.cateAxisId,y=m.filter(function(_){return wi(_.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,w=g!==void 0?gr(gr({},g),y[0].props):y[0].props,N=w.barSize,j=w[b];o[j]||(o[j]=[]);var S=vt(N)?r:N;o[j].push({item:y[0],stackList:y.slice(1),barSize:vt(S)?void 0:Dn(S,n,0)})}}return o},$_e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Dn(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,x=o.reduce(function(N,j){return N+j.barSize||0},0);x+=(c-1)*u,x>=s&&(x-=(c-1)*u,u=0),x>=s&&p>0&&(h=!0,p*=.9,x=c*p);var m=(s-x)/2>>0,b={offset:m-u,size:0};d=o.reduce(function(N,j){var S={item:j.item,position:{offset:b.offset+b.size+u,size:h?p:j.barSize}},_=[].concat(kI(N),[S]);return b=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:b})}),_},f)}else{var y=Dn(n,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var g=(s-2*y-(c-1)*u)/c;g>1&&(g>>=0);var w=l===+l?Math.min(g,l):g;d=o.reduce(function(N,j,S){var _=[].concat(kI(N),[{item:j.item,position:{offset:y+(g+u)*S+(g-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},f)}return d},M_e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=E8({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,x=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&x==="middle")&&p!=="center"&&je(t[p]))return gr(gr({},t),{},Tu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&x!=="middle"&&je(t[x]))return gr(gr({},t),{},Tu({},x,t[x]+(h||0)))}return t},D_e=function(t,r,n){return vt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},A8=function(t,r,n,s,i){var o=r.props.children,l=Bs(o,t0).filter(function(u){return D_e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Sn(d,n);if(vt(f))return u;var h=Array.isArray(f)?[Xb(f),Qb(f)]:[f,f],p=c.reduce(function(x,m){var b=Sn(d,m,0),y=h[0]-Math.abs(Array.isArray(b)?b[0]:b),g=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,x[0]),Math.max(g,x[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},L_e=function(t,r,n,s,i){var o=r.map(function(l){return A8(t,l,n,i,s)}).filter(function(l){return!vt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},O8=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&A8(t,c,u,s)||vh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},T8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},I8=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},xi=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Mn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Pp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Kw=new WeakMap,Tg=function(t,r){if(typeof r!="function")return t;Kw.has(t)||Kw.set(t,new WeakMap);var n=Kw.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},R8=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ym(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ty(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gh(),realScaleType:"point"}:i==="category"?{scale:ym(),realScaleType:"band"}:{scale:Ty(),realScaleType:"linear"};if(uc(s)){var c="scale".concat($b(s));return{scale:(bI[c]||gh)(),realScaleType:bI[c]?c:"point"}}return at(s)?{scale:s}:{scale:gh(),realScaleType:"point"}},PI=1e-4,$8=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-PI,o=Math.max(s[0],s[1])+PI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},F_e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},U_e=function(t,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},B_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Pp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},V_e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Pp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},q_e={sign:B_e,expand:lme,none:fd,silhouette:cme,wiggle:ume,positive:V_e},z_e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=q_e[n],o=ome().keys(s).value(function(l,c){return+Sn(l,c,0)}).order(fN).offset(i);return o(t)},W_e=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,x=(p=h.type)!==null&&p!==void 0&&p.defaultProps?gr(gr({},h.type.defaultProps),h.props):h.props,m=x.stackId,b=x.hide;if(b)return f;var y=x[n],g=f[y]||{hasStack:!1,stackGroups:{}};if(Hr(m)){var w=g.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),g.hasStack=!0,g.stackGroups[m]=w}else g.stackGroups[Ep("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return gr(gr({},f),{},Tu({},y,g))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var x={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var y=p.stackGroups[b];return gr(gr({},m),{},Tu({},b,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:z_e(t,y.items,i)}))},x)}return gr(gr({},f),{},Tu({},h,p))},d)},M8=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=a_e(u,i,l);return t.domain([Xb(d),Qb(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=i_e(f,i,l);return{niceTicks:h}}return null},EI=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Sn(o,r.dataKey,r.domain[l]);return vt(c)?null:r.scale(c)-i/2+s},H_e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},K_e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},G_e=function(t){return t.reduce(function(r,n){return[Xb(n.concat([r[0]]).filter(je)),Qb(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},D8=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=G_e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},AI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VN=function(t,r,n){if(at(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(je(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(AI.test(t[0])){var i=+AI.exec(t[0])[1];s[0]=r[0]-i}else at(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(je(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(OI.test(t[1])){var o=+OI.exec(t[1])[1];s[1]=r[1]+o}else at(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Fy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=TC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},TI=function(t,r,n){return!t||!t.length||Zb(t,js(n,"type.defaultProps.domain"))?r:t},L8=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gr(gr({},Je(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:sP(t),value:Sn(r,s),type:c,payload:r,chartType:u,hide:d})};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){F8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8(e,t,r){return t=Y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=Q_e(e,"string");return Cm(t)=="symbol"?t:t+""}function Q_e(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_e(e,t){return tke(e)||eke(e,t)||J_e(e,t)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(e,t){if(e){if(typeof e=="string")return RI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RI(e,t)}}function RI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tke(e){if(Array.isArray(e))return e}var Uy=Math.PI/180,rke=function(t){return t*180/Math.PI},Gt=function(t,r,n,s){return{x:t+Math.cos(-Uy*s)*n,y:r+Math.sin(-Uy*s)*n}},U8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nke=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Dn(t.cx,o,o/2),f=Dn(t.cy,l,l/2),h=U8(o,l,n),p=Dn(t.innerRadius,h,0),x=Dn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(b,y){var g=r[y],w=g.domain,N=g.reversed,j;if(vt(g.range))s==="angleAxis"?j=[c,u]:s==="radiusAxis"&&(j=[p,x]),N&&(j=[j[1],j[0]]);else{j=g.range;var S=j,_=X_e(S,2);c=_[0],u=_[1]}var k=R8(g,i),C=k.realScaleType,E=k.scale;E.domain(w).range(j),$8(E);var P=M8(E,li(li({},g),{},{realScaleType:C})),R=li(li(li({},g),P),{},{range:j,radius:x,realScaleType:C,scale:E,cx:d,cy:f,innerRadius:p,outerRadius:x,startAngle:c,endAngle:u});return li(li({},b),{},F8({},y,R))},{})},ske=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},ake=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=ske({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:rke(u),angleInRadian:u}},ike=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},oke=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},$I=function(t,r){var n=t.x,s=t.y,i=ake({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=ike(r),f=d.startAngle,h=d.endAngle,p=l,x;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;x=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=f}return x?li(li({},r),{},{radius:o,angle:oke(p,r)}):null},B8=function(t){return!v.isValidElement(t)&&!at(t)&&typeof t!="boolean"?t.className:""};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}var lke=["offset"];function cke(e){return hke(e)||fke(e)||dke(e)||uke()}function uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dke(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function fke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hke(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mke(e,t){if(e==null)return{};var r=pke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){gke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gke(e,t,r){return t=vke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vke(e){var t=yke(e,"string");return Pm(t)=="symbol"?t:t+""}function yke(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}var xke=function(t){var r=t.value,n=t.formatter,s=vt(t.children)?r:t.children;return at(n)?n(s):s},bke=function(t,r){var n=Mn(r-t),s=Math.min(Math.abs(r-t),360);return n*s},wke=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,x=c.endAngle,m=c.clockWise,b=(f+h)/2,y=bke(p,x),g=y>=0?1:-1,w,N;s==="insideStart"?(w=p+g*o,N=m):s==="insideEnd"?(w=x-g*o,N=!m):s==="end"&&(w=x+g*o,N=m),N=y<=0?N:!N;var j=Gt(u,d,b,w),S=Gt(u,d,b,w+(N?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),k=vt(t.id)?Ep("recharts-radial-line-"):t.id;return M.createElement("text",Em({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:k,d:_})),M.createElement("textPath",{xlinkHref:"#".concat(k)},r))},jke=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=Gt(o,l,u+n,h),x=p.x,m=p.y;return{x,y:m,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,y=Gt(o,l,b,h),g=y.x,w=y.y;return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Nke=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",x=f>0?"start":"end",m=u>=0?1:-1,b=m*s,y=m>0?"end":"start",g=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Ur(Ur({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return Ur(Ur({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Ur(Ur({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Ur(Ur({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return i==="insideLeft"?Ur({x:l+b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},_):i==="insideRight"?Ur({x:l+u-b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideTop"?Ur({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},_):i==="insideBottom"?Ur({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},_):i==="insideTopLeft"?Ur({x:l+b,y:c+h,textAnchor:g,verticalAnchor:x},_):i==="insideTopRight"?Ur({x:l+u-b,y:c+h,textAnchor:y,verticalAnchor:x},_):i==="insideBottomLeft"?Ur({x:l+b,y:c+d-h,textAnchor:g,verticalAnchor:p},_):i==="insideBottomRight"?Ur({x:l+u-b,y:c+d-h,textAnchor:y,verticalAnchor:p},_):Qd(i)&&(je(i.x)||Cl(i.x))&&(je(i.y)||Cl(i.y))?Ur({x:l+Dn(i.x,u),y:c+Dn(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):Ur({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Ske=function(t){return"cx"in t&&je(t.cx)};function nn(e){var t=e.offset,r=t===void 0?5:t,n=mke(e,lke),s=Ur({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||vt(l)&&vt(c)&&!v.isValidElement(u)&&!at(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var p;if(at(u)){if(p=v.createElement(u,s),v.isValidElement(p))return p}else p=xke(s);var x=Ske(i),m=Je(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wke(s,p,m);var b=x?jke(s):Nke(s);return M.createElement(fc,Em({className:ft("recharts-label",f)},m,b,{breakAll:h}),p)}nn.displayName="Label";var V8=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,x=t.left,m=t.width,b=t.height,y=t.clockWise,g=t.labelViewBox;if(g)return g;if(je(m)&&je(b)){if(je(f)&&je(h))return{x:f,y:h,width:m,height:b};if(je(p)&&je(x))return{x:p,y:x,width:m,height:b}}return je(f)&&je(h)?{x:f,y:h,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},_ke=function(t,r){return t?t===!0?M.createElement(nn,{key:"label-implicit",viewBox:r}):Hr(t)?M.createElement(nn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===nn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):at(t)?M.createElement(nn,{key:"label-implicit",content:t,viewBox:r}):Qd(t)?M.createElement(nn,Em({viewBox:r},t,{key:"label-implicit"})):null:null},kke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=V8(t),o=Bs(s,nn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=_ke(t.label,r||i);return[l].concat(cke(o))};nn.parseViewBox=V8;nn.renderCallByParent=kke;function Cke(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Pke=Cke;const Eke=It(Pke);function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}var Ake=["valueAccessor"],Oke=["data","dataKey","clockWise","id","textBreakAll"];function Tke(e){return Mke(e)||$ke(e)||Rke(e)||Ike()}function Ike(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rke(e,t){if(e){if(typeof e=="string")return zN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(e,t)}}function $ke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mke(e){if(Array.isArray(e))return zN(e)}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){Dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t,r){return t=Lke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lke(e){var t=Fke(e,"string");return Am(t)=="symbol"?t:t+""}function Fke(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FI(e,t){if(e==null)return{};var r=Uke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bke=function(t){return Array.isArray(t.value)?Eke(t.value):t.value};function To(e){var t=e.valueAccessor,r=t===void 0?Bke:t,n=FI(e,Ake),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=FI(n,Oke);return!s||!s.length?null:M.createElement(Dt,{className:"recharts-label-list"},s.map(function(d,f){var h=vt(i)?r(d,f):Sn(d&&d.payload,i),p=vt(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(nn,By({},Je(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:nn.parseViewBox(vt(o)?d:LI(LI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}To.displayName="LabelList";function Vke(e,t){return e?e===!0?M.createElement(To,{key:"labelList-implicit",data:t}):M.isValidElement(e)||at(e)?M.createElement(To,{key:"labelList-implicit",data:t,content:e}):Qd(e)?M.createElement(To,By({data:t},e,{key:"labelList-implicit"})):null:null}function qke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Bs(n,To).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Vke(e.label,t);return[i].concat(Tke(s))}To.renderCallByParent=qke;function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WN.apply(this,arguments)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){zke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zke(e,t,r){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e){var t=Hke(e,"string");return Om(t)=="symbol"?t:t+""}function Hke(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kke=function(t,r){var n=Mn(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Ig=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Uy,h=u?i:i+o*f,p=Gt(r,n,d,h),x=Gt(r,n,s,h),m=u?i-o*f:i,b=Gt(r,n,d*Math.cos(f*Uy),m);return{center:p,circleTangency:x,lineTangency:b,theta:f}},q8=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Kke(o,l),u=o+c,d=Gt(r,n,i,o),f=Gt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Gt(r,n,s,o),x=Gt(r,n,s,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Gke=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Mn(d-u),h=Ig({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,x=h.lineTangency,m=h.theta,b=Ig({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=b.circleTangency,g=b.lineTangency,w=b.theta,N=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):q8({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var S=Ig({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,k=S.lineTangency,C=S.theta,E=Ig({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,R=E.lineTangency,O=E.theta,I=c?Math.abs(u-d):Math.abs(u-d)-C-O;if(I<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Yke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z8=function(t){var r=BI(BI({},Yke),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=ft("recharts-sector",h),x=o-i,m=Dn(l,x,0,!0),b;return m>0&&Math.abs(d-f)<360?b=Gke({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=q8({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",WN({},Je(r,!0),{className:p,d:b,role:"img"}))};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(this,arguments)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){Qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qke(e,t,r){return t=Xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xke(e){var t=Zke(e,"string");return Tm(t)=="symbol"?t:t+""}function Zke(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zI={curveBasisClosed:Qhe,curveBasisOpen:Xhe,curveBasis:Yhe,curveBumpX:$he,curveBumpY:Mhe,curveLinearClosed:Zhe,curveLinear:Db,curveMonotoneX:Jhe,curveMonotoneY:eme,curveNatural:tme,curveStep:rme,curveStepAfter:sme,curveStepBefore:nme},Rg=function(t){return t.x===+t.x&&t.y===+t.y},$f=function(t){return t.x},Mf=function(t){return t.y},Jke=function(t,r){if(at(t))return t;var n="curve".concat($b(t));return(n==="curveMonotone"||n==="curveBump")&&r?zI["".concat(n).concat(r==="vertical"?"Y":"X")]:zI[n]||Db},eCe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Jke(n,l),f=u?i.filter(function(m){return Rg(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Rg(m)}):o,x=f.map(function(m,b){return qI(qI({},m),{},{base:p[b]})});return l==="vertical"?h=Sg().y(Mf).x1($f).x0(function(m){return m.base.x}):h=Sg().x($f).y1(Mf).y0(function(m){return m.base.y}),h.defined(Rg).curve(d),h(x)}return l==="vertical"&&je(o)?h=Sg().y(Mf).x1($f).x0(o):je(o)?h=Sg().x($f).y1(Mf).y0(o):h=LU().x($f).y(Mf),h.defined(Rg).curve(d),h(f)},KN=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?eCe(t):s;return v.createElement("path",HN({},Je(t,!1),fy(t),{className:ft("recharts-curve",r),d:o,ref:i}))},W8={exports:{}},tCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rCe=tCe,nCe=rCe;function H8(){}function K8(){}K8.resetWarningCache=H8;var sCe=function(){function e(n,s,i,o,l,c){if(c!==nCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K8,resetWarningCache:H8};return r.PropTypes=r,r};W8.exports=sCe();var aCe=W8.exports;const Ot=It(aCe),{getOwnPropertyNames:iCe,getOwnPropertySymbols:oCe}=Object,{hasOwnProperty:lCe}=Object.prototype;function Gw(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function $g(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function cCe(e){return e!=null?e[Symbol.toStringTag]:void 0}function WI(e){return iCe(e).concat(oCe(e))}const uCe=Object.hasOwn||((e,t)=>lCe.call(e,t));function Ec(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const dCe="__v",fCe="__o",hCe="_owner",{getOwnPropertyDescriptor:HI,keys:KI}=Object;function mCe(e,t){return e.byteLength===t.byteLength&&Vy(new Uint8Array(e),new Uint8Array(t))}function pCe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function gCe(e,t){return e.byteLength===t.byteLength&&Vy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function vCe(e,t){return Ec(e.getTime(),t.getTime())}function yCe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xCe(e,t){return e===t}function GI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const bCe=Ec;function wCe(e,t,r){const n=KI(e);let s=n.length;if(KI(t).length!==s)return!1;for(;s-- >0;)if(!G8(e,t,r,n[s]))return!1;return!0}function Df(e,t,r){const n=WI(e);let s=n.length;if(WI(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!G8(e,t,r,i)||(o=HI(e,i),l=HI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jCe(e,t){return Ec(e.valueOf(),t.valueOf())}function NCe(e,t){return e.source===t.source&&e.flags===t.flags}function YI(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Vy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SCe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G8(e,t,r,n){return(n===hCe||n===fCe||n===dCe)&&(e.$$typeof||t.$$typeof)?!0:uCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const _Ce="[object ArrayBuffer]",kCe="[object Arguments]",CCe="[object Boolean]",PCe="[object DataView]",ECe="[object Date]",ACe="[object Error]",OCe="[object Map]",TCe="[object Number]",ICe="[object Object]",RCe="[object RegExp]",$Ce="[object Set]",MCe="[object String]",DCe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},LCe="[object URL]",FCe=Object.prototype.toString;function UCe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:x}){return function(b,y,g){if(b===y)return!0;if(b==null||y==null)return!1;const w=typeof b;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(b,y,g):w==="function"?i(b,y,g):!1;const N=b.constructor;if(N!==y.constructor)return!1;if(N===Object)return c(b,y,g);if(Array.isArray(b))return t(b,y,g);if(N===Date)return n(b,y,g);if(N===RegExp)return d(b,y,g);if(N===Map)return o(b,y,g);if(N===Set)return f(b,y,g);const j=FCe.call(b);if(j===ECe)return n(b,y,g);if(j===RCe)return d(b,y,g);if(j===OCe)return o(b,y,g);if(j===$Ce)return f(b,y,g);if(j===ICe)return typeof b.then!="function"&&typeof y.then!="function"&&c(b,y,g);if(j===LCe)return p(b,y,g);if(j===ACe)return s(b,y,g);if(j===kCe)return c(b,y,g);if(DCe[j])return h(b,y,g);if(j===_Ce)return e(b,y,g);if(j===PCe)return r(b,y,g);if(j===CCe||j===TCe||j===MCe)return u(b,y,g);if(x){let S=x[j];if(!S){const _=cCe(b);_&&(S=x[_])}if(S)return S(b,y,g)}return!1}}function BCe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:mCe,areArraysEqual:r?Df:pCe,areDataViewsEqual:gCe,areDatesEqual:vCe,areErrorsEqual:yCe,areFunctionsEqual:xCe,areMapsEqual:r?Gw(GI,Df):GI,areNumbersEqual:bCe,areObjectsEqual:r?Df:wCe,arePrimitiveWrappersEqual:jCe,areRegExpsEqual:NCe,areSetsEqual:r?Gw(YI,Df):YI,areTypedArraysEqual:r?Gw(Vy,Df):Vy,areUrlsEqual:SCe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=$g(n.areArraysEqual),i=$g(n.areMapsEqual),o=$g(n.areObjectsEqual),l=$g(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function VCe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function qCe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const zCe=Zo();Zo({strict:!0});Zo({circular:!0});Zo({circular:!0,strict:!0});Zo({createInternalComparator:()=>Ec});Zo({strict:!0,createInternalComparator:()=>Ec});Zo({circular:!0,createInternalComparator:()=>Ec});Zo({circular:!0,createInternalComparator:()=>Ec,strict:!0});function Zo(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=BCe(e),o=UCe(i),l=r?r(o):VCe(o);return qCe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function WCe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):WCe(s)};requestAnimationFrame(n)}function GN(e){"@babel/helpers - typeof";return GN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GN(e)}function HCe(e){return QCe(e)||YCe(e)||GCe(e)||KCe()}function KCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GCe(e,t){if(e){if(typeof e=="string")return XI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XI(e,t)}}function XI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QCe(e){if(Array.isArray(e))return e}function XCe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=HCe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){QI(s.bind(null,u),c);return}s(c),QI(s.bind(null,u));return}GN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function ZI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return t=ZCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZCe(e){var t=JCe(e,"string");return Im(t)==="symbol"?t:String(t)}function JCe(e,t){if(Im(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ePe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},tPe=function(t){return t},rPe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yh=function(t,r){return Object.keys(r).reduce(function(n,s){return JI(JI({},n),{},Y8({},s,t(s,r[s])))},{})},eR=function(t,r,n){return t.map(function(s){return"".concat(rPe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function nPe(e,t){return iPe(e)||aPe(e,t)||Q8(e,t)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iPe(e){if(Array.isArray(e))return e}function oPe(e){return uPe(e)||cPe(e)||Q8(e)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function cPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uPe(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qy=1e-4,X8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Z8=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},tR=function(t,r){return function(n){var s=X8(t,r);return Z8(s,n)}},dPe=function(t,r){return function(n){var s=X8(t,r),i=[].concat(oPe(s.map(function(o,l){return o*l}).slice(1)),[0]);return Z8(i,n)}},rR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=nPe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=tR(s,o),h=tR(i,l),p=dPe(s,o),x=function(y){return y>1?1:y<0?0:y},m=function(y){for(var g=y>1?1:y,w=g,N=0;N<8;++N){var j=f(w)-g,S=p(w);if(Math.abs(j-g)<qy||S<qy)return h(w);w=x(w-j/S)}return h(w)};return m.isStepper=!1,m},fPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,x=h*i,m=h+(p-x)*l/1e3,b=h*l/1e3+d;return Math.abs(b-f)<qy&&Math.abs(m)<qy?[f,0]:[b,m]};return c.isStepper=!0,c.dt=l,c},hPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rR(s);case"spring":return fPe();default:if(s.split("(")[0]==="cubic-bezier")return rR(s)}return typeof s=="function"?s:null};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function nR(e){return gPe(e)||pPe(e)||J8(e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gPe(e){if(Array.isArray(e))return XN(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){QN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QN(e,t,r){return t=vPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vPe(e){var t=yPe(e,"string");return Rm(t)==="symbol"?t:String(t)}function yPe(e,t){if(Rm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xPe(e,t){return jPe(e)||wPe(e,t)||J8(e,t)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jPe(e){if(Array.isArray(e))return e}var zy=function(t,r,n){return t+(r-t)*n},ZN=function(t){var r=t.from,n=t.to;return r!==n},NPe=function e(t,r,n){var s=yh(function(i,o){if(ZN(o)){var l=t(o.from,o.to,o.velocity),c=xPe(l,2),u=c[0],d=c[1];return fn(fn({},o),{},{from:u,velocity:d})}return o},r);return n<1?yh(function(i,o){return ZN(o)?fn(fn({},o),{},{velocity:zy(o.velocity,s[i].velocity,n),from:zy(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const SPe=function(e,t,r,n,s){var i=ePe(e,t),o=i.reduce(function(b,y){return fn(fn({},b),{},QN({},y,[e[y],t[y]]))},{}),l=i.reduce(function(b,y){return fn(fn({},b),{},QN({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return yh(function(y,g){return g.from},l)},p=function(){return!Object.values(l).filter(ZN).length},x=function(y){u||(u=y);var g=y-u,w=g/r.dt;l=NPe(r,l,w),s(fn(fn(fn({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var g=(y-d)/n,w=yh(function(j,S){return zy.apply(void 0,nR(S).concat([r(g)]))},o);if(s(fn(fn(fn({},e),t),w)),g<1)c=requestAnimationFrame(f);else{var N=yh(function(j,S){return zy.apply(void 0,nR(S).concat([r(1)]))},o);s(fn(fn(fn({},e),t),N))}};return f=r.isStepper?x:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}var _Pe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kPe(e,t){if(e==null)return{};var r=CPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CPe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Yw(e){return OPe(e)||APe(e)||EPe(e)||PPe()}function PPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function APe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OPe(e){if(Array.isArray(e))return JN(e)}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){Xf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xf(e,t,r){return t=eV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eV(n.key),n)}}function RPe(e,t,r){return t&&IPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eV(e){var t=$Pe(e,"string");return wd(t)==="symbol"?t:String(t)}function $Pe(e,t){if(wd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eS(e,t)}function DPe(e){var t=LPe();return function(){var n=Wy(e),s;if(t){var i=Wy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return tS(this,s)}}function tS(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rS(e)}function rS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}var Di=function(e){MPe(r,e);var t=DPe(r);function r(n,s){var i;TPe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rS(i)),i.changeStyle=i.changeStyle.bind(rS(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),tS(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},tS(i);i.state={style:c?Xf({},c,u):u}}else i.state={style:{}};return i}return RPe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Xf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(zCe(s.to,d)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=x||u?f:s.to;if(this.state&&h){var b={style:c?Xf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(b)}this.runAnimation(Xs(Xs({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=SPe(o,l,hPe(u),c,this.changeStyle),x=function(){i.stopJSAnimation=p()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,b,y){if(y===0)return m;var g=b.duration,w=b.easing,N=w===void 0?"ease":w,j=b.style,S=b.properties,_=b.onAnimationEnd,k=y>0?o[y-1]:b,C=S||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(Yw(m),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:g,easing:N}),g]);var E=eR(C,g,N),P=Xs(Xs(Xs({},k.style),j),{},{transition:E});return[].concat(Yw(m),[P,g,_]).filter(tPe)};return this.manager.start([c].concat(Yw(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=XCe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Xf({},l,c):c,b=eR(Object.keys(m),o,u);x.start([d,i,Xs(Xs({},m),{},{transition:b}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=kPe(s,_Pe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var x=p.props,m=x.style,b=m===void 0?{}:m,y=x.className,g=v.cloneElement(p,Xs(Xs({},c),{},{style:Xs(Xs({},b),d),className:y}));return g};return u===1?f(v.Children.only(i)):M.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Di.displayName="Animate";Di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Di.propTypes={from:Ot.oneOfType([Ot.object,Ot.string]),to:Ot.oneOfType([Ot.object,Ot.string]),attributeName:Ot.string,duration:Ot.number,begin:Ot.number,easing:Ot.oneOfType([Ot.string,Ot.func]),steps:Ot.arrayOf(Ot.shape({duration:Ot.number.isRequired,style:Ot.object.isRequired,easing:Ot.oneOfType([Ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ot.func]),properties:Ot.arrayOf("string"),onAnimationEnd:Ot.func})),children:Ot.oneOfType([Ot.node,Ot.func]),isActive:Ot.bool,canBegin:Ot.bool,onAnimationEnd:Ot.func,shouldReAnimate:Ot.bool,onAnimationStart:Ot.func,onAnimationReStart:Ot.func};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function FPe(e,t){return qPe(e)||VPe(e,t)||BPe(e,t)||UPe()}function UPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BPe(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qPe(e){if(Array.isArray(e))return e}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){zPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zPe(e,t,r){return t=WPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WPe(e){var t=HPe(e,"string");return $m(t)=="symbol"?t:t+""}function HPe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cR=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+s,`
            L `).concat(t+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},KPe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},GPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aP=function(t){var r=lR(lR({},GPe),t),n=v.useRef(),s=v.useState(-1),i=FPe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,x=r.animationEasing,m=r.animationDuration,b=r.animationBegin,y=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ft("recharts-rectangle",p);return g?M.createElement(Di,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:x,isActive:g},function(N){var j=N.width,S=N.height,_=N.x,k=N.y;return M.createElement(Di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:y,easing:x},M.createElement("path",Hy({},Je(r,!0),{className:w,d:cR(_,k,j,S,h),ref:n})))}):M.createElement("path",Hy({},Je(r,!0),{className:w,d:cR(c,u,d,f,h)}))},YPe=["points","className","baseLinePoints","connectNulls"];function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function QPe(e,t){if(e==null)return{};var r=XPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uR(e){return tEe(e)||eEe(e)||JPe(e)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(e,t){if(e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function eEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tEe(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dR=function(t){return t&&t.x===+t.x&&t.y===+t.y},rEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){dR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),dR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xh=function(t,r){var n=rEe(t);r&&(n=[n.reduce(function(i,o){return[].concat(uR(i),uR(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},nEe=function(t,r,n){var s=xh(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(xh(r.reverse(),n).slice(1))},sEe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=QPe(t,YPe);if(!r||!r.length)return null;var l=ft("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=nEe(r,s,i);return M.createElement("g",{className:l},M.createElement("path",vu({},Je(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",vu({},Je(o,!0),{fill:"none",d:xh(r,i)})):null,c?M.createElement("path",vu({},Je(o,!0),{fill:"none",d:xh(s,i)})):null)}var d=xh(r,i);return M.createElement("path",vu({},Je(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(this,arguments)}var iP=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ft("recharts-dot",i);return r===+r&&n===+n&&s===+s?v.createElement("circle",sS({},Je(t,!1),fy(t),{className:o,cx:r,cy:n,r:s})):null};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}var aEe=["x","y","top","left","width","height","className"];function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){oEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oEe(e,t,r){return t=lEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lEe(e){var t=cEe(e,"string");return Mm(t)=="symbol"?t:t+""}function cEe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uEe(e,t){if(e==null)return{};var r=dEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fEe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},hEe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,x=t.className,m=uEe(t,aEe),b=iEe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!je(n)||!je(i)||!je(f)||!je(p)||!je(l)||!je(u)?null:M.createElement("path",aS({},Je(b,!0),{className:ft("recharts-cross",x),d:fEe(n,i,f,p,l,u)}))},mEe=Yb,pEe=f8,gEe=Ja;function vEe(e,t){return e&&e.length?mEe(e,gEe(t),pEe):void 0}var yEe=vEe;const xEe=It(yEe);var bEe=Yb,wEe=Ja,jEe=h8;function NEe(e,t){return e&&e.length?bEe(e,wEe(t),jEe):void 0}var SEe=NEe;const _Ee=It(SEe);var kEe=["cx","cy","angle","ticks","axisLine"],CEe=["ticks","tick","angle","tickFormatter","stroke"];function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mR(e,t){if(e==null)return{};var r=PEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rV(n.key),n)}}function AEe(e,t,r){return t&&pR(e.prototype,t),r&&pR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OEe(e,t,r){return t=Ky(t),TEe(e,tV()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function TEe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IEe(e)}function IEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(e)}function REe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iS(e,t)}function r0(e,t,r){return t=rV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=$Ee(e,"string");return jd(t)=="symbol"?t:t+""}function $Ee(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n0=function(e){function t(){return EEe(this,t),OEe(this,t,arguments)}return REe(t,e),AEe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Gt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=xEe(l,function(d){return d.coordinate||0}),u=_Ee(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=mR(n,kEe),d=l.reduce(function(x,m){return[Math.min(x[0],m.coordinate),Math.max(x[1],m.coordinate)]},[1/0,-1/0]),f=Gt(s,i,d[0],o),h=Gt(s,i,d[1],o),p=cl(cl(cl({},Je(u,!1)),{},{fill:"none"},Je(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",bh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=mR(s,CEe),f=this.getTickTextAnchor(),h=Je(d,!1),p=Je(o,!1),x=i.map(function(m,b){var y=n.getTickValueCoord(m),g=cl(cl(cl(cl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},y),{},{payload:m});return M.createElement(Dt,bh({className:ft("recharts-polar-radius-axis-tick",B8(o)),key:"tick-".concat(m.coordinate)},dc(n.props,m,b)),t.renderTickItem(o,g,c?c(m.value,b):m.value))});return M.createElement(Dt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:M.createElement(Dt,{className:ft("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,s):at(n)?o=n(s):o=M.createElement(fc,bh({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);r0(n0,"displayName","PolarRadiusAxis");r0(n0,"axisType","radiusAxis");r0(n0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){s0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sV(n.key),n)}}function DEe(e,t,r){return t&&vR(e.prototype,t),r&&vR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LEe(e,t,r){return t=Gy(t),FEe(e,nV()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function FEe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UEe(e)}function UEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function BEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oS(e,t)}function s0(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=VEe(e,"string");return Nd(t)=="symbol"?t:t+""}function VEe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qEe=Math.PI/180,yR=1e-5,a0=function(e){function t(){return MEe(this,t),LEe(this,t,arguments)}return BEe(t,e),DEe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Gt(i,o,l,n.coordinate),h=Gt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*qEe),o;return i>yR?o=s==="outer"?"start":"end":i<-yR?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ul(ul({},Je(this.props,!1)),{},{fill:"none"},Je(l,!1));if(c==="circle")return M.createElement(iP,bl({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Gt(s,i,o,h.coordinate)});return M.createElement(sEe,bl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Je(this.props,!1),f=Je(o,!1),h=ul(ul({},d),{},{fill:"none"},Je(l,!1)),p=i.map(function(x,m){var b=n.getTickLineCoord(x),y=n.getTickTextAnchor(x),g=ul(ul(ul({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:x,x:b.x2,y:b.y2});return M.createElement(Dt,bl({className:ft("recharts-polar-angle-axis-tick",B8(o)),key:"tick-".concat(x.coordinate)},dc(n.props,x,m)),l&&M.createElement("line",bl({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&t.renderTickItem(o,g,c?c(x.value,m):x.value))});return M.createElement(Dt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:M.createElement(Dt,{className:ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,s):at(n)?o=n(s):o=M.createElement(fc,bl({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);s0(a0,"displayName","PolarAngleAxis");s0(a0,"axisType","angleAxis");s0(a0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zEe=lB,WEe=zEe(Object.getPrototypeOf,Object),HEe=WEe,KEe=Ui,GEe=HEe,YEe=Bi,QEe="[object Object]",XEe=Function.prototype,ZEe=Object.prototype,aV=XEe.toString,JEe=ZEe.hasOwnProperty,eAe=aV.call(Object);function tAe(e){if(!YEe(e)||KEe(e)!=QEe)return!1;var t=GEe(e);if(t===null)return!0;var r=JEe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&aV.call(r)==eAe}var rAe=tAe;const nAe=It(rAe);var sAe=Ui,aAe=Bi,iAe="[object Boolean]";function oAe(e){return e===!0||e===!1||aAe(e)&&sAe(e)==iAe}var lAe=oAe;const cAe=It(lAe);function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(this,arguments)}function uAe(e,t){return mAe(e)||hAe(e,t)||fAe(e,t)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(e,t){if(e){if(typeof e=="string")return xR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mAe(e){if(Array.isArray(e))return e}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){pAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pAe(e,t,r){return t=gAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gAe(e){var t=vAe(e,"string");return Dm(t)=="symbol"?t:t+""}function vAe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jR=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},yAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xAe=function(t){var r=wR(wR({},yAe),t),n=v.useRef(),s=v.useState(-1),i=uAe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,x=r.animationEasing,m=r.animationDuration,b=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=ft("recharts-trapezoid",p);return y?M.createElement(Di,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:x,isActive:y},function(w){var N=w.upperWidth,j=w.lowerWidth,S=w.height,_=w.x,k=w.y;return M.createElement(Di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:x},M.createElement("path",Yy({},Je(r,!0),{className:g,d:jR(_,k,N,j,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Yy({},Je(r,!0),{className:g,d:jR(c,u,d,f,h)})))},bAe=["option","shapeType","propTransformer","activeClassName","isActive"];function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function wAe(e,t){if(e==null)return{};var r=jAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){NAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NAe(e,t,r){return t=SAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SAe(e){var t=_Ae(e,"string");return Lm(t)=="symbol"?t:t+""}function _Ae(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kAe(e,t){return Qy(Qy({},t),e)}function CAe(e,t){return e==="symbols"}function SR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(aP,r);case"trapezoid":return M.createElement(xAe,r);case"sector":return M.createElement(z8,r);case"symbols":if(CAe(t))return M.createElement(SC,r);break;default:return null}}function PAe(e){return v.isValidElement(e)?e.props:e}function iV(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?kAe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=wAe(e,bAe),u;if(v.isValidElement(t))u=v.cloneElement(t,Qy(Qy({},c),PAe(t)));else if(at(t))u=t(c);else if(nAe(t)&&!cAe(t)){var d=s(t,c);u=M.createElement(SR,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(SR,{shapeType:r,elementProps:f})}return l?M.createElement(Dt,{className:o},u):u}function i0(e,t){return t!=null&&"trapezoids"in e.props}function o0(e,t){return t!=null&&"sectors"in e.props}function Fm(e,t){return t!=null&&"points"in e.props}function EAe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function AAe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function OAe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function TAe(e,t){var r;return i0(e,t)?r=EAe:o0(e,t)?r=AAe:Fm(e,t)&&(r=OAe),r}function IAe(e,t){var r;return i0(e,t)?r="trapezoids":o0(e,t)?r="sectors":Fm(e,t)&&(r="points"),r}function RAe(e,t){if(i0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(o0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fm(e,t)?t.payload:{}}function $Ae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=IAe(r,t),i=RAe(r,t),o=n.filter(function(c,u){var d=Zb(i,c),f=r.props[s].filter(function(x){var m=TAe(r,t);return m(x,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var iv;function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){$s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lV(n.key),n)}}function DAe(e,t,r){return t&&kR(e.prototype,t),r&&kR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LAe(e,t,r){return t=Xy(t),FAe(e,oV()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function FAe(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(e)}function UAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function BAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lS(e,t)}function $s(e,t,r){return t=lV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=VAe(e,"string");return Sd(t)=="symbol"?t:t+""}function VAe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qi=function(e){function t(r){var n;return MAe(this,t),n=LAe(this,t,[r]),$s(n,"pieRef",null),$s(n,"sectorRefs",[]),$s(n,"id",Ep("recharts-pie-")),$s(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),at(s)&&s()}),$s(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),at(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return BAe(t,e),DAe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Je(this.props,!1),f=Je(o,!1),h=Je(l,!1),p=o&&o.offsetRadius||20,x=n.map(function(m,b){var y=(m.startAngle+m.endAngle)/2,g=Gt(m.cx,m.cy,m.outerRadius+p,y),w=zt(zt(zt(zt({},d),m),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(g.x,m.cx)},g),N=zt(zt(zt(zt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:b,points:[Gt(m.cx,m.cy,m.outerRadius,y),g]}),j=c;return vt(c)&&vt(u)?j="value":vt(c)&&(j=u),M.createElement(Dt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,w,Sn(m,j)))});return M.createElement(Dt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,x=zt(zt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(Dt,yu({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},dc(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(iV,yu({option:p,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Di,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var m=x.t,b=[],y=i&&i[0],g=y.startAngle;return i.forEach(function(w,N){var j=h&&h[N],S=N>0?js(w,"paddingAngle",0):0;if(j){var _=to(j.endAngle-j.startAngle,w.endAngle-w.startAngle),k=zt(zt({},w),{},{startAngle:g+S,endAngle:g+_(m)+S});b.push(k),g=k.endAngle}else{var C=w.endAngle,E=w.startAngle,P=to(0,C-E),R=P(m),O=zt(zt({},w),{},{startAngle:g+S,endAngle:g+R+S});b.push(O),g=O.endAngle}}),M.createElement(Dt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Zb(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!je(u)||!je(d)||!je(f)||!je(h))return null;var m=ft("recharts-pie",l);return M.createElement(Dt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),nn.renderCallByParent(this.props,null,!1),(!p||x)&&To.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(M.isValidElement(n))return M.cloneElement(n,s);if(at(n))return n(s);var o=ft("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(KN,yu({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(M.isValidElement(n))return M.cloneElement(n,s);var o=i;if(at(n)&&(o=n(s),M.isValidElement(o)))return o;var l=ft("recharts-pie-label-text",typeof n!="boolean"&&!at(n)?n.className:"");return M.createElement(fc,yu({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);iv=qi;$s(qi,"displayName","Pie");$s(qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$s(qi,"parseDeltaAngle",function(e,t){var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$s(qi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Je(e,!1),s=Bs(r,Vb);return t&&t.length?t.map(function(i,o){return zt(zt(zt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return zt(zt({},n),i.props)}):[]});$s(qi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=U8(s,i),l=n+Dn(e.cx,s,s/2),c=r+Dn(e.cy,i,i/2),u=Dn(e.innerRadius,o,0),d=Dn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});$s(qi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?zt(zt({},t.type.defaultProps),t.props):t.props,s=iv.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),x=iv.parseCoordinateOfPie(n,r),m=iv.parseDeltaAngle(o,l),b=Math.abs(m),y=u;vt(u)&&vt(f)?(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):vt(u)&&(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var g=s.filter(function(k){return Sn(k,y,0)!==0}).length,w=(b>=360?g:g-1)*c,N=b-g*p-w,j=s.reduce(function(k,C){var E=Sn(C,y,0);return k+(je(E)?E:0)},0),S;if(j>0){var _;S=s.map(function(k,C){var E=Sn(k,y,0),P=Sn(k,d,C),R=(je(E)?E:0)/j,O;C?O=_.endAngle+Mn(m)*c*(E!==0?1:0):O=o;var I=O+Mn(m)*((E!==0?p:0)+R*N),T=(O+I)/2,D=(x.innerRadius+x.outerRadius)/2,q=[{name:P,value:E,payload:k,dataKey:y,type:h}],A=Gt(x.cx,x.cy,D,T);return _=zt(zt(zt({percent:R,cornerRadius:i,name:P,tooltipPayload:q,midAngle:T,middleRadius:D,tooltipPosition:A},k),x),{},{value:Sn(k,y),startAngle:O,endAngle:I,payload:k,paddingAngle:Mn(m)*c}),_})}return zt(zt({},x),{},{sectors:S,data:s})});var qAe=Math.ceil,zAe=Math.max;function WAe(e,t,r,n){for(var s=-1,i=zAe(qAe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var HAe=WAe,KAe=CB,CR=1/0,GAe=17976931348623157e292;function YAe(e){if(!e)return e===0?e:0;if(e=KAe(e),e===CR||e===-CR){var t=e<0?-1:1;return t*GAe}return e===e?e:0}var cV=YAe,QAe=HAe,XAe=Bb,Qw=cV;function ZAe(e){return function(t,r,n){return n&&typeof n!="number"&&XAe(t,r,n)&&(r=n=void 0),t=Qw(t),r===void 0?(r=t,t=0):r=Qw(r),n=n===void 0?t<r?1:-1:Qw(n),QAe(t,r,n,e)}}var JAe=ZAe,e2e=JAe,t2e=e2e(),r2e=t2e;const Zy=It(r2e);function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){uV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(e,t,r){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2e(e){var t=s2e(e,"string");return Um(t)=="symbol"?t:t+""}function s2e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a2e=["Webkit","Moz","O","ms"],i2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=a2e.reduce(function(i,o){return ER(ER({},i),{},uV({},o+n,r))},{});return s[t]=r,s};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fV(n.key),n)}}function l2e(e,t,r){return t&&OR(e.prototype,t),r&&OR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c2e(e,t,r){return t=ex(t),u2e(e,dV()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function u2e(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d2e(e)}function d2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function f2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cS(e,t)}function us(e,t,r){return t=fV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=h2e(e,"string");return _d(t)=="symbol"?t:t+""}function h2e(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m2e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gh().domain(Zy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},TR=function(t){return t.changedTouches&&!!t.changedTouches.length},kd=function(e){function t(r){var n;return o2e(this,t),n=c2e(this,t,[r]),us(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),us(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),us(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),us(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),us(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),us(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),us(n,"handleSlideDragStart",function(s){var i=TR(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return f2e(t,e),l2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Sn(i[n],l,n);return at(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,x=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var b=this.getIndex({startX:o+m,endX:l+m});(b.startIndex!==h||b.endIndex!==p)&&x&&x(b),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=TR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,x=d.onChange,m=d.gap,b=d.data,y={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),y[o]=u+g;var w=this.getIndex(y),N=w.startIndex,j=w.endIndex,S=function(){var k=b.length-1;return o==="startX"&&(l>c?N%m===0:j%m===0)||l<c&&j===k||o==="endX"&&(l>c?j%m===0:N%m===0)||l>c&&j===k};this.setState(us(us({},o,u+g),"brushMoveStartX",n.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(us({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?M.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,x=c.data,m=c.startIndex,b=c.endIndex,y=Math.max(n,this.props.x),g=Xw(Xw({},Je(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=x[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[b])===null||o===void 0?void 0:o.name);return M.createElement(Dt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,x={pointerEvents:"none",fill:u};return M.createElement(Dt,{className:"recharts-brush-texts"},M.createElement(fc,Jy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},x),this.getTextOfTick(s)),M.createElement(fc,Jy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,x=h.endX,m=h.isTextActive,b=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var w=ft("recharts-brush",i),N=M.Children.count(o)===1,j=i2e("userSelect","none");return M.createElement(Dt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,x),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(x,"endX"),(m||b||y||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return M.isValidElement(n)?i=M.cloneElement(n,s):at(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Xw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?m2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);us(kd,"displayName","Brush");us(kd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var p2e=OC;function g2e(e,t){var r;return p2e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var v2e=g2e,y2e=eB,x2e=Ja,b2e=v2e,w2e=ls,j2e=Bb;function N2e(e,t,r){var n=w2e(e)?y2e:b2e;return r&&j2e(e,t,r)&&(t=void 0),n(e,x2e(t))}var S2e=N2e;const _2e=It(S2e);var qa=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},IR=jB;function k2e(e,t,r){t=="__proto__"&&IR?IR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var C2e=k2e,P2e=C2e,E2e=bB,A2e=Ja;function O2e(e,t){var r={};return t=A2e(t),E2e(e,function(n,s,i){P2e(r,s,t(n,s,i))}),r}var T2e=O2e;const I2e=It(T2e);function R2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $2e=R2e,M2e=OC;function D2e(e,t){var r=!0;return M2e(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var L2e=D2e,F2e=$2e,U2e=L2e,B2e=Ja,V2e=ls,q2e=Bb;function z2e(e,t,r){var n=V2e(e)?F2e:U2e;return r&&q2e(e,t,r)&&(t=void 0),n(e,B2e(t))}var W2e=z2e;const hV=It(W2e);var H2e=["x","y"];function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uS.apply(this,arguments)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){K2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K2e(e,t,r){return t=G2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G2e(e){var t=Y2e(e,"string");return Bm(t)=="symbol"?t:t+""}function Y2e(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q2e(e,t){if(e==null)return{};var r=X2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z2e(e,t){var r=e.x,n=e.y,s=Q2e(e,H2e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Lf(Lf(Lf(Lf(Lf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function $R(e){return M.createElement(iV,uS({shapeType:"rectangle",propTransformer:Z2e,activeClassName:"recharts-active-bar"},e))}var J2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=je(n)||wfe(n);return i?t(n,s):(i||mc(),r)}},eOe=["value","background"],mV;function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function tOe(e,t){if(e==null)return{};var r=rOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gV(n.key),n)}}function sOe(e,t,r){return t&&DR(e.prototype,t),r&&DR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aOe(e,t,r){return t=rx(t),iOe(e,pV()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function iOe(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOe(e)}function oOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function lOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},dS(e,t)}function xo(e,t,r){return t=gV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=cOe(e,"string");return Cd(t)=="symbol"?t:t+""}function cOe(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ac=function(e){function t(){var r;nOe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=aOe(this,t,[].concat(s)),xo(r,"state",{isAnimationFinished:!1}),xo(r,"id",Ep("recharts-bar-")),xo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return lOe(t,e),sOe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Je(this.props,!1);return n&&n.map(function(f,h){var p=h===c,x=p?u:o,m=Pr(Pr(Pr({},d),f),{},{isActive:p,option:x,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(Dt,tx({className:"recharts-bar-rectangle"},dc(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement($R,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(Di,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t,m=i.map(function(b,y){var g=h&&h[y];if(g){var w=to(g.x,b.x),N=to(g.y,b.y),j=to(g.width,b.width),S=to(g.height,b.height);return Pr(Pr({},b),{},{x:w(x),y:N(x),width:j(x),height:S(x)})}if(o==="horizontal"){var _=to(0,b.height),k=_(x);return Pr(Pr({},b),{},{y:b.y+b.height-k,height:k})}var C=to(0,b.width),E=C(x);return Pr(Pr({},b),{},{width:E})});return M.createElement(Dt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Zb(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Je(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=tOe(u,eOe);if(!f)return null;var p=Pr(Pr(Pr(Pr(Pr({},h),{},{fill:"#eee"},f),c),dc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement($R,tx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Bs(d,t0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,y){var g=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:g,errorVal:Sn(b,y)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return M.createElement(Dt,x,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,x=n.background,m=n.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,y=ft("recharts-bar",o),g=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=g||w,j=vt(m)?this.id:m;return M.createElement(Dt,{className:y},g||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:g?u:u-f/2,y:w?d:d-h/2,width:g?f:f*2,height:w?h:h*2}))):null,M.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||b)&&To.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);mV=Ac;xo(Ac,"displayName","Bar");xo(Ac,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xo(Ac,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=F_e(n,r);if(!p)return null;var x=t.layout,m=r.type.defaultProps,b=m!==void 0?Pr(Pr({},m),r.props):r.props,y=b.dataKey,g=b.children,w=b.minPointSize,N=x==="horizontal"?o:i,j=u?N.scale.domain():null,S=H_e({numericAxis:N}),_=Bs(g,Vb),k=f.map(function(C,E){var P,R,O,I,T,D;u?P=U_e(u[d+E],j):(P=Sn(C,y),Array.isArray(P)||(P=[S,P]));var q=J2e(w,mV.defaultProps.minPointSize)(P[1],E);if(x==="horizontal"){var A,$=[o.scale(P[0]),o.scale(P[1])],H=$[0],Y=$[1];R=EI({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:C,index:E}),O=(A=Y??H)!==null&&A!==void 0?A:void 0,I=p.size;var L=H-Y;if(T=Number.isNaN(L)?0:L,D={x:R,y:o.y,width:I,height:o.height},Math.abs(q)>0&&Math.abs(T)<Math.abs(q)){var K=Mn(T||q)*(Math.abs(q)-Math.abs(T));O-=K,T+=K}}else{var re=[i.scale(P[0]),i.scale(P[1])],ie=re[0],be=re[1];if(R=ie,O=EI({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:C,index:E}),I=be-ie,T=p.size,D={x:i.x,y:O,width:i.width,height:T},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var ee=Mn(I||q)*(Math.abs(q)-Math.abs(I));I+=ee}}return Pr(Pr(Pr({},C),{},{x:R,y:O,width:I,height:T,value:u?P:P[1],payload:C,background:D},_&&_[E]&&_[E].props),{},{tooltipPayload:[L8(r,C)],tooltipPosition:{x:R+I/2,y:O+T/2}})});return Pr({data:k,layout:x},h)});function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function uOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vV(n.key),n)}}function dOe(e,t,r){return t&&LR(e.prototype,t),r&&LR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){l0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l0(e,t,r){return t=vV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=fOe(e,"string");return Vm(t)=="symbol"?t:t+""}function fOe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hOe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!fs(u,Ac);return d.reduce(function(p,x){var m=r[x],b=m.orientation,y=m.domain,g=m.padding,w=g===void 0?{}:g,N=m.mirror,j=m.reversed,S="".concat(b).concat(N?"Mirror":""),_,k,C,E,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=y[1]-y[0],O=1/0,I=m.categoricalDomain.sort(Sfe);if(I.forEach(function(re,ie){ie>0&&(O=Math.min((re||0)-(I[ie-1]||0),O))}),Number.isFinite(O)){var T=O/R,D=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(_=T*D/2),m.padding==="no-gap"){var q=Dn(t.barCategoryGap,T*D),A=T*D/2;_=A-q-(A-q)/D*q}}}s==="xAxis"?k=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:k=m.range,j&&(k=[k[1],k[0]]);var $=R8(m,i,h),H=$.scale,Y=$.realScaleType;H.domain(y).range(k),$8(H);var L=M8(H,oa(oa({},m),{},{realScaleType:Y}));s==="xAxis"?(P=b==="top"&&!N||b==="bottom"&&N,C=n.left,E=f[S]-P*m.height):s==="yAxis"&&(P=b==="left"&&!N||b==="right"&&N,C=f[S]-P*m.width,E=n.top);var K=oa(oa(oa({},m),L),{},{realScaleType:Y,x:C,y:E,scale:H,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return K.bandSize=Fy(K,L),!m.hide&&s==="xAxis"?f[S]+=(P?-1:1)*K.height:m.hide||(f[S]+=(P?-1:1)*K.width),oa(oa({},p),{},l0({},x,K))},{})},yV=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},mOe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return yV({x:r,y:n},{x:s,y:i})},xV=function(){function e(t){uOe(this,e),this.scale=t}return dOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();l0(xV,"EPS",1e-4);var oP=function(t){var r=Object.keys(t).reduce(function(n,s){return oa(oa({},n),{},l0({},s,xV.create(t[s])))},{});return oa(oa({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return I2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return hV(s,function(i,o){return r[o].isInRange(i)})}})};function pOe(e){return(e%180+180)%180}var gOe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pOe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},vOe=Ja,yOe=Ap,xOe=Fb;function bOe(e){return function(t,r,n){var s=Object(t);if(!yOe(t)){var i=vOe(r);t=xOe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var wOe=bOe,jOe=cV;function NOe(e){var t=jOe(e),r=t%1;return t===t?r?t-r:t:0}var SOe=NOe,_Oe=mB,kOe=Ja,COe=SOe,POe=Math.max;function EOe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:COe(r);return s<0&&(s=POe(n+s,0)),_Oe(e,kOe(t),s)}var AOe=EOe,OOe=wOe,TOe=AOe,IOe=OOe(TOe),ROe=IOe;const $Oe=It(ROe);var MOe=Cde(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),lP=v.createContext(void 0),cP=v.createContext(void 0),bV=v.createContext(void 0),wV=v.createContext({}),jV=v.createContext(void 0),NV=v.createContext(0),SV=v.createContext(0),UR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=MOe(i);return M.createElement(lP.Provider,{value:n},M.createElement(cP.Provider,{value:s},M.createElement(wV.Provider,{value:i},M.createElement(bV.Provider,{value:d},M.createElement(jV.Provider,{value:o},M.createElement(NV.Provider,{value:u},M.createElement(SV.Provider,{value:c},l)))))))},DOe=function(){return v.useContext(jV)},_V=function(t){var r=v.useContext(lP);r==null&&mc();var n=r[t];return n==null&&mc(),n},LOe=function(){var t=v.useContext(lP);return io(t)},FOe=function(){var t=v.useContext(cP),r=$Oe(t,function(n){return hV(n.domain,Number.isFinite)});return r||io(t)},kV=function(t){var r=v.useContext(cP);r==null&&mc();var n=r[t];return n==null&&mc(),n},UOe=function(){var t=v.useContext(bV);return t},BOe=function(){return v.useContext(wV)},uP=function(){return v.useContext(SV)},dP=function(){return v.useContext(NV)};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function VOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PV(n.key),n)}}function zOe(e,t,r){return t&&qOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WOe(e,t,r){return t=nx(t),HOe(e,CV()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function HOe(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(e)}function KOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fS(e,t)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){fP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fP(e,t,r){return t=PV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=YOe(e,"string");return Pd(t)=="symbol"?t:t+""}function YOe(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QOe(e,t){return eTe(e)||JOe(e,t)||ZOe(e,t)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZOe(e,t){if(e){if(typeof e=="string")return qR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(e,t)}}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eTe(e){if(Array.isArray(e))return e}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}var tTe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):at(t)?n=t(r):n=M.createElement("line",hS({},r,{className:"recharts-reference-line-line"})),n},rTe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var x=u.y,m=t.y.apply(x,{position:o});if(qa(u,"discard")&&!t.y.isInRange(m))return null;var b=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?b.reverse():b}if(r){var y=u.x,g=t.x.apply(y,{position:o});if(qa(u,"discard")&&!t.x.isInRange(g))return null;var w=[{x:g,y:f+p},{x:g,y:f}];return l==="top"?w.reverse():w}if(s){var N=u.segment,j=N.map(function(S){return t.apply(S,{position:o})});return qa(u,"discard")&&_2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function nTe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=DOe(),d=_V(s),f=kV(i),h=UOe();if(!u||!h)return null;ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=oP({x:d.scale,y:f.scale}),x=Hr(t),m=Hr(r),b=n&&n.length===2,y=rTe(p,x,m,b,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var g=QOe(y,2),w=g[0],N=w.x,j=w.y,S=g[1],_=S.x,k=S.y,C=qa(e,"hidden")?"url(#".concat(u,")"):void 0,E=VR(VR({clipPath:C},Je(e,!0)),{},{x1:N,y1:j,x2:_,y2:k});return M.createElement(Dt,{className:ft("recharts-reference-line",l)},tTe(o,E),nn.renderCallByParent(e,mOe({x1:N,y1:j,x2:_,y2:k})))}var hP=function(e){function t(){return VOe(this,t),WOe(this,t,arguments)}return GOe(t,e),zOe(t,[{key:"render",value:function(){return M.createElement(nTe,this.props)}}])}(M.Component);fP(hP,"displayName","ReferenceLine");fP(hP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mS.apply(this,arguments)}function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){c0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AV(n.key),n)}}function iTe(e,t,r){return t&&aTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oTe(e,t,r){return t=sx(t),lTe(e,EV()?Reflect.construct(t,r||[],sx(e).constructor):t.apply(e,r))}function lTe(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cTe(e)}function cTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sx(e)}function uTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pS(e,t)}function pS(e,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pS(e,t)}function c0(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=dTe(e,"string");return Ed(t)=="symbol"?t:t+""}function dTe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fTe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=oP({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return qa(t,"discard")&&!o.isInRange(l)?null:l},u0=function(e){function t(){return sTe(this,t),oTe(this,t,arguments)}return uTe(t,e),iTe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(s),d=Hr(i);if(ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=fTe(this.props);if(!f)return null;var h=f.x,p=f.y,x=this.props,m=x.shape,b=x.className,y=qa(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=WR(WR({clipPath:y},Je(this.props,!0)),{},{cx:h,cy:p});return M.createElement(Dt,{className:ft("recharts-reference-dot",b)},t.renderDot(m,g),nn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(M.Component);c0(u0,"displayName","ReferenceDot");c0(u0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});c0(u0,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):at(e)?r=e(t):r=M.createElement(iP,mS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TV(n.key),n)}}function pTe(e,t,r){return t&&mTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gTe(e,t,r){return t=ax(t),vTe(e,OV()?Reflect.construct(t,r||[],ax(e).constructor):t.apply(e,r))}function vTe(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(e)}function yTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}function xTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vS(e,t)}function d0(e,t,r){return t=TV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TV(e){var t=bTe(e,"string");return Ad(t)=="symbol"?t:t+""}function bTe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wTe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=oP({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return qa(i,"discard")&&(!h.isInRange(p)||!h.isInRange(x))?null:yV(p,x)},f0=function(e){function t(){return hTe(this,t),gTe(this,t,arguments)}return xTe(t,e),pTe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ga(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(s),h=Hr(i),p=Hr(o),x=Hr(l),m=this.props.shape;if(!f&&!h&&!p&&!x&&!m)return null;var b=wTe(f,h,p,x,this.props);if(!b&&!m)return null;var y=qa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Dt,{className:ft("recharts-reference-area",c)},t.renderRect(m,KR(KR({clipPath:y},Je(this.props,!0)),b)),nn.renderCallByParent(this.props,b))}}])}(M.Component);d0(f0,"displayName","ReferenceArea");d0(f0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});d0(f0,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):at(e)?r=e(t):r=M.createElement(aP,gS({},t,{className:"recharts-reference-area-rect"})),r});function IV(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function jTe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gOe(n,r)}function NTe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function ix(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function STe(e,t){return IV(e,t+1)}function _Te(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:IV(n,u)};var m=c,b,y=function(){return b===void 0&&(b=r(x,m)),b},g=x.coordinate,w=c===0||ix(e,g,y,d,l);w||(c=0,d=o,u+=1),w&&(d=g+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){kTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kTe(e,t,r){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CTe(e){var t=PTe(e,"string");return qm(t)=="symbol"?t:t+""}function PTe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],x,m=function(){return x===void 0&&(x=r(p,h)),x};if(h===o-1){var b=e*(p.coordinate+e*m()/2-c);i[h]=p=wn(wn({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[h]=p=wn(wn({},p),{},{tickCoord:p.coordinate});var y=ix(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+s),i[h]=wn(wn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function ATe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=wn(wn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=ix(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=wn(wn({},d),{},{isShow:!0}))}for(var x=i?l-1:l,m=function(g){var w=o[g],N,j=function(){return N===void 0&&(N=r(w,g)),N};if(g===0){var S=e*(w.coordinate-e*j()/2-c);o[g]=w=wn(wn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[g]=w=wn(wn({},w),{},{tickCoord:w.coordinate});var _=ix(e,w.tickCoord,j,c,u);_&&(c=w.tickCoord+e*(j()/2+s),o[g]=wn(wn({},w),{},{isShow:!0}))},b=0;b<x;b++)m(b);return o}function mP(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(je(c)||nf.isSsr)return STe(s,typeof c=="number"&&je(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?ph(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,N){var j=at(u)?u(w.value,N):w.value;return p==="width"?jTe(ph(j,{fontSize:t,letterSpacing:r}),x,f):ph(j,{fontSize:t,letterSpacing:r})[p]},b=s.length>=2?Mn(s[1].coordinate-s[0].coordinate):1,y=NTe(i,b,p);return c==="equidistantPreserveStart"?_Te(b,y,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=ATe(b,y,m,s,o,c==="preserveStartEnd"):h=ETe(b,y,m,s,o),h.filter(function(g){return g.isShow}))}var OTe=["viewBox"],TTe=["viewBox"],ITe=["ticks"];function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){pP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zw(e,t){if(e==null)return{};var r=RTe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$V(n.key),n)}}function MTe(e,t,r){return t&&QR(e.prototype,t),r&&QR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DTe(e,t,r){return t=ox(t),LTe(e,RV()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function LTe(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function UTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yS(e,t)}function pP(e,t,r){return t=$V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=BTe(e,"string");return Od(t)=="symbol"?t:t+""}function BTe(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lf=function(e){function t(r){var n;return $Te(this,t),n=DTe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return UTe(t,e),MTe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Zw(n,OTe),l=this.props,c=l.viewBox,u=Zw(l,TTe);return!Au(i,c)||!Au(o,u)||!Au(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,x,m,b,y,g,w=f?-1:1,N=n.tickSize||d,j=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=x=n.coordinate,b=o+ +!f*c,m=b-w*N,g=m-w*h,y=j;break;case"left":m=b=n.coordinate,x=i+ +!f*l,p=x-w*N,y=p-w*h,g=j;break;case"right":m=b=n.coordinate,x=i+ +f*l,p=x+w*N,y=p+w*h,g=j;break;default:p=x=n.coordinate,b=o+ +f*c,m=b+w*N,g=m+w*h,y=j;break}return{line:{x1:p,y1:m,x2:x,y2:b},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Fr(Fr(Fr({},Je(this.props,!1)),Je(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Fr(Fr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Fr(Fr({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return M.createElement("line",xu({},f,{className:ft("recharts-cartesian-axis-line",js(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=mP(Fr(Fr({},this.props),{},{ticks:n}),s,i),x=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=Je(this.props,!1),y=Je(d,!1),g=Fr(Fr({},b),{},{fill:"none"},Je(c,!1)),w=p.map(function(N,j){var S=o.getTickLineCoord(N),_=S.line,k=S.tick,C=Fr(Fr(Fr(Fr({textAnchor:x,verticalAnchor:m},b),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(Dt,xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},dc(o.props,N,j)),c&&M.createElement("line",xu({},g,_,{className:ft("recharts-cartesian-axis-tick-line",js(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(at(f)?f(N.value,j):N.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Zw(f,ITe),x=h;return at(c)&&(x=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!x||!x.length?null:M.createElement(Dt,{className:ft("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ft(s.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Fr(Fr({},s),{},{className:l})):at(n)?o=n(Fr(Fr({},s),{},{className:l})):o=M.createElement(fc,xu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);pP(lf,"displayName","CartesianAxis");pP(lf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VTe=["x1","y1","x2","y2","key"],qTe=["offset"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){zTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zTe(e,t,r){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WTe(e){var t=HTe(e,"string");return pc(t)=="symbol"?t:t+""}function HTe(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}function ZR(e,t){if(e==null)return{};var r=KTe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GTe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MV(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(at(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=ZR(t,VTe),u=Je(c,!1);u.offset;var d=ZR(u,qTe);r=M.createElement("line",Al({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function YTe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Nn(Nn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return MV(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function QTe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Nn(Nn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return MV(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function XTe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var x=!d[p+1],m=x?s+o-h:d[p+1]-h;if(m<=0)return null;var b=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ZTe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var x=!d[p+1],m=x?i+l-h:d[p+1]-h;if(m<=0)return null;var b=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JTe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return I8(mP(Nn(Nn(Nn({},lf.defaultProps),n),{},{ticks:xi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},eIe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return I8(mP(Nn(Nn(Nn({},lf.defaultProps),n),{},{ticks:xi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DV(e){var t,r,n,s,i,o,l=uP(),c=dP(),u=BOe(),d=Nn(Nn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Gc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,x=d.height,m=d.syncWithTicks,b=d.horizontalValues,y=d.verticalValues,g=LOe(),w=FOe();if(!je(p)||p<=0||!je(x)||x<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||JTe,j=d.horizontalCoordinatesGenerator||eIe,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&at(j)){var k=b&&b.length,C=j({yAxis:w?Nn(Nn({},w),{},{ticks:k?b:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);ga(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pc(C),"]")),Array.isArray(C)&&(S=C)}if((!_||!_.length)&&at(N)){var E=y&&y.length,P=N({xAxis:g?Nn(Nn({},g),{},{ticks:E?y:g.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);ga(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pc(P),"]")),Array.isArray(P)&&(_=P)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(GTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(YTe,Al({},d,{offset:u,horizontalPoints:S,xAxis:g,yAxis:w})),M.createElement(QTe,Al({},d,{offset:u,verticalPoints:_,xAxis:g,yAxis:w})),M.createElement(XTe,Al({},d,{horizontalPoints:S})),M.createElement(ZTe,Al({},d,{verticalPoints:_})))}DV.displayName="CartesianGrid";function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function tIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UV(n.key),n)}}function nIe(e,t,r){return t&&rIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sIe(e,t,r){return t=lx(t),aIe(e,LV()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function aIe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iIe(e)}function iIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function oIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xS(e,t)}function FV(e,t,r){return t=UV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=lIe(e,"string");return Td(t)=="symbol"?t:t+""}function lIe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function cIe(e){var t=e.xAxisId,r=uP(),n=dP(),s=_V(t);return s==null?null:v.createElement(lf,bS({},s,{className:ft("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return xi(o,!0)}}))}var h0=function(e){function t(){return tIe(this,t),sIe(this,t,arguments)}return oIe(t,e),nIe(t,[{key:"render",value:function(){return v.createElement(cIe,this.props)}}])}(v.Component);FV(h0,"displayName","XAxis");FV(h0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function uIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qV(n.key),n)}}function fIe(e,t,r){return t&&dIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hIe(e,t,r){return t=cx(t),mIe(e,BV()?Reflect.construct(t,r||[],cx(e).constructor):t.apply(e,r))}function mIe(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pIe(e)}function pIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function gIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wS(e,t)}function VV(e,t,r){return t=qV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=vIe(e,"string");return Id(t)=="symbol"?t:t+""}function vIe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(this,arguments)}var yIe=function(t){var r=t.yAxisId,n=uP(),s=dP(),i=kV(r);return i==null?null:v.createElement(lf,jS({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return xi(l,!0)}}))},m0=function(e){function t(){return uIe(this,t),hIe(this,t,arguments)}return gIe(t,e),fIe(t,[{key:"render",value:function(){return v.createElement(yIe,this.props)}}])}(v.Component);VV(m0,"displayName","YAxis");VV(m0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JR(e){return jIe(e)||wIe(e)||bIe(e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e,t){if(e){if(typeof e=="string")return NS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(e,t)}}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jIe(e){if(Array.isArray(e))return NS(e)}function NS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SS=function(t,r,n,s,i){var o=Bs(t,hP),l=Bs(t,u0),c=[].concat(JR(o),JR(l)),u=Bs(t,f0),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,b){if(b.props[d]===n&&qa(b.props,"extendDomain")&&je(b.props[f])){var y=b.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(m,b){if(b.props[d]===n&&qa(b.props,"extendDomain")&&je(b.props[p])&&je(b.props[x])){var y=b.props[p],g=b.props[x];return[Math.min(m[0],y,g),Math.max(m[1],y,g)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,b){return je(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},h)),h},zV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,x=new Array(p);h<p;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,x){var m=r?r+u:u;if(!this._events[m])return!1;var b=this._events[m],y=arguments.length,g,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,x),!0}for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];b.fn.apply(b.context,g)}else{var N=b.length,j;for(w=0;w<N;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(y-1);j<y;j++)g[j-1]=arguments[j];b[w].fn.apply(b[w].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,p);else{for(var m=0,b=[],y=x.length;m<y;m++)(x[m].fn!==d||h&&!x[m].once||f&&x[m].context!==f)&&b.push(x[m]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(zV);var NIe=zV.exports;const SIe=It(NIe);var Jw=new SIe,ej="recharts.syncMouseEvents";function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function _Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WV(n.key),n)}}function CIe(e,t,r){return t&&kIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tj(e,t,r){return t=WV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=PIe(e,"string");return zm(t)=="symbol"?t:t+""}function PIe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EIe=function(){function e(){_Ie(this,e),tj(this,"activeIndex",0),tj(this,"coordinateList",[]),tj(this,"layout","horizontal")}return CIe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function AIe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&je(n)&&je(s))return!0}return!1}function OIe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function HV(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Gt(t,r,n,s),l=Gt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function TIe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Gt(l,c,u,f),p=Gt(l,c,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return HV(t);return[{x:n,y:s},{x:i,y:o}]}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(n){IIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IIe(e,t,r){return t=RIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RIe(e){var t=$Ie(e,"string");return Wm(t)=="symbol"?t:t+""}function $Ie(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MIe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var x,m=KN;if(h==="ScatterChart")x=o,m=hEe;else if(h==="BarChart")x=OIe(f,o,c,d),m=aP;else if(f==="radial"){var b=HV(o),y=b.cx,g=b.cy,w=b.radius,N=b.startAngle,j=b.endAngle;x={cx:y,cy:g,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},m=z8}else x={points:TIe(f,o,c)},m=KN;var S=Mg(Mg(Mg(Mg({stroke:"#ccc",pointerEvents:"none"},c),x),Je(p,!1)),{},{payload:l,payloadIndex:u,className:ft("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,S):v.createElement(m,S)}var DIe=["item"],LIe=["children","className","width","height","style","compact","title","desc"];function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function t$(e,t){return BIe(e)||UIe(e,t)||GV(e,t)||FIe()}function FIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BIe(e){if(Array.isArray(e))return e}function r$(e,t){if(e==null)return{};var r=VIe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YV(n.key),n)}}function WIe(e,t,r){return t&&zIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HIe(e,t,r){return t=ux(t),KIe(e,KV()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function KIe(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(e)}function GIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ux(e)}function YIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_S(e,t)}function $d(e){return ZIe(e)||XIe(e)||GV(e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e,t){if(e){if(typeof e=="string")return kS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kS(e,t)}}function XIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZIe(e){if(Array.isArray(e))return kS(e)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){We(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function We(e,t,r){return t=YV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=JIe(e,"string");return Rd(t)=="symbol"?t:t+""}function JIe(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eRe={xAxis:["bottom","top"],yAxis:["left","right"]},tRe={width:"100%",height:"100%"},QV={x:0,y:0};function Dg(e){return e}var rRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},nRe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return te(te(te({},s),Gt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return te(te(te({},s),Gt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return QV},p0=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($d(l),$d(u)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(i)?t.slice(s,i+1):[]};function XV(e){return e==="number"?[0,"auto"]:void 0}var CS=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=p0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=tN(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat($d(c),[L8(u,h)]):c},[])},s$=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=rRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=I_e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=CS(t,r,d,f),p=nRe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},sRe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=T8(d,i);return n.reduce(function(x,m){var b,y=m.type.defaultProps!==void 0?te(te({},m.type.defaultProps),m.props):m.props,g=y.type,w=y.dataKey,N=y.allowDataOverflow,j=y.allowDuplicatedCategory,S=y.scale,_=y.ticks,k=y.includeHidden,C=y[o];if(x[C])return x;var E=p0(t.data,{graphicalItems:s.filter(function(L){var K,re=o in L.props?L.props[o]:(K=L.type.defaultProps)===null||K===void 0?void 0:K[o];return re===C}),dataStartIndex:c,dataEndIndex:u}),P=E.length,R,O,I;AIe(y.domain,N,g)&&(R=VN(y.domain,null,N),p&&(g==="number"||S!=="auto")&&(I=vh(E,w,"category")));var T=XV(g);if(!R||R.length===0){var D,q=(D=y.domain)!==null&&D!==void 0?D:T;if(w){if(R=vh(E,w,g),g==="category"&&p){var A=Nfe(R);j&&A?(O=R,R=Zy(0,P)):j||(R=TI(q,R,m).reduce(function(L,K){return L.indexOf(K)>=0?L:[].concat($d(L),[K])},[]))}else if(g==="category")j?R=R.filter(function(L){return L!==""&&!vt(L)}):R=TI(q,R,m).reduce(function(L,K){return L.indexOf(K)>=0||K===""||vt(K)?L:[].concat($d(L),[K])},[]);else if(g==="number"){var $=L_e(E,s.filter(function(L){var K,re,ie=o in L.props?L.props[o]:(K=L.type.defaultProps)===null||K===void 0?void 0:K[o],be="hide"in L.props?L.props.hide:(re=L.type.defaultProps)===null||re===void 0?void 0:re.hide;return ie===C&&(k||!be)}),w,i,d);$&&(R=$)}p&&(g==="number"||S!=="auto")&&(I=vh(E,w,"category"))}else p?R=Zy(0,P):l&&l[C]&&l[C].hasStack&&g==="number"?R=h==="expand"?[0,1]:D8(l[C].stackGroups,c,u):R=O8(E,s.filter(function(L){var K=o in L.props?L.props[o]:L.type.defaultProps[o],re="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return K===C&&(k||!re)}),g,d,!0);if(g==="number")R=SS(f,R,C,i,_),q&&(R=VN(q,R,N));else if(g==="category"&&q){var H=q,Y=R.every(function(L){return H.indexOf(L)>=0});Y&&(R=H)}}return te(te({},x),{},We({},C,te(te({},y),{},{axisType:i,domain:R,categoricalDomain:I,duplicateDomain:O,originalDomain:(b=y.domain)!==null&&b!==void 0?b:T,isCategorical:p,layout:d})))},{})},aRe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=p0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,x=T8(d,i),m=-1;return n.reduce(function(b,y){var g=y.type.defaultProps!==void 0?te(te({},y.type.defaultProps),y.props):y.props,w=g[o],N=XV("number");if(!b[w]){m++;var j;return x?j=Zy(0,p):l&&l[w]&&l[w].hasStack?(j=D8(l[w].stackGroups,c,u),j=SS(f,j,w,i)):(j=VN(N,O8(h,n.filter(function(S){var _,k,C=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),s.defaultProps.allowDataOverflow),j=SS(f,j,w,i)),te(te({},b),{},We({},w,te(te({axisType:i},s.defaultProps),{},{hide:!0,orientation:js(eRe,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:N,isCategorical:x,layout:d})))}return b},{})},iRe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Bs(d,i),p={};return h&&h.length?p=sRe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=aRe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},oRe=function(t){var r=io(t),n=xi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:TC(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fy(r,n)}},a$=function(t){var r=t.children,n=t.defaultShowTooltip,s=fs(r,kd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},lRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=wi(r&&r.type);return n&&n.indexOf("Bar")>=0})},i$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cRe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=fs(f,kd),x=fs(f,zl),m=Object.keys(c).reduce(function(j,S){var _=c[S],k=_.orientation;return!_.mirror&&!_.hide?te(te({},j),{},We({},k,j[k]+_.width)):j},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(j,S){var _=o[S],k=_.orientation;return!_.mirror&&!_.hide?te(te({},j),{},We({},k,js(j,"".concat(k))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=te(te({},b),m),g=y.bottom;p&&(y.bottom+=p.props.height||kd.defaultProps.height),x&&r&&(y=M_e(y,s,n,r));var w=u-y.left-y.right,N=d-y.top-y.bottom;return te(te({brushBottom:g},y),{},{width:Math.max(w,0),height:Math.max(N,0)})},uRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ZV=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,g){var w=g.graphicalItems,N=g.stackGroups,j=g.offset,S=g.updateId,_=g.dataStartIndex,k=g.dataEndIndex,C=y.barSize,E=y.layout,P=y.barGap,R=y.barCategoryGap,O=y.maxBarSize,I=i$(E),T=I.numericAxisName,D=I.cateAxisName,q=lRe(w),A=[];return w.forEach(function($,H){var Y=p0(y.data,{graphicalItems:[$],dataStartIndex:_,dataEndIndex:k}),L=$.type.defaultProps!==void 0?te(te({},$.type.defaultProps),$.props):$.props,K=L.dataKey,re=L.maxBarSize,ie=L["".concat(T,"Id")],be=L["".concat(D,"Id")],ee={},se=c.reduce(function(F,G){var Z=g["".concat(G.axisType,"Map")],_e=L["".concat(G.axisType,"Id")];Z&&Z[_e]||G.axisType==="zAxis"||mc();var ye=Z[_e];return te(te({},F),{},We(We({},G.axisType,ye),"".concat(G.axisType,"Ticks"),xi(ye)))},ee),Q=se[D],X=se["".concat(D,"Ticks")],oe=N&&N[ie]&&N[ie].hasStack&&K_e($,N[ie].stackGroups),W=wi($.type).indexOf("Bar")>=0,z=Fy(Q,X),le=[],qe=q&&R_e({barSize:C,stackGroups:N,totalSize:uRe(se,D)});if(W){var Ye,ut,Yt=vt(re)?O:re,kt=(Ye=(ut=Fy(Q,X,!0))!==null&&ut!==void 0?ut:Yt)!==null&&Ye!==void 0?Ye:0;le=$_e({barGap:P,barCategoryGap:R,bandSize:kt!==z?kt:z,sizeList:qe[be],maxBarSize:Yt}),kt!==z&&(le=le.map(function(F){return te(te({},F),{},{position:te(te({},F.position),{},{offset:F.position.offset-kt/2})})}))}var kr=$&&$.type&&$.type.getComposedData;kr&&A.push({props:te(te({},kr(te(te({},se),{},{displayedData:Y,props:y,dataKey:K,item:$,bandSize:z,barPosition:le,offset:j,stackedData:oe,layout:E,dataStartIndex:_,dataEndIndex:k}))),{},We(We(We({key:$.key||"item-".concat(H)},T,se[T]),D,se[D]),"animationId",S)),childIndex:$fe($,y.children),item:$})}),A},p=function(y,g){var w=y.props,N=y.dataStartIndex,j=y.dataEndIndex,S=y.updateId;if(!_O({props:w}))return null;var _=w.children,k=w.layout,C=w.stackOffset,E=w.data,P=w.reverseStackOrder,R=i$(k),O=R.numericAxisName,I=R.cateAxisName,T=Bs(_,n),D=W_e(E,T,"".concat(O,"Id"),"".concat(I,"Id"),C,P),q=c.reduce(function(L,K){var re="".concat(K.axisType,"Map");return te(te({},L),{},We({},re,iRe(w,te(te({},K),{},{graphicalItems:T,stackGroups:K.axisType===O&&D,dataStartIndex:N,dataEndIndex:j}))))},{}),A=cRe(te(te({},q),{},{props:w,graphicalItems:T}),g==null?void 0:g.legendBBox);Object.keys(q).forEach(function(L){q[L]=d(w,q[L],A,L.replace("Map",""),r)});var $=q["".concat(I,"Map")],H=oRe($),Y=h(w,te(te({},q),{},{dataStartIndex:N,dataEndIndex:j,updateId:S,graphicalItems:T,stackGroups:D,offset:A}));return te(te({formattedGraphicalItems:Y,graphicalItems:T,offset:A,stackGroups:D},H),q)},x=function(b){function y(g){var w,N,j;return qIe(this,y),j=HIe(this,y,[g]),We(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(j,"accessibilityManager",new EIe),We(j,"handleLegendBBoxUpdate",function(S){if(S){var _=j.state,k=_.dataStartIndex,C=_.dataEndIndex,E=_.updateId;j.setState(te({legendBBox:S},p({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},te(te({},j.state),{},{legendBBox:S}))))}}),We(j,"handleReceiveSyncEvent",function(S,_,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),We(j,"handleBrushChange",function(S){var _=S.startIndex,k=S.endIndex;if(_!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return te({dataStartIndex:_,dataEndIndex:k},p({props:j.props,dataStartIndex:_,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),We(j,"handleMouseEnter",function(S){var _=j.getMouseInfo(S);if(_){var k=te(te({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;at(C)&&C(k,S)}}),We(j,"triggeredAfterMouseMove",function(S){var _=j.getMouseInfo(S),k=_?te(te({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;at(C)&&C(k,S)}),We(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),We(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),We(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),We(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseLeave;at(k)&&k(_,S)}),We(j,"handleOuterEvent",function(S){var _=Rfe(S),k=js(j.props,"".concat(_));if(_&&at(k)){var C,E;/.*touch.*/i.test(_)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),k((C=E)!==null&&C!==void 0?C:{},S)}}),We(j,"handleClick",function(S){var _=j.getMouseInfo(S);if(_){var k=te(te({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;at(C)&&C(k,S)}}),We(j,"handleMouseDown",function(S){var _=j.props.onMouseDown;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"handleMouseUp",function(S){var _=j.props.onMouseUp;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),We(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),We(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),We(j,"handleDoubleClick",function(S){var _=j.props.onDoubleClick;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"handleContextMenu",function(S){var _=j.props.onContextMenu;if(at(_)){var k=j.getMouseInfo(S);_(k,S)}}),We(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Jw.emit(ej,j.props.syncId,S,j.eventEmitterSymbol)}),We(j,"applySyncEvent",function(S){var _=j.props,k=_.layout,C=_.syncMethod,E=j.state.updateId,P=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(te({dataStartIndex:P,dataEndIndex:R},p({props:j.props,dataStartIndex:P,dataEndIndex:R,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,I=S.chartY,T=S.activeTooltipIndex,D=j.state,q=D.offset,A=D.tooltipTicks;if(!q)return;if(typeof C=="function")T=C(A,S);else if(C==="value"){T=-1;for(var $=0;$<A.length;$++)if(A[$].value===S.activeLabel){T=$;break}}var H=te(te({},q),{},{x:q.left,y:q.top}),Y=Math.min(O,H.x+H.width),L=Math.min(I,H.y+H.height),K=A[T]&&A[T].value,re=CS(j.state,j.props.data,T),ie=A[T]?{x:k==="horizontal"?A[T].coordinate:Y,y:k==="horizontal"?L:A[T].coordinate}:QV;j.setState(te(te({},S),{},{activeLabel:K,activeCoordinate:ie,activePayload:re,activeTooltipIndex:T}))}else j.setState(S)}),We(j,"renderCursor",function(S){var _,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,P=k.activePayload,R=k.offset,O=k.activeTooltipIndex,I=k.tooltipAxisBandSize,T=j.getTooltipEventType(),D=(_=S.props.active)!==null&&_!==void 0?_:C,q=j.props.layout,A=S.key||"_recharts-cursor";return M.createElement(MIe,{key:A,activeCoordinate:E,activePayload:P,activeTooltipIndex:O,chartName:r,element:S,isActive:D,layout:q,offset:R,tooltipAxisBandSize:I,tooltipEventType:T})}),We(j,"renderPolarAxis",function(S,_,k){var C=js(S,"type.axisType"),E=js(j.state,"".concat(C,"Map")),P=S.type.defaultProps,R=P!==void 0?te(te({},P),S.props):S.props,O=E&&E[R["".concat(C,"Id")]];return v.cloneElement(S,te(te({},O),{},{className:ft(C,O.className),key:S.key||"".concat(_,"-").concat(k),ticks:xi(O,!0)}))}),We(j,"renderPolarGrid",function(S){var _=S.props,k=_.radialLines,C=_.polarAngles,E=_.polarRadius,P=j.state,R=P.radiusAxisMap,O=P.angleAxisMap,I=io(R),T=io(O),D=T.cx,q=T.cy,A=T.innerRadius,$=T.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(C)?C:xi(T,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(E)?E:xi(I,!0).map(function(H){return H.coordinate}),cx:D,cy:q,innerRadius:A,outerRadius:$,key:S.key||"polar-grid",radialLines:k})}),We(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,_=j.props,k=_.children,C=_.width,E=_.height,P=j.props.margin||{},R=C-(P.left||0)-(P.right||0),O=E8({children:k,formattedGraphicalItems:S,legendWidth:R,legendContent:u});if(!O)return null;var I=O.item,T=r$(O,DIe);return v.cloneElement(I,te(te({},T),{},{chartWidth:C,chartHeight:E,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),We(j,"renderTooltip",function(){var S,_=j.props,k=_.children,C=_.accessibilityLayer,E=fs(k,ia);if(!E)return null;var P=j.state,R=P.isTooltipActive,O=P.activeCoordinate,I=P.activePayload,T=P.activeLabel,D=P.offset,q=(S=E.props.active)!==null&&S!==void 0?S:R;return v.cloneElement(E,{viewBox:te(te({},D),{},{x:D.left,y:D.top}),active:q,label:T,payload:q?I:[],coordinate:O,accessibilityLayer:C})}),We(j,"renderBrush",function(S){var _=j.props,k=_.margin,C=_.data,E=j.state,P=E.offset,R=E.dataStartIndex,O=E.dataEndIndex,I=E.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Tg(j.handleBrushChange,S.props.onChange),data:C,x:je(S.props.x)?S.props.x:P.left,y:je(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:je(S.props.width)?S.props.width:P.width,startIndex:R,endIndex:O,updateId:"brush-".concat(I)})}),We(j,"renderReferenceElement",function(S,_,k){if(!S)return null;var C=j,E=C.clipPathId,P=j.state,R=P.xAxisMap,O=P.yAxisMap,I=P.offset,T=S.type.defaultProps||{},D=S.props,q=D.xAxisId,A=q===void 0?T.xAxisId:q,$=D.yAxisId,H=$===void 0?T.yAxisId:$;return v.cloneElement(S,{key:S.key||"".concat(_,"-").concat(k),xAxis:R[A],yAxis:O[H],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:E})}),We(j,"renderActivePoints",function(S){var _=S.item,k=S.activePoint,C=S.basePoint,E=S.childIndex,P=S.isRange,R=[],O=_.props.key,I=_.item.type.defaultProps!==void 0?te(te({},_.item.type.defaultProps),_.item.props):_.item.props,T=I.activeDot,D=I.dataKey,q=te(te({index:E,dataKey:D,cx:k.x,cy:k.y,r:4,fill:sP(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Je(T,!1)),fy(T));return R.push(y.renderActiveDot(T,q,"".concat(O,"-activePoint-").concat(E))),C?R.push(y.renderActiveDot(T,te(te({},q),{},{cx:C.x,cy:C.y}),"".concat(O,"-basePoint-").concat(E))):P&&R.push(null),R}),We(j,"renderGraphicChild",function(S,_,k){var C=j.filterFormatItem(S,_,k);if(!C)return null;var E=j.getTooltipEventType(),P=j.state,R=P.isTooltipActive,O=P.tooltipAxis,I=P.activeTooltipIndex,T=P.activeLabel,D=j.props.children,q=fs(D,ia),A=C.props,$=A.points,H=A.isRange,Y=A.baseLine,L=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,K=L.activeDot,re=L.hide,ie=L.activeBar,be=L.activeShape,ee=!!(!re&&R&&q&&(K||ie||be)),se={};E!=="axis"&&q&&q.props.trigger==="click"?se={onClick:Tg(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(se={onMouseLeave:Tg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Tg(j.handleItemMouseEnter,S.props.onMouseEnter)});var Q=v.cloneElement(S,te(te({},C.props),se));function X(G){return typeof O.dataKey=="function"?O.dataKey(G.payload):null}if(ee)if(I>=0){var oe,W;if(O.dataKey&&!O.allowDuplicatedCategory){var z=typeof O.dataKey=="function"?X:"payload.".concat(O.dataKey.toString());oe=tN($,z,T),W=H&&Y&&tN(Y,z,T)}else oe=$==null?void 0:$[I],W=H&&Y&&Y[I];if(be||ie){var le=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[v.cloneElement(S,te(te(te({},C.props),se),{},{activeIndex:le})),null,null]}if(!vt(oe))return[Q].concat($d(j.renderActivePoints({item:C,activePoint:oe,basePoint:W,childIndex:I,isRange:H})))}else{var qe,Ye=(qe=j.getItemByXY(j.state.activeCoordinate))!==null&&qe!==void 0?qe:{graphicalItem:Q},ut=Ye.graphicalItem,Yt=ut.item,kt=Yt===void 0?S:Yt,kr=ut.childIndex,F=te(te(te({},C.props),se),{},{activeIndex:kr});return[v.cloneElement(kt,F),null,null]}return H?[Q,null,null]:[Q,null]}),We(j,"renderCustomized",function(S,_,k){return v.cloneElement(S,te(te({key:"recharts-customized-".concat(k)},j.props),j.state))}),We(j,"renderMap",{CartesianGrid:{handler:Dg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Dg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Dg},YAxis:{handler:Dg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=g.id)!==null&&w!==void 0?w:Ep("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=PB(j.triggeredAfterMouseMove,(N=g.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return YIe(y,b),WIe(y,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,j=w.data,S=w.height,_=w.layout,k=fs(N,ia);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=CS(this.state,j,C,E),R=this.state.tooltipTicks[C].coordinate,O=(this.state.offset.top+S)/2,I=_==="horizontal",T=I?{x:R,y:O}:{y:R,x:O},D=this.state.formattedGraphicalItems.find(function(A){var $=A.item;return $.type.name==="Scatter"});D&&(T=te(te({},T),D.props.points[C].tooltipPosition),P=D.props.points[C].tooltipPayload);var q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:T};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){nN([fs(w.children,ia)],[fs(this.props.children,ia)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=fs(this.props.children,ia);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),S=oje(j),_={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/N.offsetWidth||1,C=this.inRange(_.chartX,_.chartY,k);if(!C)return null;var E=this.state,P=E.xAxisMap,R=E.yAxisMap,O=this.getTooltipEventType(),I=s$(this.state,this.props.data,this.props.layout,C);if(O!=="axis"&&P&&R){var T=io(P).scale,D=io(R).scale,q=T&&T.invert?T.invert(_.chartX):null,A=D&&D.invert?D.invert(_.chartY):null;return te(te({},_),{},{xValue:q,yValue:A},I)}return I?te(te({},_),I):null}},{key:"inRange",value:function(w,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=w/j,k=N/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,E=_>=C.left&&_<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:_,y:k}:null}var P=this.state,R=P.angleAxisMap,O=P.radiusAxisMap;if(R&&O){var I=io(R);return $I({x:_,y:k},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),j=fs(w,ia),S={};j&&N==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=fy(this.props,this.handleOuterEvent);return te(te({},_),S)}},{key:"addListener",value:function(){Jw.on(ej,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jw.removeListener(ej,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,j){for(var S=this.state.formattedGraphicalItems,_=0,k=S.length;_<k;_++){var C=S[_];if(C.item===w||C.props.key===w.key||N===wi(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,j=N.left,S=N.top,_=N.height,k=N.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:j,y:S,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,j){var S=t$(j,2),_=S[0],k=S[1];return te(te({},N),{},We({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,j){var S=t$(j,2),_=S[0],k=S[1];return te(te({},N),{},We({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,j=N.formattedGraphicalItems,S=N.activeItem;if(j&&j.length)for(var _=0,k=j.length;_<k;_++){var C=j[_],E=C.props,P=C.item,R=P.type.defaultProps!==void 0?te(te({},P.type.defaultProps),P.props):P.props,O=wi(P.type);if(O==="Bar"){var I=(E.data||[]).find(function(A){return KPe(w,A)});if(I)return{graphicalItem:C,payload:I}}else if(O==="RadialBar"){var T=(E.data||[]).find(function(A){return $I(w,A)});if(T)return{graphicalItem:C,payload:T}}else if(i0(C,S)||o0(C,S)||Fm(C,S)){var D=$Ae({graphicalItem:C,activeTooltipItem:S,itemData:R.data}),q=R.activeIndex===void 0?D:R.activeIndex;return{graphicalItem:te(te({},C),{},{childIndex:q}),payload:Fm(C,S)?R.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!_O(this))return null;var N=this.props,j=N.children,S=N.className,_=N.width,k=N.height,C=N.style,E=N.compact,P=N.title,R=N.desc,O=r$(N,LIe),I=Je(O,!1);if(E)return M.createElement(UR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(aN,bu({},I,{width:_,height:k,title:P,desc:R}),this.renderClipPath(),CO(j,this.renderMap)));if(this.props.accessibilityLayer){var T,D;I.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,I.role=(D=this.props.role)!==null&&D!==void 0?D:"application",I.onKeyDown=function(A){w.accessibilityManager.keyboardEvent(A)},I.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return M.createElement(UR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",bu({className:ft("recharts-wrapper",S),style:te({position:"relative",cursor:"default",width:_,height:k},C)},q,{ref:function($){w.container=$}}),M.createElement(aN,bu({},I,{width:_,height:k,title:P,desc:R,style:tRe}),this.renderClipPath(),CO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);We(x,"displayName",r),We(x,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(x,"getDerivedStateFromProps",function(b,y){var g=b.dataKey,w=b.data,N=b.children,j=b.width,S=b.height,_=b.layout,k=b.stackOffset,C=b.margin,E=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var R=a$(b);return te(te(te({},R),{},{updateId:0},p(te(te({props:b},R),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:w,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:k,prevMargin:C,prevChildren:N})}if(g!==y.prevDataKey||w!==y.prevData||j!==y.prevWidth||S!==y.prevHeight||_!==y.prevLayout||k!==y.prevStackOffset||!Au(C,y.prevMargin)){var O=a$(b),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=te(te({},s$(y,w,_)),{},{updateId:y.updateId+1}),D=te(te(te({},O),I),T);return te(te(te({},D),p(te({props:b},D),y)),{},{prevDataKey:g,prevData:w,prevWidth:j,prevHeight:S,prevLayout:_,prevStackOffset:k,prevMargin:C,prevChildren:N})}if(!nN(N,y.prevChildren)){var q,A,$,H,Y=fs(N,kd),L=Y&&(q=(A=Y.props)===null||A===void 0?void 0:A.startIndex)!==null&&q!==void 0?q:E,K=Y&&($=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&$!==void 0?$:P,re=L!==E||K!==P,ie=!vt(w),be=ie&&!re?y.updateId:y.updateId+1;return te(te({updateId:be},p(te(te({props:b},y),{},{updateId:be,dataStartIndex:L,dataEndIndex:K}),y)),{},{prevChildren:N,dataStartIndex:L,dataEndIndex:K})}return null}),We(x,"renderActiveDot",function(b,y,g){var w;return v.isValidElement(b)?w=v.cloneElement(b,y):at(b)?w=b(y):w=M.createElement(iP,y),M.createElement(Dt,{className:"recharts-active-dot",key:g},w)});var m=v.forwardRef(function(y,g){return M.createElement(x,bu({},y,{ref:g}))});return m.displayName=x.displayName,m},dRe=ZV({chartName:"BarChart",GraphicalChild:Ac,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:h0},{axisType:"yAxis",AxisComp:m0}],formatAxisMap:hOe}),fRe=ZV({chartName:"PieChart",GraphicalChild:qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:a0},{axisType:"radiusAxis",AxisComp:n0}],formatAxisMap:nke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Lg={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function hRe(){const{adminPath:e}=dp(),t=`/${e}`,{data:r}=ve({queryKey:["/api/admin/facilities"]}),{data:n}=ve({queryKey:["/api/admin/announcements"]}),{data:s}=ve({queryKey:["/api/admin/gallery"]}),{data:i}=ve({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=ve({queryKey:["/api/admin/careers"]}),{data:l}=ve({queryKey:["/api/admin/rules"]}),{data:c}=ve({queryKey:["/api/admin/bookings"]}),{data:u}=ve({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(j=>j.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").reduce((j,S)=>j+(S.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").length)||0,color:Lg.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_VERIFICATION").length)||0,color:Lg.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="PENDING_PAYMENT").length)||0,color:Lg.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(j=>j.paymentStatus==="REJECTED").length)||0,color:Lg.REJECTED}].filter(j=>j.value>0),x=(r==null?void 0:r.map(j=>({name:j.name.length>15?j.name.slice(0,12)+"...":j.name,fullName:j.name,bookings:(c==null?void 0:c.filter(S=>S.facilityId===j.id).length)||0,revenue:(c==null?void 0:c.filter(S=>S.facilityId===j.id&&S.paymentStatus==="VERIFIED").reduce((S,_)=>S+(_.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((j,S)=>{const _=new Date(`${j.date} ${j.startTime}`);return new Date(`${S.date} ${S.startTime}`).getTime()-_.getTime()}).slice(0,5))||[],b=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:gn,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:_r,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:m1,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(j=>j.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:Qr,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(j=>j.role==="ADMIN"||j.role==="SUPER_ADMIN").length)||0} admins`}],y=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:kn,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:m1,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:ed,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:Fh,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:ec,color:"text-red-500"},{label:"Gallery Images",value:(s==null?void 0:s.length)||0,icon:Ei,color:"text-indigo-500"}],g=j=>{switch(j){case"VERIFIED":return a.jsx(Se,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return a.jsx(Se,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return a.jsx(Se,{variant:"destructive",children:"Rejected"});default:return a.jsx(Se,{variant:"secondary",children:"Awaiting"})}},w=(j,S)=>j==="CONFIRMED"&&S==="VERIFIED"?a.jsx(Se,{className:"bg-green-600",children:"Confirmed"}):j==="CANCELLED"?a.jsx(Se,{variant:"destructive",children:"Cancelled"}):a.jsx(Se,{variant:"secondary",children:"Tentative"}),N=j=>{if(!j||!r)return"Unknown";const S=r.find(_=>_.id===j);return(S==null?void 0:S.name)||"Unknown"};return a.jsx(Nt,{title:"Dashboard",children:a.jsxs("div",{className:"space-y-6",children:[d>0&&a.jsx(ce,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:a.jsxs(ue,{className:"flex flex-wrap items-center gap-4 p-4",children:[a.jsx($n,{className:"h-5 w-5 text-amber-600 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),a.jsx(ae,{href:`${t}/bookings`,children:a.jsxs(U,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",a.jsx(Yn,{className:"w-4 h-4 ml-1"})]})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(j=>{const S=j.icon;return a.jsx(ce,{"data-testid":`card-stat-${j.label.toLowerCase().replace(/\s+/g,"-")}`,children:a.jsx(ue,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:j.label}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:j.value}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[a.jsx(OK,{className:"w-3 h-3"}),j.trend]})]}),a.jsx("div",{className:`p-3 rounded-full ${j.bgColor}`,children:a.jsx(S,{className:`w-6 h-6 ${j.color}`})})]})})},j.label)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ce,{children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"text-lg",children:"Bookings by Facility"}),a.jsx(Kt,{children:"Total bookings and revenue per facility"})]}),a.jsx(ue,{children:x.length>0?a.jsx("div",{className:"h-[300px]",children:a.jsx(ST,{width:"100%",height:"100%",children:a.jsxs(dRe,{data:x,margin:{top:10,right:10,left:-10,bottom:0},children:[a.jsx(DV,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(h0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),a.jsx(m0,{tick:{fontSize:11},className:"text-muted-foreground"}),a.jsx(ia,{formatter:(j,S)=>[S==="revenue"?`PKR ${j.toLocaleString()}`:j,S==="revenue"?"Revenue":"Bookings"],labelFormatter:j=>{const S=x.find(_=>_.name===j);return(S==null?void 0:S.fullName)||j},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(Ac,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),a.jsxs(ce,{children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"text-lg",children:"Payment Status Distribution"}),a.jsx(Kt,{children:"Overview of payment statuses across all bookings"})]}),a.jsx(ue,{children:p.length>0?a.jsx("div",{className:"h-[300px]",children:a.jsx(ST,{width:"100%",height:"100%",children:a.jsxs(fRe,{children:[a.jsx(qi,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((j,S)=>a.jsx(Vb,{fill:j.color},`cell-${S}`))}),a.jsx(ia,{formatter:j=>[j,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(zl,{})]})})}):a.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),a.jsxs(ce,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{className:"text-lg",children:"Recent Bookings"}),a.jsx(Kt,{children:"Latest booking activity"})]}),a.jsx(ae,{href:`${t}/bookings`,children:a.jsxs(U,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",a.jsx(Yn,{className:"w-4 h-4 ml-1"})]})})]}),a.jsx(ue,{children:m.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Booking ID"}),a.jsx(ke,{children:"Date / Time"}),a.jsx(ke,{children:"Facility"}),a.jsx(ke,{children:"Amount"}),a.jsx(ke,{children:"Payment"}),a.jsx(ke,{children:"Status"})]})}),a.jsx(rs,{children:m.map(j=>{var S;return a.jsxs(wt,{"data-testid":`row-recent-booking-${j.id}`,children:[a.jsxs(we,{className:"font-mono text-xs",children:[j.id.slice(0,8),"..."]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm font-medium",children:j.date}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[j.startTime," - ",j.endTime]})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm",children:N(j.facilityId)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",j.resourceId]})]}),a.jsx(we,{children:a.jsxs("span",{className:"font-medium",children:["PKR ",((S=j.totalPrice)==null?void 0:S.toLocaleString())||0]})}),a.jsx(we,{children:g(j.paymentStatus)}),a.jsx(we,{children:w(j.status,j.paymentStatus)})]},j.id)})})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),a.jsxs(ce,{children:[a.jsxs(Ge,{children:[a.jsx(et,{className:"text-lg",children:"Content Overview"}),a.jsx(Kt,{children:"Quick stats on website content managed through the admin panel"})]}),a.jsx(ue,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:y.map(j=>{const S=j.icon;return a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${j.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(S,{className:`w-8 h-8 mx-auto mb-2 ${j.color}`}),a.jsx("p",{className:"text-2xl font-bold",children:j.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:j.label})]},j.label)})})})]})]})})}const rj={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]}};function mRe(){const{toast:e}=At(),[t,r]=v.useState({}),[n,s]=v.useState(new Set),[i,o]=v.useState(new Set),{data:l,isLoading:c}=ve({queryKey:["/api/admin/cms"]});v.useEffect(()=>{if(l){const g={};l.forEach(w=>{g[w.key]=w.content||""}),r(w=>({...g,...w}))}},[l]);const u=Te({mutationFn:async g=>await Ae("POST","/api/admin/cms",{key:g.key,title:g.title,content:g.content}),onSuccess:(g,w)=>{Ne.invalidateQueries({queryKey:["/api/admin/cms"]}),Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),s(N=>{const j=new Set(N);return j.delete(w.key),j}),o(N=>new Set(N).add(w.key)),setTimeout(()=>{o(N=>{const j=new Set(N);return j.delete(w.key),j})},2e3),e({title:"Content saved successfully"})},onError:(g,w)=>{s(N=>{const j=new Set(N);return j.delete(w.key),j}),e({title:"Failed to save content",variant:"destructive"})}}),d=g=>{const w=l==null?void 0:l.find(N=>N.key===g);return(w==null?void 0:w.content)??void 0},f=g=>Ze[g]||"",h=g=>{const w=d(g);return w!==void 0&&w!==""},p=g=>{const w=d(g)||"",N=t[g];return N!==void 0&&N!==w},x=(g,w)=>{r(N=>({...N,[g]:w}))},m=(g,w)=>{const N=t[g]??d(g)??"";s(j=>new Set(j).add(g)),u.mutate({key:g,content:N,title:w})},b=g=>{rj[g].fields.forEach(N=>{((t[N.key]??d(N.key)??"")||p(N.key))&&m(N.key,N.label)})},y=g=>{const w=f(g);r(N=>({...N,[g]:w}))};return c?a.jsx(Nt,{title:"Site Content",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(Nt,{title:"Site Content",children:a.jsx("div",{className:"space-y-6",children:a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsx(et,{children:"Edit Site Content"})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tA,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm",children:"Saved in database"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ec,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:"Using default value"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($n,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),a.jsxs(Ti,{defaultValue:"hero",className:"w-full",children:[a.jsx(Ha,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(rj).map(([g,w])=>a.jsx(Nr,{value:g,className:"text-xs","data-testid":`tab-${g}`,children:w.title},g))}),Object.entries(rj).map(([g,w])=>a.jsxs(Sr,{value:g,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:w.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),a.jsxs(U,{variant:"outline",onClick:()=>b(g),"data-testid":`button-save-all-${g}`,children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),a.jsx("div",{className:"space-y-6",children:w.fields.map(N=>{const j=d(N.key),S=f(N.key),_=t[N.key]??j??"",k=h(N.key),C=p(N.key);return a.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{htmlFor:N.key,className:"font-medium",children:N.label}),i.has(N.key)?a.jsxs(Se,{className:"bg-green-500 text-xs",children:[a.jsx(Rv,{className:"w-3 h-3 mr-1"}),"Saved"]}):C?a.jsxs(Se,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[a.jsx($n,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):k?a.jsxs(Se,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[a.jsx(tA,{className:"w-3 h-3 mr-1"}),"Database"]}):S?a.jsxs(Se,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[a.jsx(ec,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),a.jsxs("div",{className:"flex items-center gap-1",children:[S&&!k&&a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>y(N.key),className:"text-xs",title:"Use default value",children:"Reset"}),a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>m(N.key,N.label),disabled:n.has(N.key),"data-testid":`button-save-${N.key}`,children:n.has(N.key)?a.jsx(ct,{className:"w-4 h-4 animate-spin"}):a.jsx(ln,{className:"w-4 h-4"})})]})]}),S&&!k&&a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[a.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),a.jsx("span",{className:"italic",children:S.length>150?S.substring(0,150)+"...":S})]}),N.type==="textarea"?a.jsx(ur,{id:N.key,value:_,onChange:E=>x(N.key,E.target.value),placeholder:N.placeholder||S||"Enter content...",rows:4,className:C?"border-blue-500":"","data-testid":`input-${N.key}`}):a.jsx(ne,{id:N.key,type:N.type==="date"?"date":N.type==="email"?"email":"text",value:_,onChange:E=>x(N.key,E.target.value),placeholder:N.placeholder||S||"Enter content...",className:C?"border-blue-500":"","data-testid":`input-${N.key}`})]},N.key)})})]},g))]})]})]})})})}const o$=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ze.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ze.hero_eyebrow||"Target Launch: Q4 2025"}];function pRe(){const{toast:e}=At(),[t,r]=v.useState({}),[n,s]=v.useState(new Set),{data:i,isLoading:o}=ve({queryKey:["/api/cms"]}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/site-settings"]});v.useEffect(()=>{if(!o&&!c){const y={};o$.forEach(g=>{const w=i==null?void 0:i.find(j=>j.key===g.key),N=l==null?void 0:l.find(j=>j.key===g.key);y[g.key]=(w==null?void 0:w.content)||(N==null?void 0:N.value)||g.defaultValue}),r(y)}},[i,l,o,c]);const u=Te({mutationFn:async({key:y,value:g})=>await Ae("POST","/api/admin/cms",{key:y,content:g}),onSuccess:(y,g)=>{Ne.invalidateQueries({queryKey:["/api/cms"]}),Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),Ne.invalidateQueries({queryKey:["/api/admin/site-settings"]}),s(w=>{const N=new Set(w);return N.delete(g.key),N}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(y,g)=>{r(w=>({...w,[y]:g})),s(w=>new Set(w).add(y))},f=y=>{u.mutate({key:y,value:t[y]})},h=async()=>{const y=Array.from(n).map(g=>Ae("POST","/api/admin/cms",{key:g,content:t[g]}));try{await Promise.all(y),Ne.invalidateQueries({queryKey:["/api/cms"]}),Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),Ne.invalidateQueries({queryKey:["/api/admin/site-settings"]}),s(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=y=>{if(n.has(y))return"edited";const g=i==null?void 0:i.find(N=>N.key===y),w=l==null?void 0:l.find(N=>N.key===y);return g||w?"database":"default"},x=y=>{switch(y){case"database":return a.jsx(Se,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return a.jsx(Se,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return a.jsx(Se,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),b=zee(m,new Date);return o||c?a.jsx(Nt,{title:"Coming Soon Page",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Coming Soon Page",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),a.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[a.jsx($o,{className:"w-3 h-3"})," View Coming Soon Page",a.jsx(Bh,{className:"w-3 h-3"})]})]}),n.size>0&&a.jsxs(U,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),a.jsxs(ce,{className:"border-primary/20 bg-primary/5",children:[a.jsxs(Ge,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-5 h-5"}),"Countdown Status"]}),a.jsx(Kt,{children:"Current countdown configuration"})]}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-3xl font-bold text-primary",children:b}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-xl font-semibold",children:id(m,"MMMM d, yyyy")}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[a.jsx("div",{className:"text-xl font-semibold",children:b>0?"Counting Down":"Launched!"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),a.jsx("div",{className:"grid gap-6",children:o$.map(y=>{const g=p(y.key);return a.jsxs(ce,{children:[a.jsx(Ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs(et,{className:"text-base flex items-center gap-2",children:[y.label,x(g)]}),a.jsx(Kt,{className:"mt-1",children:y.description})]}),a.jsxs("a",{href:y.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",a.jsx(Bh,{className:"w-3 h-3"})]})]})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex gap-3",children:[y.type==="textarea"?a.jsx(ur,{value:t[y.key]||"",onChange:w=>d(y.key,w.target.value),rows:3,className:"flex-1","data-testid":`input-${y.key}`}):y.type==="date"?a.jsx(ne,{type:"date",value:t[y.key]||"",onChange:w=>d(y.key,w.target.value),className:"flex-1","data-testid":`input-${y.key}`}):a.jsx(ne,{value:t[y.key]||"",onChange:w=>d(y.key,w.target.value),className:"flex-1","data-testid":`input-${y.key}`}),a.jsx(U,{variant:"outline",onClick:()=>f(y.key),disabled:!n.has(y.key)||u.isPending,"data-testid":`button-save-${y.key}`,children:a.jsx(ln,{className:"w-4 h-4"})})]}),y.key==="coming_soon_launch_date"&&t[y.key]&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",id(new Date(t[y.key]),"EEEE, MMMM d, yyyy")]})]})]},y.key)})})]})})}function gRe(e){const t=vRe(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(xRe);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function vRe(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=wRe(s),l=bRe(i,s.props);return s.type!==v.Fragment&&(l.ref=n?Un(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yRe=Symbol("radix.slottable");function xRe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yRe}function bRe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wRe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jRe=[" ","Enter","ArrowUp","ArrowDown"],NRe=[" ","Enter"],gc="Select",[g0,v0,SRe]=rp(gc),[cf]=yn(gc,[SRe,Ko]),y0=Ko(),[_Re,Jo]=cf(gc),[kRe,CRe]=cf(gc),JV=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,m=y0(t),[b,y]=v.useState(null),[g,w]=v.useState(null),[N,j]=v.useState(!1),S=Gd(u),[_,k]=ns({prop:n,defaultProp:s??!1,onChange:i,caller:gc}),[C,E]=ns({prop:o,defaultProp:l,onChange:c,caller:gc}),P=v.useRef(null),R=b?x||!!b.closest("form"):!0,[O,I]=v.useState(new Set),T=Array.from(O).map(D=>D.props.value).join(";");return a.jsx(Bx,{...m,children:a.jsxs(_Re,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Rr(),value:C,onValueChange:E,open:_,onOpenChange:k,dir:S,triggerPointerDownPosRef:P,disabled:h,children:[a.jsx(g0.Provider,{scope:t,children:a.jsx(kRe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(D=>{I(q=>new Set(q).add(D))},[]),onNativeOptionRemove:v.useCallback(D=>{I(q=>{const A=new Set(q);return A.delete(D),A})},[]),children:r})}),R?a.jsxs(Nq,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:D=>E(D.target.value),disabled:h,form:x,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},T):null]})})};JV.displayName=gc;var eq="SelectTrigger",tq=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=y0(r),o=Jo(eq,r),l=o.disabled||n,c=rt(t,o.onTriggerChange),u=v0(r),d=v.useRef("touch"),[f,h,p]=_q(m=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===o.value),g=kq(b,m,y);g!==void 0&&o.onValueChange(g.value)}),x=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(cp,{asChild:!0,...i,children:a.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Sq(o.value)?"":void 0,...s,ref:c,onClick:me(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:me(s.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:me(s.onKeyDown,m=>{const b=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(b&&m.key===" ")&&jRe.includes(m.key)&&(x(),m.preventDefault())})})})});tq.displayName=eq;var rq="SelectValue",nq=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Jo(rq,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=rt(t,c.onValueNodeChange);return yr(()=>{u(d)},[u,d]),a.jsx(Oe.span,{...l,ref:f,style:{pointerEvents:"none"},children:Sq(c.value)?a.jsx(a.Fragment,{children:o}):i})});nq.displayName=rq;var PRe="SelectIcon",sq=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Oe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});sq.displayName=PRe;var ERe="SelectPortal",aq=e=>a.jsx(Bd,{asChild:!0,...e});aq.displayName=ERe;var vc="SelectContent",iq=v.forwardRef((e,t)=>{const r=Jo(vc,e.__scopeSelect),[n,s]=v.useState();if(yr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?bc.createPortal(a.jsx(oq,{scope:e.__scopeSelect,children:a.jsx(g0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(lq,{...e,ref:t})});iq.displayName=vc;var Js=10,[oq,el]=cf(vc),ARe="SelectContentImpl",ORe=gRe("SelectContent.RemoveScroll"),lq=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b,...y}=e,g=Jo(vc,r),[w,N]=v.useState(null),[j,S]=v.useState(null),_=rt(t,ee=>N(ee)),[k,C]=v.useState(null),[E,P]=v.useState(null),R=v0(r),[O,I]=v.useState(!1),T=v.useRef(!1);v.useEffect(()=>{if(w)return Xx(w)},[w]),Qx();const D=v.useCallback(ee=>{const[se,...Q]=R().map(W=>W.ref.current),[X]=Q.slice(-1),oe=document.activeElement;for(const W of ee)if(W===oe||(W==null||W.scrollIntoView({block:"nearest"}),W===se&&j&&(j.scrollTop=0),W===X&&j&&(j.scrollTop=j.scrollHeight),W==null||W.focus(),document.activeElement!==oe))return},[R,j]),q=v.useCallback(()=>D([k,w]),[D,k,w]);v.useEffect(()=>{O&&q()},[O,q]);const{onOpenChange:A,triggerPointerDownPosRef:$}=g;v.useEffect(()=>{if(w){let ee={x:0,y:0};const se=X=>{var oe,W;ee={x:Math.abs(Math.round(X.pageX)-(((oe=$.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(X.pageY)-(((W=$.current)==null?void 0:W.y)??0))}},Q=X=>{ee.x<=10&&ee.y<=10?X.preventDefault():w.contains(X.target)||A(!1),document.removeEventListener("pointermove",se),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,A,$]),v.useEffect(()=>{const ee=()=>A(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[A]);const[H,Y]=_q(ee=>{const se=R().filter(oe=>!oe.disabled),Q=se.find(oe=>oe.ref.current===document.activeElement),X=kq(se,ee,Q);X&&setTimeout(()=>X.ref.current.focus())}),L=v.useCallback((ee,se,Q)=>{const X=!T.current&&!Q;(g.value!==void 0&&g.value===se||X)&&(C(ee),X&&(T.current=!0))},[g.value]),K=v.useCallback(()=>w==null?void 0:w.focus(),[w]),re=v.useCallback((ee,se,Q)=>{const X=!T.current&&!Q;(g.value!==void 0&&g.value===se||X)&&P(ee)},[g.value]),ie=n==="popper"?PS:cq,be=ie===PS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b}:{};return a.jsx(oq,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:L,selectedItem:k,onItemLeave:K,itemTextRefCallback:re,focusSelectedItem:q,selectedItemText:E,position:n,isPositioned:O,searchRef:H,children:a.jsx(hp,{as:ORe,allowPinchZoom:!0,children:a.jsx(fp,{asChild:!0,trapped:g.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:me(s,ee=>{var se;(se=g.trigger)==null||se.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(ie,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ee=>ee.preventDefault(),...y,...be,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:me(y.onKeyDown,ee=>{const se=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!se&&ee.key.length===1&&Y(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let X=R().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const oe=ee.target,W=X.indexOf(oe);X=X.slice(W+1)}setTimeout(()=>D(X)),ee.preventDefault()}})})})})})})});lq.displayName=ARe;var TRe="SelectItemAlignedPosition",cq=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Jo(vc,r),o=el(vc,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=rt(t,_=>d(_)),h=v0(r),p=v.useRef(!1),x=v.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:y,focusSelectedItem:g}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&b&&y){const _=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(i.dir!=="rtl"){const oe=E.left-k.left,W=C.left-oe,z=_.left-W,le=_.width+z,qe=Math.max(le,k.width),Ye=window.innerWidth-Js,ut=$1(W,[Js,Math.max(Js,Ye-qe)]);l.style.minWidth=le+"px",l.style.left=ut+"px"}else{const oe=k.right-E.right,W=window.innerWidth-C.right-oe,z=window.innerWidth-_.right-W,le=_.width+z,qe=Math.max(le,k.width),Ye=window.innerWidth-Js,ut=$1(W,[Js,Math.max(Js,Ye-qe)]);l.style.minWidth=le+"px",l.style.right=ut+"px"}const P=h(),R=window.innerHeight-Js*2,O=m.scrollHeight,I=window.getComputedStyle(u),T=parseInt(I.borderTopWidth,10),D=parseInt(I.paddingTop,10),q=parseInt(I.borderBottomWidth,10),A=parseInt(I.paddingBottom,10),$=T+D+O+A+q,H=Math.min(b.offsetHeight*5,$),Y=window.getComputedStyle(m),L=parseInt(Y.paddingTop,10),K=parseInt(Y.paddingBottom,10),re=_.top+_.height/2-Js,ie=R-re,be=b.offsetHeight/2,ee=b.offsetTop+be,se=T+D+ee,Q=$-se;if(se<=re){const oe=P.length>0&&b===P[P.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-m.offsetTop-m.offsetHeight,z=Math.max(ie,be+(oe?K:0)+W+q),le=se+z;l.style.height=le+"px"}else{const oe=P.length>0&&b===P[0].ref.current;l.style.top="0px";const z=Math.max(re,T+m.offsetTop+(oe?L:0)+be)+Q;l.style.height=z+"px",m.scrollTop=se-re+m.offsetTop}l.style.margin=`${Js}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,b,y,i.dir,n]);yr(()=>w(),[w]);const[N,j]=v.useState();yr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(_=>{_&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return a.jsx(RRe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});cq.displayName=TRe;var IRe="SelectPopperPosition",PS=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Js,...i}=e,o=y0(r);return a.jsx(Vx,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});PS.displayName=IRe;var[RRe,gP]=cf(vc,{}),ES="SelectViewport",uq=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=el(ES,r),o=gP(ES,r),l=rt(t,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(g0.Slot,{scope:r,children:a.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-Js*2,m=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(m,b);if(y<x){const g=y+p,w=Math.min(x,g),N=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});uq.displayName=ES;var dq="SelectGroup",[$Re,MRe]=cf(dq),DRe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Rr();return a.jsx($Re,{scope:r,id:s,children:a.jsx(Oe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});DRe.displayName=dq;var fq="SelectLabel",hq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=MRe(fq,r);return a.jsx(Oe.div,{id:s.id,...n,ref:t})});hq.displayName=fq;var dx="SelectItem",[LRe,mq]=cf(dx),pq=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Jo(dx,r),c=el(dx,r),u=l.value===n,[d,f]=v.useState(i??""),[h,p]=v.useState(!1),x=rt(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,n,s)}),m=Rr(),b=v.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(LRe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:v.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(g0.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Oe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:me(o.onFocus,()=>p(!0)),onBlur:me(o.onBlur,()=>p(!1)),onClick:me(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:me(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:me(o.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:me(o.onPointerMove,g=>{var w;b.current=g.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:me(o.onKeyDown,g=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(NRe.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});pq.displayName=dx;var Zf="SelectItemText",gq=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Jo(Zf,r),l=el(Zf,r),c=mq(Zf,r),u=CRe(Zf,r),[d,f]=v.useState(null),h=rt(t,y=>f(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return yr(()=>(m(x),()=>b(x)),[m,b,x]),a.jsxs(a.Fragment,{children:[a.jsx(Oe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bc.createPortal(i.children,o.valueNode):null]})});gq.displayName=Zf;var vq="SelectItemIndicator",yq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return mq(vq,r).isSelected?a.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});yq.displayName=vq;var AS="SelectScrollUpButton",xq=v.forwardRef((e,t)=>{const r=el(AS,e.__scopeSelect),n=gP(AS,e.__scopeSelect),[s,i]=v.useState(!1),o=rt(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(wq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});xq.displayName=AS;var OS="SelectScrollDownButton",bq=v.forwardRef((e,t)=>{const r=el(OS,e.__scopeSelect),n=gP(OS,e.__scopeSelect),[s,i]=v.useState(!1),o=rt(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(wq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bq.displayName=OS;var wq=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=el("SelectScrollButton",r),o=v.useRef(null),l=v0(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),yr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Oe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:me(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:me(s.onPointerLeave,()=>{c()})})}),FRe="SelectSeparator",jq=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});jq.displayName=FRe;var TS="SelectArrow",URe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=y0(r),i=Jo(TS,r),o=el(TS,r);return i.open&&o.position==="popper"?a.jsx(qx,{...s,...n,ref:t}):null});URe.displayName=TS;var BRe="SelectBubbleInput",Nq=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=rt(n,s),o=aC(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Oe.select,{...r,style:{...gD,...r.style},ref:i,defaultValue:t})});Nq.displayName=BRe;function Sq(e){return e===""||e===void 0}function _q(e){const t=vr(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function kq(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=VRe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function VRe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var qRe=JV,Cq=tq,zRe=nq,WRe=sq,HRe=aq,Pq=iq,KRe=uq,Eq=hq,Aq=pq,GRe=gq,YRe=yq,Oq=xq,Tq=bq,Iq=jq;const Kr=qRe,Gr=zRe,Tr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Cq,{ref:n,className:fe("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(WRe,{asChild:!0,children:a.jsx(Pi,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=Cq.displayName;const Rq=v.forwardRef(({className:e,...t},r)=>a.jsx(Oq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Uh,{className:"h-4 w-4"})}));Rq.displayName=Oq.displayName;const $q=v.forwardRef(({className:e,...t},r)=>a.jsx(Tq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Pi,{className:"h-4 w-4"})}));$q.displayName=Tq.displayName;const Ir=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(HRe,{children:a.jsxs(Pq,{ref:s,className:fe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Rq,{}),a.jsx(KRe,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx($q,{})]})}));Ir.displayName=Pq.displayName;const QRe=v.forwardRef(({className:e,...t},r)=>a.jsx(Eq,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));QRe.displayName=Eq.displayName;const ze=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Aq,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(YRe,{children:a.jsx(an,{className:"h-4 w-4"})})}),a.jsx(GRe,{children:t})]}));ze.displayName=Aq.displayName;const XRe=v.forwardRef(({className:e,...t},r)=>a.jsx(Iq,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));XRe.displayName=Iq.displayName;var x0="Switch",[ZRe]=yn(x0),[JRe,e$e]=ZRe(x0),Mq=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),x=rt(t,w=>p(w)),m=v.useRef(!1),b=h?d||!!h.closest("form"):!0,[y,g]=ns({prop:s,defaultProp:i??!1,onChange:u,caller:x0});return a.jsxs(JRe,{scope:r,checked:y,disabled:l,children:[a.jsx(Oe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Uq(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:me(e.onClick,w=>{g(N=>!N),b&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),b&&a.jsx(Fq,{control:h,bubbles:!m.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Mq.displayName=x0;var Dq="SwitchThumb",Lq=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=e$e(Dq,r);return a.jsx(Oe.span,{"data-state":Uq(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Lq.displayName=Dq;var t$e="SwitchBubbleInput",Fq=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=v.useRef(null),l=rt(o,i),c=aC(r),u=Z_(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(x)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Fq.displayName=t$e;function Uq(e){return e?"checked":"unchecked"}var Bq=Mq,r$e=Lq;const Yr=v.forwardRef(({className:e,...t},r)=>a.jsx(Bq,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(r$e,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yr.displayName=Bq.displayName;function n$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState("details"),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,p]=v.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:""}),[x,m]=v.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[b,y]=v.useState({label:"",price:0,icon:""}),[g,w]=v.useState(null),{data:N,isLoading:j}=ve({queryKey:["/api/admin/facilities"]}),{data:S}=ve({queryKey:["/api/admin/venues"]}),{data:_,refetch:k}=ve({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const z=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!z.ok)throw new Error("Failed to fetch");return z.json()},enabled:!!(t!=null&&t.id)}),{data:C,refetch:E}=ve({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const z=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!z.ok)throw new Error("Failed to fetch");return z.json()},enabled:!!(t!=null&&t.id)}),P=Te({mutationFn:async z=>await Ae("POST","/api/admin/facilities",z),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),s(!1),H()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),R=Te({mutationFn:async({id:z,data:le})=>await Ae("PATCH",`/api/admin/facilities/${z}`,le),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),s(!1),r(null),H()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),O=Te({mutationFn:async z=>await Ae("DELETE",`/api/admin/facilities/${z}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),I=Te({mutationFn:async z=>await Ae("POST",`/api/admin/facilities/${z.facilityId}/venues`,z),onSuccess:()=>{k(),e({title:"Venue added to facility"}),L()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),T=Te({mutationFn:async({id:z,data:le})=>await Ae("PATCH",`/api/admin/facility-venues/${z}`,le),onSuccess:()=>{k(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),D=Te({mutationFn:async z=>await Ae("DELETE",`/api/admin/facility-venues/${z}`),onSuccess:()=>{k(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),q=Te({mutationFn:async z=>await Ae("POST",`/api/admin/facilities/${z.facilityId}/addons`,z),onSuccess:()=>{E(),e({title:"Add-on created successfully"}),K()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),A=Te({mutationFn:async({id:z,data:le})=>await Ae("PATCH",`/api/admin/facility-addons/${z}`,le),onSuccess:()=>{E(),e({title:"Add-on updated successfully"}),K()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),$=Te({mutationFn:async z=>await Ae("DELETE",`/api/admin/facility-addons/${z}`),onSuccess:()=>{E(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),H=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:""}),o("details"),d(null),f.current&&(f.current.value="")},Y=async z=>{var qe;const le=(qe=z.target.files)==null?void 0:qe[0];if(le){if(!["image/jpeg","image/png","image/webp"].includes(le.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(le.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const Ye=new FormData;Ye.append("image",le);const ut=await fetch("/api/admin/upload",{method:"POST",body:Ye,credentials:"include"});if(!ut.ok){let kt="Upload failed";try{kt=(await ut.json()).message||kt}catch{kt=ut.statusText||kt}throw new Error(kt)}const Yt=await ut.json();d({name:le.name,url:Yt.imageUrl}),p(kt=>({...kt,imageUrl:Yt.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(Ye){e({title:"Upload failed",description:Ye.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},L=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},K=()=>{y({label:"",price:0,icon:""}),w(null)},re=()=>{t&&(g?A.mutate({id:g.id,data:b}):q.mutate({facilityId:t.id,...b}))},ie=z=>{w(z),y({label:z.label,price:z.price,icon:z.icon||""})},be=z=>{r(z),p({slug:z.slug,name:z.name,description:z.description||"",category:z.category||"",basePrice:z.basePrice,minPlayers:z.minPlayers||1,resourceCount:z.resourceCount||1,requiresCertification:z.requiresCertification||!1,isRestricted:z.isRestricted||!1,isHidden:z.isHidden||!1,status:z.status||"PLANNED",imageUrl:z.imageUrl||""}),o("details"),s(!0)},ee=()=>{t?R.mutate({id:t.id,data:h}):P.mutate(h)},se=()=>{!t||!x.venueId||I.mutate({facilityId:t.id,venueId:x.venueId,status:x.status,resourceCount:x.resourceCount,priceOverride:x.priceOverride?parseInt(x.priceOverride):null})},Q=z=>{switch(z){case"ACTIVE":return a.jsx(Se,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return a.jsx(Se,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return a.jsx(Se,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return a.jsx(Se,{variant:"secondary",children:"Planned"})}},X=z=>{const le=S==null?void 0:S.find(qe=>qe.id===z);return(le==null?void 0:le.name)||"Unknown Venue"},oe=(_==null?void 0:_.map(z=>z.venueId))||[],W=(S==null?void 0:S.filter(z=>!oe.includes(z.id)))||[];return j?a.jsx(Nt,{title:"Facilities",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Facilities",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),a.jsxs(xr,{open:n,onOpenChange:z=>{s(z),z||(r(null),H())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-facility",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),a.jsxs(cr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Facility":"Add New Facility"})}),a.jsxs(Ti,{value:i,onValueChange:o,children:[a.jsxs(Ha,{className:"grid w-full grid-cols-3",children:[a.jsxs(Nr,{value:"details",className:"flex items-center gap-2",children:[a.jsx(cK,{className:"w-4 h-4"}),"Details"]}),a.jsxs(Nr,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[a.jsx(za,{className:"w-4 h-4"}),"Venues",!t&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),a.jsxs(Nr,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[a.jsx(NK,{className:"w-4 h-4"}),"Add-ons",!t&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),a.jsxs(Sr,{value:"details",className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"name",children:"Name"}),a.jsx(ne,{id:"name",value:h.name,onChange:z=>p({...h,name:z.target.value}),"data-testid":"input-facility-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),a.jsx(ne,{id:"slug",value:h.slug,onChange:z=>p({...h,slug:z.target.value}),"data-testid":"input-facility-slug"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:h.description,onChange:z=>p({...h,description:z.target.value}),rows:3,"data-testid":"input-facility-description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:h.category,onChange:z=>p({...h,category:z.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"status",children:"Default Status"}),a.jsxs(Kr,{value:h.status,onValueChange:z=>p({...h,status:z}),children:[a.jsx(Tr,{"data-testid":"select-facility-status",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"OPENING_SOON",children:"Opening Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"basePrice",children:"Base Price (PKR)"}),a.jsx(ne,{id:"basePrice",type:"number",value:h.basePrice,onChange:z=>p({...h,basePrice:parseInt(z.target.value)||0}),"data-testid":"input-facility-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"minPlayers",children:"Min Players"}),a.jsx(ne,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:z=>p({...h,minPlayers:parseInt(z.target.value)||1}),"data-testid":"input-facility-min-players"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"resourceCount",children:"Default Resource Count"}),a.jsx(ne,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:z=>p({...h,resourceCount:parseInt(z.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Facility Image"}),a.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:Y,className:"hidden","data-testid":"input-facility-image-file"}),a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>{var z;return(z=f.current)==null?void 0:z.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Upload"]})}),a.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),a.jsx(ne,{id:"imageUrl",value:h.imageUrl,onChange:z=>p({...h,imageUrl:z.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ss,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&a.jsx("div",{className:"rounded-md border overflow-hidden",children:a.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:z=>{z.target.style.display="none"}})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:z=>p({...h,requiresCertification:z})}),a.jsx(J,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:z=>p({...h,isRestricted:z})}),a.jsx(J,{htmlFor:"isRestricted",children:"Restricted Access"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isHidden",checked:h.isHidden,onCheckedChange:z=>p({...h,isHidden:z}),"data-testid":"switch-is-hidden"}),a.jsx(J,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:ee,disabled:P.isPending||R.isPending,"data-testid":"button-save-facility",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),a.jsx(Sr,{value:"venues",className:"space-y-4 py-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Add Venue"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Venue"}),a.jsxs(Kr,{value:x.venueId,onValueChange:z=>m({...x,venueId:z}),children:[a.jsx(Tr,{"data-testid":"select-venue",children:a.jsx(Gr,{placeholder:"Select venue..."})}),a.jsx(Ir,{children:W.length===0?a.jsx(ze,{value:"none",disabled:!0,children:"No venues available"}):W.map(z=>a.jsxs(ze,{value:z.id,children:[z.name," (",z.city,")"]},z.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Status at Venue"}),a.jsxs(Kr,{value:x.status,onValueChange:z=>m({...x,status:z}),children:[a.jsx(Tr,{"data-testid":"select-venue-status",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"COMING_SOON",children:"Coming Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Resource Count at Venue"}),a.jsx(ne,{type:"number",value:x.resourceCount,onChange:z=>m({...x,resourceCount:parseInt(z.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Price Override (PKR)"}),a.jsx(ne,{type:"number",value:x.priceOverride,onChange:z=>m({...x,priceOverride:z.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),a.jsxs(U,{onClick:se,disabled:!x.venueId||I.isPending,"data-testid":"button-add-venue",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!_||_.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Venue"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{children:"Resources"}),a.jsx(ke,{children:"Price"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsx(rs,{children:_.map(z=>a.jsxs(wt,{"data-testid":`row-venue-${z.id}`,children:[a.jsx(we,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(za,{className:"w-4 h-4 text-muted-foreground"}),X(z.venueId)]})}),a.jsx(we,{children:a.jsxs(Kr,{value:z.status||"PLANNED",onValueChange:le=>T.mutate({id:z.id,data:{status:le}}),children:[a.jsx(Tr,{className:"w-32","data-testid":`select-fv-status-${z.id}`,children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"PLANNED",children:"Planned"}),a.jsx(ze,{value:"COMING_SOON",children:"Coming Soon"}),a.jsx(ze,{value:"ACTIVE",children:"Active"})]})]})}),a.jsx(we,{children:a.jsx(ne,{type:"number",className:"w-20",value:z.resourceCount||1,onChange:le=>T.mutate({id:z.id,data:{resourceCount:parseInt(le.target.value)||1}}),"data-testid":`input-fv-resources-${z.id}`})}),a.jsx(we,{children:a.jsx(ne,{type:"number",className:"w-28",value:z.priceOverride||"",placeholder:h.basePrice.toString(),onChange:le=>T.mutate({id:z.id,data:{priceOverride:le.target.value?parseInt(le.target.value):null}}),"data-testid":`input-fv-price-${z.id}`})}),a.jsx(we,{className:"text-right",children:a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&D.mutate(z.id)},"data-testid":`button-remove-venue-${z.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})})]},z.id))})]})]})]})}),a.jsx(Sr,{value:"addons",className:"space-y-4 py-4",children:t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:g?"Edit Add-on":"Add New Add-on"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Label"}),a.jsx(ne,{value:b.label,onChange:z=>y({...b,label:z.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Price (PKR)"}),a.jsx(ne,{type:"number",value:b.price,onChange:z=>y({...b,price:parseInt(z.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Icon (optional)"}),a.jsx(ne,{value:b.icon,onChange:z=>y({...b,icon:z.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:re,disabled:!b.label||q.isPending||A.isPending,"data-testid":"button-save-addon",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),g?"Update Add-on":"Add Add-on"]}),g&&a.jsx(U,{variant:"outline",onClick:K,children:"Cancel"})]})]}),a.jsxs("div",{className:"rounded-lg border",children:[a.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!C||C.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Label"}),a.jsx(ke,{children:"Price"}),a.jsx(ke,{children:"Icon"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsx(rs,{children:C.map(z=>a.jsxs(wt,{"data-testid":`row-addon-${z.id}`,children:[a.jsx(we,{className:"font-medium",children:z.label}),a.jsxs(we,{children:["PKR ",z.price.toLocaleString()]}),a.jsx(we,{children:z.icon||"-"}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>ie(z),"data-testid":`button-edit-addon-${z.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&$.mutate(z.id)},"data-testid":`button-delete-addon-${z.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},z.id))})]})]})]})})]})]})]})]}),a.jsx(ce,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Category"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{children:"Base Price"}),a.jsx(ke,{children:"Courts/Resources"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[N==null?void 0:N.map(z=>a.jsxs(wt,{"data-testid":`row-facility-${z.id}`,children:[a.jsx(we,{className:"font-medium",children:z.name}),a.jsx(we,{children:z.category||"-"}),a.jsx(we,{children:Q(z.status)}),a.jsxs(we,{children:["PKR ",z.basePrice.toLocaleString()]}),a.jsx(we,{children:z.resourceCount}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>be(z),"data-testid":`button-edit-facility-${z.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&O.mutate(z.id)},"data-testid":`button-delete-facility-${z.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},z.id)),(!N||N.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function s$e(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...x}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=v.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,a$e(s,...t)]}function a$e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var i$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vq=i$e.reduce((e,t)=>{const r=Yx(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),vP="Progress",yP=100,[o$e]=s$e(vP),[l$e,c$e]=o$e(vP),qq=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=u$e,...o}=e;(s||s===0)&&!l$(s)&&console.error(d$e(`${s}`,"Progress"));const l=l$(s)?s:yP;n!==null&&!c$(n,l)&&console.error(f$e(`${n}`,"Progress"));const c=c$(n,l)?n:null,u=fx(c)?i(c,l):void 0;return a.jsx(l$e,{scope:r,value:c,max:l,children:a.jsx(Vq.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":fx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Hq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});qq.displayName=vP;var zq="ProgressIndicator",Wq=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=c$e(zq,r);return a.jsx(Vq.div,{"data-state":Hq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Wq.displayName=zq;function u$e(e,t){return`${Math.round(e/t*100)}%`}function Hq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function fx(e){return typeof e=="number"}function l$(e){return fx(e)&&!isNaN(e)&&e>0}function c$(e,t){return fx(e)&&!isNaN(e)&&e<=t&&e>=0}function d$e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yP}\`.`}function f$e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kq=qq,h$e=Wq;const IS=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(Kq,{ref:n,className:fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(h$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));IS.displayName=Kq.displayName;function m$e(){const{toast:e}=At(),[t,r]=v.useState(new Set),[n,s]=v.useState(null),[i,o]=v.useState({}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/construction-phases"]});v.useEffect(()=>{if(l){const m={};l.forEach(b=>{m[b.id]={...b}}),o(m)}},[l]);const u=Te({mutationFn:async({id:m,data:b})=>{const y={...b,progress:b.progress!==void 0?Number(b.progress):void 0,isActive:b.status==="IN_PROGRESS",isComplete:b.status==="COMPLETE"||b.progress===100};return await Ae("PATCH",`/api/admin/construction-phases/${m}`,y)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),s(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,b,y)=>{o(g=>({...g,[m]:{...g[m],[b]:y}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return a.jsx(Ss,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return a.jsx(qD,{className:"w-5 h-5 text-amber-500"});default:return a.jsx(_r,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return a.jsx(Se,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return a.jsx(Se,{className:"bg-amber-500",children:"In Progress"});default:return a.jsx(Se,{variant:"secondary",children:"Not Started"})}},x=()=>{if(!l||l.length===0)return 0;const m=l.reduce((b,y)=>b+(y.progress||0),0);return Math.round(m/l.length)};return c?a.jsx(Nt,{title:"Construction Status",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Construction Status",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),a.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[a.jsx($o,{className:"w-3 h-3"})," View Public Roadmap",a.jsx(Bh,{className:"w-3 h-3"})]})]})}),a.jsxs(ce,{className:"border-primary/20 bg-primary/5",children:[a.jsxs(Ge,{children:[a.jsx(et,{children:"Overall Project Progress"}),a.jsx(Kt,{children:"Combined progress across all construction phases"})]}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[x(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),a.jsx(IS,{value:x(),className:"h-3"})]})})]}),a.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,b)=>(m.sortOrder||0)-(b.sortOrder||0)).map(m=>{const b=i[m.id]||m,y=n===m.id;return a.jsxs(ce,{className:`transition-all ${y?"ring-2 ring-primary":""}`,children:[a.jsxs(Ge,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[h(b.status),a.jsxs("div",{children:[a.jsxs(et,{className:"text-lg flex items-center gap-2",children:[b.label,": ",b.title,p(b.status)]}),a.jsx(Kt,{children:b.timeframe||"No timeframe set"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-semibold",children:[b.progress||0,"%"]}),a.jsx(U,{variant:y?"default":"outline",size:"sm",onClick:()=>s(y?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:y?"Cancel":"Edit"}),y&&a.jsxs(U,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[a.jsx(ln,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),a.jsx(IS,{value:b.progress||0,className:"mt-3"})]}),y&&a.jsxs(ue,{className:"border-t pt-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Phase Label"}),a.jsx(ne,{value:b.label||"",onChange:g=>d(m.id,"label",g.target.value),"data-testid":`input-phase-label-${m.id}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Phase Title"}),a.jsx(ne,{value:b.title||"",onChange:g=>d(m.id,"title",g.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Status"}),a.jsxs(Kr,{value:b.status,onValueChange:g=>{const w=g==="COMPLETE"?100:g==="NOT_STARTED"?0:b.progress;d(m.id,"status",g),d(m.id,"progress",w),d(m.id,"isComplete",g==="COMPLETE"),d(m.id,"isActive",g==="IN_PROGRESS")},children:[a.jsx(Tr,{"data-testid":`select-phase-status-${m.id}`,children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"NOT_STARTED",children:"Not Started"}),a.jsx(ze,{value:"IN_PROGRESS",children:"In Progress"}),a.jsx(ze,{value:"COMPLETE",children:"Complete"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Progress (%)"}),a.jsx(ne,{type:"number",min:"0",max:"100",value:b.progress||0,onChange:g=>{const w=Math.min(100,Math.max(0,parseInt(g.target.value)||0));d(m.id,"progress",w),w===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):w>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Timeframe"}),a.jsx(ne,{value:b.timeframe||"",onChange:g=>d(m.id,"timeframe",g.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Milestones (one per line)"}),a.jsx(ur,{value:(b.milestones||[]).join(`
`),onChange:g=>d(m.id,"milestones",g.target.value.split(`
`).filter(w=>w.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Highlights (one per line)"}),a.jsx(ur,{value:(b.highlights||[]).join(`
`),onChange:g=>d(m.id,"highlights",g.target.value.split(`
`).filter(w=>w.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!y&&a.jsx(ue,{className:"pt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),a.jsxs("ul",{className:"space-y-1",children:[(b.milestones||[]).slice(0,4).map((g,w)=>a.jsxs("li",{className:"text-sm flex items-center gap-2",children:[a.jsx(Ss,{className:`w-3 h-3 ${g.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{className:g.startsWith("[x]")?"line-through text-muted-foreground":"",children:g.replace(/^\[(x| )\] /,"")})]},w)),(b.milestones||[]).length>4&&a.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",b.milestones.length-4," more..."]})]})]}),(b.highlights||[]).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),a.jsx("ul",{className:"space-y-1",children:(b.highlights||[]).map((g,w)=>a.jsx("li",{className:"text-sm text-muted-foreground",children:g},w))})]})]})})]},m.id)})}),a.jsx(ce,{className:"border-dashed",children:a.jsxs(ue,{className:"py-6 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function p$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:h,isLoading:p}=ve({queryKey:["/api/admin/events"]}),{data:x}=ve({queryKey:["/api/admin/facilities"]}),m=Te({mutationFn:async k=>await Ae("POST","/api/admin/events",k),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/events"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),s(!1),g()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),b=Te({mutationFn:async({id:k,data:C})=>await Ae("PATCH",`/api/admin/events/${k}`,C),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/events"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),s(!1),r(null),g()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),y=Te({mutationFn:async k=>await Ae("DELETE",`/api/admin/events/${k}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/events"]}),Ne.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),g=()=>{var k;f({facilityId:((k=x==null?void 0:x[0])==null?void 0:k.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},w=async k=>{var E;const C=(E=k.target.files)==null?void 0:E[0];if(C){if(!["image/jpeg","image/png","image/webp"].includes(C.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(C.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const P=new FormData;P.append("image",C);const R=await fetch("/api/admin/upload",{method:"POST",body:P,credentials:"include"});if(!R.ok){let I="Upload failed";try{I=(await R.json()).message||I}catch{I=R.statusText||I}throw new Error(I)}const O=await R.json();c({name:C.name,url:O.imageUrl}),f(I=>({...I,imageUrl:O.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(P){e({title:"Upload failed",description:P.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},N=k=>{r(k),f({facilityId:k.facilityId,title:k.title,description:k.description||"",type:k.type,instructor:k.instructor||"",scheduleDay:k.scheduleDay||"",scheduleTime:k.scheduleTime||"",scheduleDatetime:k.scheduleDatetime?id(new Date(k.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:k.price||0,capacity:k.capacity||20,enrollmentDeadline:k.enrollmentDeadline?id(new Date(k.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:k.imageUrl||"",slug:k.slug||"",isActive:k.isActive??!0}),s(!0)},j=()=>{if(!d.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?b.mutate({id:t.id,data:d}):m.mutate(d)},S=k=>{switch(k){case"ACADEMY":return a.jsx(Se,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return a.jsx(Se,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return a.jsx(Se,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return a.jsx(Se,{className:"bg-green-500",children:"Social"});default:return a.jsx(Se,{variant:"secondary",children:k})}},_=k=>{var C;return((C=x==null?void 0:x.find(E=>E.id===k))==null?void 0:C.name)||"Unknown"};return p?a.jsx(Nt,{title:"Events & Academies",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Events & Academies",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),a.jsxs(xr,{open:n,onOpenChange:k=>{s(k),k||(r(null),g())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-event",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Event"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Event":"Add New Event"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Event Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:k=>f({...d,title:k.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"type",children:"Event Type"}),a.jsxs(Kr,{value:d.type,onValueChange:k=>f({...d,type:k}),children:[a.jsx(Tr,{"data-testid":"select-event-type",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),a.jsx(ze,{value:"TOURNAMENT",children:"Tournament"}),a.jsx(ze,{value:"CLASS",children:"Class (One-time)"}),a.jsx(ze,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"facilityId",children:"Facility"}),a.jsxs(Kr,{value:d.facilityId,onValueChange:k=>f({...d,facilityId:k}),children:[a.jsx(Tr,{"data-testid":"select-event-facility",children:a.jsx(Gr,{placeholder:"Select facility"})}),a.jsx(Ir,{children:x==null?void 0:x.map(k=>a.jsx(ze,{value:k.id,children:k.name},k.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"instructor",children:"Instructor/Host"}),a.jsx(ne,{id:"instructor",value:d.instructor,onChange:k=>f({...d,instructor:k.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:d.description,onChange:k=>f({...d,description:k.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scheduleDay",children:"Schedule Day"}),a.jsx(ne,{id:"scheduleDay",value:d.scheduleDay,onChange:k=>f({...d,scheduleDay:k.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scheduleTime",children:"Schedule Time"}),a.jsx(ne,{id:"scheduleTime",value:d.scheduleTime,onChange:k=>f({...d,scheduleTime:k.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),a.jsx(ne,{id:"scheduleDatetime",type:"datetime-local",value:d.scheduleDatetime,onChange:k=>f({...d,scheduleDatetime:k.target.value}),"data-testid":"input-event-datetime"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"price",children:"Price (PKR)"}),a.jsx(ne,{id:"price",type:"number",value:d.price,onChange:k=>f({...d,price:parseInt(k.target.value)||0}),"data-testid":"input-event-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"capacity",children:"Capacity"}),a.jsx(ne,{id:"capacity",type:"number",value:d.capacity,onChange:k=>f({...d,capacity:parseInt(k.target.value)||20}),"data-testid":"input-event-capacity"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),a.jsx(ne,{id:"enrollmentDeadline",type:"date",value:d.enrollmentDeadline,onChange:k=>f({...d,enrollmentDeadline:k.target.value}),"data-testid":"input-event-deadline"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Event Image"}),a.jsxs(Ti,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsxs(Nr,{value:"upload",className:"flex items-center gap-2",children:[a.jsx(Mo,{className:"w-4 h-4"}),"Upload"]}),a.jsxs(Nr,{value:"url",className:"flex items-center gap-2",children:[a.jsx(KD,{className:"w-4 h-4"}),"URL"]})]}),a.jsxs(Sr,{value:"upload",className:"space-y-3",children:[a.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:w,className:"hidden","data-testid":"input-event-image-file"}),a.jsx(U,{type:"button",variant:"outline",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ss,{className:"w-4 h-4"}),l.name]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),a.jsx(Sr,{value:"url",className:"space-y-3",children:a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:k=>f({...d,imageUrl:k.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),d.imageUrl&&a.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:k=>{k.target.style.display="none"}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"slug",children:"URL Slug"}),a.jsx(ne,{id:"slug",value:d.slug,onChange:k=>f({...d,slug:k.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[a.jsx(Yr,{id:"isActive",checked:d.isActive,onCheckedChange:k=>f({...d,isActive:k})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:j,disabled:m.isPending||b.isPending,"data-testid":"button-save-event",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(ce,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Event"}),a.jsx(ke,{children:"Type"}),a.jsx(ke,{children:"Facility"}),a.jsx(ke,{children:"Schedule"}),a.jsx(ke,{children:"Capacity"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[h==null?void 0:h.map(k=>a.jsxs(wt,{"data-testid":`row-event-${k.id}`,children:[a.jsx(we,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k.title}),k.instructor&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",k.instructor]})]})}),a.jsx(we,{children:S(k.type)}),a.jsx(we,{children:_(k.facilityId)}),a.jsx(we,{children:a.jsxs("div",{className:"flex flex-col gap-1",children:[k.scheduleDay&&a.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[a.jsx(gn,{className:"w-3 h-3"}),k.scheduleDay]}),k.scheduleTime&&a.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(_r,{className:"w-3 h-3"}),k.scheduleTime]})]})}),a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qr,{className:"w-3 h-3"}),k.enrolledCount||0,"/",k.capacity]})}),a.jsx(we,{children:k.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>N(k),"data-testid":`button-edit-event-${k.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&y.mutate(k.id)},"data-testid":`button-delete-event-${k.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},k.id)),(!h||h.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})})]})})}function g$e(){const{toast:e}=At(),{adminPath:t}=dp(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=v.useState(""),{data:d,isLoading:f}=ve({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=ve({queryKey:["/api/admin/membership-tiers"]}),p=()=>{Ne.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),Ne.invalidateQueries({queryKey:["/api/pricing-tiers"]})},x=Te({mutationFn:async _=>await Ae("POST","/api/admin/pricing-tiers",_),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),y()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=Te({mutationFn:async({id:_,data:k})=>await Ae("PATCH",`/api/admin/pricing-tiers/${_}`,k),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),y()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),b=Te({mutationFn:async _=>await Ae("DELETE",`/api/admin/pricing-tiers/${_}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),y=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},g=_=>{n(_),l({name:_.name,tier:_.tier,price:_.price,billingPeriod:_.billingPeriod||"yearly",benefits:_.benefits||[],isPopular:_.isPopular||!1,sortOrder:_.sortOrder||0,isActive:_.isActive??!0}),i(!0)},w=()=>{r?m.mutate({id:r.id,data:o}):x.mutate(o)},N=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},j=_=>{l({...o,benefits:o.benefits.filter((k,C)=>C!==_)})},S=_=>{switch(_){case"FOUNDING":return a.jsx(Se,{className:"bg-amber-600",children:"Founding"});case"GOLD":return a.jsx(Se,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return a.jsx(Se,{className:"bg-gray-400",children:"Silver"});default:return a.jsx(Se,{variant:"secondary",children:"Guest"})}};return f?a.jsx(Nt,{title:"Pricing Tiers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Pricing Tiers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),a.jsx(ae,{href:`/${t}/membership-tiers`,children:a.jsxs(U,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[a.jsx(Mv,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),a.jsxs(xr,{open:s,onOpenChange:_=>{i(_),_||(n(null),y())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-pricing-tier",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"name",children:"Display Name"}),a.jsx(ne,{id:"name",value:o.name,onChange:_=>l({...o,name:_.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"tier",children:"Tier Level"}),a.jsxs(Kr,{value:o.tier,onValueChange:_=>l({...o,tier:_}),children:[a.jsx(Tr,{"data-testid":"select-tier-level",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[h==null?void 0:h.filter(_=>_.isActive).map(_=>a.jsx(ze,{value:_.slug.toUpperCase(),"data-testid":`select-tier-${_.slug}`,children:_.displayName},_.id)),(!h||h.length===0)&&a.jsxs(a.Fragment,{children:[a.jsx(ze,{value:"FOUNDING",children:"Founding"}),a.jsx(ze,{value:"GOLD",children:"Gold"}),a.jsx(ze,{value:"SILVER",children:"Silver"}),a.jsx(ze,{value:"GUEST",children:"Guest"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"price",children:"Price (PKR)"}),a.jsx(ne,{id:"price",type:"number",value:o.price,onChange:_=>l({...o,price:parseInt(_.target.value)||0}),"data-testid":"input-tier-price"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"billingPeriod",children:"Billing Period"}),a.jsxs(Kr,{value:o.billingPeriod,onValueChange:_=>l({...o,billingPeriod:_}),children:[a.jsx(Tr,{"data-testid":"select-billing-period",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"monthly",children:"Monthly"}),a.jsx(ze,{value:"yearly",children:"Yearly"}),a.jsx(ze,{value:"lifetime",children:"Lifetime"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Benefits"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:c,onChange:_=>u(_.target.value),placeholder:"Add a benefit",onKeyDown:_=>_.key==="Enter"&&(_.preventDefault(),N()),"data-testid":"input-benefit"}),a.jsx(U,{type:"button",onClick:N,variant:"secondary",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((_,k)=>a.jsxs(Se,{variant:"secondary",className:"px-2 py-1",children:[_,a.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},k))})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:_=>l({...o,sortOrder:parseInt(_.target.value)||0}),"data-testid":"input-sort-order"})]})}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isPopular",checked:o.isPopular,onCheckedChange:_=>l({...o,isPopular:_})}),a.jsx(J,{htmlFor:"isPopular",children:"Mark as Popular"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:o.isActive,onCheckedChange:_=>l({...o,isActive:_})}),a.jsx(J,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(U,{onClick:w,disabled:x.isPending||m.isPending,"data-testid":"button-save-tier",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),a.jsx(ce,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Tier"}),a.jsx(ke,{children:"Price"}),a.jsx(ke,{children:"Billing"}),a.jsx(ke,{children:"Benefits"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[d==null?void 0:d.map(_=>{var k;return a.jsxs(wt,{"data-testid":`row-tier-${_.id}`,children:[a.jsxs(we,{className:"font-medium",children:[_.name,_.isPopular&&a.jsx(op,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),a.jsx(we,{children:S(_.tier)}),a.jsxs(we,{children:["PKR ",_.price.toLocaleString()]}),a.jsx(we,{className:"capitalize",children:_.billingPeriod}),a.jsxs(we,{children:[((k=_.benefits)==null?void 0:k.length)||0," benefits"]}),a.jsx(we,{children:_.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>g(_),"data-testid":`button-edit-tier-${_.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&b.mutate(_.id)},"data-testid":`button-delete-tier-${_.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},_.id)}),(!d||d.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function v$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=v.useState(""),{data:u,isLoading:d}=ve({queryKey:["/api/admin/membership-tiers"]}),f=()=>{Ne.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),Ne.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=Te({mutationFn:async S=>await Ae("POST","/api/admin/membership-tiers",S),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),s(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=Te({mutationFn:async({id:S,data:_})=>await Ae("PATCH",`/api/admin/membership-tiers/${S}`,_),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),s(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),x=Te({mutationFn:async S=>await Ae("DELETE",`/api/admin/membership-tiers/${S}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},b=S=>{r(S),o({slug:S.slug,displayName:S.displayName,description:S.description||"",color:S.color||"#6B7280",discountPercent:S.discountPercent||0,guestPassesIncluded:S.guestPassesIncluded||0,benefits:S.benefits||[],sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),s(!0)},y=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},g=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},w=S=>{o({...i,benefits:i.benefits.filter((_,k)=>k!==S)})},N=S=>S.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return a.jsx(Nt,{title:"Membership Tiers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const j=[...u||[]].sort((S,_)=>(S.sortOrder||0)-(_.sortOrder||0));return a.jsx(Nt,{title:"Membership Tiers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),a.jsxs(xr,{open:n,onOpenChange:S=>{s(S),S||(r(null),m())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-tier",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"displayName",children:"Display Name"}),a.jsx(ne,{id:"displayName",value:i.displayName,onChange:S=>{const _=S.target.value;o({...i,displayName:_,slug:i.slug||N(_)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),a.jsx(ne,{id:"slug",value:i.slug,onChange:S=>o({...i,slug:N(S.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:i.description,onChange:S=>o({...i,description:S.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"color",children:"Tier Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{id:"color",type:"color",value:i.color,onChange:S=>o({...i,color:S.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),a.jsx(ne,{value:i.color,onChange:S=>o({...i,color:S.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),a.jsx(ne,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:S=>o({...i,discountPercent:parseInt(S.target.value)||0}),"data-testid":"input-discount"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),a.jsx(ne,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:S=>o({...i,guestPassesIncluded:parseInt(S.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Benefits"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:l,onChange:S=>c(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),g()),"data-testid":"input-benefit"}),a.jsx(U,{type:"button",onClick:g,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((S,_)=>a.jsxs(Se,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${_}`,children:[S,a.jsx("button",{type:"button",onClick:()=>w(_),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${_}`,children:"x"})]},_))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:S=>o({...i,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:S=>o({...i,isActive:S}),"data-testid":"switch-is-active"}),a.jsx(J,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Cancel"}),a.jsx(U,{onClick:y,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),a.jsxs(ce,{children:[a.jsxs(Ge,{children:[a.jsx(et,{children:"Membership Tier Definitions"}),a.jsx(Kt,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),a.jsx(ue,{children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-12",children:"Order"}),a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Slug"}),a.jsx(ke,{children:"Color"}),a.jsx(ke,{children:"Discount"}),a.jsx(ke,{children:"Guest Passes"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[j.map(S=>a.jsxs(wt,{"data-testid":`row-tier-${S.id}`,children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Ix,{className:"w-4 h-4"}),S.sortOrder]})}),a.jsx(we,{className:"font-medium","data-testid":`text-tier-name-${S.id}`,children:S.displayName}),a.jsx(we,{children:a.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${S.id}`,children:S.slug})}),a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:S.color||"#6B7280"}}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.color})]})}),a.jsxs(we,{children:[S.discountPercent,"%"]}),a.jsx(we,{children:S.guestPassesIncluded}),a.jsx(we,{children:a.jsx(Se,{variant:S.isActive?"default":"secondary","data-testid":`badge-status-${S.id}`,children:S.isActive?"Active":"Inactive"})}),a.jsx(we,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>b(S),"data-testid":`button-edit-tier-${S.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&x.mutate(S.id)},disabled:x.isPending,"data-testid":`button-delete-tier-${S.id}`,children:a.jsx(on,{className:"w-4 h-4"})})]})})]},S.id)),j.length===0&&a.jsx(wt,{children:a.jsx(we,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function y$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/announcements"]}),u=Te({mutationFn:async m=>await Ae("POST","/api/admin/announcements",m),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=Te({mutationFn:async({id:m,data:b})=>await Ae("PATCH",`/api/admin/announcements/${m}`,b),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=Te({mutationFn:async m=>await Ae("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),s(!0)},x=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(Nt,{title:"Announcements",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Announcements",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),a.jsxs(xr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-announcement",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),a.jsxs(cr,{className:"max-w-2xl",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Announcement":"Add New Announcement"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"content",children:"Content"}),a.jsx(ur,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:x,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(ce,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Title"}),a.jsx(ke,{children:"Category"}),a.jsx(ke,{children:"Published"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[l==null?void 0:l.map(m=>a.jsxs(wt,{"data-testid":`row-announcement-${m.id}`,children:[a.jsx(we,{className:"font-medium",children:m.title}),a.jsx(we,{children:m.category||"-"}),a.jsx(we,{children:m.publishedAt?id(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),a.jsx(we,{children:m.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function x$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/careers"]}),u=Te({mutationFn:async m=>await Ae("POST","/api/admin/careers",m),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=Te({mutationFn:async({id:m,data:b})=>await Ae("PATCH",`/api/admin/careers/${m}`,b),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=Te({mutationFn:async m=>await Ae("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),s(!0)},x=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(Nt,{title:"Careers",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Careers",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),a.jsxs(xr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-career",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Job Listing":"Add New Job Listing"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Job Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"department",children:"Department"}),a.jsx(ne,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"location",children:"Location"}),a.jsx(ne,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"type",children:"Employment Type"}),a.jsxs(Kr,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[a.jsx(Tr,{"data-testid":"select-career-type",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"Full-time",children:"Full-time"}),a.jsx(ze,{value:"Part-time",children:"Part-time"}),a.jsx(ze,{value:"Contract",children:"Contract"}),a.jsx(ze,{value:"Internship",children:"Internship"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"salary",children:"Salary Range"}),a.jsx(ne,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Job Description"}),a.jsx(ur,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"requirements",children:"Requirements"}),a.jsx(ur,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:x,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(ce,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Title"}),a.jsx(ke,{children:"Department"}),a.jsx(ke,{children:"Location"}),a.jsx(ke,{children:"Type"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[l==null?void 0:l.map(m=>a.jsxs(wt,{"data-testid":`row-career-${m.id}`,children:[a.jsx(we,{className:"font-medium",children:m.title}),a.jsx(we,{children:m.department||"-"}),a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(za,{className:"w-3 h-3"}),m.location]})}),a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fh,{className:"w-3 h-3"}),m.type]})}),a.jsx(we,{children:m.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function b$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=ve({queryKey:["/api/admin/rules"]}),u=Te({mutationFn:async m=>await Ae("POST","/api/admin/rules",m),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),s(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=Te({mutationFn:async({id:m,data:b})=>await Ae("PATCH",`/api/admin/rules/${m}`,b),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),s(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=Te({mutationFn:async m=>await Ae("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),s(!0)},x=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?a.jsx(Nt,{title:"Rules & Policies",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Rules & Policies",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),a.jsxs(xr,{open:n,onOpenChange:m=>{s(m),m||(r(null),h())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-rule",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Rule":"Add New Rule"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsx(ne,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"content",children:"Content"}),a.jsx(ur,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsxs(U,{onClick:x,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),a.jsx(ce,{children:a.jsx(ue,{className:"p-0",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-12",children:"Order"}),a.jsx(ke,{children:"Title"}),a.jsx(ke,{children:"Category"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{className:"text-right",children:"Actions"})]})}),a.jsxs(rs,{children:[l==null?void 0:l.map(m=>a.jsxs(wt,{"data-testid":`row-rule-${m.id}`,children:[a.jsx(we,{children:a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(Ix,{className:"w-4 h-4"}),m.sortOrder]})}),a.jsx(we,{className:"font-medium",children:m.title}),a.jsx(we,{children:m.category?a.jsx(Se,{variant:"outline",children:m.category}):"-"}),a.jsx(we,{children:m.isActive?a.jsx(Se,{className:"bg-green-500",children:"Active"}):a.jsx(Se,{variant:"secondary",children:"Inactive"})}),a.jsxs(we,{className:"text-right",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&a.jsx(wt,{children:a.jsx(we,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const u$=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],d$=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function w$e(){const{toast:e}=At(),[t,r]=v.useState("privacy"),[n,s]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!1),{data:u,isLoading:d}=ve({queryKey:["/api/cms/bulk"]});v.useEffect(()=>{if(u){const j=u.find(_=>_.key==="privacy_policy"),S=u.find(_=>_.key==="terms_conditions");try{j!=null&&j.content?s(JSON.parse(j.content)):s(u$)}catch{s(u$)}try{S!=null&&S.content?o(JSON.parse(S.content)):o(d$)}catch{o(d$)}}},[u]);const f=Te({mutationFn:async({key:j,content:S})=>Ae("POST","/api/admin/cms",{key:j,title:j==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:S,isActive:!0}),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},x=(j,S,_,k)=>{(j==="privacy"?s:o)(E=>E.map((P,R)=>R===S?{...P,[_]:k}:P))},m=j=>{const S={section:`${j==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};j==="privacy"?s([...n,S]):o([...i,S])},b=(j,S)=>{j==="privacy"?s(_=>_.filter((k,C)=>C!==S)):o(_=>_.filter((k,C)=>C!==S))},y=(j,S,_,k)=>{(j==="privacy"?s:o)(E=>E.map((P,R)=>{if(R!==S)return P;const O=[...P.items];return O[_]=k,{...P,items:O}}))},g=(j,S)=>{(j==="privacy"?s:o)(k=>k.map((C,E)=>E!==S?C:{...C,items:[...C.items,""]}))},w=(j,S,_)=>{(j==="privacy"?s:o)(C=>C.map((E,P)=>P!==S?E:{...E,items:E.items.filter((R,O)=>O!==_)}))},N=(j,S)=>a.jsxs("div",{className:"space-y-6",children:[S.map((_,k)=>a.jsxs(ce,{className:"relative",children:[a.jsx(Ge,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Ix,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Section Title"}),a.jsx(ne,{value:_.section,onChange:C=>x(j,k,"section",C.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${k}`})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Content"}),a.jsx(ur,{value:_.content,onChange:C=>x(j,k,"content",C.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${k}`})]})]}),a.jsx(U,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>b(j,k),"data-testid":`button-remove-section-${k}`,children:a.jsx(on,{className:"w-4 h-4"})})]})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{className:"text-sm",children:"Bullet Points"}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>g(j,k),"data-testid":`button-add-item-${k}`,children:[a.jsx(vn,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),_.items.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):a.jsx("div",{className:"space-y-2",children:_.items.map((C,E)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{value:C,onChange:P=>y(j,k,E,P.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${k}-${E}`}),a.jsx(U,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>w(j,k,E),"data-testid":`button-remove-item-${k}-${E}`,children:a.jsx(on,{className:"w-4 h-4"})})]},E))})]})})]},k)),a.jsxs(U,{variant:"outline",className:"w-full",onClick:()=>m(j),"data-testid":`button-add-section-${j}`,children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?a.jsx(Nt,{title:"Policy Management",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(Nt,{title:"Policy Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),a.jsxs(Ti,{value:t,onValueChange:r,children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsxs(Nr,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[a.jsx(qh,{className:"w-4 h-4"}),"Privacy Policy"]}),a.jsxs(Nr,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[a.jsx(ec,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),a.jsxs(Sr,{value:"privacy",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),a.jsxs(U,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),N("privacy",n)]}),a.jsxs(Sr,{value:"terms",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),a.jsxs(U,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),N("terms",i)]})]})]})})}const Yc={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function j$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async P=>{var O;const R=(O=P.target.files)==null?void 0:O[0];if(R){if(!["image/jpeg","image/png","image/webp"].includes(R.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(R.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const I=new FormData;I.append("image",R);const T=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!T.ok){let q="Upload failed";try{q=(await T.json()).message||q}catch{q=T.statusText||q}throw new Error(q)}const D=await T.json();c({name:R.name,url:D.imageUrl}),f(q=>({...q,imageUrl:D.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:x}=ve({queryKey:["/api/admin/gallery"]}),m=Te({mutationFn:async P=>await Ae("POST","/api/admin/gallery",P),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),s(!1),g()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),b=Te({mutationFn:async({id:P,data:R})=>await Ae("PATCH",`/api/admin/gallery/${P}`,R),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),s(!1),r(null),g()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),y=Te({mutationFn:async P=>await Ae("DELETE",`/api/admin/gallery/${P}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),g=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},w=P=>{r(P),f({imageUrl:P.imageUrl,title:P.title||"",description:P.description||"",category:P.category||"Construction",sortOrder:P.sortOrder||0,isActive:P.isActive??!0}),s(!0)},N=()=>{t?b.mutate({id:t.id,data:d}):m.mutate(d)},j=P=>{switch(P){case"Renders":return a.jsx(Se,{className:"bg-purple-500",children:"Renders"});case"Construction":return a.jsx(Se,{className:"bg-orange-500",children:"Construction"});case"Facilities":return a.jsx(Se,{className:"bg-blue-500",children:"Facilities"});default:return a.jsx(Se,{variant:"secondary",children:P||"Other"})}};if(x)return a.jsx(Nt,{title:"Gallery",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const S=(p==null?void 0:p.filter(P=>P.category==="Renders").length)||0,_=(p==null?void 0:p.filter(P=>P.category==="Construction").length)||0,k=(p==null?void 0:p.filter(P=>P.category==="Facilities").length)||0,C=(p==null?void 0:p.filter(P=>P.isActive).length)||0,E=(p==null?void 0:p.filter(P=>!P.isActive).length)||0;return a.jsx(Nt,{title:"Gallery",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),a.jsxs("span",{className:"text-sm",children:[S," Renders"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),a.jsxs("span",{className:"text-sm",children:[_," Construction"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-sm",children:[k," Facilities"]})]}),a.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[C," Active"]}),E>0&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",E," Hidden"]})]})]})]}),a.jsxs(xr,{open:n,onOpenChange:P=>{s(P),P||(r(null),g())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-gallery-image",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Add Image"]})}),a.jsxs(cr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Image":"Add New Image"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Rx,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Recommended:"}),a.jsx("p",{className:"text-xs",children:Yc.dimensions.recommended})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Formats:"}),a.jsx("p",{className:"text-xs",children:Yc.formats.join(", ")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Max Size:"}),a.jsx("p",{className:"text-xs",children:Yc.maxFileSize})]})]})]})]})}),a.jsxs(Ti,{defaultValue:"url",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsxs(Nr,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[a.jsx(KD,{className:"w-4 h-4"})," URL"]}),a.jsxs(Nr,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[a.jsx(Mo,{className:"w-4 h-4"})," Upload (Testing)"]})]}),a.jsx(Sr,{value:"url",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"imageUrl",children:"Image URL"}),a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:P=>f({...d,imageUrl:P.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),a.jsxs(Sr,{value:"upload",className:"space-y-4 mt-4",children:[a.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var P;return!i&&((P=u.current)==null?void 0:P.click())},children:i?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),a.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:P=>{P.stopPropagation(),c(null),f(R=>({...R,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Mo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Preview"}),a.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:P=>{P.target.style.display="none"}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:P=>f({...d,title:P.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{htmlFor:"category",children:"Category"}),a.jsxs(hQ,{children:[a.jsx(mQ,{asChild:!0,children:a.jsx(Vl,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),a.jsx(qL,{className:"max-w-xs",children:a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Renders:"})," ",Yc.categories.Renders]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Construction:"})," ",Yc.categories.Construction]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Facilities:"})," ",Yc.categories.Facilities]})]})})]})]}),a.jsxs(Kr,{value:d.category,onValueChange:P=>f({...d,category:P}),children:[a.jsx(Tr,{"data-testid":"select-gallery-category",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"Renders",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),a.jsx(ze,{value:"Construction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),a.jsx(ze,{value:"Facilities",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:d.description,onChange:P=>f({...d,description:P.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:P=>f({...d,sortOrder:parseInt(P.target.value)||0}),"data-testid":"input-gallery-sort"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{id:"isActive",checked:d.isActive,onCheckedChange:P=>f({...d,isActive:P})}),a.jsx(J,{htmlFor:"isActive",children:"Active (visible on website)"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(U,{onClick:N,disabled:i||m.isPending||b.isPending,"data-testid":"button-save-gallery-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(P=>a.jsxs(ce,{className:"overflow-hidden","data-testid":`card-gallery-${P.id}`,children:[a.jsxs("div",{className:"relative aspect-video bg-muted",children:[P.imageUrl?a.jsx("img",{src:P.imageUrl,alt:P.title||"Gallery image",className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ei,{className:"w-12 h-12 text-muted-foreground"})}),!P.isActive&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(Se,{variant:"secondary",children:"Hidden"})})]}),a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium truncate",children:P.title||"Untitled"}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:P.description||"No description"})]}),j(P.category)]}),a.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>w(P),"data-testid":`button-edit-gallery-${P.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&y.mutate(P.id)},"data-testid":`button-delete-gallery-${P.id}`,children:a.jsx(on,{className:"w-4 h-4 text-destructive"})})]})]})]},P.id)),(!p||p.length===0)&&a.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[a.jsx(Ei,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const f$=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],h$={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function N$e(){var C,E,P,R;const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=v.useRef(null),[d,f]=v.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async O=>{var T;const I=(T=O.target.files)==null?void 0:T[0];if(I){if(!["image/jpeg","image/png","image/webp"].includes(I.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(I.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const D=new FormData;D.append("image",I);const q=await fetch("/api/admin/upload",{method:"POST",body:D,credentials:"include"});if(!q.ok){let $="Upload failed";try{$=(await q.json()).message||$}catch{$=q.statusText||$}throw new Error($)}const A=await q.json();c({name:I.name,url:A.imageUrl}),f($=>({...$,imageUrl:A.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(D){e({title:"Upload failed",description:D.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:x}=ve({queryKey:["/api/admin/site-images"]}),m=Te({mutationFn:O=>Ae("POST","/api/admin/site-images",O),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-images"]}),Ne.invalidateQueries({queryKey:["/api/site-images"]}),s(!1),g(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),b=Te({mutationFn:({id:O,data:I})=>Ae("PATCH",`/api/admin/site-images/${O}`,I),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-images"]}),Ne.invalidateQueries({queryKey:["/api/site-images"]}),s(!1),g(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),y=Te({mutationFn:O=>Ae("DELETE",`/api/admin/site-images/${O}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-images"]}),Ne.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),g=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},w=O=>{r(O),f({key:O.key,imageUrl:O.imageUrl,alt:O.alt||"",title:O.title||"",description:O.description||"",page:O.page,section:O.section||"",dimensions:O.dimensions||"",isActive:O.isActive??!0,sortOrder:O.sortOrder||0}),s(!0)},N=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?b.mutate({id:t.id,data:d}):m.mutate(d)},j=O=>{f(I=>({...I,page:O,section:""}))},S=O=>{var T;const I=(T=h$[d.page])==null?void 0:T.find(D=>D.value===O);f(D=>({...D,section:O,dimensions:(I==null?void 0:I.dimensions)||"",key:t?D.key:`${d.page}_${O}`}))},_=O=>{const I=f$.find(D=>D.value===O),T={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return a.jsx(Se,{className:T[O]||"bg-gray-500",children:(I==null?void 0:I.label)||O})};if(x)return a.jsx(Nt,{title:"Site Images",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const k=(p==null?void 0:p.reduce((O,I)=>{const T=I.page||"other";return O[T]||(O[T]=[]),O[T].push(I),O},{}))||{};return a.jsx(Nt,{title:"Site Images",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((C=k.landing)==null?void 0:C.length)||0]}),a.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((E=k.facilities)==null?void 0:E.length)||0]}),a.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((P=k["coming-soon"])==null?void 0:P.length)||0]})]})]}),a.jsxs(xr,{open:n,onOpenChange:O=>{s(O),O||g()},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-site-image",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Site Image":"Add New Site Image"})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"page",children:"Page *"}),a.jsxs(Kr,{value:d.page,onValueChange:j,children:[a.jsx(Tr,{"data-testid":"select-site-image-page",children:a.jsx(Gr,{placeholder:"Select page"})}),a.jsx(Ir,{children:f$.map(O=>a.jsx(ze,{value:O.value,children:O.label},O.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"section",children:"Section"}),a.jsxs(Kr,{value:d.section,onValueChange:S,children:[a.jsx(Tr,{"data-testid":"select-site-image-section",children:a.jsx(Gr,{placeholder:"Select section"})}),a.jsx(Ir,{children:(R=h$[d.page])==null?void 0:R.map(O=>a.jsxs(ze,{value:O.value,children:[O.label," (",O.dimensions,")"]},O.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"key",children:"Unique Key *"}),a.jsx(ne,{id:"key",value:d.key,onChange:O=>f({...d,key:O.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),a.jsxs(Ti,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsx(Nr,{value:"upload",children:"Upload File"}),a.jsx(Nr,{value:"url",children:"Use URL"})]}),a.jsxs(Sr,{value:"url",className:"space-y-2 mt-4",children:[a.jsx(J,{htmlFor:"imageUrl",children:"Image URL *"}),a.jsx(ne,{id:"imageUrl",value:d.imageUrl,onChange:O=>f({...d,imageUrl:O.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),a.jsxs(Sr,{value:"upload",className:"space-y-4 mt-4",children:[a.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),a.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var O;return!i&&((O=u.current)==null?void 0:O.click())},children:i?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),a.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),a.jsx(U,{variant:"outline",size:"sm",onClick:O=>{O.stopPropagation(),c(null),f(I=>({...I,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Mo,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),a.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Preview"}),a.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:a.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:O=>{O.target.style.display="none"}})})]}),d.dimensions&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[a.jsx(Rx,{className:"w-4 h-4 text-blue-500"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",a.jsx("strong",{children:d.dimensions})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"title",children:"Title"}),a.jsx(ne,{id:"title",value:d.title,onChange:O=>f({...d,title:O.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"alt",children:"Alt Text"}),a.jsx(ne,{id:"alt",value:d.alt,onChange:O=>f({...d,alt:O.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"description",children:"Description"}),a.jsx(ur,{id:"description",value:d.description,onChange:O=>f({...d,description:O.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"sortOrder",children:"Sort Order"}),a.jsx(ne,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:O=>f({...d,sortOrder:parseInt(O.target.value)||0}),"data-testid":"input-site-image-sort"})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[a.jsx(Yr,{id:"isActive",checked:d.isActive,onCheckedChange:O=>f({...d,isActive:O})}),a.jsx(J,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(U,{onClick:N,disabled:i||m.isPending||b.isPending,"data-testid":"button-save-site-image",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(k).length===0?a.jsx(ce,{className:"border-dashed",children:a.jsxs(ue,{className:"py-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Ei,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),a.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),a.jsxs(U,{onClick:()=>s(!0),"data-testid":"button-add-first-image",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),a.jsxs("div",{className:"border-t pt-8 mt-8",children:[a.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[a.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),a.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[a.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),a.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[a.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),a.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),a.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[a.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),a.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[a.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),a.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),a.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),a.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),a.jsx("span",{children:"Upload your image or paste a URL"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),a.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(k).map(([O,I])=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[_(O),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",I.length," images)"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I.map(T=>a.jsxs(ce,{className:"overflow-hidden","data-testid":`card-site-image-${T.id}`,children:[a.jsxs("div",{className:"relative aspect-video bg-muted",children:[T.imageUrl?a.jsx("img",{src:T.imageUrl,alt:T.alt||T.title||"Site image",className:"w-full h-full object-cover"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ei,{className:"w-12 h-12 text-muted-foreground"})}),!T.isActive&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(Se,{variant:"secondary",children:"Hidden"})})]}),a.jsxs(ue,{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:T.title||T.key}),a.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:T.key}),T.section&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.section}),T.dimensions&&a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:T.dimensions})]})}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[a.jsxs(U,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>w(T),"data-testid":`button-edit-site-image-${T.id}`,children:[a.jsx(ss,{className:"w-3 h-3 mr-1"}),"Edit"]}),a.jsx(U,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>y.mutate(T.id),"data-testid":`button-delete-site-image-${T.id}`,children:a.jsx(on,{className:"w-3 h-3"})})]})]})]},T.id))})]},O))]})})}function S$e(){var D,q;const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,x]=v.useState(""),[m,b]=v.useState("all"),[y,g]=v.useState("all"),{data:w,isLoading:N}=ve({queryKey:["/api/admin/bookings"]}),{data:j}=ve({queryKey:["/api/admin/facilities"]}),S=A=>{if(!A||!j)return"Unknown";const $=j.find(H=>H.id===A);return($==null?void 0:$.name)||"Unknown"},_=Te({mutationFn:async({id:A,data:$})=>await Ae("PATCH",`/api/admin/bookings/${A}/payment`,$),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),s(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),k=Te({mutationFn:async({id:A,status:$,cancelReason:H})=>await Ae("PATCH",`/api/admin/bookings/${A}/status`,{status:$,cancelReason:H}),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),C=()=>{t&&k.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},E=()=>{t&&_.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},P=()=>{t&&_.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},R=A=>{switch(A){case"VERIFIED":return a.jsx(Se,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return a.jsx(Se,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return a.jsx(Se,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return a.jsx(Se,{variant:"secondary",children:"Awaiting Payment"})}},O=(A,$)=>A==="CONFIRMED"&&$==="VERIFIED"?a.jsx(Se,{variant:"default",className:"bg-green-600",children:"Confirmed"}):A==="CANCELLED"?a.jsx(Se,{variant:"destructive",children:"Cancelled"}):$==="VERIFIED"&&A!=="CONFIRMED"?a.jsx(Se,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):$==="PENDING_VERIFICATION"?a.jsx(Se,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):a.jsx(Se,{variant:"secondary",children:"Tentative - Awaiting Payment"}),I=w==null?void 0:w.filter(A=>{var K;const $=S(A.facilityId),H=A.id.toLowerCase().includes(p.toLowerCase())||$.toLowerCase().includes(p.toLowerCase())||((K=A.userId)==null?void 0:K.toLowerCase().includes(p.toLowerCase())),Y=m==="all"||A.paymentStatus===m,L=y==="all"||A.status===y;return H&&Y&&L}),T=(w==null?void 0:w.filter(A=>A.paymentStatus==="PENDING_VERIFICATION").length)||0;return N?a.jsx(Nt,{title:"Bookings Management",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Bookings Management",children:a.jsxs("div",{className:"space-y-6",children:[T>0&&a.jsx(ce,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:a.jsxs(ue,{className:"flex items-center gap-3 p-4",children:[a.jsx($n,{className:"h-5 w-5 text-yellow-600"}),a.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[T," booking",T>1?"s":""," pending payment verification"]}),a.jsx(U,{size:"sm",variant:"outline",onClick:()=>b("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),a.jsxs(ce,{children:[a.jsx(Ge,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5"}),"All Bookings (",(w==null?void 0:w.length)||0,")"]})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx($x,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ne,{placeholder:"Search by ID, facility, or user...",value:p,onChange:A=>x(A.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),a.jsxs(Kr,{value:m,onValueChange:b,children:[a.jsxs(Tr,{className:"w-[180px]","data-testid":"select-payment-filter",children:[a.jsx(VD,{className:"h-4 w-4 mr-2"}),a.jsx(Gr,{placeholder:"Payment Status"})]}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"all",children:"All Payments"}),a.jsx(ze,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),a.jsx(ze,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),a.jsx(ze,{value:"VERIFIED",children:"Verified"}),a.jsx(ze,{value:"REJECTED",children:"Rejected"})]})]}),a.jsxs(Kr,{value:y,onValueChange:g,children:[a.jsx(Tr,{className:"w-[160px]","data-testid":"select-status-filter",children:a.jsx(Gr,{placeholder:"Status"})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"all",children:"All Status"}),a.jsx(ze,{value:"PENDING",children:"Pending"}),a.jsx(ze,{value:"CONFIRMED",children:"Confirmed"}),a.jsx(ze,{value:"CANCELLED",children:"Cancelled"})]})]})]}),I&&I.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{children:"Booking ID"}),a.jsx(ke,{children:"Date / Time"}),a.jsx(ke,{children:"Facility"}),a.jsx(ke,{children:"Amount"}),a.jsx(ke,{children:"Payment"}),a.jsx(ke,{children:"Status"}),a.jsx(ke,{children:"Actions"})]})}),a.jsx(rs,{children:I.map(A=>{var $;return a.jsxs(wt,{"data-testid":`row-booking-${A.id}`,children:[a.jsxs(we,{className:"font-mono text-xs",children:[A.id.slice(0,8),"..."]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm font-medium",children:A.date}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[A.startTime," - ",A.endTime]})]}),a.jsxs(we,{children:[a.jsx("div",{className:"text-sm",children:S(A.facilityId)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",A.resourceId]})]}),a.jsx(we,{children:a.jsxs("span",{className:"font-medium",children:["PKR ",(($=A.totalPrice)==null?void 0:$.toLocaleString())||0]})}),a.jsx(we,{children:R(A.paymentStatus)}),a.jsx(we,{children:O(A.status,A.paymentStatus)}),a.jsx(we,{children:a.jsx(U,{size:"sm",variant:"ghost",onClick:()=>{r(A),c(A.paymentNotes||""),d(A.paymentProofUrl||""),s(!0)},"data-testid":`button-view-${A.id}`,children:a.jsx($o,{className:"h-4 w-4"})})})]},A.id)})})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),a.jsx(xr,{open:n,onOpenChange:s,children:a.jsxs(cr,{className:"max-w-2xl",children:[a.jsx(br,{children:a.jsx(wr,{children:"Booking Details"})}),t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Booking ID"}),a.jsx("p",{className:"font-mono text-sm",children:t.id})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"User ID"}),a.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Date"}),a.jsx("p",{className:"font-medium",children:t.date})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Time"}),a.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Facility"}),a.jsx("p",{className:"font-medium",children:S(t.facilityId)})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Resource"}),a.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Total Amount"}),a.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((D=t.totalPrice)==null?void 0:D.toLocaleString())||0]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Payment Method"}),a.jsx("p",{className:"font-medium capitalize",children:((q=t.paymentMethod)==null?void 0:q.replace("_"," "))||"N/A"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Payment Status"}),a.jsx("div",{className:"mt-1",children:R(t.paymentStatus)})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-xs text-muted-foreground",children:"Booking Status"}),a.jsx("div",{className:"mt-1",children:O(t.status,t.paymentStatus)})]})]}),a.jsxs("div",{className:"mb-4 space-y-2",children:[a.jsx(J,{htmlFor:"paymentProofUrl",children:"Payment Proof URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne,{id:"paymentProofUrl",value:u,onChange:A=>d(A.target.value),placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),(t.paymentProofUrl||u)&&a.jsx(U,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl,"_blank"),title:"View proof document","data-testid":"button-view-proof",children:a.jsx(Bh,{className:"h-4 w-4"})})]}),t.paymentProofUrl&&!u&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",a.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&a.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&a.jsxs(a.Fragment,{children:[" on ",id(new Date(t.paymentVerifiedAt),"PPp")]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"paymentNotes",children:"Admin Notes"}),a.jsx(ur,{id:"paymentNotes",value:l,onChange:A=>c(A.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs(U,{onClick:E,disabled:_.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),a.jsxs(U,{onClick:P,disabled:_.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[a.jsx(td,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&a.jsx("div",{className:"flex gap-3 pt-4 border-t",children:a.jsxs(U,{onClick:()=>{o(!0)},disabled:k.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[a.jsx(td,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),a.jsx(xr,{open:i,onOpenChange:o,children:a.jsxs(cr,{children:[a.jsx(br,{children:a.jsx(wr,{children:"Cancel Booking"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),a.jsx(ur,{id:"cancelReason",value:f,onChange:A=>h(A.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(U,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),a.jsx(U,{variant:"destructive",onClick:C,disabled:k.isPending,"data-testid":"button-confirm-cancel",children:k.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function _$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(""),[p,x]=v.useState(""),[m,b]=v.useState(""),{data:y,isLoading:g,dataUpdatedAt:w}=ve({queryKey:["/api/admin/site-settings"]}),{data:N,isLoading:j}=ve({queryKey:["/api/admin/navbar-items"]}),S=T=>{var D;return((D=y==null?void 0:y.find(q=>q.key===T))==null?void 0:D.value)||""};v.useEffect(()=>{y&&!g&&(c(S("logo_main_url")),d(S("logo_dark_url")),h(S("favicon_url")),x(S("site_name")||"The Quarterdeck"),b(S("site_tagline")||"Sports & Recreation Complex"))},[y,g,w]);const _=Te({mutationFn:async T=>{for(const D of T)await Ae("POST","/api/admin/site-settings",D)},onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/site-settings"]}),Ne.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),k=Te({mutationFn:async T=>await Ae("POST","/api/admin/navbar-items",T),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Ne.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),s(!1),P()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),C=Te({mutationFn:async({id:T,data:D})=>await Ae("PATCH",`/api/admin/navbar-items/${T}`,D),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Ne.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),s(!1),r(null),P()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),E=Te({mutationFn:async T=>await Ae("DELETE",`/api/admin/navbar-items/${T}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),Ne.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),P=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},R=T=>{r(T),o({label:T.label,href:T.href,sortOrder:T.sortOrder,isVisible:T.isVisible,target:T.target||"_self",requiresAuth:T.requiresAuth||!1,icon:T.icon||""}),s(!0)},O=()=>{t?C.mutate({id:t.id,data:i}):k.mutate(i)},I=()=>{const T=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:p,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];_.mutate(T)};return g||j?a.jsx(Nt,{title:"Branding & Navigation",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(Nt,{title:"Branding & Navigation",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{children:[a.jsxs(Ge,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ei,{className:"h-5 w-5"}),"Site Branding"]}),a.jsx(Kt,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"siteName",children:"Site Name"}),a.jsx(ne,{id:"siteName",value:p,onChange:T=>x(T.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"siteTagline",children:"Site Tagline"}),a.jsx(ne,{id:"siteTagline",value:m,onChange:T=>b(T.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"logoUrl",children:"Main Logo URL"}),a.jsx(ne,{id:"logoUrl",value:l,onChange:T=>c(T.target.value),placeholder:"https://example.com/logo.png","data-testid":"input-logo-url"}),l&&a.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),a.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo URL (Optional)"}),a.jsx(ne,{id:"logoDarkUrl",value:u,onChange:T=>d(T.target.value),placeholder:"https://example.com/logo-dark.png","data-testid":"input-logo-dark-url"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"faviconUrl",children:"Favicon URL"}),a.jsx(ne,{id:"faviconUrl",value:f,onChange:T=>h(T.target.value),placeholder:"https://example.com/favicon.ico","data-testid":"input-favicon-url"})]}),a.jsxs(U,{onClick:I,disabled:_.isPending,"data-testid":"button-save-branding",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),_.isPending?"Saving...":"Save Branding Settings"]})]})]}),a.jsxs(ce,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(jK,{className:"h-5 w-5"}),"Navigation Items"]}),a.jsx(Kt,{children:"Manage the navigation links that appear in the header."})]}),a.jsxs(U,{onClick:()=>{P(),r(null),s(!0)},"data-testid":"button-add-nav-item",children:[a.jsx(vn,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.jsx(ue,{children:N&&N.length>0?a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-[50px]",children:"Order"}),a.jsx(ke,{children:"Label"}),a.jsx(ke,{children:"Link"}),a.jsx(ke,{children:"Visibility"}),a.jsx(ke,{children:"Actions"})]})}),a.jsx(rs,{children:N.map(T=>a.jsxs(wt,{"data-testid":`row-nav-${T.id}`,children:[a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ix,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:T.sortOrder})]})}),a.jsx(we,{className:"font-medium",children:T.label}),a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[T.href,T.target==="_blank"&&a.jsx(Bh,{className:"h-3 w-3"})]})}),a.jsx(we,{children:T.isVisible?a.jsx(Se,{variant:"default",className:"bg-green-600",children:"Visible"}):a.jsx(Se,{variant:"secondary",children:"Hidden"})}),a.jsx(we,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>R(T),"data-testid":`button-edit-nav-${T.id}`,children:a.jsx(ss,{className:"h-4 w-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>E.mutate(T.id),"data-testid":`button-delete-nav-${T.id}`,children:a.jsx(on,{className:"h-4 w-4"})})]})})]},T.id))})]})}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),a.jsx(xr,{open:n,onOpenChange:s,children:a.jsxs(cr,{children:[a.jsx(br,{children:a.jsx(wr,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navLabel",children:"Label"}),a.jsx(ne,{id:"navLabel",value:i.label,onChange:T=>o({...i,label:T.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navHref",children:"Link URL"}),a.jsx(ne,{id:"navHref",value:i.href,onChange:T=>o({...i,href:T.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navOrder",children:"Sort Order"}),a.jsx(ne,{id:"navOrder",type:"number",value:i.sortOrder,onChange:T=>o({...i,sortOrder:parseInt(T.target.value)||0}),"data-testid":"input-nav-order"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"navTarget",children:"Link Target"}),a.jsxs(Kr,{value:i.target,onValueChange:T=>o({...i,target:T}),children:[a.jsx(Tr,{"data-testid":"select-nav-target",children:a.jsx(Gr,{})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"_self",children:"Same Window"}),a.jsx(ze,{value:"_blank",children:"New Window"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{htmlFor:"navVisible",children:"Visible"}),a.jsx(Yr,{id:"navVisible",checked:i.isVisible,onCheckedChange:T=>o({...i,isVisible:T}),"data-testid":"switch-nav-visible"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(J,{htmlFor:"navAuth",children:"Requires Authentication"}),a.jsx(Yr,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:T=>o({...i,requiresAuth:T}),"data-testid":"switch-nav-auth"})]}),a.jsxs(U,{className:"w-full",onClick:O,disabled:k.isPending||C.isPending,"data-testid":"button-save-nav-item",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var k$e=Symbol("radix.slottable");function C$e(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=k$e,t}var Gq="AlertDialog",[P$e]=yn(Gq,[W5]),zi=W5(),Yq=e=>{const{__scopeAlertDialog:t,...r}=e,n=zi(t);return a.jsx(Fk,{...n,...r,modal:!0})};Yq.displayName=Gq;var E$e="AlertDialogTrigger",A$e=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(o6,{...s,...n,ref:t})});A$e.displayName=E$e;var O$e="AlertDialogPortal",Qq=e=>{const{__scopeAlertDialog:t,...r}=e,n=zi(t);return a.jsx(Uk,{...n,...r})};Qq.displayName=O$e;var T$e="AlertDialogOverlay",Xq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(ub,{...s,...n,ref:t})});Xq.displayName=T$e;var Iu="AlertDialogContent",[I$e,R$e]=P$e(Iu),$$e=C$e("AlertDialogContent"),Zq=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=zi(r),o=v.useRef(null),l=rt(t,o),c=v.useRef(null);return a.jsx(Oae,{contentName:Iu,titleName:Jq,docsSlug:"alert-dialog",children:a.jsx(I$e,{scope:r,cancelRef:c,children:a.jsxs(db,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:me(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx($$e,{children:n}),a.jsx(D$e,{contentRef:o})]})})})});Zq.displayName=Iu;var Jq="AlertDialogTitle",ez=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(Bk,{...s,...n,ref:t})});ez.displayName=Jq;var tz="AlertDialogDescription",rz=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(Vk,{...s,...n,ref:t})});rz.displayName=tz;var M$e="AlertDialogAction",nz=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zi(r);return a.jsx(qk,{...s,...n,ref:t})});nz.displayName=M$e;var sz="AlertDialogCancel",az=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=R$e(sz,r),i=zi(r),o=rt(t,s);return a.jsx(qk,{...i,...n,ref:o})});az.displayName=sz;var D$e=({contentRef:e})=>{const t=`\`${Iu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Iu}\` by passing a \`${tz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Iu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},L$e=Yq,F$e=Qq,iz=Xq,oz=Zq,lz=nz,cz=az,uz=ez,dz=rz;const U$e=L$e,B$e=F$e,fz=v.forwardRef(({className:e,...t},r)=>a.jsx(iz,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));fz.displayName=iz.displayName;const hz=v.forwardRef(({className:e,...t},r)=>a.jsxs(B$e,{children:[a.jsx(fz,{}),a.jsx(oz,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));hz.displayName=oz.displayName;const mz=({className:e,...t})=>a.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});mz.displayName="AlertDialogHeader";const pz=({className:e,...t})=>a.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pz.displayName="AlertDialogFooter";const gz=v.forwardRef(({className:e,...t},r)=>a.jsx(uz,{ref:r,className:fe("text-lg font-semibold",e),...t}));gz.displayName=uz.displayName;const vz=v.forwardRef(({className:e,...t},r)=>a.jsx(dz,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));vz.displayName=dz.displayName;const yz=v.forwardRef(({className:e,...t},r)=>a.jsx(lz,{ref:r,className:fe(lk(),e),...t}));yz.displayName=lz.displayName;const xz=v.forwardRef(({className:e,...t},r)=>a.jsx(cz,{ref:r,className:fe(lk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));xz.displayName=cz.displayName;const V$e=Qa({title:jt().min(1,"Title is required"),icon:jt().optional(),sortOrder:q5.number().default(0),isActive:$k().default(!0)}),q$e=Qa({categoryId:jt().min(1,"Category is required"),question:jt().min(1,"Question is required"),answer:jt().min(1,"Answer is required"),sortOrder:q5.number().default(0),isActive:$k().default(!0)}),z$e=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function W$e(){const{toast:e}=At(),[t,r]=v.useState(!1),[n,s]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState(null),[p,x]=v.useState(new Set),{data:m=[],isLoading:b}=ve({queryKey:["/api/admin/faq/categories"]}),{data:y=[],isLoading:g}=ve({queryKey:["/api/admin/faq/items"]}),w=ba({resolver:wa(V$e),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),N=ba({resolver:wa(q$e),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),j=Te({mutationFn:async A=>await Ae("POST","/api/admin/faq/categories",A),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),w.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),S=Te({mutationFn:async({id:A,data:$})=>await Ae("PATCH",`/api/admin/faq/categories/${A}`,$),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),w.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),_=Te({mutationFn:async A=>await Ae("DELETE",`/api/admin/faq/categories/${A}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),k=Te({mutationFn:async A=>await Ae("POST","/api/admin/faq/items",A),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),s(!1),N.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),C=Te({mutationFn:async({id:A,data:$})=>await Ae("PATCH",`/api/admin/faq/items/${A}`,$),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),s(!1),c(null),N.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),E=Te({mutationFn:async A=>await Ae("DELETE",`/api/admin/faq/items/${A}`),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),P=A=>{o(A),w.reset({title:A.title,icon:A.icon||"help-circle",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),r(!0)},R=A=>{c(A),N.reset({categoryId:A.categoryId,question:A.question,answer:A.answer,sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),s(!0)},O=A=>{i?S.mutate({id:i.id,data:A}):j.mutate(A)},I=A=>{l?C.mutate({id:l.id,data:A}):k.mutate(A)},T=()=>{f&&(f.type==="category"?_.mutate(f.id):E.mutate(f.id),d(!1),h(null))},D=A=>{x($=>{const H=new Set($);return H.has(A)?H.delete(A):H.add(A),H})},q=A=>y.filter($=>$.categoryId===A).sort(($,H)=>($.sortOrder||0)-(H.sortOrder||0));return b||g?a.jsx(Nt,{title:"FAQ Management",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):a.jsx(Nt,{title:"FAQ Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(xr,{open:t,onOpenChange:A=>{r(A),A||(o(null),w.reset())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{variant:"outline","data-testid":"button-add-category",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),a.jsxs(cr,{children:[a.jsx(br,{children:a.jsx(wr,{children:i?"Edit Category":"Add Category"})}),a.jsx(Na,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(O),className:"space-y-4",children:[a.jsx(tt,{control:w.control,name:"title",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Title"}),a.jsx(Xe,{children:a.jsx(ne,{...A,"data-testid":"input-category-title"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:w.control,name:"icon",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Icon"}),a.jsxs(Kr,{onValueChange:A.onChange,value:A.value,children:[a.jsx(Xe,{children:a.jsx(Tr,{"data-testid":"select-category-icon",children:a.jsx(Gr,{placeholder:"Select an icon"})})}),a.jsx(Ir,{children:z$e.map($=>a.jsx(ze,{value:$.value,children:$.label},$.value))})]}),a.jsx(st,{})]})}),a.jsx(tt,{control:w.control,name:"sortOrder",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Sort Order"}),a.jsx(Xe,{children:a.jsx(ne,{type:"number",...A,"data-testid":"input-category-sort-order"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:w.control,name:"isActive",render:({field:A})=>a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Xe,{children:a.jsx(Yr,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-category-active"})}),a.jsx(J,{children:"Active"})]})}),a.jsxs(U,{type:"submit",className:"w-full",disabled:j.isPending||S.isPending,"data-testid":"button-save-category",children:[(j.isPending||S.isPending)&&a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),a.jsxs(xr,{open:n,onOpenChange:A=>{s(A),A||(c(null),N.reset())},children:[a.jsx(ja,{asChild:!0,children:a.jsxs(U,{"data-testid":"button-add-faq-item",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),a.jsxs(cr,{className:"max-w-2xl",children:[a.jsx(br,{children:a.jsx(wr,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),a.jsx(Na,{...N,children:a.jsxs("form",{onSubmit:N.handleSubmit(I),className:"space-y-4",children:[a.jsx(tt,{control:N.control,name:"categoryId",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Category"}),a.jsxs(Kr,{onValueChange:A.onChange,value:A.value,children:[a.jsx(Xe,{children:a.jsx(Tr,{"data-testid":"select-item-category",children:a.jsx(Gr,{placeholder:"Select a category"})})}),a.jsx(Ir,{children:m.map($=>a.jsx(ze,{value:$.id,children:$.title},$.id))})]}),a.jsx(st,{})]})}),a.jsx(tt,{control:N.control,name:"question",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Question"}),a.jsx(Xe,{children:a.jsx(ne,{...A,"data-testid":"input-item-question"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:N.control,name:"answer",render:({field:A})=>a.jsxs(Qe,{children:[a.jsx(nt,{children:"Answer"}),a.jsx(Xe,{children:a.jsx(ur,{...A,rows:4,"data-testid":"input-item-answer"})}),a.jsx(st,{})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(tt,{control:N.control,name:"sortOrder",render:({field:A})=>a.jsxs(Qe,{className:"flex-1",children:[a.jsx(nt,{children:"Sort Order"}),a.jsx(Xe,{children:a.jsx(ne,{type:"number",...A,"data-testid":"input-item-sort-order"})}),a.jsx(st,{})]})}),a.jsx(tt,{control:N.control,name:"isActive",render:({field:A})=>a.jsxs(Qe,{className:"flex items-center gap-2 pt-8",children:[a.jsx(Xe,{children:a.jsx(Yr,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-item-active"})}),a.jsx(J,{children:"Active"})]})})]}),a.jsxs(U,{type:"submit",className:"w-full",disabled:k.isPending||C.isPending,"data-testid":"button-save-item",children:[(k.isPending||C.isPending)&&a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?a.jsx(ce,{children:a.jsxs(ue,{className:"py-12 text-center",children:[a.jsx(Vl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):a.jsx("div",{className:"space-y-4",children:m.sort((A,$)=>(A.sortOrder||0)-($.sortOrder||0)).map(A=>a.jsxs(ce,{className:"overflow-visible","data-testid":`card-category-${A.id}`,children:[a.jsx(Ge,{className:"cursor-pointer",onClick:()=>D(A.id),children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[p.has(A.id)?a.jsx(Uh,{className:"w-5 h-5 text-muted-foreground"}):a.jsx(Pi,{className:"w-5 h-5 text-muted-foreground"}),a.jsx(et,{className:"text-lg",children:A.title}),!A.isActive&&a.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",q(A.id).length," items)"]})]}),a.jsxs("div",{className:"flex gap-2",onClick:$=>$.stopPropagation(),children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>P(A),"data-testid":`button-edit-category-${A.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:A.id}),d(!0)},"data-testid":`button-delete-category-${A.id}`,children:a.jsx(on,{className:"w-4 h-4"})})]})]})}),p.has(A.id)&&a.jsx(ue,{className:"pt-0",children:q(A.id).length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):a.jsx("div",{className:"space-y-2",children:q(A.id).map($=>a.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${$.id}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:$.question}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:$.answer}),!$.isActive&&a.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>R($),"data-testid":`button-edit-item-${$.id}`,children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:$.id}),d(!0)},"data-testid":`button-delete-item-${$.id}`,children:a.jsx(on,{className:"w-4 h-4"})})]})]},$.id))})})]},A.id))}),a.jsx(U$e,{open:u,onOpenChange:d,children:a.jsxs(hz,{children:[a.jsxs(mz,{children:[a.jsx(gz,{children:"Are you sure?"}),a.jsx(vz,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),a.jsxs(pz,{children:[a.jsx(xz,{"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx(yz,{onClick:T,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const Ff={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function H$e(){const{toast:e}=At(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),[h,p]=v.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:x,isLoading:m}=ve({queryKey:["/api/admin/users"]}),{data:b}=ve({queryKey:["/api/auth/user"]}),y=(b==null?void 0:b.role)==="SUPER_ADMIN",g=Te({mutationFn:async({id:E,data:P})=>await Ae("PATCH",`/api/admin/users/${E}`,P),onSuccess:()=>{Ne.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),s(!1),r(null),w()},onError:E=>{e({title:"Failed to update member",description:E.message||"An error occurred",variant:"destructive"})}}),w=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},N=async E=>{var R;const P=(R=E.target.files)==null?void 0:R[0];if(P){if(!["image/jpeg","image/png","image/webp"].includes(P.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(P.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const O=new FormData;O.append("image",P);const I=await fetch("/api/admin/upload",{method:"POST",body:O,credentials:"include"});if(!I.ok){let D="Upload failed";try{D=(await I.json()).message||D}catch{D=I.statusText||D}throw new Error(D)}const T=await I.json();d({name:P.name,url:T.imageUrl}),p(D=>({...D,profileImageUrl:T.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(O){e({title:"Upload failed",description:O.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},j=E=>{r(E),p({firstName:E.firstName||"",lastName:E.lastName||"",phone:E.phone||"",profileImageUrl:E.profileImageUrl||"",role:E.role,isSafetyCertified:E.isSafetyCertified||!1,hasSignedWaiver:E.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),s(!0)},S=()=>{t&&g.mutate({id:t.id,data:h})},_=x==null?void 0:x.filter(E=>{var O,I;if(!i)return!0;const P=i.toLowerCase();return`${E.firstName||""} ${E.lastName||""}`.toLowerCase().includes(P)||((O=E.email)==null?void 0:O.toLowerCase().includes(P))||((I=E.phone)==null?void 0:I.toLowerCase().includes(P))}),k=E=>{switch(E){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},C=E=>{var O,I,T;const P=((O=E.firstName)==null?void 0:O.charAt(0))||"",R=((I=E.lastName)==null?void 0:I.charAt(0))||"";return(P+R).toUpperCase()||((T=E.email)==null?void 0:T.charAt(0).toUpperCase())||"?"};return a.jsx(Nt,{title:"Members Management",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),a.jsxs(ce,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-5 h-5"}),"All Members (",(_==null?void 0:_.length)||0,")"]}),a.jsxs("div",{className:"relative w-64",children:[a.jsx($x,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ne,{placeholder:"Search by name, email, phone...",value:i,onChange:E=>o(E.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),a.jsx(ue,{children:m?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(ct,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.jsxs(es,{children:[a.jsx(ts,{children:a.jsxs(wt,{children:[a.jsx(ke,{className:"w-16",children:"Photo"}),a.jsx(ke,{children:"Name"}),a.jsx(ke,{children:"Email"}),a.jsx(ke,{children:"Phone"}),a.jsx(ke,{children:"Role"}),a.jsx(ke,{children:"Certifications"}),a.jsx(ke,{className:"w-20",children:"Actions"})]})}),a.jsxs(rs,{children:[_==null?void 0:_.map(E=>a.jsxs(wt,{"data-testid":`row-member-${E.id}`,children:[a.jsx(we,{children:a.jsxs(sm,{className:"w-10 h-10",children:[a.jsx(am,{src:E.profileImageUrl||void 0,alt:`${E.firstName} ${E.lastName}`}),a.jsx(im,{children:C(E)})]})}),a.jsx(we,{className:"font-medium",children:E.firstName||E.lastName?`${E.firstName||""} ${E.lastName||""}`.trim():a.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),a.jsx(we,{children:E.email||a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(we,{children:E.phone||a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(we,{children:a.jsx(Se,{variant:k(E.role),children:E.role})}),a.jsx(we,{children:a.jsxs("div",{className:"flex gap-1",children:[E.isSafetyCertified&&a.jsx(Se,{variant:"outline",className:"text-xs",children:"Safety"}),E.hasSignedWaiver&&a.jsx(Se,{variant:"outline",className:"text-xs",children:"Waiver"}),!E.isSafetyCertified&&!E.hasSignedWaiver&&a.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),a.jsx(we,{children:a.jsx(U,{variant:"ghost",size:"icon",onClick:()=>j(E),"data-testid":`button-edit-member-${E.id}`,children:a.jsx(ss,{className:"w-4 h-4"})})})]},E.id)),(_==null?void 0:_.length)===0&&a.jsx(wt,{children:a.jsx(we,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),a.jsx(xr,{open:n,onOpenChange:E=>{s(E),E||(r(null),w())},children:a.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(br,{children:a.jsx(wr,{children:"Edit Member Profile"})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(J,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(LD,{className:"w-4 h-4"}),"Profile Photo"]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(sm,{className:"w-20 h-20",children:[a.jsx(am,{src:h.profileImageUrl||void 0}),a.jsx(im,{className:"text-xl",children:t?C(t):"?"})]}),a.jsx("div",{className:"flex-1 space-y-3",children:a.jsxs(Ti,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Ha,{className:"grid w-full grid-cols-2",children:[a.jsxs(Nr,{value:"upload","data-testid":"tab-upload",children:[a.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Upload"]}),a.jsxs(Nr,{value:"url","data-testid":"tab-url",children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),"URL"]})]}),a.jsxs(Sr,{value:"upload",className:"space-y-3 mt-3",children:[a.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:N,className:"hidden","data-testid":"input-member-image-file"}),a.jsx(U,{type:"button",variant:"outline",onClick:()=>{var E;return(E=f.current)==null?void 0:E.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[a.jsx(Ss,{className:"w-4 h-4"}),u.name]})]}),a.jsx(Sr,{value:"url",className:"space-y-3 mt-3",children:a.jsx(ne,{value:h.profileImageUrl,onChange:E=>p({...h,profileImageUrl:E.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Rx,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),a.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[a.jsxs("li",{children:["Dimensions: ",Ff.dimensions.recommended]}),a.jsxs("li",{children:["Formats: ",Ff.formats.join(", ")]}),a.jsxs("li",{children:["Max size: ",Ff.maxFileSize]}),a.jsxs("li",{children:["DPI: ",Ff.dpi]})]}),a.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),a.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:Ff.tips.map((E,P)=>a.jsx("li",{children:E},P))})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"firstName",children:"First Name"}),a.jsx(ne,{id:"firstName",value:h.firstName,onChange:E=>p({...h,firstName:E.target.value}),"data-testid":"input-member-firstname"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"lastName",children:"Last Name"}),a.jsx(ne,{id:"lastName",value:h.lastName,onChange:E=>p({...h,lastName:E.target.value}),"data-testid":"input-member-lastname"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ne,{id:"phone",value:h.phone,onChange:E=>p({...h,phone:E.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),y?a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"role",children:"Role"}),a.jsxs(Kr,{value:h.role,onValueChange:E=>p({...h,role:E}),children:[a.jsx(Tr,{"data-testid":"select-member-role",children:a.jsx(Gr,{placeholder:"Select role..."})}),a.jsxs(Ir,{children:[a.jsx(ze,{value:"USER",children:"User"}),a.jsx(ze,{value:"ADMIN",children:"Admin"}),a.jsx(ze,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Role"}),a.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[a.jsx(Se,{variant:k(h.role),children:h.role}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{className:"text-base font-medium",children:"Certifications"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),a.jsx(Yr,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:E=>p({...h,isSafetyCertified:E}),"data-testid":"switch-safety-certified"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),a.jsx(Yr,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:E=>p({...h,hasSignedWaiver:E}),"data-testid":"switch-signed-waiver"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(U,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),a.jsxs(U,{onClick:S,disabled:g.isPending,"data-testid":"button-save-member",children:[g.isPending&&a.jsx(ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}function K$e(){const{adminPath:e,isAuthorized:t,isLoading:r}=dp();if(r||!t)return null;const n=`/${e}`;return a.jsxs(X4,{children:[a.jsx(it,{path:`${n}/homepage`,component:mRe}),a.jsx(it,{path:`${n}/coming-soon`,component:pRe}),a.jsx(it,{path:`${n}/facilities`,component:n$e}),a.jsx(it,{path:`${n}/roadmap`,component:m$e}),a.jsx(it,{path:`${n}/events`,component:p$e}),a.jsx(it,{path:`${n}/pricing`,component:g$e}),a.jsx(it,{path:`${n}/membership-tiers`,component:v$e}),a.jsx(it,{path:`${n}/announcements`,component:y$e}),a.jsx(it,{path:`${n}/careers`,component:x$e}),a.jsx(it,{path:`${n}/rules`,component:b$e}),a.jsx(it,{path:`${n}/policies`,component:w$e}),a.jsx(it,{path:`${n}/gallery`,component:j$e}),a.jsx(it,{path:`${n}/site-images`,component:N$e}),a.jsx(it,{path:`${n}/bookings`,component:S$e}),a.jsx(it,{path:`${n}/branding`,component:_$e}),a.jsx(it,{path:`${n}/faq`,component:W$e}),a.jsx(it,{path:`${n}/members`,component:H$e}),a.jsx(it,{path:n,component:hRe})]})}function G$e(){const{adminPath:e,isAuthorized:t}=dp(),[r]=as();return t&&e&&r.startsWith(`/${e}`)?null:a.jsxs(X4,{children:[a.jsx(it,{path:"/booking",component:cse}),a.jsx(it,{path:"/profile",component:jse}),a.jsx(it,{path:"/events/:slug",component:Hae}),a.jsx(it,{path:"/events",component:qae}),a.jsx(it,{path:"/leaderboard",component:Gae}),a.jsx(it,{path:"/gallery",component:Yae}),a.jsx(it,{path:"/vision",component:Qae}),a.jsx(it,{path:"/facilities/:slug",component:uie}),a.jsx(it,{path:"/facilities",component:rie}),a.jsx(it,{path:"/roadmap",component:fie}),a.jsx(it,{path:"/rules",component:Rie}),a.jsx(it,{path:"/careers",component:Mie}),a.jsx(it,{path:"/terms",component:Die}),a.jsx(it,{path:"/privacy",component:Lie}),a.jsx(it,{path:"/coming-soon",component:_oe}),a.jsx(it,{path:"/contact",component:Coe}),a.jsx(it,{path:"/faq",component:Aoe}),a.jsx(it,{path:"/membership",component:$oe}),a.jsx(it,{path:"/updates",component:Moe}),a.jsx(it,{path:"/login",component:ele}),a.jsx(it,{path:"/signup",component:ile}),a.jsx(it,{path:"/forgot-password",component:lle}),a.jsx(it,{path:"/verify-email",component:dle}),a.jsx(it,{path:"/auth/callback",component:fle}),a.jsx(it,{path:"/auth/reset-password",component:ule}),a.jsx(it,{path:"/",component:sse}),a.jsx(it,{component:Doe})]})}function Y$e(){return a.jsxs(a.Fragment,{children:[a.jsx(K$e,{}),a.jsx(G$e,{})]})}function Q$e(){return a.jsx(W7,{client:Ne,children:a.jsx(fQ,{children:a.jsx(eJ,{children:a.jsxs(yQ,{children:[a.jsx(SG,{}),a.jsx(uJ,{}),a.jsx(Y$e,{}),a.jsx(tJ,{}),a.jsx(cJ,{})]})})})})}D4(document.getElementById("root")).render(a.jsx(Q$e,{}));
