var aP=e=>{throw TypeError(e)};var rw=(e,t,r)=>t.has(e)||aP("Cannot "+r);var W=(e,t,r)=>(rw(e,t,"read from private field"),r?r.call(e):t.get(e)),Je=(e,t,r)=>t.has(e)?aP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(rw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yt=(e,t,r)=>(rw(e,t,"access private method"),r);var dg=(e,t,r,n)=>({set _(a){Ie(e,t,a,r)},get _(){return W(e,t,n)}});function i7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yM={exports:{}},Uy={},bM={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),o7=Symbol.for("react.portal"),l7=Symbol.for("react.fragment"),c7=Symbol.for("react.strict_mode"),u7=Symbol.for("react.profiler"),d7=Symbol.for("react.provider"),f7=Symbol.for("react.context"),h7=Symbol.for("react.forward_ref"),m7=Symbol.for("react.suspense"),p7=Symbol.for("react.memo"),g7=Symbol.for("react.lazy"),iP=Symbol.iterator;function v7(e){return e===null||typeof e!="object"?null:(e=iP&&e[iP]||e["@@iterator"],typeof e=="function"?e:null)}var wM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jM=Object.assign,NM={};function lf(e,t,r){this.props=e,this.context=t,this.refs=NM,this.updater=r||wM}lf.prototype.isReactComponent={};lf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _M(){}_M.prototype=lf.prototype;function yS(e,t,r){this.props=e,this.context=t,this.refs=NM,this.updater=r||wM}var bS=yS.prototype=new _M;bS.constructor=yS;jM(bS,lf.prototype);bS.isPureReactComponent=!0;var oP=Array.isArray,SM=Object.prototype.hasOwnProperty,wS={current:null},kM={key:!0,ref:!0,__self:!0,__source:!0};function CM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)SM.call(t,n)&&!kM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:bp,type:e,key:i,ref:o,props:a,_owner:wS.current}}function x7(e,t){return{$$typeof:bp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jS(e){return typeof e=="object"&&e!==null&&e.$$typeof===bp}function y7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lP=/\/+/g;function nw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y7(""+e.key):t.toString(36)}function uv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bp:case o7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+nw(o,0):n,oP(a)?(r="",e!=null&&(r=e.replace(lP,"$&/")+"/"),uv(a,t,r,"",function(u){return u})):a!=null&&(jS(a)&&(a=x7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(lP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",oP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+nw(i,l);o+=uv(i,t,r,c,a)}else if(c=v7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+nw(i,l++),o+=uv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hg(e,t,r){if(e==null)return e;var n=[],a=0;return uv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function b7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zn={current:null},dv={transition:null},w7={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:dv,ReactCurrentOwner:wS};function PM(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:hg,forEach:function(e,t,r){hg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hg(e,function(){t++}),t},toArray:function(e){return hg(e,function(t){return t})||[]},only:function(e){if(!jS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=lf;Pt.Fragment=l7;Pt.Profiler=u7;Pt.PureComponent=yS;Pt.StrictMode=c7;Pt.Suspense=m7;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w7;Pt.act=PM;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=wS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)SM.call(t,c)&&!kM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bp,type:e.type,key:a,ref:i,props:n,_owner:o}};Pt.createContext=function(e){return e={$$typeof:f7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d7,_context:e},e.Consumer=e};Pt.createElement=CM;Pt.createFactory=function(e){var t=CM.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:h7,render:e}};Pt.isValidElement=jS;Pt.lazy=function(e){return{$$typeof:g7,_payload:{_status:-1,_result:e},_init:b7}};Pt.memo=function(e,t){return{$$typeof:p7,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=dv.transition;dv.transition={};try{e()}finally{dv.transition=t}};Pt.unstable_act=PM;Pt.useCallback=function(e,t){return Zn.current.useCallback(e,t)};Pt.useContext=function(e){return Zn.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return Zn.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return Zn.current.useEffect(e,t)};Pt.useId=function(){return Zn.current.useId()};Pt.useImperativeHandle=function(e,t,r){return Zn.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return Zn.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return Zn.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return Zn.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return Zn.current.useReducer(e,t,r)};Pt.useRef=function(e){return Zn.current.useRef(e)};Pt.useState=function(e){return Zn.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return Zn.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return Zn.current.useTransition()};Pt.version="18.3.1";bM.exports=Pt;var x=bM.exports;const D=Qt(x),By=i7({__proto__:null,default:D},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7=x,N7=Symbol.for("react.element"),_7=Symbol.for("react.fragment"),S7=Object.prototype.hasOwnProperty,k7=j7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C7={key:!0,ref:!0,__self:!0,__source:!0};function EM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)S7.call(t,n)&&!C7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:N7,type:e,key:i,ref:o,props:a,_owner:k7.current}}Uy.Fragment=_7;Uy.jsx=EM;Uy.jsxs=EM;yM.exports=Uy;var s=yM.exports,AM={exports:{}},Us={},OM={exports:{}},TM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,R){var Q=A.length;A.push(R);e:for(;0<Q;){var J=Q-1>>>1,F=A[J];if(0<a(F,R))A[J]=R,A[Q]=F,Q=J;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var R=A[0],Q=A.pop();if(Q!==R){A[0]=Q;e:for(var J=0,F=A.length,X=F>>>1;J<X;){var H=2*(J+1)-1,ie=A[H],ve=H+1,ne=A[ve];if(0>a(ie,Q))ve<F&&0>a(ne,ie)?(A[J]=ne,A[ve]=Q,J=ve):(A[J]=ie,A[H]=Q,J=H);else if(ve<F&&0>a(ne,Q))A[J]=ne,A[ve]=Q,J=ve;else break e}}return R}function a(A,R){var Q=A.sortIndex-R.sortIndex;return Q!==0?Q:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,b=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=A)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(A){if(m=!1,y(A),!b)if(r(c)!==null)b=!0,V(_);else{var R=r(u);R!==null&&K(j,R.startTime-A)}}function _(A,R){b=!1,m&&(m=!1,v(k),k=-1),p=!0;var Q=h;try{for(y(R),f=r(c);f!==null&&(!(f.expirationTime>R)||A&&!E());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var F=J(f.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),y(R)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var H=r(u);H!==null&&K(j,H.startTime-R),X=!1}return X}finally{f=null,h=Q,p=!1}}var N=!1,S=null,k=-1,C=5,P=-1;function E(){return!(e.unstable_now()-P<C)}function O(){if(S!==null){var A=e.unstable_now();P=A;var R=!0;try{R=S(!0,A)}finally{R?I():(N=!1,S=null)}}else N=!1}var I;if(typeof g=="function")I=function(){g(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,$=T.port2;T.port1.onmessage=O,I=function(){$.postMessage(null)}}else I=function(){w(O,0)};function V(A){S=A,N||(N=!0,I())}function K(A,R){k=w(function(){A(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,V(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var Q=h;h=R;try{return A()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Q=h;h=A;try{return R()}finally{h=Q}},e.unstable_scheduleCallback=function(A,R,Q){var J=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,A={id:d++,callback:R,priorityLevel:A,startTime:Q,expirationTime:F,sortIndex:-1},Q>J?(A.sortIndex=Q,t(u,A),r(c)===null&&A===r(u)&&(m?(v(k),k=-1):m=!0,K(j,Q-J))):(A.sortIndex=F,t(c,A),b||p||(b=!0,V(_))),A},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(A){var R=h;return function(){var Q=h;h=R;try{return A.apply(this,arguments)}finally{h=Q}}}})(TM);OM.exports=TM;var P7=OM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E7=x,Is=P7;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IM=new Set,Qh={};function Ac(e,t){md(e,t),md(e+"Capture",t)}function md(e,t){for(Qh[e]=t,e=0;e<t.length;e++)IM.add(t[e])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uj=Object.prototype.hasOwnProperty,A7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cP={},uP={};function O7(e){return Uj.call(uP,e)?!0:Uj.call(cP,e)?!1:A7.test(e)?uP[e]=!0:(cP[e]=!0,!1)}function T7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I7(e,t,r,n){if(t===null||typeof t>"u"||T7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function es(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cn[e]=new es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cn[t]=new es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cn[e]=new es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cn[e]=new es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cn[e]=new es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cn[e]=new es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cn[e]=new es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cn[e]=new es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cn[e]=new es(e,5,!1,e.toLowerCase(),null,!1,!1)});var NS=/[\-:]([a-z])/g;function _S(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(NS,_S);Cn[t]=new es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(NS,_S);Cn[t]=new es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(NS,_S);Cn[t]=new es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cn[e]=new es(e,1,!1,e.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cn[e]=new es(e,1,!1,e.toLowerCase(),null,!0,!0)});function SS(e,t,r,n){var a=Cn.hasOwnProperty(t)?Cn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I7(t,r,a,n)&&(r=null),n||a===null?O7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xi=E7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mg=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Nu=Symbol.for("react.fragment"),kS=Symbol.for("react.strict_mode"),Bj=Symbol.for("react.profiler"),RM=Symbol.for("react.provider"),MM=Symbol.for("react.context"),CS=Symbol.for("react.forward_ref"),Vj=Symbol.for("react.suspense"),qj=Symbol.for("react.suspense_list"),PS=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),$M=Symbol.for("react.offscreen"),dP=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=dP&&e[dP]||e["@@iterator"],typeof e=="function"?e:null)}var Er=Object.assign,sw;function mh(e){if(sw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sw=t&&t[1]||""}return`
`+sw+e}var aw=!1;function iw(e,t){if(!e||aw)return"";aw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{aw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?mh(e):""}function R7(e){switch(e.tag){case 5:return mh(e.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return e=iw(e.type,!1),e;case 11:return e=iw(e.type.render,!1),e;case 1:return e=iw(e.type,!0),e;default:return""}}function zj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nu:return"Fragment";case ju:return"Portal";case Bj:return"Profiler";case kS:return"StrictMode";case Vj:return"Suspense";case qj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MM:return(e.displayName||"Context")+".Consumer";case RM:return(e._context.displayName||"Context")+".Provider";case CS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PS:return t=e.displayName||null,t!==null?t:zj(e.type)||"Memo";case fo:t=e._payload,e=e._init;try{return zj(e(t))}catch{}}return null}function M7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zj(t);case 8:return t===kS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ho(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $7(e){var t=DM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pg(e){e._valueTracker||(e._valueTracker=$7(e))}function LM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=DM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ov(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wj(e,t){var r=t.checked;return Er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ho(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FM(e,t){t=t.checked,t!=null&&SS(e,"checked",t,!1)}function Kj(e,t){FM(e,t);var r=Ho(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hj(e,t.type,Ho(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hj(e,t,r){(t!=="number"||Ov(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ph=Array.isArray;function qu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ho(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Gj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(ph(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ho(r)}}function UM(e,t){var r=Ho(t.value),n=Ho(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gg,VM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gg=gg||document.createElement("div"),gg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D7=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(e){D7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ch[t]=Ch[e]})});function qM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ch.hasOwnProperty(e)&&Ch[e]?(""+t).trim():t+"px"}function zM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=qM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var L7=Er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yj(e,t){if(t){if(L7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Xj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jj=null;function ES(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zj=null,zu=null,Wu=null;function gP(e){if(e=Np(e)){if(typeof Zj!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Ky(t),Zj(e.stateNode,e.type,t))}}function WM(e){zu?Wu?Wu.push(e):Wu=[e]:zu=e}function KM(){if(zu){var e=zu,t=Wu;if(Wu=zu=null,gP(e),t)for(e=0;e<t.length;e++)gP(t[e])}}function HM(e,t){return e(t)}function GM(){}var ow=!1;function QM(e,t,r){if(ow)return e(t,r);ow=!0;try{return HM(e,t,r)}finally{ow=!1,(zu!==null||Wu!==null)&&(GM(),KM())}}function Xh(e,t){var r=e.stateNode;if(r===null)return null;var n=Ky(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var e1=!1;if(Li)try{var Wf={};Object.defineProperty(Wf,"passive",{get:function(){e1=!0}}),window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{e1=!1}function F7(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ph=!1,Tv=null,Iv=!1,t1=null,U7={onError:function(e){Ph=!0,Tv=e}};function B7(e,t,r,n,a,i,o,l,c){Ph=!1,Tv=null,F7.apply(U7,arguments)}function V7(e,t,r,n,a,i,o,l,c){if(B7.apply(this,arguments),Ph){if(Ph){var u=Tv;Ph=!1,Tv=null}else throw Error(_e(198));Iv||(Iv=!0,t1=u)}}function Oc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function YM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vP(e){if(Oc(e)!==e)throw Error(_e(188))}function q7(e){var t=e.alternate;if(!t){if(t=Oc(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return vP(a),e;if(i===n)return vP(a),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function XM(e){return e=q7(e),e!==null?JM(e):null}function JM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JM(e);if(t!==null)return t;e=e.sibling}return null}var ZM=Is.unstable_scheduleCallback,xP=Is.unstable_cancelCallback,z7=Is.unstable_shouldYield,W7=Is.unstable_requestPaint,Fr=Is.unstable_now,K7=Is.unstable_getCurrentPriorityLevel,AS=Is.unstable_ImmediatePriority,e$=Is.unstable_UserBlockingPriority,Rv=Is.unstable_NormalPriority,H7=Is.unstable_LowPriority,t$=Is.unstable_IdlePriority,Vy=null,ti=null;function G7(e){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(Vy,e,void 0,(e.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:X7,Q7=Math.log,Y7=Math.LN2;function X7(e){return e>>>=0,e===0?32:31-(Q7(e)/Y7|0)|0}var vg=64,xg=4194304;function gh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=gh(l):(i&=o,i!==0&&(n=gh(i)))}else o=r&~a,o!==0?n=gh(o):i!==0&&(n=gh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Aa(t),a=1<<r,n|=e[r],t&=~a;return n}function J7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Aa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=J7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function r1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function r$(){var e=vg;return vg<<=1,!(vg&4194240)&&(vg=64),e}function lw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Aa(t),e[t]=r}function ez(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Aa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function OS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Aa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var er=0;function n$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s$,TS,a$,i$,o$,n1=!1,yg=[],Ro=null,Mo=null,$o=null,Jh=new Map,Zh=new Map,xo=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yP(e,t){switch(e){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(t.pointerId)}}function Kf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Np(t),t!==null&&TS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function rz(e,t,r,n,a){switch(t){case"focusin":return Ro=Kf(Ro,e,t,r,n,a),!0;case"dragenter":return Mo=Kf(Mo,e,t,r,n,a),!0;case"mouseover":return $o=Kf($o,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Jh.set(i,Kf(Jh.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Zh.set(i,Kf(Zh.get(i)||null,e,t,r,n,a)),!0}return!1}function l$(e){var t=$l(e.target);if(t!==null){var r=Oc(t);if(r!==null){if(t=r.tag,t===13){if(t=YM(r),t!==null){e.blockedOn=t,o$(e.priority,function(){a$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=s1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jj=n,r.target.dispatchEvent(n),Jj=null}else return t=Np(r),t!==null&&TS(t),e.blockedOn=r,!1;t.shift()}return!0}function bP(e,t,r){fv(e)&&r.delete(t)}function nz(){n1=!1,Ro!==null&&fv(Ro)&&(Ro=null),Mo!==null&&fv(Mo)&&(Mo=null),$o!==null&&fv($o)&&($o=null),Jh.forEach(bP),Zh.forEach(bP)}function Hf(e,t){e.blockedOn===t&&(e.blockedOn=null,n1||(n1=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,nz)))}function em(e){function t(a){return Hf(a,e)}if(0<yg.length){Hf(yg[0],e);for(var r=1;r<yg.length;r++){var n=yg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ro!==null&&Hf(Ro,e),Mo!==null&&Hf(Mo,e),$o!==null&&Hf($o,e),Jh.forEach(t),Zh.forEach(t),r=0;r<xo.length;r++)n=xo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xo.length&&(r=xo[0],r.blockedOn===null);)l$(r),r.blockedOn===null&&xo.shift()}var Ku=Xi.ReactCurrentBatchConfig,$v=!0;function sz(e,t,r,n){var a=er,i=Ku.transition;Ku.transition=null;try{er=1,IS(e,t,r,n)}finally{er=a,Ku.transition=i}}function az(e,t,r,n){var a=er,i=Ku.transition;Ku.transition=null;try{er=4,IS(e,t,r,n)}finally{er=a,Ku.transition=i}}function IS(e,t,r,n){if($v){var a=s1(e,t,r,n);if(a===null)xw(e,t,n,Dv,r),yP(e,n);else if(rz(a,e,t,r,n))n.stopPropagation();else if(yP(e,n),t&4&&-1<tz.indexOf(e)){for(;a!==null;){var i=Np(a);if(i!==null&&s$(i),i=s1(e,t,r,n),i===null&&xw(e,t,n,Dv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else xw(e,t,n,null,r)}}var Dv=null;function s1(e,t,r,n){if(Dv=null,e=ES(n),e=$l(e),e!==null)if(t=Oc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=YM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dv=e,null}function c$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K7()){case AS:return 1;case e$:return 4;case Rv:case H7:return 16;case t$:return 536870912;default:return 16}default:return 16}}var Oo=null,RS=null,hv=null;function u$(){if(hv)return hv;var e,t=RS,r=t.length,n,a="value"in Oo?Oo.value:Oo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return hv=a.slice(e,1<n?1-n:void 0)}function mv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bg(){return!0}function wP(){return!1}function Bs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bg:wP,this.isPropagationStopped=wP,this}return Er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bg)},persist:function(){},isPersistent:bg}),t}var cf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MS=Bs(cf),jp=Er({},cf,{view:0,detail:0}),iz=Bs(jp),cw,uw,Gf,qy=Er({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$S,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gf&&(Gf&&e.type==="mousemove"?(cw=e.screenX-Gf.screenX,uw=e.screenY-Gf.screenY):uw=cw=0,Gf=e),cw)},movementY:function(e){return"movementY"in e?e.movementY:uw}}),jP=Bs(qy),oz=Er({},qy,{dataTransfer:0}),lz=Bs(oz),cz=Er({},jp,{relatedTarget:0}),dw=Bs(cz),uz=Er({},cf,{animationName:0,elapsedTime:0,pseudoElement:0}),dz=Bs(uz),fz=Er({},cf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hz=Bs(fz),mz=Er({},cf,{data:0}),NP=Bs(mz),pz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vz[e])?!!t[e]:!1}function $S(){return xz}var yz=Er({},jp,{key:function(e){if(e.key){var t=pz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$S,charCode:function(e){return e.type==="keypress"?mv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bz=Bs(yz),wz=Er({},qy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=Bs(wz),jz=Er({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$S}),Nz=Bs(jz),_z=Er({},cf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sz=Bs(_z),kz=Er({},qy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cz=Bs(kz),Pz=[9,13,27,32],DS=Li&&"CompositionEvent"in window,Eh=null;Li&&"documentMode"in document&&(Eh=document.documentMode);var Ez=Li&&"TextEvent"in window&&!Eh,d$=Li&&(!DS||Eh&&8<Eh&&11>=Eh),SP=" ",kP=!1;function f$(e,t){switch(e){case"keyup":return Pz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _u=!1;function Az(e,t){switch(e){case"compositionend":return h$(t);case"keypress":return t.which!==32?null:(kP=!0,SP);case"textInput":return e=t.data,e===SP&&kP?null:e;default:return null}}function Oz(e,t){if(_u)return e==="compositionend"||!DS&&f$(e,t)?(e=u$(),hv=RS=Oo=null,_u=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d$&&t.locale!=="ko"?null:t.data;default:return null}}var Tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tz[e.type]:t==="textarea"}function m$(e,t,r,n){WM(n),t=Lv(t,"onChange"),0<t.length&&(r=new MS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ah=null,tm=null;function Iz(e){S$(e,0)}function zy(e){var t=Cu(e);if(LM(t))return e}function Rz(e,t){if(e==="change")return t}var p$=!1;if(Li){var fw;if(Li){var hw="oninput"in document;if(!hw){var PP=document.createElement("div");PP.setAttribute("oninput","return;"),hw=typeof PP.oninput=="function"}fw=hw}else fw=!1;p$=fw&&(!document.documentMode||9<document.documentMode)}function EP(){Ah&&(Ah.detachEvent("onpropertychange",g$),tm=Ah=null)}function g$(e){if(e.propertyName==="value"&&zy(tm)){var t=[];m$(t,tm,e,ES(e)),QM(Iz,t)}}function Mz(e,t,r){e==="focusin"?(EP(),Ah=t,tm=r,Ah.attachEvent("onpropertychange",g$)):e==="focusout"&&EP()}function $z(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zy(tm)}function Dz(e,t){if(e==="click")return zy(t)}function Lz(e,t){if(e==="input"||e==="change")return zy(t)}function Fz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ma=typeof Object.is=="function"?Object.is:Fz;function rm(e,t){if(Ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Uj.call(t,a)||!Ma(e[a],t[a]))return!1}return!0}function AP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function OP(e,t){var r=AP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AP(r)}}function v$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x$(){for(var e=window,t=Ov();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ov(e.document)}return t}function LS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uz(e){var t=x$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&v$(r.ownerDocument.documentElement,r)){if(n!==null&&LS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=OP(r,i);var o=OP(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bz=Li&&"documentMode"in document&&11>=document.documentMode,Su=null,a1=null,Oh=null,i1=!1;function TP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i1||Su==null||Su!==Ov(n)||(n=Su,"selectionStart"in n&&LS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oh&&rm(Oh,n)||(Oh=n,n=Lv(a1,"onSelect"),0<n.length&&(t=new MS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Su)))}function wg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ku={animationend:wg("Animation","AnimationEnd"),animationiteration:wg("Animation","AnimationIteration"),animationstart:wg("Animation","AnimationStart"),transitionend:wg("Transition","TransitionEnd")},mw={},y$={};Li&&(y$=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function Wy(e){if(mw[e])return mw[e];if(!ku[e])return e;var t=ku[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in y$)return mw[e]=t[r];return e}var b$=Wy("animationend"),w$=Wy("animationiteration"),j$=Wy("animationstart"),N$=Wy("transitionend"),_$=new Map,IP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(e,t){_$.set(e,t),Ac(t,[e])}for(var pw=0;pw<IP.length;pw++){var gw=IP[pw],Vz=gw.toLowerCase(),qz=gw[0].toUpperCase()+gw.slice(1);nl(Vz,"on"+qz)}nl(b$,"onAnimationEnd");nl(w$,"onAnimationIteration");nl(j$,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(N$,"onTransitionEnd");md("onMouseEnter",["mouseout","mouseover"]);md("onMouseLeave",["mouseout","mouseover"]);md("onPointerEnter",["pointerout","pointerover"]);md("onPointerLeave",["pointerout","pointerover"]);Ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zz=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function RP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,V7(n,t,void 0,e),e.currentTarget=null}function S$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;RP(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;RP(a,l,u),i=c}}}if(Iv)throw e=t1,Iv=!1,t1=null,e}function pr(e,t){var r=t[d1];r===void 0&&(r=t[d1]=new Set);var n=e+"__bubble";r.has(n)||(k$(t,e,2,!1),r.add(n))}function vw(e,t,r){var n=0;t&&(n|=4),k$(r,e,n,t)}var jg="_reactListening"+Math.random().toString(36).slice(2);function nm(e){if(!e[jg]){e[jg]=!0,IM.forEach(function(r){r!=="selectionchange"&&(zz.has(r)||vw(r,!1,e),vw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jg]||(t[jg]=!0,vw("selectionchange",!1,t))}}function k$(e,t,r,n){switch(c$(t)){case 1:var a=sz;break;case 4:a=az;break;default:a=IS}r=a.bind(null,t,r,e),a=void 0,!e1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function xw(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=$l(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}QM(function(){var u=i,d=ES(r),f=[];e:{var h=_$.get(e);if(h!==void 0){var p=MS,b=e;switch(e){case"keypress":if(mv(r)===0)break e;case"keydown":case"keyup":p=bz;break;case"focusin":b="focus",p=dw;break;case"focusout":b="blur",p=dw;break;case"beforeblur":case"afterblur":p=dw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Nz;break;case b$:case w$:case j$:p=dz;break;case N$:p=Sz;break;case"scroll":p=iz;break;case"wheel":p=Cz;break;case"copy":case"cut":case"paste":p=hz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_P}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,y;g!==null;){y=g;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,v!==null&&(j=Xh(g,v),j!=null&&m.push(sm(g,j,y)))),w)break;g=g.return}0<m.length&&(h=new p(h,b,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Jj&&(b=r.relatedTarget||r.fromElement)&&($l(b)||b[Fi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?$l(b):null,b!==null&&(w=Oc(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(m=jP,j="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=_P,j="onPointerLeave",v="onPointerEnter",g="pointer"),w=p==null?h:Cu(p),y=b==null?h:Cu(b),h=new m(j,g+"leave",p,r,d),h.target=w,h.relatedTarget=y,j=null,$l(d)===u&&(m=new m(v,g+"enter",b,r,d),m.target=y,m.relatedTarget=w,j=m),w=j,p&&b)t:{for(m=p,v=b,g=0,y=m;y;y=Jc(y))g++;for(y=0,j=v;j;j=Jc(j))y++;for(;0<g-y;)m=Jc(m),g--;for(;0<y-g;)v=Jc(v),y--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Jc(m),v=Jc(v)}m=null}else m=null;p!==null&&MP(f,h,p,m,!1),b!==null&&w!==null&&MP(f,w,b,m,!0)}}e:{if(h=u?Cu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=Rz;else if(CP(h))if(p$)_=Lz;else{_=$z;var N=Mz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Dz);if(_&&(_=_(e,u))){m$(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Hj(h,"number",h.value)}switch(N=u?Cu(u):window,e){case"focusin":(CP(N)||N.contentEditable==="true")&&(Su=N,a1=u,Oh=null);break;case"focusout":Oh=a1=Su=null;break;case"mousedown":i1=!0;break;case"contextmenu":case"mouseup":case"dragend":i1=!1,TP(f,r,d);break;case"selectionchange":if(Bz)break;case"keydown":case"keyup":TP(f,r,d)}var S;if(DS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _u?f$(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(d$&&r.locale!=="ko"&&(_u||k!=="onCompositionStart"?k==="onCompositionEnd"&&_u&&(S=u$()):(Oo=d,RS="value"in Oo?Oo.value:Oo.textContent,_u=!0)),N=Lv(u,k),0<N.length&&(k=new NP(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=h$(r),S!==null&&(k.data=S)))),(S=Ez?Az(e,r):Oz(e,r))&&(u=Lv(u,"onBeforeInput"),0<u.length&&(d=new NP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}S$(f,t)})}function sm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xh(e,r),i!=null&&n.unshift(sm(e,i,a)),i=Xh(e,t),i!=null&&n.push(sm(e,i,a))),e=e.return}return n}function Jc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MP(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Xh(r,i),c!=null&&o.unshift(sm(r,c,l))):a||(c=Xh(r,i),c!=null&&o.push(sm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Wz=/\r\n?/g,Kz=/\u0000|\uFFFD/g;function $P(e){return(typeof e=="string"?e:""+e).replace(Wz,`
`).replace(Kz,"")}function Ng(e,t,r){if(t=$P(t),$P(e)!==t&&r)throw Error(_e(425))}function Fv(){}var o1=null,l1=null;function c1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var u1=typeof setTimeout=="function"?setTimeout:void 0,Hz=typeof clearTimeout=="function"?clearTimeout:void 0,DP=typeof Promise=="function"?Promise:void 0,Gz=typeof queueMicrotask=="function"?queueMicrotask:typeof DP<"u"?function(e){return DP.resolve(null).then(e).catch(Qz)}:u1;function Qz(e){setTimeout(function(){throw e})}function yw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),em(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);em(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var uf=Math.random().toString(36).slice(2),Xa="__reactFiber$"+uf,am="__reactProps$"+uf,Fi="__reactContainer$"+uf,d1="__reactEvents$"+uf,Yz="__reactListeners$"+uf,Xz="__reactHandles$"+uf;function $l(e){var t=e[Xa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fi]||r[Xa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LP(e);e!==null;){if(r=e[Xa])return r;e=LP(e)}return t}e=r,r=e.parentNode}return null}function Np(e){return e=e[Xa]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Ky(e){return e[am]||null}var f1=[],Pu=-1;function sl(e){return{current:e}}function xr(e){0>Pu||(e.current=f1[Pu],f1[Pu]=null,Pu--)}function fr(e,t){Pu++,f1[Pu]=e.current,e.current=t}var Go={},$n=sl(Go),us=sl(!1),ic=Go;function pd(e,t){var r=e.type.contextTypes;if(!r)return Go;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ds(e){return e=e.childContextTypes,e!=null}function Uv(){xr(us),xr($n)}function FP(e,t,r){if($n.current!==Go)throw Error(_e(168));fr($n,t),fr(us,r)}function C$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_e(108,M7(e)||"Unknown",a));return Er({},r,n)}function Bv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Go,ic=$n.current,fr($n,e),fr(us,us.current),!0}function UP(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=C$(e,t,ic),n.__reactInternalMemoizedMergedChildContext=e,xr(us),xr($n),fr($n,e)):xr(us),fr(us,r)}var ji=null,Hy=!1,bw=!1;function P$(e){ji===null?ji=[e]:ji.push(e)}function Jz(e){Hy=!0,P$(e)}function al(){if(!bw&&ji!==null){bw=!0;var e=0,t=er;try{var r=ji;for(er=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ji=null,Hy=!1}catch(a){throw ji!==null&&(ji=ji.slice(e+1)),ZM(AS,al),a}finally{er=t,bw=!1}}return null}var Eu=[],Au=0,Vv=null,qv=0,Hs=[],Gs=0,oc=null,Ci=1,Pi="";function kl(e,t){Eu[Au++]=qv,Eu[Au++]=Vv,Vv=e,qv=t}function E$(e,t,r){Hs[Gs++]=Ci,Hs[Gs++]=Pi,Hs[Gs++]=oc,oc=e;var n=Ci;e=Pi;var a=32-Aa(n)-1;n&=~(1<<a),r+=1;var i=32-Aa(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ci=1<<32-Aa(t)+a|r<<a|n,Pi=i+e}else Ci=1<<i|r<<a|n,Pi=e}function FS(e){e.return!==null&&(kl(e,1),E$(e,1,0))}function US(e){for(;e===Vv;)Vv=Eu[--Au],Eu[Au]=null,qv=Eu[--Au],Eu[Au]=null;for(;e===oc;)oc=Hs[--Gs],Hs[Gs]=null,Pi=Hs[--Gs],Hs[Gs]=null,Ci=Hs[--Gs],Hs[Gs]=null}var Es=null,Ps=null,yr=!1,ka=null;function A$(e,t){var r=Ys(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function BP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ps=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oc!==null?{id:Ci,overflow:Pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ys(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Es=e,Ps=null,!0):!1;default:return!1}}function h1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function m1(e){if(yr){var t=Ps;if(t){var r=t;if(!BP(e,t)){if(h1(e))throw Error(_e(418));t=Do(r.nextSibling);var n=Es;t&&BP(e,t)?A$(n,r):(e.flags=e.flags&-4097|2,yr=!1,Es=e)}}else{if(h1(e))throw Error(_e(418));e.flags=e.flags&-4097|2,yr=!1,Es=e}}}function VP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function _g(e){if(e!==Es)return!1;if(!yr)return VP(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!c1(e.type,e.memoizedProps)),t&&(t=Ps)){if(h1(e))throw O$(),Error(_e(418));for(;t;)A$(e,t),t=Do(t.nextSibling)}if(VP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ps=Do(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=Es?Do(e.stateNode.nextSibling):null;return!0}function O$(){for(var e=Ps;e;)e=Do(e.nextSibling)}function gd(){Ps=Es=null,yr=!1}function BS(e){ka===null?ka=[e]:ka.push(e)}var Zz=Xi.ReactCurrentBatchConfig;function Qf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Sg(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qP(e){var t=e._init;return t(e._payload)}function T$(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=Bo(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,y,j){return g===null||g.tag!==6?(g=Cw(y,v.mode,j),g.return=v,g):(g=a(g,y),g.return=v,g)}function c(v,g,y,j){var _=y.type;return _===Nu?d(v,g,y.props.children,j,y.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fo&&qP(_)===g.type)?(j=a(g,y.props),j.ref=Qf(v,g,y),j.return=v,j):(j=wv(y.type,y.key,y.props,null,v.mode,j),j.ref=Qf(v,g,y),j.return=v,j)}function u(v,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Pw(y,v.mode,j),g.return=v,g):(g=a(g,y.children||[]),g.return=v,g)}function d(v,g,y,j,_){return g===null||g.tag!==7?(g=rc(y,v.mode,j,_),g.return=v,g):(g=a(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cw(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case mg:return y=wv(g.type,g.key,g.props,null,v.mode,y),y.ref=Qf(v,null,g),y.return=v,y;case ju:return g=Pw(g,v.mode,y),g.return=v,g;case fo:var j=g._init;return f(v,j(g._payload),y)}if(ph(g)||zf(g))return g=rc(g,v.mode,y,null),g.return=v,g;Sg(v,g)}return null}function h(v,g,y,j){var _=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(v,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mg:return y.key===_?c(v,g,y,j):null;case ju:return y.key===_?u(v,g,y,j):null;case fo:return _=y._init,h(v,g,_(y._payload),j)}if(ph(y)||zf(y))return _!==null?null:d(v,g,y,j,null);Sg(v,y)}return null}function p(v,g,y,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(y)||null,l(g,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case mg:return v=v.get(j.key===null?y:j.key)||null,c(g,v,j,_);case ju:return v=v.get(j.key===null?y:j.key)||null,u(g,v,j,_);case fo:var N=j._init;return p(v,g,y,N(j._payload),_)}if(ph(j)||zf(j))return v=v.get(y)||null,d(g,v,j,_,null);Sg(g,j)}return null}function b(v,g,y,j){for(var _=null,N=null,S=g,k=g=0,C=null;S!==null&&k<y.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var P=h(v,S,y[k],j);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(v,S),g=i(P,g,k),N===null?_=P:N.sibling=P,N=P,S=C}if(k===y.length)return r(v,S),yr&&kl(v,k),_;if(S===null){for(;k<y.length;k++)S=f(v,y[k],j),S!==null&&(g=i(S,g,k),N===null?_=S:N.sibling=S,N=S);return yr&&kl(v,k),_}for(S=n(v,S);k<y.length;k++)C=p(S,v,k,y[k],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),g=i(C,g,k),N===null?_=C:N.sibling=C,N=C);return e&&S.forEach(function(E){return t(v,E)}),yr&&kl(v,k),_}function m(v,g,y,j){var _=zf(y);if(typeof _!="function")throw Error(_e(150));if(y=_.call(y),y==null)throw Error(_e(151));for(var N=_=null,S=g,k=g=0,C=null,P=y.next();S!==null&&!P.done;k++,P=y.next()){S.index>k?(C=S,S=null):C=S.sibling;var E=h(v,S,P.value,j);if(E===null){S===null&&(S=C);break}e&&S&&E.alternate===null&&t(v,S),g=i(E,g,k),N===null?_=E:N.sibling=E,N=E,S=C}if(P.done)return r(v,S),yr&&kl(v,k),_;if(S===null){for(;!P.done;k++,P=y.next())P=f(v,P.value,j),P!==null&&(g=i(P,g,k),N===null?_=P:N.sibling=P,N=P);return yr&&kl(v,k),_}for(S=n(v,S);!P.done;k++,P=y.next())P=p(S,v,k,P.value,j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),g=i(P,g,k),N===null?_=P:N.sibling=P,N=P);return e&&S.forEach(function(O){return t(v,O)}),yr&&kl(v,k),_}function w(v,g,y,j){if(typeof y=="object"&&y!==null&&y.type===Nu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case mg:e:{for(var _=y.key,N=g;N!==null;){if(N.key===_){if(_=y.type,_===Nu){if(N.tag===7){r(v,N.sibling),g=a(N,y.props.children),g.return=v,v=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fo&&qP(_)===N.type){r(v,N.sibling),g=a(N,y.props),g.ref=Qf(v,N,y),g.return=v,v=g;break e}r(v,N);break}else t(v,N);N=N.sibling}y.type===Nu?(g=rc(y.props.children,v.mode,j,y.key),g.return=v,v=g):(j=wv(y.type,y.key,y.props,null,v.mode,j),j.ref=Qf(v,g,y),j.return=v,v=j)}return o(v);case ju:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=a(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Pw(y,v.mode,j),g.return=v,v=g}return o(v);case fo:return N=y._init,w(v,g,N(y._payload),j)}if(ph(y))return b(v,g,y,j);if(zf(y))return m(v,g,y,j);Sg(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=a(g,y),g.return=v,v=g):(r(v,g),g=Cw(y,v.mode,j),g.return=v,v=g),o(v)):r(v,g)}return w}var vd=T$(!0),I$=T$(!1),zv=sl(null),Wv=null,Ou=null,VS=null;function qS(){VS=Ou=Wv=null}function zS(e){var t=zv.current;xr(zv),e._currentValue=t}function p1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hu(e,t){Wv=e,VS=Ou=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(os=!0),e.firstContext=null)}function ra(e){var t=e._currentValue;if(VS!==e)if(e={context:e,memoizedValue:t,next:null},Ou===null){if(Wv===null)throw Error(_e(308));Ou=e,Wv.dependencies={lanes:0,firstContext:e}}else Ou=Ou.next=e;return t}var Dl=null;function WS(e){Dl===null?Dl=[e]:Dl.push(e)}function R$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,WS(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ui(e,n)}function Ui(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ho=!1;function KS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$t&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ui(e,r)}return a=n.interleaved,a===null?(t.next=t,WS(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ui(e,r)}function pv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,OS(e,r)}}function zP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kv(e,t,r,n){var a=e.updateQueue;ho=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,m=l;switch(h=t,p=r,m.tag){case 1:if(b=m.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=Er({},f,h);break e;case 2:ho=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);cc|=o,e.lanes=o,e.memoizedState=f}}function WP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_e(191,a));a.call(n)}}}var _p={},ri=sl(_p),im=sl(_p),om=sl(_p);function Ll(e){if(e===_p)throw Error(_e(174));return e}function HS(e,t){switch(fr(om,t),fr(im,e),fr(ri,_p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qj(t,e)}xr(ri),fr(ri,t)}function xd(){xr(ri),xr(im),xr(om)}function $$(e){Ll(om.current);var t=Ll(ri.current),r=Qj(t,e.type);t!==r&&(fr(im,e),fr(ri,r))}function GS(e){im.current===e&&(xr(ri),xr(im))}var Sr=sl(0);function Hv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ww=[];function QS(){for(var e=0;e<ww.length;e++)ww[e]._workInProgressVersionPrimary=null;ww.length=0}var gv=Xi.ReactCurrentDispatcher,jw=Xi.ReactCurrentBatchConfig,lc=0,Pr=null,sn=null,mn=null,Gv=!1,Th=!1,lm=0,eW=0;function An(){throw Error(_e(321))}function YS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ma(e[r],t[r]))return!1;return!0}function XS(e,t,r,n,a,i){if(lc=i,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gv.current=e===null||e.memoizedState===null?sW:aW,e=r(n,a),Th){i=0;do{if(Th=!1,lm=0,25<=i)throw Error(_e(301));i+=1,mn=sn=null,t.updateQueue=null,gv.current=iW,e=r(n,a)}while(Th)}if(gv.current=Qv,t=sn!==null&&sn.next!==null,lc=0,mn=sn=Pr=null,Gv=!1,t)throw Error(_e(300));return e}function JS(){var e=lm!==0;return lm=0,e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Pr.memoizedState=mn=e:mn=mn.next=e,mn}function na(){if(sn===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=mn===null?Pr.memoizedState:mn.next;if(t!==null)mn=t,sn=e;else{if(e===null)throw Error(_e(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},mn===null?Pr.memoizedState=mn=e:mn=mn.next=e}return mn}function cm(e,t){return typeof t=="function"?t(e):t}function Nw(e){var t=na(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=sn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((lc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pr.lanes|=d,cc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ma(n,t.memoizedState)||(os=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Pr.lanes|=i,cc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _w(e){var t=na(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ma(i,t.memoizedState)||(os=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function D$(){}function L$(e,t){var r=Pr,n=na(),a=t(),i=!Ma(n.memoizedState,a);if(i&&(n.memoizedState=a,os=!0),n=n.queue,ZS(B$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||mn!==null&&mn.memoizedState.tag&1){if(r.flags|=2048,um(9,U$.bind(null,r,n,a,t),void 0,null),gn===null)throw Error(_e(349));lc&30||F$(r,t,a)}return a}function F$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function U$(e,t,r,n){t.value=r,t.getSnapshot=n,V$(t)&&q$(e)}function B$(e,t,r){return r(function(){V$(t)&&q$(e)})}function V$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ma(e,r)}catch{return!0}}function q$(e){var t=Ui(e,1);t!==null&&Oa(t,e,1,-1)}function KP(e){var t=Ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cm,lastRenderedState:e},t.queue=e,e=e.dispatch=nW.bind(null,Pr,e),[t.memoizedState,e]}function um(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function z$(){return na().memoizedState}function vv(e,t,r,n){var a=Ka();Pr.flags|=e,a.memoizedState=um(1|t,r,void 0,n===void 0?null:n)}function Gy(e,t,r,n){var a=na();n=n===void 0?null:n;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,n!==null&&YS(n,o.deps)){a.memoizedState=um(t,r,i,n);return}}Pr.flags|=e,a.memoizedState=um(1|t,r,i,n)}function HP(e,t){return vv(8390656,8,e,t)}function ZS(e,t){return Gy(2048,8,e,t)}function W$(e,t){return Gy(4,2,e,t)}function K$(e,t){return Gy(4,4,e,t)}function H$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G$(e,t,r){return r=r!=null?r.concat([e]):null,Gy(4,4,H$.bind(null,t,e),r)}function ek(){}function Q$(e,t){var r=na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Y$(e,t){var r=na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&YS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function X$(e,t,r){return lc&21?(Ma(r,t)||(r=r$(),Pr.lanes|=r,cc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,os=!0),e.memoizedState=r)}function tW(e,t){var r=er;er=r!==0&&4>r?r:4,e(!0);var n=jw.transition;jw.transition={};try{e(!1),t()}finally{er=r,jw.transition=n}}function J$(){return na().memoizedState}function rW(e,t,r){var n=Uo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Z$(e))eD(t,r);else if(r=R$(e,t,r,n),r!==null){var a=Yn();Oa(r,e,n,a),tD(r,t,n)}}function nW(e,t,r){var n=Uo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Z$(e))eD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ma(l,o)){var c=t.interleaved;c===null?(a.next=a,WS(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=R$(e,t,a,n),r!==null&&(a=Yn(),Oa(r,e,n,a),tD(r,t,n))}}function Z$(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function eD(e,t){Th=Gv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tD(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,OS(e,r)}}var Qv={readContext:ra,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},sW={readContext:ra,useCallback:function(e,t){return Ka().memoizedState=[e,t===void 0?null:t],e},useContext:ra,useEffect:HP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vv(4194308,4,H$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vv(4194308,4,e,t)},useInsertionEffect:function(e,t){return vv(4,2,e,t)},useMemo:function(e,t){var r=Ka();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ka();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rW.bind(null,Pr,e),[n.memoizedState,e]},useRef:function(e){var t=Ka();return e={current:e},t.memoizedState=e},useState:KP,useDebugValue:ek,useDeferredValue:function(e){return Ka().memoizedState=e},useTransition:function(){var e=KP(!1),t=e[0];return e=tW.bind(null,e[1]),Ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pr,a=Ka();if(yr){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),gn===null)throw Error(_e(349));lc&30||F$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,HP(B$.bind(null,n,i,e),[e]),n.flags|=2048,um(9,U$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ka(),t=gn.identifierPrefix;if(yr){var r=Pi,n=Ci;r=(n&~(1<<32-Aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=lm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aW={readContext:ra,useCallback:Q$,useContext:ra,useEffect:ZS,useImperativeHandle:G$,useInsertionEffect:W$,useLayoutEffect:K$,useMemo:Y$,useReducer:Nw,useRef:z$,useState:function(){return Nw(cm)},useDebugValue:ek,useDeferredValue:function(e){var t=na();return X$(t,sn.memoizedState,e)},useTransition:function(){var e=Nw(cm)[0],t=na().memoizedState;return[e,t]},useMutableSource:D$,useSyncExternalStore:L$,useId:J$,unstable_isNewReconciler:!1},iW={readContext:ra,useCallback:Q$,useContext:ra,useEffect:ZS,useImperativeHandle:G$,useInsertionEffect:W$,useLayoutEffect:K$,useMemo:Y$,useReducer:_w,useRef:z$,useState:function(){return _w(cm)},useDebugValue:ek,useDeferredValue:function(e){var t=na();return sn===null?t.memoizedState=e:X$(t,sn.memoizedState,e)},useTransition:function(){var e=_w(cm)[0],t=na().memoizedState;return[e,t]},useMutableSource:D$,useSyncExternalStore:L$,useId:J$,unstable_isNewReconciler:!1};function xa(e,t){if(e&&e.defaultProps){t=Er({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function g1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Er({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qy={isMounted:function(e){return(e=e._reactInternals)?Oc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=Uo(e),i=Ii(n,a);i.payload=t,r!=null&&(i.callback=r),t=Lo(e,i,a),t!==null&&(Oa(t,e,a,n),pv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=Uo(e),i=Ii(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Lo(e,i,a),t!==null&&(Oa(t,e,a,n),pv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=Uo(e),a=Ii(r,n);a.tag=2,t!=null&&(a.callback=t),t=Lo(e,a,n),t!==null&&(Oa(t,e,n,r),pv(t,e,n))}};function GP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!rm(r,n)||!rm(a,i):!0}function rD(e,t,r){var n=!1,a=Go,i=t.contextType;return typeof i=="object"&&i!==null?i=ra(i):(a=ds(t)?ic:$n.current,n=t.contextTypes,i=(n=n!=null)?pd(e,a):Go),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function QP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qy.enqueueReplaceState(t,t.state,null)}function v1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},KS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ra(i):(i=ds(t)?ic:$n.current,a.context=pd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(g1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qy.enqueueReplaceState(a,a.state,null),Kv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yd(e,t){try{var r="",n=t;do r+=R7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Sw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function x1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oW=typeof WeakMap=="function"?WeakMap:Map;function nD(e,t,r){r=Ii(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xv||(Xv=!0,P1=n),x1(e,t)},r}function sD(e,t,r){r=Ii(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){x1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){x1(e,t),typeof n!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function YP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oW;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=wW.bind(null,e,t,r),t.then(e,e))}function XP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ii(-1,1),t.tag=2,Lo(r,t,1))),r.lanes|=1),e)}var lW=Xi.ReactCurrentOwner,os=!1;function qn(e,t,r,n){t.child=e===null?I$(t,null,r,n):vd(t,e.child,r,n)}function ZP(e,t,r,n,a){r=r.render;var i=t.ref;return Hu(t,a),n=XS(e,t,r,n,i,a),r=JS(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a)):(yr&&r&&FS(t),t.flags|=1,qn(e,t,n,a),t.child)}function eE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!lk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,aD(e,t,i,n,a)):(e=wv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:rm,r(o,n)&&e.ref===t.ref)return Bi(e,t,a)}return t.flags|=1,e=Bo(i,n),e.ref=t.ref,e.return=t,t.child=e}function aD(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(rm(i,n)&&e.ref===t.ref)if(os=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(os=!0);else return t.lanes=e.lanes,Bi(e,t,a)}return y1(e,t,r,n,a)}function iD(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Iu,ys),ys|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fr(Iu,ys),ys|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fr(Iu,ys),ys|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,fr(Iu,ys),ys|=n;return qn(e,t,a,r),t.child}function oD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function y1(e,t,r,n,a){var i=ds(r)?ic:$n.current;return i=pd(t,i),Hu(t,a),r=XS(e,t,r,n,i,a),n=JS(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bi(e,t,a)):(yr&&n&&FS(t),t.flags|=1,qn(e,t,r,a),t.child)}function tE(e,t,r,n,a){if(ds(r)){var i=!0;Bv(t)}else i=!1;if(Hu(t,a),t.stateNode===null)xv(e,t),rD(t,r,n),v1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ra(u):(u=ds(r)?ic:$n.current,u=pd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&QP(t,o,n,u),ho=!1;var h=t.memoizedState;o.state=h,Kv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||us.current||ho?(typeof d=="function"&&(g1(t,r,d,n),c=t.memoizedState),(l=ho||GP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,M$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ra(c):(c=ds(r)?ic:$n.current,c=pd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&QP(t,o,n,c),ho=!1,h=t.memoizedState,o.state=h,Kv(t,n,o,a);var b=t.memoizedState;l!==f||h!==b||us.current||ho?(typeof p=="function"&&(g1(t,r,p,n),b=t.memoizedState),(u=ho||GP(t,r,u,n,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return b1(e,t,r,n,i,a)}function b1(e,t,r,n,a,i){oD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&UP(t,r,!1),Bi(e,t,i);n=t.stateNode,lW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vd(t,e.child,null,i),t.child=vd(t,null,l,i)):qn(e,t,l,i),t.memoizedState=n.state,a&&UP(t,r,!0),t.child}function lD(e){var t=e.stateNode;t.pendingContext?FP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FP(e,t.context,!1),HS(e,t.containerInfo)}function rE(e,t,r,n,a){return gd(),BS(a),t.flags|=256,qn(e,t,r,n),t.child}var w1={dehydrated:null,treeContext:null,retryLane:0};function j1(e){return{baseLanes:e,cachePool:null,transitions:null}}function cD(e,t,r){var n=t.pendingProps,a=Sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fr(Sr,a&1),e===null)return m1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jy(o,n,0,null),e=rc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=j1(r),t.memoizedState=w1,e):tk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return cW(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Bo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Bo(l,i):(i=rc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?j1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=w1,n}return i=e.child,e=i.sibling,n=Bo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tk(e,t){return t=Jy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kg(e,t,r,n){return n!==null&&BS(n),vd(t,e.child,null,r),e=tk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cW(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Sw(Error(_e(422))),kg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Jy({mode:"visible",children:n.children},a,0,null),i=rc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vd(t,e.child,null,o),t.child.memoizedState=j1(o),t.memoizedState=w1,i);if(!(t.mode&1))return kg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=Sw(i,n,void 0),kg(e,t,o,n)}if(l=(o&e.childLanes)!==0,os||l){if(n=gn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ui(e,a),Oa(n,e,a,-1))}return ok(),n=Sw(Error(_e(421))),kg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=jW.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ps=Do(a.nextSibling),Es=t,yr=!0,ka=null,e!==null&&(Hs[Gs++]=Ci,Hs[Gs++]=Pi,Hs[Gs++]=oc,Ci=e.id,Pi=e.overflow,oc=t),t=tk(t,n.children),t.flags|=4096,t)}function nE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),p1(e.return,t,r)}function kw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function uD(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(qn(e,t,n.children,r),n=Sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nE(e,r,t);else if(e.tag===19)nE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fr(Sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Hv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),kw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Hv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}kw(t,!0,r,null,i);break;case"together":kw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=Bo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uW(e,t,r){switch(t.tag){case 3:lD(t),gd();break;case 5:$$(t);break;case 1:ds(t.type)&&Bv(t);break;case 4:HS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fr(zv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fr(Sr,Sr.current&1),t.flags|=128,null):r&t.child.childLanes?cD(e,t,r):(fr(Sr,Sr.current&1),e=Bi(e,t,r),e!==null?e.sibling:null);fr(Sr,Sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return uD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fr(Sr,Sr.current),n)break;return null;case 22:case 23:return t.lanes=0,iD(e,t,r)}return Bi(e,t,r)}var dD,N1,fD,hD;dD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};N1=function(){};fD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ll(ri.current);var i=null;switch(r){case"input":a=Wj(e,a),n=Wj(e,n),i=[];break;case"select":a=Er({},a,{value:void 0}),n=Er({},n,{value:void 0}),i=[];break;case"textarea":a=Gj(e,a),n=Gj(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fv)}Yj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};hD=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yf(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function On(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dW(e,t,r){var n=t.pendingProps;switch(US(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(t),null;case 1:return ds(t.type)&&Uv(),On(t),null;case 3:return n=t.stateNode,xd(),xr(us),xr($n),QS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ka!==null&&(O1(ka),ka=null))),N1(e,t),On(t),null;case 5:GS(t);var a=Ll(om.current);if(r=t.type,e!==null&&t.stateNode!=null)fD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return On(t),null}if(e=Ll(ri.current),_g(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Xa]=t,n[am]=i,e=(t.mode&1)!==0,r){case"dialog":pr("cancel",n),pr("close",n);break;case"iframe":case"object":case"embed":pr("load",n);break;case"video":case"audio":for(a=0;a<vh.length;a++)pr(vh[a],n);break;case"source":pr("error",n);break;case"img":case"image":case"link":pr("error",n),pr("load",n);break;case"details":pr("toggle",n);break;case"input":fP(n,i),pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pr("invalid",n);break;case"textarea":mP(n,i),pr("invalid",n)}Yj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ng(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ng(n.textContent,l,e),a=["children",""+l]):Qh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pr("scroll",n)}switch(r){case"input":pg(n),hP(n,i,!0);break;case"textarea":pg(n),pP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xa]=t,e[am]=n,dD(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xj(r,n),r){case"dialog":pr("cancel",e),pr("close",e),a=n;break;case"iframe":case"object":case"embed":pr("load",e),a=n;break;case"video":case"audio":for(a=0;a<vh.length;a++)pr(vh[a],e);a=n;break;case"source":pr("error",e),a=n;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=n;break;case"details":pr("toggle",e),a=n;break;case"input":fP(e,n),a=Wj(e,n),pr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Er({},n,{value:void 0}),pr("invalid",e);break;case"textarea":mP(e,n),a=Gj(e,n),pr("invalid",e);break;default:a=n}Yj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?zM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&VM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yh(e,c):typeof c=="number"&&Yh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pr("scroll",e):c!=null&&SS(e,i,c,o))}switch(r){case"input":pg(e),hP(e,n,!1);break;case"textarea":pg(e),pP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ho(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?qu(e,!!n.multiple,i,!1):n.defaultValue!=null&&qu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return On(t),null;case 6:if(e&&t.stateNode!=null)hD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Ll(om.current),Ll(ri.current),_g(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xa]=t,(i=n.nodeValue!==r)&&(e=Es,e!==null))switch(e.tag){case 3:Ng(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ng(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xa]=t,t.stateNode=n}return On(t),null;case 13:if(xr(Sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Ps!==null&&t.mode&1&&!(t.flags&128))O$(),gd(),t.flags|=98560,i=!1;else if(i=_g(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[Xa]=t}else gd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;On(t),i=!1}else ka!==null&&(O1(ka),ka=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?on===0&&(on=3):ok())),t.updateQueue!==null&&(t.flags|=4),On(t),null);case 4:return xd(),N1(e,t),e===null&&nm(t.stateNode.containerInfo),On(t),null;case 10:return zS(t.type._context),On(t),null;case 17:return ds(t.type)&&Uv(),On(t),null;case 19:if(xr(Sr),i=t.memoizedState,i===null)return On(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Yf(i,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hv(e),o!==null){for(t.flags|=128,Yf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fr(Sr,Sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fr()>bd&&(t.flags|=128,n=!0,Yf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Hv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yr)return On(t),null}else 2*Fr()-i.renderingStartTime>bd&&r!==1073741824&&(t.flags|=128,n=!0,Yf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fr(),t.sibling=null,r=Sr.current,fr(Sr,n?r&1|2:r&1),t):(On(t),null);case 22:case 23:return ik(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ys&1073741824&&(On(t),t.subtreeFlags&6&&(t.flags|=8192)):On(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function fW(e,t){switch(US(t),t.tag){case 1:return ds(t.type)&&Uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xd(),xr(us),xr($n),QS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return GS(t),null;case 13:if(xr(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));gd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xr(Sr),null;case 4:return xd(),null;case 10:return zS(t.type._context),null;case 22:case 23:return ik(),null;case 24:return null;default:return null}}var Cg=!1,In=!1,hW=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Tu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(e,t,n)}else r.current=null}function _1(e,t,r){try{r()}catch(n){Tr(e,t,n)}}var sE=!1;function mW(e,t){if(o1=$v,e=x$(),LS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(l1={focusedElem:e,selectionRange:r},$v=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,w=b.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:xa(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(j){Tr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return b=sE,sE=!1,b}function Ih(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&_1(t,r,i)}a=a.next}while(a!==n)}}function Yy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function S1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mD(e){var t=e.alternate;t!==null&&(e.alternate=null,mD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xa],delete t[am],delete t[d1],delete t[Yz],delete t[Xz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pD(e){return e.tag===5||e.tag===3||e.tag===4}function aE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function k1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fv));else if(n!==4&&(e=e.child,e!==null))for(k1(e,t,r),e=e.sibling;e!==null;)k1(e,t,r),e=e.sibling}function C1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(C1(e,t,r),e=e.sibling;e!==null;)C1(e,t,r),e=e.sibling}var Nn=null,ja=!1;function io(e,t,r){for(r=r.child;r!==null;)gD(e,t,r),r=r.sibling}function gD(e,t,r){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(Vy,r)}catch{}switch(r.tag){case 5:In||Tu(r,t);case 6:var n=Nn,a=ja;Nn=null,io(e,t,r),Nn=n,ja=a,Nn!==null&&(ja?(e=Nn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nn.removeChild(r.stateNode));break;case 18:Nn!==null&&(ja?(e=Nn,r=r.stateNode,e.nodeType===8?yw(e.parentNode,r):e.nodeType===1&&yw(e,r),em(e)):yw(Nn,r.stateNode));break;case 4:n=Nn,a=ja,Nn=r.stateNode.containerInfo,ja=!0,io(e,t,r),Nn=n,ja=a;break;case 0:case 11:case 14:case 15:if(!In&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_1(r,t,o),a=a.next}while(a!==n)}io(e,t,r);break;case 1:if(!In&&(Tu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Tr(r,t,l)}io(e,t,r);break;case 21:io(e,t,r);break;case 22:r.mode&1?(In=(n=In)||r.memoizedState!==null,io(e,t,r),In=n):io(e,t,r);break;default:io(e,t,r)}}function iE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hW),t.forEach(function(n){var a=NW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ma(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nn=l.stateNode,ja=!1;break e;case 3:Nn=l.stateNode.containerInfo,ja=!0;break e;case 4:Nn=l.stateNode.containerInfo,ja=!0;break e}l=l.return}if(Nn===null)throw Error(_e(160));gD(i,o,a),Nn=null,ja=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Tr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vD(t,e),t=t.sibling}function vD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),Wa(e),n&4){try{Ih(3,e,e.return),Yy(3,e)}catch(m){Tr(e,e.return,m)}try{Ih(5,e,e.return)}catch(m){Tr(e,e.return,m)}}break;case 1:ma(t,e),Wa(e),n&512&&r!==null&&Tu(r,r.return);break;case 5:if(ma(t,e),Wa(e),n&512&&r!==null&&Tu(r,r.return),e.flags&32){var a=e.stateNode;try{Yh(a,"")}catch(m){Tr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&FM(a,i),Xj(l,o);var u=Xj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?zM(a,f):d==="dangerouslySetInnerHTML"?VM(a,f):d==="children"?Yh(a,f):SS(a,d,f,u)}switch(l){case"input":Kj(a,i);break;case"textarea":UM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qu(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?qu(a,!!i.multiple,i.defaultValue,!0):qu(a,!!i.multiple,i.multiple?[]:"",!1))}a[am]=i}catch(m){Tr(e,e.return,m)}}break;case 6:if(ma(t,e),Wa(e),n&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Tr(e,e.return,m)}}break;case 3:if(ma(t,e),Wa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{em(t.containerInfo)}catch(m){Tr(e,e.return,m)}break;case 4:ma(t,e),Wa(e);break;case 13:ma(t,e),Wa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(sk=Fr())),n&4&&iE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(In=(u=In)||d,ma(t,e),In=u):ma(t,e),Wa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(h=Ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ih(4,h,h.return);break;case 1:Tu(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){Tr(n,r,m)}}break;case 5:Tu(h,h.return);break;case 22:if(h.memoizedState!==null){lE(f);continue}}p!==null?(p.return=h,Ue=p):lE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qM("display",o))}catch(m){Tr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Tr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ma(t,e),Wa(e),n&4&&iE(e);break;case 21:break;default:ma(t,e),Wa(e)}}function Wa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pD(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yh(a,""),n.flags&=-33);var i=aE(e);C1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=aE(e);k1(e,l,o);break;default:throw Error(_e(161))}}catch(c){Tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pW(e,t,r){Ue=e,xD(e)}function xD(e,t,r){for(var n=(e.mode&1)!==0;Ue!==null;){var a=Ue,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Cg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||In;l=Cg;var u=In;if(Cg=o,(In=c)&&!u)for(Ue=a;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?cE(a):c!==null?(c.return=o,Ue=c):cE(a);for(;i!==null;)Ue=i,xD(i),i=i.sibling;Ue=a,Cg=l,In=u}oE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ue=i):oE(e)}}function oE(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:In||Yy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!In)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:xa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&WP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}WP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&em(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}In||t.flags&512&&S1(t)}catch(h){Tr(t,t.return,h)}}if(t===e){Ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function lE(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ue=r;break}Ue=t.return}}function cE(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yy(4,t)}catch(c){Tr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Tr(t,a,c)}}var i=t.return;try{S1(t)}catch(c){Tr(t,i,c)}break;case 5:var o=t.return;try{S1(t)}catch(c){Tr(t,o,c)}}}catch(c){Tr(t,t.return,c)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var gW=Math.ceil,Yv=Xi.ReactCurrentDispatcher,rk=Xi.ReactCurrentOwner,Js=Xi.ReactCurrentBatchConfig,$t=0,gn=null,Hr=null,Sn=0,ys=0,Iu=sl(0),on=0,dm=null,cc=0,Xy=0,nk=0,Rh=null,is=null,sk=0,bd=1/0,yi=null,Xv=!1,P1=null,Fo=null,Pg=!1,To=null,Jv=0,Mh=0,E1=null,yv=-1,bv=0;function Yn(){return $t&6?Fr():yv!==-1?yv:yv=Fr()}function Uo(e){return e.mode&1?$t&2&&Sn!==0?Sn&-Sn:Zz.transition!==null?(bv===0&&(bv=r$()),bv):(e=er,e!==0||(e=window.event,e=e===void 0?16:c$(e.type)),e):1}function Oa(e,t,r,n){if(50<Mh)throw Mh=0,E1=null,Error(_e(185));wp(e,r,n),(!($t&2)||e!==gn)&&(e===gn&&(!($t&2)&&(Xy|=r),on===4&&yo(e,Sn)),fs(e,n),r===1&&$t===0&&!(t.mode&1)&&(bd=Fr()+500,Hy&&al()))}function fs(e,t){var r=e.callbackNode;Z7(e,t);var n=Mv(e,e===gn?Sn:0);if(n===0)r!==null&&xP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xP(r),t===1)e.tag===0?Jz(uE.bind(null,e)):P$(uE.bind(null,e)),Gz(function(){!($t&6)&&al()}),r=null;else{switch(n$(n)){case 1:r=AS;break;case 4:r=e$;break;case 16:r=Rv;break;case 536870912:r=t$;break;default:r=Rv}r=kD(r,yD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yD(e,t){if(yv=-1,bv=0,$t&6)throw Error(_e(327));var r=e.callbackNode;if(Gu()&&e.callbackNode!==r)return null;var n=Mv(e,e===gn?Sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zv(e,n);else{t=n;var a=$t;$t|=2;var i=wD();(gn!==e||Sn!==t)&&(yi=null,bd=Fr()+500,tc(e,t));do try{yW();break}catch(l){bD(e,l)}while(!0);qS(),Yv.current=i,$t=a,Hr!==null?t=0:(gn=null,Sn=0,t=on)}if(t!==0){if(t===2&&(a=r1(e),a!==0&&(n=a,t=A1(e,a))),t===1)throw r=dm,tc(e,0),yo(e,n),fs(e,Fr()),r;if(t===6)yo(e,n);else{if(a=e.current.alternate,!(n&30)&&!vW(a)&&(t=Zv(e,n),t===2&&(i=r1(e),i!==0&&(n=i,t=A1(e,i))),t===1))throw r=dm,tc(e,0),yo(e,n),fs(e,Fr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:Cl(e,is,yi);break;case 3:if(yo(e,n),(n&130023424)===n&&(t=sk+500-Fr(),10<t)){if(Mv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=u1(Cl.bind(null,e,is,yi),t);break}Cl(e,is,yi);break;case 4:if(yo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Aa(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gW(n/1960))-n,10<n){e.timeoutHandle=u1(Cl.bind(null,e,is,yi),n);break}Cl(e,is,yi);break;case 5:Cl(e,is,yi);break;default:throw Error(_e(329))}}}return fs(e,Fr()),e.callbackNode===r?yD.bind(null,e):null}function A1(e,t){var r=Rh;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),e=Zv(e,t),e!==2&&(t=is,is=r,t!==null&&O1(t)),e}function O1(e){is===null?is=e:is.push.apply(is,e)}function vW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ma(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yo(e,t){for(t&=~nk,t&=~Xy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Aa(t),n=1<<r;e[r]=-1,t&=~n}}function uE(e){if($t&6)throw Error(_e(327));Gu();var t=Mv(e,0);if(!(t&1))return fs(e,Fr()),null;var r=Zv(e,t);if(e.tag!==0&&r===2){var n=r1(e);n!==0&&(t=n,r=A1(e,n))}if(r===1)throw r=dm,tc(e,0),yo(e,t),fs(e,Fr()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,is,yi),fs(e,Fr()),null}function ak(e,t){var r=$t;$t|=1;try{return e(t)}finally{$t=r,$t===0&&(bd=Fr()+500,Hy&&al())}}function uc(e){To!==null&&To.tag===0&&!($t&6)&&Gu();var t=$t;$t|=1;var r=Js.transition,n=er;try{if(Js.transition=null,er=1,e)return e()}finally{er=n,Js.transition=r,$t=t,!($t&6)&&al()}}function ik(){ys=Iu.current,xr(Iu)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hz(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(US(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uv();break;case 3:xd(),xr(us),xr($n),QS();break;case 5:GS(n);break;case 4:xd();break;case 13:xr(Sr);break;case 19:xr(Sr);break;case 10:zS(n.type._context);break;case 22:case 23:ik()}r=r.return}if(gn=e,Hr=e=Bo(e.current,null),Sn=ys=t,on=0,dm=null,nk=Xy=cc=0,is=Rh=null,Dl!==null){for(t=0;t<Dl.length;t++)if(r=Dl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Dl=null}return e}function bD(e,t){do{var r=Hr;try{if(qS(),gv.current=Qv,Gv){for(var n=Pr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Gv=!1}if(lc=0,mn=sn=Pr=null,Th=!1,lm=0,rk.current=null,r===null||r.return===null){on=1,dm=t,Hr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=XP(o);if(p!==null){p.flags&=-257,JP(p,o,l,i,t),p.mode&1&&YP(i,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var m=new Set;m.add(c),t.updateQueue=m}else b.add(c);break e}else{if(!(t&1)){YP(i,u,t),ok();break e}c=Error(_e(426))}}else if(yr&&l.mode&1){var w=XP(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),JP(w,o,l,i,t),BS(yd(c,l));break e}}i=c=yd(c,l),on!==4&&(on=2),Rh===null?Rh=[i]:Rh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=nD(i,c,t);zP(i,v);break e;case 1:l=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fo===null||!Fo.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=sD(i,l,t);zP(i,j);break e}}i=i.return}while(i!==null)}ND(r)}catch(_){t=_,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function wD(){var e=Yv.current;return Yv.current=Qv,e===null?Qv:e}function ok(){(on===0||on===3||on===2)&&(on=4),gn===null||!(cc&268435455)&&!(Xy&268435455)||yo(gn,Sn)}function Zv(e,t){var r=$t;$t|=2;var n=wD();(gn!==e||Sn!==t)&&(yi=null,tc(e,t));do try{xW();break}catch(a){bD(e,a)}while(!0);if(qS(),$t=r,Yv.current=n,Hr!==null)throw Error(_e(261));return gn=null,Sn=0,on}function xW(){for(;Hr!==null;)jD(Hr)}function yW(){for(;Hr!==null&&!z7();)jD(Hr)}function jD(e){var t=SD(e.alternate,e,ys);e.memoizedProps=e.pendingProps,t===null?ND(e):Hr=t,rk.current=null}function ND(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fW(r,t),r!==null){r.flags&=32767,Hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Hr=null;return}}else if(r=dW(r,t,ys),r!==null){Hr=r;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);on===0&&(on=5)}function Cl(e,t,r){var n=er,a=Js.transition;try{Js.transition=null,er=1,bW(e,t,r,n)}finally{Js.transition=a,er=n}return null}function bW(e,t,r,n){do Gu();while(To!==null);if($t&6)throw Error(_e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ez(e,i),e===gn&&(Hr=gn=null,Sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pg||(Pg=!0,kD(Rv,function(){return Gu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Js.transition,Js.transition=null;var o=er;er=1;var l=$t;$t|=4,rk.current=null,mW(e,r),vD(r,e),Uz(l1),$v=!!o1,l1=o1=null,e.current=r,pW(r),W7(),$t=l,er=o,Js.transition=i}else e.current=r;if(Pg&&(Pg=!1,To=e,Jv=a),i=e.pendingLanes,i===0&&(Fo=null),G7(r.stateNode),fs(e,Fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Xv)throw Xv=!1,e=P1,P1=null,e;return Jv&1&&e.tag!==0&&Gu(),i=e.pendingLanes,i&1?e===E1?Mh++:(Mh=0,E1=e):Mh=0,al(),null}function Gu(){if(To!==null){var e=n$(Jv),t=Js.transition,r=er;try{if(Js.transition=null,er=16>e?16:e,To===null)var n=!1;else{if(e=To,To=null,Jv=0,$t&6)throw Error(_e(331));var a=$t;for($t|=4,Ue=e.current;Ue!==null;){var i=Ue,o=i.child;if(Ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:Ih(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var h=d.sibling,p=d.return;if(mD(d),d===u){Ue=null;break}if(h!==null){h.return=p,Ue=h;break}Ue=p}}}var b=i.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ue=o;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ih(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ue=v;break e}Ue=i.return}}var g=e.current;for(Ue=g;Ue!==null;){o=Ue;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Ue=y;else e:for(o=g;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yy(9,l)}}catch(_){Tr(l,l.return,_)}if(l===o){Ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ue=j;break e}Ue=l.return}}if($t=a,al(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(Vy,e)}catch{}n=!0}return n}finally{er=r,Js.transition=t}}return!1}function dE(e,t,r){t=yd(r,t),t=nD(e,t,1),e=Lo(e,t,1),t=Yn(),e!==null&&(wp(e,1,t),fs(e,t))}function Tr(e,t,r){if(e.tag===3)dE(e,e,r);else for(;t!==null;){if(t.tag===3){dE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fo===null||!Fo.has(n))){e=yd(r,e),e=sD(t,e,1),t=Lo(t,e,1),e=Yn(),t!==null&&(wp(t,1,e),fs(t,e));break}}t=t.return}}function wW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,gn===e&&(Sn&r)===r&&(on===4||on===3&&(Sn&130023424)===Sn&&500>Fr()-sk?tc(e,0):nk|=r),fs(e,t)}function _D(e,t){t===0&&(e.mode&1?(t=xg,xg<<=1,!(xg&130023424)&&(xg=4194304)):t=1);var r=Yn();e=Ui(e,t),e!==null&&(wp(e,t,r),fs(e,r))}function jW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_D(e,r)}function NW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),_D(e,r)}var SD;SD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||us.current)os=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return os=!1,uW(e,t,r);os=!!(e.flags&131072)}else os=!1,yr&&t.flags&1048576&&E$(t,qv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xv(e,t),e=t.pendingProps;var a=pd(t,$n.current);Hu(t,r),a=XS(null,t,n,e,a,r);var i=JS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ds(n)?(i=!0,Bv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,KS(t),a.updater=Qy,t.stateNode=a,a._reactInternals=t,v1(t,n,e,r),t=b1(null,t,n,!0,i,r)):(t.tag=0,yr&&i&&FS(t),qn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=SW(n),e=xa(n,e),a){case 0:t=y1(null,t,n,e,r);break e;case 1:t=tE(null,t,n,e,r);break e;case 11:t=ZP(null,t,n,e,r);break e;case 14:t=eE(null,t,n,xa(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xa(n,a),y1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xa(n,a),tE(e,t,n,a,r);case 3:e:{if(lD(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,a=i.element,M$(e,t),Kv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=yd(Error(_e(423)),t),t=rE(e,t,n,r,a);break e}else if(n!==a){a=yd(Error(_e(424)),t),t=rE(e,t,n,r,a);break e}else for(Ps=Do(t.stateNode.containerInfo.firstChild),Es=t,yr=!0,ka=null,r=I$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gd(),n===a){t=Bi(e,t,r);break e}qn(e,t,n,r)}t=t.child}return t;case 5:return $$(t),e===null&&m1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,c1(n,a)?o=null:i!==null&&c1(n,i)&&(t.flags|=32),oD(e,t),qn(e,t,o,r),t.child;case 6:return e===null&&m1(t),null;case 13:return cD(e,t,r);case 4:return HS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vd(t,null,n,r):qn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xa(n,a),ZP(e,t,n,a,r);case 7:return qn(e,t,t.pendingProps,r),t.child;case 8:return qn(e,t,t.pendingProps.children,r),t.child;case 12:return qn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,fr(zv,n._currentValue),n._currentValue=o,i!==null)if(Ma(i.value,o)){if(i.children===a.children&&!us.current){t=Bi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ii(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),p1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),p1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Hu(t,r),a=ra(a),n=n(a),t.flags|=1,qn(e,t,n,r),t.child;case 14:return n=t.type,a=xa(n,t.pendingProps),a=xa(n.type,a),eE(e,t,n,a,r);case 15:return aD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xa(n,a),xv(e,t),t.tag=1,ds(n)?(e=!0,Bv(t)):e=!1,Hu(t,r),rD(t,n,a),v1(t,n,a,r),b1(null,t,n,!0,e,r);case 19:return uD(e,t,r);case 22:return iD(e,t,r)}throw Error(_e(156,t.tag))};function kD(e,t){return ZM(e,t)}function _W(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(e,t,r,n){return new _W(e,t,r,n)}function lk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SW(e){if(typeof e=="function")return lk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CS)return 11;if(e===PS)return 14}return 2}function Bo(e,t){var r=e.alternate;return r===null?(r=Ys(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wv(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")lk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Nu:return rc(r.children,a,i,t);case kS:o=8,a|=8;break;case Bj:return e=Ys(12,r,t,a|2),e.elementType=Bj,e.lanes=i,e;case Vj:return e=Ys(13,r,t,a),e.elementType=Vj,e.lanes=i,e;case qj:return e=Ys(19,r,t,a),e.elementType=qj,e.lanes=i,e;case $M:return Jy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RM:o=10;break e;case MM:o=9;break e;case CS:o=11;break e;case PS:o=14;break e;case fo:o=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Ys(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function rc(e,t,r,n){return e=Ys(7,e,n,t),e.lanes=r,e}function Jy(e,t,r,n){return e=Ys(22,e,n,t),e.elementType=$M,e.lanes=r,e.stateNode={isHidden:!1},e}function Cw(e,t,r){return e=Ys(6,e,null,t),e.lanes=r,e}function Pw(e,t,r){return t=Ys(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lw(0),this.expirationTimes=lw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ck(e,t,r,n,a,i,o,l,c){return e=new kW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ys(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},KS(i),e}function CW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CD(e){if(!e)return Go;e=e._reactInternals;e:{if(Oc(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(ds(r))return C$(e,r,t)}return t}function PD(e,t,r,n,a,i,o,l,c){return e=ck(r,n,!0,e,a,i,o,l,c),e.context=CD(null),r=e.current,n=Yn(),a=Uo(r),i=Ii(n,a),i.callback=t??null,Lo(r,i,a),e.current.lanes=a,wp(e,a,n),fs(e,n),e}function Zy(e,t,r,n){var a=t.current,i=Yn(),o=Uo(a);return r=CD(r),t.context===null?t.context=r:t.pendingContext=r,t=Ii(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lo(a,t,o),e!==null&&(Oa(e,a,o,i),pv(e,a,o)),o}function ex(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uk(e,t){fE(e,t),(e=e.alternate)&&fE(e,t)}function PW(){return null}var ED=typeof reportError=="function"?reportError:function(e){console.error(e)};function dk(e){this._internalRoot=e}eb.prototype.render=dk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Zy(e,t,null,null)};eb.prototype.unmount=dk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uc(function(){Zy(null,e,null,null)}),t[Fi]=null}};function eb(e){this._internalRoot=e}eb.prototype.unstable_scheduleHydration=function(e){if(e){var t=i$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xo.length&&t!==0&&t<xo[r].priority;r++);xo.splice(r,0,e),r===0&&l$(e)}};function fk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hE(){}function EW(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ex(o);i.call(u)}}var o=PD(t,n,e,0,null,!1,!1,"",hE);return e._reactRootContainer=o,e[Fi]=o.current,nm(e.nodeType===8?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ex(c);l.call(u)}}var c=ck(e,0,!1,null,null,!1,!1,"",hE);return e._reactRootContainer=c,e[Fi]=c.current,nm(e.nodeType===8?e.parentNode:e),uc(function(){Zy(t,c,r,n)}),c}function rb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ex(o);l.call(c)}}Zy(t,o,e,a)}else o=EW(r,t,e,a,n);return ex(o)}s$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gh(t.pendingLanes);r!==0&&(OS(t,r|1),fs(t,Fr()),!($t&6)&&(bd=Fr()+500,al()))}break;case 13:uc(function(){var n=Ui(e,1);if(n!==null){var a=Yn();Oa(n,e,1,a)}}),uk(e,1)}};TS=function(e){if(e.tag===13){var t=Ui(e,134217728);if(t!==null){var r=Yn();Oa(t,e,134217728,r)}uk(e,134217728)}};a$=function(e){if(e.tag===13){var t=Uo(e),r=Ui(e,t);if(r!==null){var n=Yn();Oa(r,e,t,n)}uk(e,t)}};i$=function(){return er};o$=function(e,t){var r=er;try{return er=e,t()}finally{er=r}};Zj=function(e,t,r){switch(t){case"input":if(Kj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ky(n);if(!a)throw Error(_e(90));LM(n),Kj(n,a)}}}break;case"textarea":UM(e,r);break;case"select":t=r.value,t!=null&&qu(e,!!r.multiple,t,!1)}};HM=ak;GM=uc;var AW={usingClientEntryPoint:!1,Events:[Np,Cu,Ky,WM,KM,ak]},Xf={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OW={bundleType:Xf.bundleType,version:Xf.version,rendererPackageName:Xf.rendererPackageName,rendererConfig:Xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XM(e),e===null?null:e.stateNode},findFiberByHostInstance:Xf.findFiberByHostInstance||PW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{Vy=Eg.inject(OW),ti=Eg}catch{}}Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AW;Us.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fk(t))throw Error(_e(200));return CW(e,t,null,r)};Us.createRoot=function(e,t){if(!fk(e))throw Error(_e(299));var r=!1,n="",a=ED;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ck(e,1,!1,null,null,r,!1,n,a),e[Fi]=t.current,nm(e.nodeType===8?e.parentNode:e),new dk(t)};Us.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=XM(t),e=e===null?null:e.stateNode,e};Us.flushSync=function(e){return uc(e)};Us.hydrate=function(e,t,r){if(!tb(t))throw Error(_e(200));return rb(null,e,t,!0,r)};Us.hydrateRoot=function(e,t,r){if(!fk(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=ED;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=PD(t,null,e,1,r??null,a,!1,i,o),e[Fi]=t.current,nm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new eb(t)};Us.render=function(e,t,r){if(!tb(t))throw Error(_e(200));return rb(null,e,t,!1,r)};Us.unmountComponentAtNode=function(e){if(!tb(e))throw Error(_e(40));return e._reactRootContainer?(uc(function(){rb(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};Us.unstable_batchedUpdates=ak;Us.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tb(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return rb(e,t,r,!1,n)};Us.version="18.3.1-next-f1338f8080-20240426";function AD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AD)}catch(e){console.error(e)}}AD(),AM.exports=Us;var Tc=AM.exports;const TW=Qt(Tc);var OD,mE=Tc;OD=mE.createRoot,mE.hydrateRoot;function IW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var TD={exports:{}},ID={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=x;function RW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MW=typeof Object.is=="function"?Object.is:RW,$W=wd.useState,DW=wd.useEffect,LW=wd.useLayoutEffect,FW=wd.useDebugValue;function UW(e,t){var r=t(),n=$W({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return LW(function(){a.value=r,a.getSnapshot=t,Ew(a)&&i({inst:a})},[e,r,t]),DW(function(){return Ew(a)&&i({inst:a}),e(function(){Ew(a)&&i({inst:a})})},[e]),FW(r),r}function Ew(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!MW(e,r)}catch{return!0}}function BW(e,t){return t()}var VW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BW:UW;ID.useSyncExternalStore=wd.useSyncExternalStore!==void 0?wd.useSyncExternalStore:VW;TD.exports=ID;var RD=TD.exports;const qW=By.useInsertionEffect,zW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WW=zW?x.useLayoutEffect:x.useEffect,KW=qW||WW,MD=e=>{const t=x.useRef([e,(...r)=>t[0](...r)]).current;return KW(()=>{t[0]=e}),t[1]},HW="popstate",hk="pushState",mk="replaceState",GW="hashchange",pE=[HW,hk,mk,GW],QW=e=>{for(const t of pE)addEventListener(t,e);return()=>{for(const t of pE)removeEventListener(t,e)}},$D=(e,t)=>RD.useSyncExternalStore(QW,e,t),gE=()=>location.search,YW=({ssrSearch:e}={})=>$D(gE,e!=null?()=>e:gE),vE=()=>location.pathname,XW=({ssrPath:e}={})=>$D(vE,e!=null?()=>e:vE),JW=(e,{replace:t=!1,state:r=null}={})=>history[t?mk:hk](r,"",e),ZW=(e={})=>[XW(e),JW],xE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[xE]>"u"){for(const e of[hk,mk]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,xE,{value:!0})}const eK=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",DD=(e="")=>e==="/"?"":e,tK=(e,t)=>e[0]==="~"?e.slice(1):DD(t)+e,rK=(e="",t)=>eK(T1(DD(e)),T1(t)),nK=e=>e[0]==="?"?e.slice(1):e,T1=e=>{try{return decodeURI(e)}catch{return e}},sK=e=>T1(nK(e)),LD={hook:ZW,searchHook:YW,parser:IW,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},FD=x.createContext(LD),df=()=>x.useContext(FD),UD={},BD=x.createContext(UD),nb=()=>x.useContext(BD),sb=e=>{const[t,r]=e.hook(e);return[rK(e.base,t),MD((n,a)=>e.aroundNav(r,tK(n,e.base),a))]},Dn=()=>sb(df()),VD=()=>{const e=df();return sK(e.searchHook(e))},qD=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},aK=({children:e,...t})=>{var d,f,h;const r=df(),n=t.hook?LD:r;let a=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=x.useRef({}),c=l.current,u=c;for(let p in n){const b=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&b!==u[p]&&(l.current=u={...u}),u[p]=b,(b!==n[p]||b!==a[p])&&(a=u)}return x.createElement(FD.Provider,{value:a,children:e})},yE=({children:e,component:t},r)=>t?x.createElement(t,{params:r}):typeof e=="function"?e(r):e,iK=e=>{let t=x.useRef(UD);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},Ge=({path:e,nest:t,match:r,...n})=>{const a=df(),[i]=sb(a),[o,l,c]=r??qD(a.parser,e,i,t),u=iK({...nb(),...l});if(!o)return null;const d=c?x.createElement(aK,{base:c},yE(n,u)):yE(n,u);return x.createElement(BD.Provider,{value:u,children:d})},he=x.forwardRef((e,t)=>{const r=df(),[n,a]=sb(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...b}=e,m=MD(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),a(o,e)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&x.isValidElement(u)?x.cloneElement(u,{onClick:m,href:w}):x.createElement("a",{...b,onClick:m,href:w,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),zD=e=>Array.isArray(e)?e.flatMap(t=>zD(t&&t.type===x.Fragment?t.props.children:t)):[e],WD=({children:e,location:t})=>{const r=df(),[n]=sb(r);for(const a of zD(e)){let i=0;if(x.isValidElement(a)&&(i=qD(r.parser,a.props.path,t||n,a.props.nest))[0])return x.cloneElement(a,{match:i})}return null};var ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jo,xS,lM,lK=(lM=class{constructor(){Je(this,jo,oK);Je(this,xS,!1)}setTimeoutProvider(e){Ie(this,jo,e)}setTimeout(e,t){return W(this,jo).setTimeout(e,t)}clearTimeout(e){W(this,jo).clearTimeout(e)}setInterval(e,t){return W(this,jo).setInterval(e,t)}clearInterval(e){W(this,jo).clearInterval(e)}},jo=new WeakMap,xS=new WeakMap,lM),Fl=new lK;function cK(e){setTimeout(e,0)}var dc=typeof window>"u"||"Deno"in globalThis;function zn(){}function uK(e,t){return typeof e=="function"?e(t):e}function I1(e){return typeof e=="number"&&e>=0&&e!==1/0}function KD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vo(e,t){return typeof e=="function"?e(t):e}function Ks(e,t){return typeof e=="function"?e(t):e}function bE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==pk(o,t.options))return!1}else if(!fm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function wE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(fc(t.options.mutationKey)!==fc(i))return!1}else if(!fm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function pk(e,t){return((t==null?void 0:t.queryKeyHashFn)||fc)(e)}function fc(e){return JSON.stringify(e,(t,r)=>R1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function fm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>fm(e[r],t[r])):!1}var dK=Object.prototype.hasOwnProperty;function HD(e,t){if(e===t)return e;const r=jE(e)&&jE(t);if(!r&&!(R1(e)&&R1(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:dK.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=HD(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function tx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function jE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function R1(e){if(!NE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!NE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NE(e){return Object.prototype.toString.call(e)==="[object Object]"}function fK(e){return new Promise(t=>{Fl.setTimeout(t,e)})}function M1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?HD(e,t):t}function hK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var gk=Symbol();function GD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function QD(e,t){return typeof e=="function"?e(...t):!!e}var Kl,No,rd,cM,pK=(cM=class extends ff{constructor(){super();Je(this,Kl);Je(this,No);Je(this,rd);Ie(this,rd,t=>{if(!dc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,No)||this.setEventListener(W(this,rd))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,No))==null||t.call(this),Ie(this,No,void 0))}setEventListener(t){var r;Ie(this,rd,t),(r=W(this,No))==null||r.call(this),Ie(this,No,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Kl)!==t&&(Ie(this,Kl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Kl)=="boolean"?W(this,Kl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Kl=new WeakMap,No=new WeakMap,rd=new WeakMap,cM),vk=new pK;function $1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var gK=cK;function vK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=gK;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var an=vK(),nd,_o,sd,uM,xK=(uM=class extends ff{constructor(){super();Je(this,nd,!0);Je(this,_o);Je(this,sd);Ie(this,sd,t=>{if(!dc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,_o)||this.setEventListener(W(this,sd))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,_o))==null||t.call(this),Ie(this,_o,void 0))}setEventListener(t){var r;Ie(this,sd,t),(r=W(this,_o))==null||r.call(this),Ie(this,_o,t(this.setOnline.bind(this)))}setOnline(t){W(this,nd)!==t&&(Ie(this,nd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,nd)}},nd=new WeakMap,_o=new WeakMap,sd=new WeakMap,uM),rx=new xK;function yK(e){return Math.min(1e3*2**e,3e4)}function YD(e){return(e??"online")==="online"?rx.isOnline():!0}var D1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function XD(e){let t=!1,r=0,n;const a=$1(),i=()=>a.status!=="pending",o=m=>{var w;if(!i()){const v=new D1(m);h(v),(w=e.onCancel)==null||w.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>vk.isFocused()&&(e.networkMode==="always"||rx.isOnline())&&e.canRun(),d=()=>YD(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var w;n=v=>{(i()||u())&&m(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),b=()=>{if(i())return;let m;const w=r===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var N;if(i())return;const g=e.retry??(dc?0:3),y=e.retryDelay??yK,j=typeof y=="function"?y(r,v):y,_=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!_){h(v);return}r++,(N=e.onFail)==null||N.call(e,r,v),fK(j).then(()=>u()?void 0:p()).then(()=>{t?h(v):b()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),a)}}var Hl,dM,JD=(dM=class{constructor(){Je(this,Hl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I1(this.gcTime)&&Ie(this,Hl,Fl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dc?1/0:5*60*1e3))}clearGcTimeout(){W(this,Hl)&&(Fl.clearTimeout(W(this,Hl)),Ie(this,Hl,void 0))}},Hl=new WeakMap,dM),Gl,ad,Ws,Ql,fn,pp,Yl,ba,xi,fM,bK=(fM=class extends JD{constructor(t){super();Je(this,ba);Je(this,Gl);Je(this,ad);Je(this,Ws);Je(this,Ql);Je(this,fn);Je(this,pp);Je(this,Yl);Ie(this,Yl,!1),Ie(this,pp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ie(this,Ql,t.client),Ie(this,Ws,W(this,Ql).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ie(this,Gl,SE(this.options)),this.state=t.state??W(this,Gl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,fn))==null?void 0:t.promise}setOptions(t){if(this.options={...W(this,pp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=SE(this.options);r.data!==void 0&&(this.setState(_E(r.data,r.dataUpdatedAt)),Ie(this,Gl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Ws).remove(this)}setData(t,r){const n=M1(this.state.data,t,this.options);return yt(this,ba,xi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yt(this,ba,xi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=W(this,fn))==null?void 0:n.promise;return(a=W(this,fn))==null||a.cancel(t),r?r.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Gl))}isActive(){return this.observers.some(t=>Ks(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,fn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,fn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Ws).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,fn)&&(W(this,Yl)?W(this,fn).cancel({revert:!0}):W(this,fn).cancelRetry()),this.scheduleGc()),W(this,Ws).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,ba,xi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,b,m,w,v,g,y;if(this.state.fetchStatus!=="idle"&&((c=W(this,fn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,fn))return W(this,fn).continueRetry(),W(this,fn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Ie(this,Yl,!0),n.signal)})},i=()=>{const j=GD(this.options,r),N=(()=>{const S={client:W(this,Ql),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Ie(this,Yl,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Ql),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Ie(this,ad,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&yt(this,ba,xi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ie(this,fn,XD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof D1&&j.revert&&this.setState({...W(this,ad),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{yt(this,ba,xi).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{yt(this,ba,xi).call(this,{type:"pause"})},onContinue:()=>{yt(this,ba,xi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await W(this,fn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=W(this,Ws).config).onSuccess)==null||p.call(h,j,this),(m=(b=W(this,Ws).config).onSettled)==null||m.call(b,j,this.state.error,this),j}catch(j){if(j instanceof D1){if(j.silent)return W(this,fn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw yt(this,ba,xi).call(this,{type:"error",error:j}),(v=(w=W(this,Ws).config).onError)==null||v.call(w,j,this),(y=(g=W(this,Ws).config).onSettled)==null||y.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Gl=new WeakMap,ad=new WeakMap,Ws=new WeakMap,Ql=new WeakMap,fn=new WeakMap,pp=new WeakMap,Yl=new WeakMap,ba=new WeakSet,xi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ZD(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,..._E(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,ad,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),an.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,Ws).notify({query:this,type:"updated",action:t})})},fM);function ZD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _E(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ns,Mt,gp,Un,Xl,id,Ni,So,vp,od,ld,Jl,Zl,ko,cd,zt,xh,L1,F1,U1,B1,V1,q1,z1,e5,hM,wK=(hM=class extends ff{constructor(t,r){super();Je(this,zt);Je(this,ns);Je(this,Mt);Je(this,gp);Je(this,Un);Je(this,Xl);Je(this,id);Je(this,Ni);Je(this,So);Je(this,vp);Je(this,od);Je(this,ld);Je(this,Jl);Je(this,Zl);Je(this,ko);Je(this,cd,new Set);this.options=r,Ie(this,ns,t),Ie(this,So,null),Ie(this,Ni,$1()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,Mt).addObserver(this),kE(W(this,Mt),this.options)?yt(this,zt,xh).call(this):this.updateResult(),yt(this,zt,B1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return W1(W(this,Mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return W1(W(this,Mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,zt,V1).call(this),yt(this,zt,q1).call(this),W(this,Mt).removeObserver(this)}setOptions(t){const r=this.options,n=W(this,Mt);if(this.options=W(this,ns).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ks(this.options.enabled,W(this,Mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,zt,z1).call(this),W(this,Mt).setOptions(this.options),r._defaulted&&!tx(this.options,r)&&W(this,ns).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,Mt),observer:this});const a=this.hasListeners();a&&CE(W(this,Mt),n,this.options,r)&&yt(this,zt,xh).call(this),this.updateResult(),a&&(W(this,Mt)!==n||Ks(this.options.enabled,W(this,Mt))!==Ks(r.enabled,W(this,Mt))||Vo(this.options.staleTime,W(this,Mt))!==Vo(r.staleTime,W(this,Mt)))&&yt(this,zt,L1).call(this);const i=yt(this,zt,F1).call(this);a&&(W(this,Mt)!==n||Ks(this.options.enabled,W(this,Mt))!==Ks(r.enabled,W(this,Mt))||i!==W(this,ko))&&yt(this,zt,U1).call(this,i)}getOptimisticResult(t){const r=W(this,ns).getQueryCache().build(W(this,ns),t),n=this.createResult(r,t);return NK(this,n)&&(Ie(this,Un,n),Ie(this,id,this.options),Ie(this,Xl,W(this,Mt).state)),n}getCurrentResult(){return W(this,Un)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,Ni).status==="pending"&&W(this,Ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){W(this,cd).add(t)}getCurrentQuery(){return W(this,Mt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=W(this,ns).defaultQueryOptions(t),n=W(this,ns).getQueryCache().build(W(this,ns),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return yt(this,zt,xh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Un)))}createResult(t,r){var C;const n=W(this,Mt),a=this.options,i=W(this,Un),o=W(this,Xl),l=W(this,id),u=t!==n?t.state:W(this,gp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),E=!P&&kE(t,r),O=P&&CE(t,n,r,a);(E||O)&&(f={...f,...ZD(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:m,status:w}=f;p=f.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,v=!0):P=typeof r.placeholderData=="function"?r.placeholderData((C=W(this,ld))==null?void 0:C.state.data,W(this,ld)):r.placeholderData,P!==void 0&&(w="success",p=M1(i==null?void 0:i.data,P,r),h=!0)}if(r.select&&p!==void 0&&!v)if(i&&p===(o==null?void 0:o.data)&&r.select===W(this,vp))p=W(this,od);else try{Ie(this,vp,r.select),p=r.select(p),p=M1(i==null?void 0:i.data,p,r),Ie(this,od,p),Ie(this,So,null)}catch(P){Ie(this,So,P)}W(this,So)&&(b=W(this,So),p=W(this,od),m=Date.now(),w="error");const g=f.fetchStatus==="fetching",y=w==="pending",j=w==="error",_=y&&g,N=p!==void 0,k={status:w,fetchStatus:f.fetchStatus,isPending:y,isSuccess:w==="success",isError:j,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:xk(t,r),refetch:this.refetch,promise:W(this,Ni),isEnabled:Ks(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{k.status==="error"?I.reject(k.error):k.data!==void 0&&I.resolve(k.data)},E=()=>{const I=Ie(this,Ni,k.promise=$1());P(I)},O=W(this,Ni);switch(O.status){case"pending":t.queryHash===n.queryHash&&P(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&E();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&E();break}}return k}updateResult(){const t=W(this,Un),r=this.createResult(W(this,Mt),this.options);if(Ie(this,Xl,W(this,Mt).state),Ie(this,id,this.options),W(this,Xl).data!==void 0&&Ie(this,ld,W(this,Mt)),tx(r,t))return;Ie(this,Un,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!W(this,cd).size)return!0;const o=new Set(i??W(this,cd));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,Un)).some(l=>{const c=l;return W(this,Un)[c]!==t[c]&&o.has(c)})};yt(this,zt,e5).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,zt,B1).call(this)}},ns=new WeakMap,Mt=new WeakMap,gp=new WeakMap,Un=new WeakMap,Xl=new WeakMap,id=new WeakMap,Ni=new WeakMap,So=new WeakMap,vp=new WeakMap,od=new WeakMap,ld=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,ko=new WeakMap,cd=new WeakMap,zt=new WeakSet,xh=function(t){yt(this,zt,z1).call(this);let r=W(this,Mt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(zn)),r},L1=function(){yt(this,zt,V1).call(this);const t=Vo(this.options.staleTime,W(this,Mt));if(dc||W(this,Un).isStale||!I1(t))return;const n=KD(W(this,Un).dataUpdatedAt,t)+1;Ie(this,Jl,Fl.setTimeout(()=>{W(this,Un).isStale||this.updateResult()},n))},F1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,Mt)):this.options.refetchInterval)??!1},U1=function(t){yt(this,zt,q1).call(this),Ie(this,ko,t),!(dc||Ks(this.options.enabled,W(this,Mt))===!1||!I1(W(this,ko))||W(this,ko)===0)&&Ie(this,Zl,Fl.setInterval(()=>{(this.options.refetchIntervalInBackground||vk.isFocused())&&yt(this,zt,xh).call(this)},W(this,ko)))},B1=function(){yt(this,zt,L1).call(this),yt(this,zt,U1).call(this,yt(this,zt,F1).call(this))},V1=function(){W(this,Jl)&&(Fl.clearTimeout(W(this,Jl)),Ie(this,Jl,void 0))},q1=function(){W(this,Zl)&&(Fl.clearInterval(W(this,Zl)),Ie(this,Zl,void 0))},z1=function(){const t=W(this,ns).getQueryCache().build(W(this,ns),this.options);if(t===W(this,Mt))return;const r=W(this,Mt);Ie(this,Mt,t),Ie(this,gp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},e5=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(W(this,Un))}),W(this,ns).getQueryCache().notify({query:W(this,Mt),type:"observerResultsUpdated"})})},hM);function jK(e,t){return Ks(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kE(e,t){return jK(e,t)||e.state.data!==void 0&&W1(e,t,t.refetchOnMount)}function W1(e,t,r){if(Ks(t.enabled,e)!==!1&&Vo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xk(e,t)}return!1}function CE(e,t,r,n){return(e!==t||Ks(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xk(e,r)}function xk(e,t){return Ks(t.enabled,e)!==!1&&e.isStaleByTime(Vo(t.staleTime,e))}function NK(e,t){return!tx(e.getCurrentResult(),t)}function PE(e){return{onFetch:(t,r)=>{var d,f,h,p,b;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=GD(t.options,t.fetchOptions),g=async(y,j,_)=>{if(m)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return w(E),E})(),k=await v(S),{maxPages:C}=t.options,P=_?mK:hK;return{pages:P(y.pages,k,C),pageParams:P(y.pageParams,j,C)}};if(a&&i.length){const y=a==="backward",j=y?_K:EE,_={pages:i,pageParams:o},N=j(n,_);l=await g(_,N,y)}else{const y=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:EE(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function EE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function _K(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var xp,Ga,Bn,ec,Qa,co,mM,SK=(mM=class extends JD{constructor(t){super();Je(this,Qa);Je(this,xp);Je(this,Ga);Je(this,Bn);Je(this,ec);Ie(this,xp,t.client),this.mutationId=t.mutationId,Ie(this,Bn,t.mutationCache),Ie(this,Ga,[]),this.state=t.state||t5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ga).includes(t)||(W(this,Ga).push(t),this.clearGcTimeout(),W(this,Bn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ie(this,Ga,W(this,Ga).filter(r=>r!==t)),this.scheduleGc(),W(this,Bn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ga).length||(this.state.status==="pending"?this.scheduleGc():W(this,Bn).remove(this))}continue(){var t;return((t=W(this,ec))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,b,m,w,v,g,y,j,_,N,S,k,C;const r=()=>{yt(this,Qa,co).call(this,{type:"continue"})},n={client:W(this,xp),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,ec,XD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{yt(this,Qa,co).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{yt(this,Qa,co).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Bn).canRun(this)}));const a=this.state.status==="pending",i=!W(this,ec).canStart();try{if(a)r();else{yt(this,Qa,co).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=W(this,Bn).config).onMutate)==null?void 0:l.call(o,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&yt(this,Qa,co).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const P=await W(this,ec).start();return await((f=(d=W(this,Bn).config).onSuccess)==null?void 0:f.call(d,P,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,P,t,this.state.context,n)),await((m=(b=W(this,Bn).config).onSettled)==null?void 0:m.call(b,P,null,this.state.variables,this.state.context,this,n)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,P,null,t,this.state.context,n)),yt(this,Qa,co).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(g=W(this,Bn).config).onError)==null?void 0:y.call(g,P,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,P,t,this.state.context,n)),await((S=(N=W(this,Bn).config).onSettled)==null?void 0:S.call(N,void 0,P,this.state.variables,this.state.context,this,n)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,P,t,this.state.context,n)),P}finally{yt(this,Qa,co).call(this,{type:"error",error:P})}}finally{W(this,Bn).runNext(this)}}},xp=new WeakMap,Ga=new WeakMap,Bn=new WeakMap,ec=new WeakMap,Qa=new WeakSet,co=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),an.batch(()=>{W(this,Ga).forEach(n=>{n.onMutationUpdate(t)}),W(this,Bn).notify({mutation:this,type:"updated",action:t})})},mM);function t5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,wa,yp,pM,kK=(pM=class extends ff{constructor(t={}){super();Je(this,_i);Je(this,wa);Je(this,yp);this.config=t,Ie(this,_i,new Set),Ie(this,wa,new Map),Ie(this,yp,0)}build(t,r,n){const a=new SK({client:t,mutationCache:this,mutationId:++dg(this,yp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){W(this,_i).add(t);const r=Ag(t);if(typeof r=="string"){const n=W(this,wa).get(r);n?n.push(t):W(this,wa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,_i).delete(t)){const r=Ag(t);if(typeof r=="string"){const n=W(this,wa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&W(this,wa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ag(t);if(typeof r=="string"){const n=W(this,wa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ag(t);if(typeof r=="string"){const a=(n=W(this,wa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{W(this,_i).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,_i).clear(),W(this,wa).clear()})}getAll(){return Array.from(W(this,_i))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wE(r,n))}findAll(t={}){return this.getAll().filter(r=>wE(t,r))}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return an.batch(()=>Promise.all(t.map(r=>r.continue().catch(zn))))}},_i=new WeakMap,wa=new WeakMap,yp=new WeakMap,pM);function Ag(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Si,Co,ss,ki,Di,jv,K1,gM,CK=(gM=class extends ff{constructor(r,n){super();Je(this,Di);Je(this,Si);Je(this,Co);Je(this,ss);Je(this,ki);Ie(this,Si,r),this.setOptions(n),this.bindMethods(),yt(this,Di,jv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=W(this,Si).defaultMutationOptions(r),tx(this.options,n)||W(this,Si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,ss),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&fc(n.mutationKey)!==fc(this.options.mutationKey)?this.reset():((a=W(this,ss))==null?void 0:a.state.status)==="pending"&&W(this,ss).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,ss))==null||r.removeObserver(this)}onMutationUpdate(r){yt(this,Di,jv).call(this),yt(this,Di,K1).call(this,r)}getCurrentResult(){return W(this,Co)}reset(){var r;(r=W(this,ss))==null||r.removeObserver(this),Ie(this,ss,void 0),yt(this,Di,jv).call(this),yt(this,Di,K1).call(this)}mutate(r,n){var a;return Ie(this,ki,n),(a=W(this,ss))==null||a.removeObserver(this),Ie(this,ss,W(this,Si).getMutationCache().build(W(this,Si),this.options)),W(this,ss).addObserver(this),W(this,ss).execute(r)}},Si=new WeakMap,Co=new WeakMap,ss=new WeakMap,ki=new WeakMap,Di=new WeakSet,jv=function(){var n;const r=((n=W(this,ss))==null?void 0:n.state)??t5();Ie(this,Co,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},K1=function(r){an.batch(()=>{var n,a,i,o,l,c,u,d;if(W(this,ki)&&this.hasListeners()){const f=W(this,Co).variables,h=W(this,Co).context,p={client:W(this,Si),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=W(this,ki)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(i=W(this,ki)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=W(this,ki)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=W(this,ki)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(W(this,Co))})})},gM),Ya,vM,PK=(vM=class extends ff{constructor(t={}){super();Je(this,Ya);this.config=t,Ie(this,Ya,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??pk(a,r);let o=this.get(i);return o||(o=new bK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){W(this,Ya).has(t.queryHash)||(W(this,Ya).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Ya).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Ya).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ya).get(t)}getAll(){return[...W(this,Ya).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>bE(t,n)):r}notify(t){an.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ya=new WeakMap,vM),Ar,Po,Eo,ud,dd,Ao,fd,hd,xM,EK=(xM=class{constructor(e={}){Je(this,Ar);Je(this,Po);Je(this,Eo);Je(this,ud);Je(this,dd);Je(this,Ao);Je(this,fd);Je(this,hd);Ie(this,Ar,e.queryCache||new PK),Ie(this,Po,e.mutationCache||new kK),Ie(this,Eo,e.defaultOptions||{}),Ie(this,ud,new Map),Ie(this,dd,new Map),Ie(this,Ao,0)}mount(){dg(this,Ao)._++,W(this,Ao)===1&&(Ie(this,fd,vk.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Ar).onFocus())})),Ie(this,hd,rx.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Ar).onOnline())})))}unmount(){var e,t;dg(this,Ao)._--,W(this,Ao)===0&&((e=W(this,fd))==null||e.call(this),Ie(this,fd,void 0),(t=W(this,hd))==null||t.call(this),Ie(this,hd,void 0))}isFetching(e){return W(this,Ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Po).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,Ar).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,Ar).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Vo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,Ar).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=W(this,Ar).get(n.queryHash),i=a==null?void 0:a.state.data,o=uK(t,i);if(o!==void 0)return W(this,Ar).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return an.batch(()=>W(this,Ar).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,Ar).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,Ar);an.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,Ar);return an.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=an.batch(()=>W(this,Ar).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(zn).catch(zn)}invalidateQueries(e,t={}){return an.batch(()=>(W(this,Ar).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=an.batch(()=>W(this,Ar).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(zn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,Ar).build(this,t);return r.isStaleByTime(Vo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zn).catch(zn)}fetchInfiniteQuery(e){return e.behavior=PE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zn).catch(zn)}ensureInfiniteQueryData(e){return e.behavior=PE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rx.isOnline()?W(this,Po).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Ar)}getMutationCache(){return W(this,Po)}getDefaultOptions(){return W(this,Eo)}setDefaultOptions(e){Ie(this,Eo,e)}setQueryDefaults(e,t){W(this,ud).set(fc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,ud).values()],r={};return t.forEach(n=>{fm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,dd).set(fc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,dd).values()],r={};return t.forEach(n=>{fm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Eo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Eo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,Ar).clear(),W(this,Po).clear()}},Ar=new WeakMap,Po=new WeakMap,Eo=new WeakMap,ud=new WeakMap,dd=new WeakMap,Ao=new WeakMap,fd=new WeakMap,hd=new WeakMap,xM),r5=x.createContext(void 0),n5=e=>{const t=x.useContext(r5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AK=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(r5.Provider,{value:e,children:t})),s5=x.createContext(!1),OK=()=>x.useContext(s5);s5.Provider;function TK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var IK=x.createContext(TK()),RK=()=>x.useContext(IK),MK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$K=e=>{x.useEffect(()=>{e.clearReset()},[e])},DK=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||QD(r,[e.error,n])),LK=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},FK=(e,t)=>e.isLoading&&e.isFetching&&!t,UK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,AE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function BK(e,t,r){var f,h,p,b,m;const n=OK(),a=RK(),i=n5(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",LK(o),MK(o,a),$K(a);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(w=>{const v=d?c.subscribe(an.batchCalls(w)):zn;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),UK(o,u))throw AE(o,c,a);if(DK({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,o,u),o.experimental_prefetchInRender&&!dc&&FK(u,n)){const w=l?AE(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;w==null||w.catch(zn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function de(e,t){return BK(e,wK)}function ye(e,t){const r=n5(),[n]=x.useState(()=>new CK(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(an.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(zn)},[n]);if(a.error&&QD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function a5(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function xe(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await a5(n),n}const i5=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await a5(r),await r.json())},re=new EK({defaultOptions:{queries:{queryFn:i5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),VK=1,qK=1e6;let Aw=0;function zK(){return Aw=(Aw+1)%Number.MAX_SAFE_INTEGER,Aw.toString()}const Ow=new Map,OE=e=>{if(Ow.has(e))return;const t=setTimeout(()=>{Ow.delete(e),$h({type:"REMOVE_TOAST",toastId:e})},qK);Ow.set(e,t)},WK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?OE(r):e.toasts.forEach(n=>{OE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Nv=[];let _v={toasts:[]};function $h(e){_v=WK(_v,e),Nv.forEach(t=>{t(_v)})}function KK({...e}){const t=zK(),r=a=>$h({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>$h({type:"DISMISS_TOAST",toastId:t});return $h({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function ht(){const[e,t]=x.useState(_v);return x.useEffect(()=>(Nv.push(t),()=>{const r=Nv.indexOf(t);r>-1&&Nv.splice(r,1)}),[e]),{...e,toast:KK,dismiss:r=>$h({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function TE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jn(...e){return t=>{let r=!1;const n=e.map(a=>{const i=TE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():TE(e[a],null)}}}}function dt(...e){return x.useCallback(Jn(...e),e)}function HK(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Pn(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...b}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=x.useMemo(()=>b,Object.values(b));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=x.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,GK(a,...t)]}function GK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function IE(e){const t=QK(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(XK);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function QK(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=ZK(a),l=JK(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YK=Symbol("radix.slottable");function XK(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YK}function JK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ZK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sp(e){const t=e+"CollectionProvider",[r,n]=Pn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:v}=m,g=D.useRef(null),y=D.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:y,collectionRef:g,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=IE(l),u=D.forwardRef((m,w)=>{const{scope:v,children:g}=m,y=i(l,v),j=dt(w,y.collectionRef);return s.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=IE(d),p=D.forwardRef((m,w)=>{const{scope:v,children:g,...y}=m,j=D.useRef(null),_=dt(w,j),N=i(d,v);return D.useEffect(()=>(N.itemMap.set(j,{ref:j,...y}),()=>void N.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:_,children:g})});p.displayName=d;function b(m){const w=i(e+"CollectionConsumer",m);return D.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,S)=>y.indexOf(N.ref.current)-y.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},b,n]}function eH(e){const t=tH(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(nH);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function tH(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=aH(a),l=sH(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rH=Symbol("radix.slottable");function nH(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rH}function sH(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function aH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=iH.reduce((e,t)=>{const r=eH(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yk(e,t){e&&Tc.flushSync(()=>e.dispatchEvent(t))}function Mr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oH(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lH="DismissableLayer",H1="dismissableLayer.update",cH="dismissableLayer.pointerDownOutside",uH="dismissableLayer.focusOutside",RE,o5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ic=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(o5),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),b=dt(t,S=>f(S)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),g=d?m.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=v,_=fH(S=>{const k=S.target,C=[...u.branches].some(P=>P.contains(k));!j||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=hH(S=>{const k=S.target;[...u.branches].some(P=>P.contains(k))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return oH(S=>{g===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ME(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=RE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ME())},[d,u]),x.useEffect(()=>{const S=()=>p({});return document.addEventListener(H1,S),()=>document.removeEventListener(H1,S)},[]),s.jsx($e.div,{...c,ref:b,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,_.onPointerDownCapture)})});Ic.displayName=lH;var dH="DismissableLayerBranch",l5=x.forwardRef((e,t)=>{const r=x.useContext(o5),n=x.useRef(null),a=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx($e.div,{...e,ref:a})});l5.displayName=dH;function fH(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){c5(cH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hH(e,t=globalThis==null?void 0:globalThis.document){const r=Mr(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&c5(uH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ME(){const e=new CustomEvent(H1);document.dispatchEvent(e)}function c5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yk(a,i):a.dispatchEvent(i)}var mH=Ic,pH=l5,$r=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},gH="Portal",hf=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=x.useState(!1);$r(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?TW.createPortal(s.jsx($e.div,{...n,ref:t}),o):null});hf.displayName=gH;function vH(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var cn=e=>{const{present:t,children:r}=e,n=xH(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=dt(n.ref,yH(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};cn.displayName="Presence";function xH(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=vH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Og(n.current);i.current=l==="mounted"?u:"none"},[l]),$r(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=Og(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Og(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(i.current=Og(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Og(e){return(e==null?void 0:e.animationName)||"none"}function yH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bH=By[" useInsertionEffect ".trim().toString()]||$r;function hs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=wH({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=jH(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function wH({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return bH(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function jH(e){return typeof e=="function"}var u5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NH="VisuallyHidden",ab=x.forwardRef((e,t)=>s.jsx($e.span,{...e,ref:t,style:{...u5,...e.style}}));ab.displayName=NH;var _H=ab,bk="ToastProvider",[wk,SH,kH]=Sp("Toast"),[d5]=Pn("Toast",[kH]),[CH,ib]=d5(bk),f5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bk}\`. Expected non-empty \`string\`.`),s.jsx(wk.Provider,{scope:t,children:s.jsx(CH,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};f5.displayName=bk;var h5="ToastViewport",PH=["F8"],G1="toast.viewportPause",Q1="toast.viewportResume",m5=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=PH,label:a="Notifications ({hotkey})",...i}=e,o=ib(h5,r),l=SH(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=dt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const w=v=>{var y;n.length!==0&&n.every(j=>v[j]||v.code===j)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),x.useEffect(()=>{const w=c.current,v=f.current;if(b&&w&&v){const g=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(G1);v.dispatchEvent(N),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Q1);v.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&y()},_=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",g),w.addEventListener("focusout",j),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",y)}}},[b,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:w})=>{const g=l().map(y=>{const j=y.ref.current,_=[j,...BH(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return x.useEffect(()=>{const w=f.current;if(w){const v=g=>{var _,N,S;const y=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!y){const k=document.activeElement,C=g.shiftKey;if(g.target===w&&C){(_=u.current)==null||_.focus();return}const O=m({tabbingDirection:C?"backwards":"forwards"}),I=O.findIndex(T=>T===k);Tw(O.slice(I+1))?g.preventDefault():C?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,m]),s.jsxs(pH,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(Y1,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Tw(w)}}),s.jsx(wk.Slot,{scope:r,children:s.jsx($e.ol,{tabIndex:-1,...i,ref:h})}),b&&s.jsx(Y1,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Tw(w)}})]})});m5.displayName=h5;var p5="ToastFocusProxy",Y1=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=ib(p5,r);return s.jsx(ab,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Y1.displayName=p5;var kp="Toast",EH="toast.swipeStart",AH="toast.swipeMove",OH="toast.swipeCancel",TH="toast.swipeEnd",g5=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=hs({prop:n,defaultProp:a??!0,onChange:i,caller:kp});return s.jsx(cn,{present:r||l,children:s.jsx(MH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Mr(e.onPause),onResume:Mr(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});g5.displayName=kp;var[IH,RH]=d5(kp,{onClose(){}}),MH=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...b}=e,m=ib(kp,r),[w,v]=x.useState(null),g=dt(t,T=>v(T)),y=x.useRef(null),j=x.useRef(null),_=a||m.duration,N=x.useRef(0),S=x.useRef(_),k=x.useRef(0),{onToastAdd:C,onToastRemove:P}=m,E=Mr(()=>{var $;(w==null?void 0:w.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),o()}),O=x.useCallback(T=>{!T||T===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(E,T))},[E]);x.useEffect(()=>{const T=m.viewport;if(T){const $=()=>{O(S.current),u==null||u()},V=()=>{const K=new Date().getTime()-N.current;S.current=S.current-K,window.clearTimeout(k.current),c==null||c()};return T.addEventListener(G1,V),T.addEventListener(Q1,$),()=>{T.removeEventListener(G1,V),T.removeEventListener(Q1,$)}}},[m.viewport,_,c,u,O]),x.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(_)},[i,_,m.isClosePausedRef,O]),x.useEffect(()=>(C(),()=>P()),[C,P]);const I=x.useMemo(()=>w?N5(w):null,[w]);return m.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx($H,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:I}),s.jsx(IH,{scope:r,onClose:E,children:Tc.createPortal(s.jsx(wk.ItemSlot,{scope:r,children:s.jsx(mH,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx($e.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Ne(e.onPointerDown,T=>{T.button===0&&(y.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ne(e.onPointerMove,T=>{if(!y.current)return;const $=T.clientX-y.current.x,V=T.clientY-y.current.y,K=!!j.current,A=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Q=A?R(0,$):0,J=A?0:R(0,V),F=T.pointerType==="touch"?10:2,X={x:Q,y:J},H={originalEvent:T,delta:X};K?(j.current=X,Tg(AH,f,H,{discrete:!1})):$E(X,m.swipeDirection,F)?(j.current=X,Tg(EH,d,H,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs($)>F||Math.abs(V)>F)&&(y.current=null)}),onPointerUp:Ne(e.onPointerUp,T=>{const $=j.current,V=T.target;if(V.hasPointerCapture(T.pointerId)&&V.releasePointerCapture(T.pointerId),j.current=null,y.current=null,$){const K=T.currentTarget,A={originalEvent:T,delta:$};$E($,m.swipeDirection,m.swipeThreshold)?Tg(TH,p,A,{discrete:!0}):Tg(OH,h,A,{discrete:!0}),K.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),$H=e=>{const{__scopeToast:t,children:r,...n}=e,a=ib(kp,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return FH(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(hf,{asChild:!0,children:s.jsx(ab,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},DH="ToastTitle",v5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($e.div,{...n,ref:t})});v5.displayName=DH;var LH="ToastDescription",x5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx($e.div,{...n,ref:t})});x5.displayName=LH;var y5="ToastAction",b5=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(j5,{altText:r,asChild:!0,children:s.jsx(jk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${y5}\`. Expected non-empty \`string\`.`),null)});b5.displayName=y5;var w5="ToastClose",jk=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=RH(w5,r);return s.jsx(j5,{asChild:!0,children:s.jsx($e.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});jk.displayName=w5;var j5=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function N5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),UH(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...N5(n))}}),t}function Tg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yk(a,i):a.dispatchEvent(i)}var $E=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function FH(e=()=>{}){const t=Mr(e);$r(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function UH(e){return e.nodeType===e.ELEMENT_NODE}function BH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Tw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var VH=f5,_5=m5,S5=g5,k5=v5,C5=x5,P5=b5,E5=jk;function A5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=A5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=A5(e))&&(n&&(n+=" "),n+=t);return n}const DE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,LE=xt,Cp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return LE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=DE(d)||DE(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(b=>{let[m,w]=b;return Array.isArray(w)?w.includes({...i,...l}[m]):{...i,...l}[m]===w})?[...u,f,h]:u},[]);return LE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O5=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...zH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:O5("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(WH,{ref:i,iconNode:t,className:O5(`lucide-${qH(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=me("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=me("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=me("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=me("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=me("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=me("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=me("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=me("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=me("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=me("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=me("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=me("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=me("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=me("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=me("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=me("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=me("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=me("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=me("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=me("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=me("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=me("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=me("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=me("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=me("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=me("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),wG=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},jG=(e,t)=>({classGroupId:e,validator:t}),z5=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),lx="-",HE=[],NG="arbitrary..",_G=e=>{const t=kG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return SG(o);const l=o.split(lx),c=l[0]===""&&l.length>1?1:0;return W5(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?wG(u,c):c:u||HE}return r[o]||HE}}},W5=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const u=W5(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(lx):e.slice(t).join(lx),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},SG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?NG+n:void 0})(),kG=e=>{const{theme:t,classGroups:r}=e;return CG(r,t)},CG=(e,t)=>{const r=z5();for(const n in e){const a=e[n];Ck(a,r,n,t)}return r},Ck=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];PG(o,t,r,n)}},PG=(e,t,r,n)=>{if(typeof e=="string"){EG(e,t,r);return}if(typeof e=="function"){AG(e,t,r,n);return}OG(e,t,r,n)},EG=(e,t,r)=>{const n=e===""?t:K5(t,e);n.classGroupId=r},AG=(e,t,r,n)=>{if(TG(e)){Ck(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(jG(r,e))},OG=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];Ck(c,K5(t,l),r,n)}},K5=(e,t)=>{let r=e;const n=t.split(lx),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=z5(),r.nextPart.set(o,l)),r=l}return r},TG=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,IG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},tN="!",GE=":",RG=[],QE=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),MG=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;const d=a.length;for(let m=0;m<d;m++){const w=a[m];if(o===0&&l===0){if(w===GE){i.push(a.slice(c,m)),c=m+1;continue}if(w==="/"){u=m;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const f=i.length===0?a:a.slice(c);let h=f,p=!1;f.endsWith(tN)?(h=f.slice(0,-1),p=!0):f.startsWith(tN)&&(h=f.slice(1),p=!0);const b=u&&u>c?u-c:void 0;return QE(i,p,h,b)};if(t){const a=t+GE,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):QE(RG,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},$G=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},DG=e=>({cache:IG(e.cacheSize),parseClassName:MG(e),sortModifiers:$G(e),..._G(e)}),LG=/\s+/,FG=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(LG);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!m,v=n(w?b.substring(0,m):b);if(!v){if(!w){c=d+(c.length>0?" "+c:c);continue}if(v=n(b),!v){c=d+(c.length>0?" "+c:c);continue}w=!1}const g=h.length===0?"":h.length===1?h[0]:i(h).join(":"),y=p?g+tN:g,j=y+v;if(o.indexOf(j)>-1)continue;o.push(j);const _=a(v,w);for(let N=0;N<_.length;++N){const S=_[N];o.push(y+S)}c=d+(c.length>0?" "+c:c)}return c},UG=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=H5(r))&&(a&&(a+=" "),a+=n);return a},H5=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=H5(e[n]))&&(r&&(r+=" "),r+=t);return r},BG=(e,...t)=>{let r,n,a,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=DG(u),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=FG(c,r);return a(c,d),d};return i=o,(...c)=>i(UG(...c))},VG=[],Zr=e=>{const t=r=>r[e]||VG;return t.isThemeGetter=!0,t},G5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Q5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qG=/^\d+\/\d+$/,zG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zc=e=>qG.test(e),bt=e=>!!e&&!Number.isNaN(Number(e)),oo=e=>!!e&&Number.isInteger(Number(e)),Iw=e=>e.endsWith("%")&&bt(e.slice(0,-1)),pi=e=>zG.test(e),QG=()=>!0,YG=e=>WG.test(e)&&!KG.test(e),Y5=()=>!1,XG=e=>HG.test(e),JG=e=>GG.test(e),ZG=e=>!Ve(e)&&!qe(e),eQ=e=>pf(e,Z5,Y5),Ve=e=>G5.test(e),xl=e=>pf(e,e3,YG),Rw=e=>pf(e,aQ,bt),YE=e=>pf(e,X5,Y5),tQ=e=>pf(e,J5,JG),Ig=e=>pf(e,t3,XG),qe=e=>Q5.test(e),Jf=e=>gf(e,e3),rQ=e=>gf(e,iQ),XE=e=>gf(e,X5),nQ=e=>gf(e,Z5),sQ=e=>gf(e,J5),Rg=e=>gf(e,t3,!0),pf=(e,t,r)=>{const n=G5.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},gf=(e,t,r=!1)=>{const n=Q5.exec(e);return n?n[1]?t(n[1]):r:!1},X5=e=>e==="position"||e==="percentage",J5=e=>e==="image"||e==="url",Z5=e=>e==="length"||e==="size"||e==="bg-size",e3=e=>e==="length",aQ=e=>e==="number",iQ=e=>e==="family-name",t3=e=>e==="shadow",oQ=()=>{const e=Zr("color"),t=Zr("font"),r=Zr("text"),n=Zr("font-weight"),a=Zr("tracking"),i=Zr("leading"),o=Zr("breakpoint"),l=Zr("container"),c=Zr("spacing"),u=Zr("radius"),d=Zr("shadow"),f=Zr("inset-shadow"),h=Zr("text-shadow"),p=Zr("drop-shadow"),b=Zr("blur"),m=Zr("perspective"),w=Zr("aspect"),v=Zr("ease"),g=Zr("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...j(),qe,Ve],N=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],k=()=>[qe,Ve,c],C=()=>[Zc,"full","auto",...k()],P=()=>[oo,"none","subgrid",qe,Ve],E=()=>["auto",{span:["full",oo,qe,Ve]},oo,qe,Ve],O=()=>[oo,"auto",qe,Ve],I=()=>["auto","min","max","fr",qe,Ve],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...k()],K=()=>[Zc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],A=()=>[e,qe,Ve],R=()=>[...j(),XE,YE,{position:[qe,Ve]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",nQ,eQ,{size:[qe,Ve]}],F=()=>[Iw,Jf,xl],X=()=>["","none","full",u,qe,Ve],H=()=>["",bt,Jf,xl],ie=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[bt,Iw,XE,YE],we=()=>["","none",b,qe,Ve],oe=()=>["none",bt,qe,Ve],L=()=>["none",bt,qe,Ve],se=()=>[bt,qe,Ve],G=()=>[Zc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pi],breakpoint:[pi],color:[QG],container:[pi],"drop-shadow":[pi],ease:["in","out","in-out"],font:[ZG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pi],shadow:[pi],spacing:["px",bt],text:[pi],"text-shadow":[pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zc,Ve,qe,w]}],container:["container"],columns:[{columns:[bt,Ve,qe,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[oo,"auto",qe,Ve]}],basis:[{basis:[Zc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bt,Zc,"auto","initial","none",Ve]}],grow:[{grow:["",bt,qe,Ve]}],shrink:[{shrink:["",bt,qe,Ve]}],order:[{order:[oo,"first","last","none",qe,Ve]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Jf,xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,Rw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Iw,Ve]}],"font-family":[{font:[rQ,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,qe,Ve]}],"line-clamp":[{"line-clamp":[bt,"none",qe,Rw]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",qe,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[bt,"from-font","auto",qe,xl]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[bt,"auto",qe,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},oo,qe,Ve],radial:["",qe,Ve],conic:[oo,qe,Ve]},sQ,tQ]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bt,qe,Ve]}],"outline-w":[{outline:["",bt,Jf,xl]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",d,Rg,Ig]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",f,Rg,Ig]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[bt,xl]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",h,Rg,Ig]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[bt,qe,Ve]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[qe,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ve]}],filter:[{filter:["","none",qe,Ve]}],blur:[{blur:we()}],brightness:[{brightness:[bt,qe,Ve]}],contrast:[{contrast:[bt,qe,Ve]}],"drop-shadow":[{"drop-shadow":["","none",p,Rg,Ig]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",bt,qe,Ve]}],"hue-rotate":[{"hue-rotate":[bt,qe,Ve]}],invert:[{invert:["",bt,qe,Ve]}],saturate:[{saturate:[bt,qe,Ve]}],sepia:[{sepia:["",bt,qe,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ve]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[bt,qe,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[bt,qe,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bt,qe,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bt,qe,Ve]}],"backdrop-invert":[{"backdrop-invert":["",bt,qe,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[bt,qe,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[bt,qe,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",bt,qe,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bt,"initial",qe,Ve]}],ease:[{ease:["linear","initial",v,qe,Ve]}],delay:[{delay:[bt,qe,Ve]}],animate:[{animate:["none",g,qe,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,qe,Ve]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:se()}],"skew-x":[{"skew-x":se()}],"skew-y":[{"skew-y":se()}],transform:[{transform:[qe,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ve]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[bt,Jf,xl,Rw]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lQ=BG(oQ);function be(...e){return lQ(xt(e))}const cQ=VH,r3=x.forwardRef(({className:e,...t},r)=>s.jsx(_5,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));r3.displayName=_5.displayName;const uQ=Cp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),n3=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(S5,{ref:n,className:be(uQ({variant:t}),e),...r}));n3.displayName=S5.displayName;const dQ=x.forwardRef(({className:e,...t},r)=>s.jsx(P5,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dQ.displayName=P5.displayName;const s3=x.forwardRef(({className:e,...t},r)=>s.jsx(E5,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Qo,{className:"h-4 w-4"})}));s3.displayName=E5.displayName;const a3=x.forwardRef(({className:e,...t},r)=>s.jsx(k5,{ref:r,className:be("text-sm font-semibold",e),...t}));a3.displayName=k5.displayName;const i3=x.forwardRef(({className:e,...t},r)=>s.jsx(C5,{ref:r,className:be("text-sm opacity-90",e),...t}));i3.displayName=C5.displayName;function fQ(){const{toasts:e}=ht();return s.jsxs(cQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(n3,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(a3,{children:r}),n&&s.jsx(i3,{children:n})]}),a,s.jsx(s3,{})]},t)}),s.jsx(r3,{})]})}var hQ=By[" useId ".trim().toString()]||(()=>{}),mQ=0;function Gr(e){const[t,r]=x.useState(hQ());return $r(()=>{r(n=>n??String(mQ++))},[e]),t?`radix-${t}`:""}const pQ=["top","right","bottom","left"],Yo=Math.min,js=Math.max,cx=Math.round,Mg=Math.floor,si=e=>({x:e,y:e}),gQ={left:"right",right:"left",bottom:"top",top:"bottom"},vQ={start:"end",end:"start"};function rN(e,t,r){return js(e,Yo(t,r))}function zi(e,t){return typeof e=="function"?e(t):e}function Wi(e){return e.split("-")[0]}function vf(e){return e.split("-")[1]}function Pk(e){return e==="x"?"y":"x"}function Ek(e){return e==="y"?"height":"width"}const xQ=new Set(["top","bottom"]);function Za(e){return xQ.has(Wi(e))?"y":"x"}function Ak(e){return Pk(Za(e))}function yQ(e,t,r){r===void 0&&(r=!1);const n=vf(e),a=Ak(e),i=Ek(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ux(o)),[o,ux(o)]}function bQ(e){const t=ux(e);return[nN(e),t,nN(t)]}function nN(e){return e.replace(/start|end/g,t=>vQ[t])}const JE=["left","right"],ZE=["right","left"],wQ=["top","bottom"],jQ=["bottom","top"];function NQ(e,t,r){switch(e){case"top":case"bottom":return r?t?ZE:JE:t?JE:ZE;case"left":case"right":return t?wQ:jQ;default:return[]}}function _Q(e,t,r,n){const a=vf(e);let i=NQ(Wi(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(nN)))),i}function ux(e){return e.replace(/left|right|bottom|top/g,t=>gQ[t])}function SQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function o3(e){return typeof e!="number"?SQ(e):{top:e,right:e,bottom:e,left:e}}function dx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function eA(e,t,r){let{reference:n,floating:a}=e;const i=Za(t),o=Ak(t),l=Ek(o),c=Wi(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(vf(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const kQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=eA(u,n,c),h=n,p={},b=0;for(let m=0;m<l.length;m++){const{name:w,fn:v}=l[m],{x:g,y,data:j,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=y??f,p={...p,[w]:{...p[w],...j}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=eA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function gm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=zi(t,e),b=o3(p),w=l[h?f==="floating"?"reference":"floating":f],v=dx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},_=dx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:c}):g);return{top:(v.top-_.top+b.top)/j.y,bottom:(_.bottom-v.bottom+b.bottom)/j.y,left:(v.left-_.left+b.left)/j.x,right:(_.right-v.right+b.right)/j.x}}const CQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=zi(e,t)||{};if(u==null)return{};const f=o3(d),h={x:r,y:n},p=Ak(a),b=Ek(p),m=await o.getDimensions(u),w=p==="y",v=w?"top":"left",g=w?"bottom":"right",y=w?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[p]-h[p]-i.floating[b],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[y]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[y]||i.floating[b]);const k=j/2-_/2,C=S/2-m[b]/2-1,P=Yo(f[v],C),E=Yo(f[g],C),O=P,I=S-m[b]-E,T=S/2-m[b]/2+k,$=rN(O,T,I),V=!c.arrow&&vf(a)!=null&&T!==$&&i.reference[b]/2-(T<O?P:E)-m[b]/2<0,K=V?T<O?T-O:T-I:0;return{[p]:h[p]+K,data:{[p]:$,centerOffset:T-$-K,...V&&{alignmentOffset:K}},reset:V}}}),PQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...w}=zi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Wi(a),g=Za(l),y=Wi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(y||!m?[ux(l)]:bQ(l)),N=b!=="none";!h&&N&&_.push(..._Q(l,m,b,j));const S=[l,..._],k=await gm(t,w),C=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[v]),f){const T=yQ(a,o,j);C.push(k[T[0]],k[T[1]])}if(P=[...P,{placement:a,overflows:C}],!C.every(T=>T<=0)){var E,O;const T=(((E=i.flip)==null?void 0:E.index)||0)+1,$=S[T];if($&&(!(f==="alignment"?g!==Za($):!1)||P.every(A=>Za(A.placement)===g?A.overflows[0]>0:!0)))return{data:{index:T,overflows:P},reset:{placement:$}};let V=(O=P.filter(K=>K.overflows[0]<=0).sort((K,A)=>K.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(p){case"bestFit":{var I;const K=(I=P.filter(A=>{if(N){const R=Za(A.placement);return R===g||R==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(R=>R>0).reduce((R,Q)=>R+Q,0)]).sort((A,R)=>A[1]-R[1])[0])==null?void 0:I[0];K&&(V=K);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function tA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rA(e){return pQ.some(t=>e[t]>=0)}const EQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=zi(e,t);switch(n){case"referenceHidden":{const i=await gm(t,{...a,elementContext:"reference"}),o=tA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rA(o)}}}case"escaped":{const i=await gm(t,{...a,altBoundary:!0}),o=tA(i,r.floating);return{data:{escapedOffsets:o,escaped:rA(o)}}}default:return{}}}}},l3=new Set(["left","top"]);async function AQ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Wi(r),l=vf(r),c=Za(r)==="y",u=l3.has(o)?-1:1,d=i&&c?-1:1,f=zi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const OQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await AQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},TQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y:g}=w;return{x:v,y:g}}},...c}=zi(e,t),u={x:r,y:n},d=await gm(t,c),f=Za(Wi(a)),h=Pk(f);let p=u[h],b=u[f];if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=p+d[w],y=p-d[v];p=rN(g,p,y)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=b+d[w],y=b-d[v];b=rN(g,b,y)}const m=l.fn({...t,[h]:p,[f]:b});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},IQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zi(e,t),d={x:r,y:n},f=Za(a),h=Pk(f);let p=d[h],b=d[f];const m=zi(l,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=h==="y"?"height":"width",j=i.reference[h]-i.floating[y]+w.mainAxis,_=i.reference[h]+i.reference[y]-w.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var v,g;const y=h==="y"?"width":"height",j=l3.has(Wi(a)),_=i.reference[f]-i.floating[y]+(j&&((v=o.offset)==null?void 0:v[f])||0)+(j?0:w.crossAxis),N=i.reference[f]+i.reference[y]+(j?0:((g=o.offset)==null?void 0:g[f])||0)-(j?w.crossAxis:0);b<_?b=_:b>N&&(b=N)}return{[h]:p,[f]:b}}}},RQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=zi(e,t),d=await gm(t,u),f=Wi(a),h=vf(a),p=Za(a)==="y",{width:b,height:m}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const g=m-d.top-d.bottom,y=b-d.left-d.right,j=Yo(m-d[w],g),_=Yo(b-d[v],y),N=!t.middlewareData.shift;let S=j,k=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=g),N&&!h){const P=js(d.left,0),E=js(d.right,0),O=js(d.top,0),I=js(d.bottom,0);p?k=b-2*(P!==0||E!==0?P+E:js(d.left,d.right)):S=m-2*(O!==0||I!==0?O+I:js(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return b!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function hb(){return typeof window<"u"}function xf(e){return c3(e)?(e.nodeName||"").toLowerCase():"#document"}function Os(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(c3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c3(e){return hb()?e instanceof Node||e instanceof Os(e).Node:!1}function Da(e){return hb()?e instanceof Element||e instanceof Os(e).Element:!1}function li(e){return hb()?e instanceof HTMLElement||e instanceof Os(e).HTMLElement:!1}function nA(e){return!hb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Os(e).ShadowRoot}const MQ=new Set(["inline","contents"]);function Tp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=La(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!MQ.has(a)}const $Q=new Set(["table","td","th"]);function DQ(e){return $Q.has(xf(e))}const LQ=[":popover-open",":modal"];function mb(e){return LQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const FQ=["transform","translate","scale","rotate","perspective"],UQ=["transform","translate","scale","rotate","perspective","filter"],BQ=["paint","layout","strict","content"];function Ok(e){const t=Tk(),r=Da(e)?La(e):e;return FQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||UQ.some(n=>(r.willChange||"").includes(n))||BQ.some(n=>(r.contain||"").includes(n))}function VQ(e){let t=Xo(e);for(;li(t)&&!Sd(t);){if(Ok(t))return t;if(mb(t))return null;t=Xo(t)}return null}function Tk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qQ=new Set(["html","body","#document"]);function Sd(e){return qQ.has(xf(e))}function La(e){return Os(e).getComputedStyle(e)}function pb(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xo(e){if(xf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nA(e)&&e.host||ui(e);return nA(t)?t.host:t}function u3(e){const t=Xo(e);return Sd(t)?e.ownerDocument?e.ownerDocument.body:e.body:li(t)&&Tp(t)?t:u3(t)}function vm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=u3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Os(a);if(i){const l=sN(o);return t.concat(o,o.visualViewport||[],Tp(a)?a:[],l&&r?vm(l):[])}return t.concat(a,vm(a,[],r))}function sN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function d3(e){const t=La(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=li(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=cx(r)!==i||cx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Ik(e){return Da(e)?e:e.contextElement}function Qu(e){const t=Ik(e);if(!li(t))return si(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=d3(t);let o=(i?cx(r.width):r.width)/n,l=(i?cx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zQ=si(0);function f3(e){const t=Os(e);return!Tk()||!t.visualViewport?zQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WQ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Os(e)?!1:t}function pc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Ik(e);let o=si(1);t&&(n?Da(n)&&(o=Qu(n)):o=Qu(e));const l=WQ(i,r,n)?f3(i):si(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Os(i),p=n&&Da(n)?Os(n):n;let b=h,m=sN(b);for(;m&&n&&p!==b;){const w=Qu(m),v=m.getBoundingClientRect(),g=La(m),y=v.left+(m.clientLeft+parseFloat(g.paddingLeft))*w.x,j=v.top+(m.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=y,u+=j,b=Os(m),m=sN(b)}}return dx({width:d,height:f,x:c,y:u})}function gb(e,t){const r=pb(e).scrollLeft;return t?t.left+r:pc(ui(e)).left+r}function h3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-gb(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function KQ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ui(n),l=t?mb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=si(1);const d=si(0),f=li(n);if((f||!f&&!i)&&((xf(n)!=="body"||Tp(o))&&(c=pb(n)),li(n))){const p=pc(n);u=Qu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?h3(o,c):si(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function HQ(e){return Array.from(e.getClientRects())}function GQ(e){const t=ui(e),r=pb(e),n=e.ownerDocument.body,a=js(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=js(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+gb(e);const l=-r.scrollTop;return La(n).direction==="rtl"&&(o+=js(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const sA=25;function QQ(e,t){const r=Os(e),n=ui(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Tk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=gb(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(n.clientWidth-f.clientWidth-p);b<=sA&&(i-=b)}else u<=sA&&(i+=u);return{width:i,height:o,x:l,y:c}}const YQ=new Set(["absolute","fixed"]);function XQ(e,t){const r=pc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=li(e)?Qu(e):si(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function aA(e,t,r){let n;if(t==="viewport")n=QQ(e,r);else if(t==="document")n=GQ(ui(e));else if(Da(t))n=XQ(t,r);else{const a=f3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return dx(n)}function m3(e,t){const r=Xo(e);return r===t||!Da(r)||Sd(r)?!1:La(r).position==="fixed"||m3(r,t)}function JQ(e,t){const r=t.get(e);if(r)return r;let n=vm(e,[],!1).filter(l=>Da(l)&&xf(l)!=="body"),a=null;const i=La(e).position==="fixed";let o=i?Xo(e):e;for(;Da(o)&&!Sd(o);){const l=La(o),c=Ok(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&YQ.has(a.position)||Tp(o)&&!c&&m3(e,o))?n=n.filter(d=>d!==o):a=l,o=Xo(o)}return t.set(e,n),n}function ZQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?mb(t)?[]:JQ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=aA(t,d,a);return u.top=js(f.top,u.top),u.right=Yo(f.right,u.right),u.bottom=Yo(f.bottom,u.bottom),u.left=js(f.left,u.left),u},aA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eY(e){const{width:t,height:r}=d3(e);return{width:t,height:r}}function tY(e,t,r){const n=li(t),a=ui(t),i=r==="fixed",o=pc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=si(0);function u(){c.x=gb(a)}if(n||!n&&!i)if((xf(t)!=="body"||Tp(a))&&(l=pb(t)),n){const p=pc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?h3(a,l):si(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Mw(e){return La(e).position==="static"}function iA(e,t){if(!li(e)||La(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ui(e)===r&&(r=r.ownerDocument.body),r}function p3(e,t){const r=Os(e);if(mb(e))return r;if(!li(e)){let a=Xo(e);for(;a&&!Sd(a);){if(Da(a)&&!Mw(a))return a;a=Xo(a)}return r}let n=iA(e,t);for(;n&&DQ(n)&&Mw(n);)n=iA(n,t);return n&&Sd(n)&&Mw(n)&&!Ok(n)?r:n||VQ(e)||r}const rY=async function(e){const t=this.getOffsetParent||p3,r=this.getDimensions,n=await r(e.floating);return{reference:tY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function nY(e){return La(e).direction==="rtl"}const sY={convertOffsetParentRelativeRectToViewportRelativeRect:KQ,getDocumentElement:ui,getClippingRect:ZQ,getOffsetParent:p3,getElementRects:rY,getClientRects:HQ,getDimensions:eY,getScale:Qu,isElement:Da,isRTL:nY};function g3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aY(e,t){let r=null,n;const a=ui(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const b=Mg(f),m=Mg(a.clientWidth-(d+h)),w=Mg(a.clientHeight-(f+p)),v=Mg(d),y={rootMargin:-b+"px "+-m+"px "+-w+"px "+-v+"px",threshold:js(0,Yo(1,c))||1};let j=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!g3(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(e)}return o(!0),i}function iY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ik(e),d=a||i?[...u?vm(u):[],...vm(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?aY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let b,m=c?pc(e):null;c&&w();function w(){const v=pc(e);m&&!g3(m,v)&&r(),m=v,b=requestAnimationFrame(w)}return r(),()=>{var v;d.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const oY=OQ,lY=TQ,cY=PQ,uY=RQ,dY=EQ,oA=CQ,fY=IQ,hY=(e,t,r)=>{const n=new Map,a={platform:sY,...r},i={...a.platform,_c:n};return kQ(e,t,{...a,platform:i})};var mY=typeof document<"u",pY=function(){},Sv=mY?x.useLayoutEffect:pY;function fx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!fx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!fx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function v3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lA(e,t){const r=v3(e);return Math.round(t*r)/r}function $w(e){const t=x.useRef(e);return Sv(()=>{t.current=e}),t}function gY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);fx(h,n)||p(n);const[b,m]=x.useState(null),[w,v]=x.useState(null),g=x.useCallback(A=>{A!==N.current&&(N.current=A,m(A))},[]),y=x.useCallback(A=>{A!==S.current&&(S.current=A,v(A))},[]),j=i||b,_=o||w,N=x.useRef(null),S=x.useRef(null),k=x.useRef(d),C=c!=null,P=$w(c),E=$w(a),O=$w(u),I=x.useCallback(()=>{if(!N.current||!S.current)return;const A={placement:t,strategy:r,middleware:h};E.current&&(A.platform=E.current),hY(N.current,S.current,A).then(R=>{const Q={...R,isPositioned:O.current!==!1};T.current&&!fx(k.current,Q)&&(k.current=Q,Tc.flushSync(()=>{f(Q)}))})},[h,t,r,E,O]);Sv(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const T=x.useRef(!1);Sv(()=>(T.current=!0,()=>{T.current=!1}),[]),Sv(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(P.current)return P.current(j,_,I);I()}},[j,_,I,P,C]);const $=x.useMemo(()=>({reference:N,floating:S,setReference:g,setFloating:y}),[g,y]),V=x.useMemo(()=>({reference:j,floating:_}),[j,_]),K=x.useMemo(()=>{const A={position:r,left:0,top:0};if(!V.floating)return A;const R=lA(V.floating,d.x),Q=lA(V.floating,d.y);return l?{...A,transform:"translate("+R+"px, "+Q+"px)",...v3(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:Q}},[r,l,V.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:I,refs:$,elements:V,floatingStyles:K}),[d,I,$,V,K])}const vY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?oA({element:n.current,padding:a}).fn(r):{}:n?oA({element:n,padding:a}).fn(r):{}}}},xY=(e,t)=>({...oY(e),options:[e,t]}),yY=(e,t)=>({...lY(e),options:[e,t]}),bY=(e,t)=>({...fY(e),options:[e,t]}),wY=(e,t)=>({...cY(e),options:[e,t]}),jY=(e,t)=>({...uY(e),options:[e,t]}),NY=(e,t)=>({...dY(e),options:[e,t]}),_Y=(e,t)=>({...vY(e),options:[e,t]});var SY="Arrow",x3=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx($e.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});x3.displayName=SY;var kY=x3;function Rk(e){const[t,r]=x.useState(void 0);return $r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Mk="Popper",[y3,il]=Pn(Mk),[CY,b3]=y3(Mk),w3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(CY,{scope:t,anchor:n,onAnchorChange:a,children:r})};w3.displayName=Mk;var j3="PopperAnchor",N3=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=b3(j3,r),o=x.useRef(null),l=dt(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx($e.div,{...a,ref:l})});N3.displayName=j3;var $k="PopperContent",[PY,EY]=y3($k),_3=x.forwardRef((e,t)=>{var ne,we,oe,L,se,G;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:b,...m}=e,w=b3($k,r),[v,g]=x.useState(null),y=dt(t,U=>g(U)),[j,_]=x.useState(null),N=Rk(j),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],O=E.length>0,I={padding:P,boundary:E.filter(OY),altBoundary:O},{refs:T,floatingStyles:$,placement:V,isPositioned:K,middlewareData:A}=gY({strategy:"fixed",placement:C,whileElementsMounted:(...U)=>iY(...U,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[xY({mainAxis:a+k,alignmentAxis:o}),c&&yY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bY():void 0,...I}),c&&wY({...I}),jY({...I,apply:({elements:U,rects:pe,availableWidth:He,availableHeight:Ee})=>{const{width:mt,height:sr}=pe.reference,Ut=U.floating.style;Ut.setProperty("--radix-popper-available-width",`${He}px`),Ut.setProperty("--radix-popper-available-height",`${Ee}px`),Ut.setProperty("--radix-popper-anchor-width",`${mt}px`),Ut.setProperty("--radix-popper-anchor-height",`${sr}px`)}}),j&&_Y({element:j,padding:l}),TY({arrowWidth:S,arrowHeight:k}),h&&NY({strategy:"referenceHidden",...I})]}),[R,Q]=C3(V),J=Mr(b);$r(()=>{K&&(J==null||J())},[K,J]);const F=(ne=A.arrow)==null?void 0:ne.x,X=(we=A.arrow)==null?void 0:we.y,H=((oe=A.arrow)==null?void 0:oe.centerOffset)!==0,[ie,ve]=x.useState();return $r(()=>{v&&ve(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:K?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(L=A.transformOrigin)==null?void 0:L.x,(se=A.transformOrigin)==null?void 0:se.y].join(" "),...((G=A.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(PY,{scope:r,placedSide:R,onArrowChange:_,arrowX:F,arrowY:X,shouldHideArrow:H,children:s.jsx($e.div,{"data-side":R,"data-align":Q,...m,ref:y,style:{...m.style,animation:K?void 0:"none"}})})})});_3.displayName=$k;var S3="PopperArrow",AY={top:"bottom",right:"left",bottom:"top",left:"right"},k3=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=EY(S3,n),o=AY[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(kY,{...a,ref:r,style:{...a.style,display:"block"}})})});k3.displayName=S3;function OY(e){return e!==null}var TY=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=C3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let b="",m="";return u==="bottom"?(b=o?f:`${h}px`,m=`${-c}px`):u==="top"?(b=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:b,y:m}}}});function C3(e){const[t,r="center"]=e.split("-");return[t,r]}var vb=w3,Ip=N3,xb=_3,yb=k3,IY=Symbol("radix.slottable");function RY(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=IY,t}var[bb]=Pn("Tooltip",[il]),wb=il(),P3="TooltipProvider",MY=700,aN="tooltip.open",[$Y,Dk]=bb(P3),E3=e=>{const{__scopeTooltip:t,delayDuration:r=MY,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx($Y,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};E3.displayName=P3;var xm="Tooltip",[DY,jb]=bb(xm),A3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Dk(xm,e.__scopeTooltip),u=wb(t),[d,f]=x.useState(null),h=Gr(),p=x.useRef(0),b=o??c.disableHoverableContent,m=l??c.delayDuration,w=x.useRef(!1),[v,g]=hs({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(aN))):c.onClose(),i==null||i(S)},caller:xm}),y=x.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),j=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,g(!0)},[g]),_=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,g(!0),p.current=0},m)},[m,g]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(vb,{...u,children:s.jsx(DY,{scope:t,contentId:h,open:v,stateAttribute:y,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:x.useCallback(()=>{b?_():(window.clearTimeout(p.current),p.current=0)},[_,b]),onOpen:j,onClose:_,disableHoverableContent:b,children:r})})};A3.displayName=xm;var iN="TooltipTrigger",O3=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=jb(iN,r),i=Dk(iN,r),o=wb(r),l=x.useRef(null),c=dt(t,l,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Ip,{asChild:!0,...o,children:s.jsx($e.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});O3.displayName=iN;var LY="TooltipPortal",[b$e,FY]=bb(LY,{forceMount:void 0}),kd="TooltipContent",T3=x.forwardRef((e,t)=>{const r=FY(kd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=jb(kd,e.__scopeTooltip);return s.jsx(cn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(I3,{side:a,...i,ref:t}):s.jsx(UY,{side:a,...i,ref:t})})}),UY=x.forwardRef((e,t)=>{const r=jb(kd,e.__scopeTooltip),n=Dk(kd,e.__scopeTooltip),a=x.useRef(null),i=dt(t,a),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{l(null),f(!1)},[f]),p=x.useCallback((b,m)=>{const w=b.currentTarget,v={x:b.clientX,y:b.clientY},g=WY(v,w.getBoundingClientRect()),y=KY(v,g),j=HY(m.getBoundingClientRect()),_=QY([...y,...j]);l(_),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const b=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),x.useEffect(()=>{if(o){const b=m=>{const w=m.target,v={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),y=!GY(v,o);g?h():y&&(h(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,o,u,h]),s.jsx(I3,{...e,ref:i})}),[BY,VY]=bb(xm,{isInside:!1}),qY=RY("TooltipContent"),I3=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=jb(kd,r),u=wb(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(aN,d),()=>document.removeEventListener(aN,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(xb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(qY,{children:n}),s.jsx(BY,{scope:r,isInside:!0,children:s.jsx(_H,{id:c.contentId,role:"tooltip",children:a||n})})]})})});T3.displayName=kd;var R3="TooltipArrow",zY=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=wb(r);return VY(R3,r).isInside?null:s.jsx(yb,{...a,...n,ref:t})});zY.displayName=R3;function WY(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function KY(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function HY(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function GY(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function QY(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),YY(t)}function YY(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var XY=E3,JY=A3,ZY=O3,M3=T3;const eX=XY,tX=JY,rX=ZY,$3=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(M3,{ref:n,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));$3.displayName=M3.displayName;const nX=3e4,cA=["mousemove","keydown","click","scroll","touchstart"],sX=5e3;function aX(e=!1){const[,t]=Dn(),{toast:r}=ht(),[n,a]=x.useState(null),i=x.useRef(Date.now()),o=x.useRef(null),l=x.useRef(!1),c=x.useRef(!1),u=x.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=x.useCallback(async()=>{try{const p=await(await xe("POST","/api/session/heartbeat")).json();p.success&&(a({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=x.useCallback(()=>{const h=Date.now();h-i.current>sX&&(i.current=h,d())},[d]);return x.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,nX),cA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),cA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),x.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function iX({children:e}){const{data:t,isLoading:r}=de({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return aX(!r&&!!t),s.jsx(s.Fragment,{children:e})}var Ja=function(){return Ja=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ja.apply(this,arguments)};function yf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function oX(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function lX(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const cX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Lk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class uX extends Lk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uA extends Lk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dA extends Lk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var oN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oN||(oN={}));class dX{constructor(t,{headers:r={},customFetch:n,region:a=oN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=cX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oX(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let w=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const v=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:w}).catch(_=>{throw new uX(_)}),g=v.headers.get("x-relay-error");if(g&&g==="true")throw new uA(v);if(!v.ok)throw new dA(v);let y=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield v.json():y==="application/octet-stream"||y==="application/pdf"?j=yield v.blob():y==="text/event-stream"?j=v:y==="multipart/form-data"?j=yield v.formData():j=yield v.text(),{data:j,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof dA||l instanceof uA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var fX=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},hX=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new fX(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${b}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},mX=class extends hX{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fA=new RegExp("[,()]");var pu=class extends mX{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},pX=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new pu({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new pu({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new pu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new pu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new pu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},gX=class D3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pX(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new D3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new pu({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class vX{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xX="2.89.0",yX=`realtime-js/${xX}`,L3="1.0.0",bX="2.0.0",hA=L3,lN=1e4,wX=1e3,jX=100;var mo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mo||(mo={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Na||(Na={}));var cN;(function(e){e.websocket="websocket"})(cN||(cN={}));var Il;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Il||(Il={}));class NX{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(p),m=0;b.setUint8(m++,this.KINDS.userBroadcastPush),b.setUint8(m++,c.length),b.setUint8(m++,l.length),b.setUint8(m++,o.length),b.setUint8(m++,u.length),b.setUint8(m++,f.length),b.setUint8(m++,r),Array.from(c,v=>b.setUint8(m++,v.charCodeAt(0))),Array.from(l,v=>b.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>b.setUint8(m++,v.charCodeAt(0))),Array.from(u,v=>b.setUint8(m++,v.charCodeAt(0))),Array.from(f,v=>b.setUint8(m++,v.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class F3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(cr||(cr={}));const mA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_X(o,e,t,a),i),{}):{}},_X=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?U3(i,o):uN(o)},U3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PX(t,r)}switch(e){case cr.bool:return SX(t);case cr.float4:case cr.float8:case cr.int2:case cr.int4:case cr.int8:case cr.numeric:case cr.oid:return kX(t);case cr.json:case cr.jsonb:return CX(t);case cr.timestamp:return EX(t);case cr.abstime:case cr.date:case cr.daterange:case cr.int4range:case cr.int8range:case cr.money:case cr.reltime:case cr.text:case cr.time:case cr.timestamptz:case cr.timetz:case cr.tsrange:case cr.tstzrange:return uN(t);default:return uN(t)}},uN=e=>e,SX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},PX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>U3(t,l))}return e},EX=e=>typeof e=="string"?e.replace(" ","T"):e,B3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dw{constructor(t,r,n={},a=lN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pA||(pA={}));class Dh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Dh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Dh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),b=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gA||(gA={}));var Lh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lh||(Lh={}));var bi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bi||(bi={}));class Ru{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dw(this,Na.join,this.params,this.timeout),this.rejoinTimer=new F3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Na.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Dh(this),this.broadcastEndpointURL=B3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Lh.PRESENCE]&&this.bindings[Lh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(bi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(bi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(bi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(b=m==null?void 0:m.length)!==null&&b!==void 0?b:0,v=[];for(let g=0;g<w;g++){const y=m[g],{filter:{event:j,schema:_,table:N,filter:S}}=y,k=p&&p[g];if(k&&k.event===j&&Ru.isFilterValueEqual(k.schema,_)&&Ru.isFilterValueEqual(k.table,N)&&Ru.isFilterValueEqual(k.filter,S))v.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(bi.SUBSCRIBED);return}}).receive("error",p=>{this.state=rn.errored,t==null||t(bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rn.joined&&t===Lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Na.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Dw(this,Na.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Na;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var b,m,w;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,m,w,v,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(b=p.filter)===null||b===void 0?void 0:b.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:m,table:w,commit_timestamp:v,type:g,errors:y}=b;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ru.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Na.close,{},t)}_onError(t){this._on(Na.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mA(t.columns,t.old_record)),r}}const Lw=()=>{},$g={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AX=[1e3,2e3,5e3,1e4],OX=1e4,TX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IX{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lN,this.transport=null,this.heartbeatIntervalMs=$g.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lw,this.ref=0,this.reconnectTimer=null,this.vsn=hA,this.logger=Lw,this.conn=null,this.sendBuffer=[],this.serializer=new NX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${cN.websocket}`,this.httpEndpoint=B3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mo.connecting:return Il.Connecting;case mo.open:return Il.Open;case mo.closing:return Il.Closing;default:return Il.Closed}}isConnected(){return this.connectionState()===Il.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ru(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$g.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===mo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mo.open||this.conn.readyState===mo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Na.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([TX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:yX};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Na.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new F3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$g.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:lN,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:$g.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Lw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:hA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>AX[b-1]||OX,this.vsn){case L3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,m)=>m(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,m)=>m(JSON.parse(b));break;case bX:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ym=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function RX(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function MX(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $X(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=RX(e.baseUrl,n,a),c=await MX(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,b=p==null?void 0:p.error;throw new ym((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Dg(e){return e.join("")}var DX=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`}),!0}catch(t){if(t instanceof ym&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ym&&r.status===409)return;throw r}}};function eu(e){return e.join("")}var LX=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${eu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ym&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ym&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},FX=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$X({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new DX(this.client,t),this.tableOps=new LX(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Nb=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var UX=class extends Nb{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dN=class extends Nb{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Fk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BX=()=>Response,fN=e=>{if(Array.isArray(e))return e.map(r=>fN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=fN(n)}),t},VX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qX=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function zX(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e){var t=zX(e,"string");return bm(t)=="symbol"?t:t+""}function KX(e,t,r){return(t=WX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Fw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HX=async(e,t,r)=>{e instanceof await BX()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new UX(Fw(n),a,i))}).catch(n=>{t(new dN(Fw(n),n))}):t(new dN(Fw(e),e))},GX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(VX(n)?(a.headers=ot({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),ot(ot({},a),r))};async function Rp(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,GX(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>HX(c,l,n))})}async function wm(e,t,r,n){return Rp(e,"GET",t,r,n)}async function ya(e,t,r,n,a){return Rp(e,"POST",t,n,a,r)}async function hN(e,t,r,n,a){return Rp(e,"PUT",t,n,a,r)}async function QX(e,t,r,n){return Rp(e,"HEAD",t,ot(ot({},r),{},{noResolveJson:!0}),n)}async function Uk(e,t,r,n,a){return Rp(e,"DELETE",t,n,a,r)}var YX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}}};let V3;V3=Symbol.toStringTag;var XX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[V3]="BlobDownloadBuilder",this.promise=null}asStream(){return new YX(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}}};const JX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ZX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Fk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=ot(ot({},xA),n);let l=ot(ot({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=ot(ot({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?hN:ya)(a.fetch,`${a.url}/object/${d}`,i,ot({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=ot({upsert:xA.upsert},n),d=ot(ot({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await hN(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(_r(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=ot({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ya(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Nb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ya(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ya(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await ya(n.fetch,`${n.url}/object/sign/${a}`,ot({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ya(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>ot(ot({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>wm(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new XX(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:fN(await wm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await QX(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_r(n)&&n instanceof dN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Uk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=ot(ot(ot({},JX),t),{},{prefix:e||""});return{data:await ya(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=ot({},e);return{data:await ya(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const q3="2.89.0",z3={"X-Client-Info":`storage-js/${q3}`};var eJ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=ot(ot({},z3),t),this.fetch=Fk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await wm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await wm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ya(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await hN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ya(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Uk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},z3),t),this.fetch=Fk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ya(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await wm(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Uk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!qX(e))throw new Nb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new FX({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Bk={"X-Client-Info":`storage-js/${q3}`,"Content-Type":"application/json"};var W3=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function _s(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Uw=class extends W3{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rJ=class extends W3{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Vk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nJ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sJ=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Uw(yA(i),n,o))}).catch(()=>{const i=n+"";t(new Uw(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Uw(a.statusText||`HTTP ${n} error`,n,i))}}else t(new rJ(yA(e),e))},aJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(nJ(n)?(a.headers=ot({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,ot(ot({},a),r)):a};async function iJ(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,aJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>sJ(c,l,n))})}async function Ss(e,t,r,n,a){return iJ(e,"POST",t,n,a,r)}var oJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Bk),t),this.fetch=Vk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ss(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_s(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ss(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_s(n))return{data:null,error:n};throw n}}},lJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Bk),t),this.fetch=Vk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ss(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ss(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ss(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}},cJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ot(ot({},Bk),t),this.fetch=Vk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ss(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}}},uJ=class extends cJ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new dJ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},dJ=class extends oJ{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new fJ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fJ=class extends lJ{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ot(ot({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},hJ=class extends eJ{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new ZX(this.url,this.headers,e,this.fetch)}get vectors(){return new uJ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tJ(this.url+"/iceberg",this.headers,this.fetch)}};const K3="2.89.0",gu=30*1e3,mN=3,Bw=mN*gu,mJ="http://localhost:9999",pJ="supabase.auth.token",gJ={"X-Client-Info":`gotrue-js/${K3}`},pN="X-Supabase-Api-Version",H3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xJ=10*60*1e3;class jm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yJ extends jm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bJ(e){return Ye(e)&&e.name==="AuthApiError"}class Rl extends jm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ji extends jm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class vs extends Ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wJ(e){return Ye(e)&&e.name==="AuthSessionMissingError"}class tu extends Ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lg extends Ji{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fg extends Ji{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jJ(e){return Ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class bA extends Ji{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NJ extends Ji{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gN extends Ji{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vw(e){return Ye(e)&&e.name==="AuthRetryableFetchError"}class wA extends Ji{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vN extends Ji{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jA=` 	
\r=`.split(""),_J=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jA.length;t+=1)e[jA[t].charCodeAt(0)]=-2;for(let t=0;t<hx.length;t+=1)e[hx[t].charCodeAt(0)]=t;return e})();function NA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hx[n]),t.queuedBits-=6}}function G3(e,t,r){const n=_J[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _A(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{CJ(o,n,r)};for(let o=0;o<e.length;o+=1)G3(e.charCodeAt(o),a,i);return t.join("")}function SJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kJ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}SJ(n,t)}}function CJ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Yu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)G3(e.charCodeAt(a),r,n);return new Uint8Array(t)}function PJ(e){const t=[];return kJ(e,r=>t.push(r)),new Uint8Array(t)}function Ul(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>NA(a,r,n)),NA(null,r,n),t.join("")}function EJ(e){return Math.round(Date.now()/1e3)+e}function AJ(){return Symbol("auth-callback")}const wn=()=>typeof window<"u"&&typeof document<"u",yl={tested:!1,writable:!1},Q3=()=>{if(!wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yl.tested)return yl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yl.tested=!0,yl.writable=!0}catch{yl.tested=!0,yl.writable=!1}return yl.writable};function OJ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Y3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bn=async(e,t)=>{await e.removeItem(t)};class _b{constructor(){this.promise=new _b.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_b.promiseConstructor=Promise;function qw(e){const t=e.split(".");if(t.length!==3)throw new vN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vJ.test(t[n]))throw new vN("JWT not in base64url format");return{header:JSON.parse(_A(t[0])),payload:JSON.parse(_A(t[1])),signature:Yu(t[2]),raw:{header:t[0],payload:t[1]}}}async function IJ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RJ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function MJ(e){return("0"+e.toString(16)).substr(-2)}function $J(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,MJ).join("")}async function DJ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function LJ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DJ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ru(e,t,r=!1){const n=$J();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await vu(e,`${t}-code-verifier`,a);const i=await LJ(n);return[i,n===i?"plain":"s256"]}const FJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UJ(e){const t=e.headers.get(pN);if(!t||!t.match(FJ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BJ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VJ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nu(e){if(!qJ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zJ(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function SA(e){return JSON.parse(JSON.stringify(e))}const Pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WJ=[502,503,504];async function kA(e){var t;if(!TJ(e))throw new gN(Pl(e),0);if(WJ.includes(e.status))throw new gN(Pl(e),e.status);let r;try{r=await e.json()}catch(i){throw new Rl(Pl(i),i)}let n;const a=UJ(e);if(a&&a.getTime()>=H3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wA(Pl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new wA(Pl(r),e.status,r.weak_password.reasons);throw new yJ(Pl(r),e.status||500,n)}const KJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function it(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[pN]||(i[pN]=H3["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await HJ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function HJ(e,t,r,n,a,i){const o=KJ(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new gN(Pl(c),0)}if(l.ok||await kA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await kA(c)}}function ga(e){var t;let r=null;YJ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=EJ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function CA(e){const t=ga(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GJ(e){return{data:e,error:null}}function QJ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=yf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function PA(e){return e}function YJ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ww=["global","local","others"];class XJ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Y3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ww[0]){if(Ww.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ww.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bo})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yf(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:QJ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bo})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:PA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){nu(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bo})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){nu(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bo})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){nu(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bo})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){nu(t.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){nu(t.userId),nu(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:PA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ye(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}}function EA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const su={debug:!!(globalThis&&Q3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JJ extends X3{}async function ZJ(e,t,r){su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),su.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){su.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{su.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw su.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JJ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(su.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function eZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function tZ(e){return parseInt(e,16)}function rZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function nZ(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=J3(e.address),b=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}v+=g}return`${w}
${v}`}class Wr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class mx extends Wr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sZ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Z3(o)){if(i.rp.id!==o)return new Wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Z3(n)){if(r.rpId!==n)return new Wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iZ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const oZ=new iZ;function lZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=yf(e,["challenge","user","excludeCredentials"]),i=Yu(t).buffer,o=Object.assign(Object.assign({},r),{id:Yu(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Yu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function cZ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yf(e,["challenge","allowCredentials"]),a=Yu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Yu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function uZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ul(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ul(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ul(new Uint8Array(a.authenticatorData)),clientDataJSON:Ul(new Uint8Array(a.clientDataJSON)),signature:Ul(new Uint8Array(a.signature)),userHandle:a.userHandle?Ul(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Z3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function AA(){var e,t;return!!(wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mx("Browser returned unexpected credential type",t)}:{data:null,error:new mx("Empty credential response",t)}}catch(t){return{data:null,error:sZ({error:t,options:e})}}}async function hZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mx("Browser returned unexpected credential type",t)}:{data:null,error:new mx("Empty credential response",t)}}catch(t){return{data:null,error:aZ({error:t,options:e})}}}const mZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function px(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=px(l,o):n[i]=px(o)}else n[i]=o}return n}function gZ(e,t){return px(mZ,e,t||{})}function vZ(e,t){return px(pZ,e,t||{})}class xZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??oZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=gZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await fZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=vZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await hZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new jm("rpId is required for WebAuthn authentication")};try{if(!AA())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new jm("rpId is required for WebAuthn registration")};try{if(!AA())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in register",o)}}}}eZ();const yZ={url:mJ,storageKey:pJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function OA(e,t,r){return await r()}const au={};class Nm{get jwks(){var t,r;return(r=(t=au[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){au[this.storageKey]=Object.assign(Object.assign({},au[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=au[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){au[this.storageKey]=Object.assign(Object.assign({},au[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yZ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Nm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&wn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new XJ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Y3(i.fetch),this.lock=i.lock||OA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&wn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ZJ:this.lock=OA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Q3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=EA(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(wn()&&(r=OJ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ye(r)?this._returnResult({error:r}):this._returnResult({error:new Rl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ga}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ru(this.storage,this.storageKey)),i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:ga})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ga})}else throw new Lg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await bn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CA})}else throw new Lg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new tu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:m,wallet:w,statement:v,options:g}=t;let y;if(wn())if(typeof w=="object")y=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")y=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=J3(_[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await y.request({method:"eth_chainId"});S=tZ(C)}const k={domain:j.host,address:N,statement:v,uri:j.href,version:"1",chainId:S,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=nZ(k),b=await y.request({method:"personal_sign",params:[rZ(p),N]})}try{const{data:m,error:w}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ga});if(w)throw w;if(!m||!m.session||!m.user){const v=new tu;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(Ye(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let b,m;if("message"in t)b=t.message,m=t.signature;else{const{chain:w,wallet:v,statement:g,options:y}=t;let j;if(wn())if(typeof v=="object")j=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:w,error:v}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ul(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ga});if(v)throw v;if(!w||!w.session||!w.user){const g=new tu;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(Ye(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await bl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new NJ;const{data:i,error:o}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ga});if(await bn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new tu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ga}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new tu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ru(this.storage,this.storageKey));const{error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Lg("You must provide either an email or phone number.")}catch(l){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ga});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ru(this.storage,this.storageKey));const u=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:GJ});return!((i=u.data)===null||i===void 0)&&i.url&&wn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vs;const{error:a}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Lg("You must provide either an email or phone number and a type")}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await bl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=zw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=zJ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vs}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:bo})})}catch(r){if(Ye(r))return wJ(r)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new vs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ru(this.storage,this.storageKey));const{data:u,error:d}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:bo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=qw(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vs;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!wn())throw new Fg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bA("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Fg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=gu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await bl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bJ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=AJ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ru(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return wn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ga}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new tu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await RJ(async a=>(a>0&&await IJ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ga})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Vw(i)&&Date.now()+o-n<gu})}catch(n){if(this._debug(r,"error",n),Ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await bl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await bl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await vu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:zw()}else if(a&&!a.user&&!a.user){const o=await bl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await bn(this.storage,this.storageKey+"-user"),await vu(this.storage,this.storageKey,a)):a.user=zw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Bw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Vw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new _b;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ye(i)){const o={data:null,error:i};return Vw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=SA(a);await vu(this.storage,this.storageKey,i)}else{const a=SA(r);await vu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/gu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${gu}ms, refresh threshold is ${mN} ticks`),a<=mN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ru(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?uZ(t.webauthn.credential_response):dZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:cZ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qw(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vs})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new vs});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&wn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new vs});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&wn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new vs})})}catch(t){if(Ye(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vs})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xJ>a)return n;const{data:i,error:o}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=qw(n);r!=null&&r.allowExpired||BJ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=VJ(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,PJ(`${l}.${c}`)))throw new vN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}}Nm.nextInstanceID={};const bZ=Nm,wZ="2.89.0";let yh="";typeof Deno<"u"?yh="deno":typeof document<"u"?yh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yh="react-native":yh="node";const jZ={"X-Client-Info":`supabase-js-${yh}/${wZ}`},NZ={headers:jZ},_Z={schema:"public"},SZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kZ={};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function CZ(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e){var t=CZ(e,"string");return _m(t)=="symbol"?t:t+""}function EZ(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){EZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const AZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OZ=()=>Headers,TZ=(e,t,r)=>{const n=AZ(r),a=OZ();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Or(Or({},o),{},{headers:u}))}};function IZ(e){return e.endsWith("/")?e:e+"/"}function RZ(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Or(Or({},c),a),auth:Or(Or({},u),i),realtime:Or(Or({},d),o),storage:{},global:Or(Or(Or({},f),l),{},{headers:Or(Or({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function MZ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IZ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $Z=class extends bZ{constructor(e){super(e)}},DZ=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=MZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:_Z,realtime:kZ,auth:Or(Or({},SZ),{},{storageKey:o}),global:NZ},c=RZ(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=TZ(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Or({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new gX(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new hJ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new dX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $Z({url:this.authUrl.href,headers:Or(Or({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new IX(this.realtimeUrl.href,Or(Or({},e),{},{params:Or(Or({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LZ=(e,t,r)=>new DZ(e,t,r);function FZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}FZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Kw=null,IA=!1,Ug=null,Sm=null,km=null;const UZ="quarterdeck-auth";async function BZ(){if(!IA)return Ug||(Ug=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(Sm=t.supabaseUrl,km=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!Sm,hasKey:!!km}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}IA=!0})(),Ug)}function eL(){return!!(Sm&&km)}function wl(){if(!Sm||!km)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return Kw||(console.log("[Supabase] Creating client"),Kw=LZ(Sm,km,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:UZ}})),Kw}const tL=x.createContext(null);function VZ({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,a]=x.useState(!1),[i,o]=x.useState(!1);x.useEffect(()=>{console.log("[Auth] Loading Supabase config..."),BZ().then(()=>{const b=eL();console.log("[Auth] Config loaded, isConfigured:",b),o(!0),a(b)})},[]),x.useEffect(()=>{if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(w=>({...w,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let b;try{b=wl()}catch(w){console.error("[Auth] Failed to get Supabase client:",w),r(v=>({...v,isLoading:!1}));return}console.log("[Auth] Getting session..."),b.auth.getSession().then(({data:{session:w},error:v})=>{var g;console.log("[Auth] getSession result:",{hasSession:!!w,user:(g=w==null?void 0:w.user)==null?void 0:g.email,error:v==null?void 0:v.message}),r({user:(w==null?void 0:w.user)??null,session:w,isLoading:!1,isAuthenticated:!!(w!=null&&w.user)}),w!=null&&w.user&&(console.log("[Auth] User found, syncing to backend..."),l(w))});const{data:{subscription:m}}=b.auth.onAuthStateChange(async(w,v)=>{var g;console.log("[Auth] onAuthStateChange:",w,(g=v==null?void 0:v.user)==null?void 0:g.email),r({user:(v==null?void 0:v.user)??null,session:v,isLoading:!1,isAuthenticated:!!(v!=null&&v.user)}),w==="SIGNED_IN"&&v&&(console.log("[Auth] User signed in, syncing to backend..."),await l(v),re.invalidateQueries({queryKey:["/api/auth/user"]})),w==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),re.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>m.unsubscribe()},[i,n]);const l=async b=>{var m,w,v,g;try{const y=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.access_token}`},body:JSON.stringify({supabaseUserId:b.user.id,email:b.user.email,firstName:((m=b.user.user_metadata)==null?void 0:m.firstName)||((w=b.user.user_metadata)==null?void 0:w.first_name),lastName:((v=b.user.user_metadata)==null?void 0:v.lastName)||((g=b.user.user_metadata)==null?void 0:g.last_name)})});if(console.log("[Auth] Sync response:",y.status),y.status===403){const j=await y.json();return console.log("[Auth] Email verification required:",j.message),{success:!1,requiresEmailVerification:!0,error:j.message}}return y.ok?{success:!0}:{success:!1,error:(await y.json()).message||"Sync failed"}}catch(y){return console.error("[Auth] Failed to sync user to backend:",y),{success:!1,error:"Network error during sync"}}},c=x.useCallback(async(b,m,w)=>{if(!n)return{error:{message:"Supabase not configured"}};const v=wl(),{error:g}=await v.auth.signUp({email:b,password:m,options:{data:w,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:g}},[n]),u=x.useCallback(async(b,m)=>{var y;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",b);const w=wl(),{data:v,error:g}=await w.auth.signInWithPassword({email:b,password:m});if(g)return console.log("[Auth] signIn error:",g.message),{error:g};if(console.log("[Auth] signIn success:",(y=v.user)==null?void 0:y.email),v.session){const j=await l(v.session);if(!j.success)return j.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await w.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:j.error||"Failed to establish session"}}}return{}},[n]),d=x.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),re.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await wl().auth.signOut()}catch(b){console.error("[Auth] Supabase signOut error:",b)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(b){console.error("[Auth] Backend logout error:",b)}console.log("[Auth] signOut complete")},[n]),f=x.useCallback(async b=>{if(!n)return{error:{message:"Supabase not configured"}};const m=wl(),{error:w}=await m.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:w}},[n]),h=x.useCallback(async b=>{if(!n)return{error:{message:"Supabase not configured"}};const m=wl(),{error:w}=await m.auth.updateUser({password:b});return{error:w}},[n]),p=x.useCallback(async b=>{if(!n)return{error:{message:"Supabase not configured"}};const m=wl(),{error:w}=await m.auth.signInWithOAuth({provider:b,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:w}},[n]);return s.jsx(tL.Provider,{value:{...t,signUp:c,signIn:u,signInWithOAuth:p,signOut:d,resetPassword:f,updatePassword:h,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function bf(){const e=x.useContext(tL);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function qZ(){const[e]=Dn(),{data:t}=de({queryKey:["/api/admin/config"],queryFn:async()=>{try{const b=await fetch("/api/admin/config");return b.ok?await b.json():{}}catch{return{}}}}),{data:r,isLoading:n}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const b=await fetch("/api/site-settings");if(!b.ok)return{};const m=await b.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),a=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!a||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[s.jsx(sG,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var zZ=Symbol.for("react.lazy"),gx=By[" use ".trim().toString()];function WZ(e){return typeof e=="object"&&e!==null&&"then"in e}function rL(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zZ&&"_payload"in e&&WZ(e._payload)}function Sb(e){const t=KZ(e),r=x.forwardRef((n,a)=>{let{children:i,...o}=n;rL(i)&&typeof gx=="function"&&(i=gx(i._payload));const l=x.Children.toArray(i),c=l.find(GZ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var qk=Sb("Slot");function KZ(e){const t=x.forwardRef((r,n)=>{let{children:a,...i}=r;if(rL(a)&&typeof gx=="function"&&(a=gx(a._payload)),x.isValidElement(a)){const o=YZ(a),l=QZ(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HZ=Symbol("radix.slottable");function GZ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HZ}function QZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function YZ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const zk=Cp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),M=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?qk:"button";return s.jsx(o,{className:be(zk({variant:t,size:r,className:e})),ref:i,...a})});M.displayName="Button";function XZ(){const[e,t]=x.useState(!1);x.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsx(M,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:s.jsx(KH,{className:"h-4 w-4"})})}function JZ(){const[e]=Dn();return x.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function Mp(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}function ZZ({onLoaded:e,minDisplayTime:t=800}){const[r,n]=x.useState(0),[a,i]=x.useState(!1),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}},staleTime:1e3*60*10}),l=o==null?void 0:o.logo_main_url,c=(o==null?void 0:o.site_name)||"The Quarterdeck";return x.useEffect(()=>{const u=Date.now(),d=setInterval(()=>{const f=Date.now()-u,h=Math.min(f/t*100,100);n(h),h>=100&&(clearInterval(d),i(!0),setTimeout(()=>{e()},400))},16);return()=>clearInterval(d)},[t,e]),s.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-background transition-opacity duration-400 ${a?"opacity-0":"opacity-100"}`,"data-testid":"logo-loader",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l?s.jsx("img",{src:l,alt:c,className:"h-16 w-auto animate-pulse","data-testid":"img-loader-logo"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center animate-pulse",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"Q"})}),s.jsx("div",{className:"w-48 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-100 ease-out",style:{width:`${r}%`},"data-testid":"loader-progress-bar"})}),s.jsx("p",{className:"text-sm text-muted-foreground animate-pulse","data-testid":"text-loader-status",children:"Loading..."})]})})}const eee=()=>{const[e]=Dn(),t=x.useRef(e);x.useEffect(()=>{e!==t.current&&(t.current=e)},[e])},vx="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function Zi(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/auth/user"],queryFn:i5({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function RA(){const[e,t]=x.useState("light");x.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return s.jsx(M,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?s.jsx(oG,{className:"w-4 h-4"}):s.jsx(vG,{className:"w-4 h-4"})})}var Hw=0;function kb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MA()),document.body.insertAdjacentElement("beforeend",e[1]??MA()),Hw++,()=>{Hw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hw--}},[])}function MA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gw="focusScope.autoFocusOnMount",Qw="focusScope.autoFocusOnUnmount",$A={bubbles:!1,cancelable:!0},tee="FocusScope",$p=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Mr(a),d=Mr(i),f=x.useRef(null),h=dt(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(y){if(p.paused||!l)return;const j=y.target;l.contains(j)?f.current=j:uo(f.current,{select:!0})},w=function(y){if(p.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||uo(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&uo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),g.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){LA.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(Gw,$A);l.addEventListener(Gw,u),l.dispatchEvent(v),v.defaultPrevented||(ree(oee(nL(l)),{select:!0}),document.activeElement===m&&uo(l))}return()=>{l.removeEventListener(Gw,u),setTimeout(()=>{const v=new CustomEvent(Qw,$A);l.addEventListener(Qw,d),l.dispatchEvent(v),v.defaultPrevented||uo(m??document.body,{select:!0}),l.removeEventListener(Qw,d),LA.remove(p)},0)}}},[l,u,d,p]);const b=x.useCallback(m=>{if(!r&&!n||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const g=m.currentTarget,[y,j]=nee(g);y&&j?!m.shiftKey&&v===j?(m.preventDefault(),r&&uo(y,{select:!0})):m.shiftKey&&v===y&&(m.preventDefault(),r&&uo(j,{select:!0})):v===g&&m.preventDefault()}},[r,n,p.paused]);return s.jsx($e.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});$p.displayName=tee;function ree(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(uo(n,{select:t}),document.activeElement!==r)return}function nee(e){const t=nL(e),r=DA(t,e),n=DA(t.reverse(),e);return[r,n]}function nL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function DA(e,t){for(const r of e)if(!see(r,{upTo:t}))return r}function see(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aee(e){return e instanceof HTMLInputElement&&"select"in e}function uo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aee(e)&&t&&e.select()}}var LA=iee();function iee(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=FA(e,t),e.unshift(t)},remove(t){var r;e=FA(e,t),(r=e[0])==null||r.resume()}}}function FA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function oee(e){return e.filter(t=>t.tagName!=="A")}function lee(e){const t=cee(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(dee);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function cee(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=hee(a),l=fee(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uee=Symbol("radix.slottable");function dee(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uee}function fee(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},iu=new WeakMap,Bg=new WeakMap,Vg={},Yw=0,sL=function(e){return e&&(e.host||sL(e.parentNode))},pee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=sL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gee=function(e,t,r,n){var a=pee(t,Array.isArray(e)?e:[e]);Vg[r]||(Vg[r]=new WeakMap);var i=Vg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),b=p!==null&&p!=="false",m=(iu.get(h)||0)+1,w=(i.get(h)||0)+1;iu.set(h,m),i.set(h,w),o.push(h),m===1&&b&&Bg.set(h,!0),w===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),Yw++,function(){o.forEach(function(f){var h=iu.get(f)-1,p=i.get(f)-1;iu.set(f,h),i.set(f,p),h||(Bg.has(f)||f.removeAttribute(n),Bg.delete(f)),p||f.removeAttribute(r)}),Yw--,Yw||(iu=new WeakMap,iu=new WeakMap,Bg=new WeakMap,Vg={})}},Cb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=mee(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),gee(n,a,r,"aria-hidden")):function(){return null}},kv="right-scroll-bar-position",Cv="width-before-scroll-bar",vee="with-scroll-bars-hidden",xee="--removed-body-scroll-bar-size";function Xw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yee(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var bee=typeof window<"u"?x.useLayoutEffect:x.useEffect,UA=new WeakMap;function wee(e,t){var r=yee(null,function(n){return e.forEach(function(a){return Xw(a,n)})});return bee(function(){var n=UA.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Xw(l,null)}),i.forEach(function(l){a.has(l)||Xw(l,o)})}UA.set(r,e)},[e]),r}function jee(e){return e}function Nee(e,t){t===void 0&&(t=jee);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function _ee(e){e===void 0&&(e={});var t=Nee(null);return t.options=Ja({async:!0,ssr:!1},e),t}var aL=function(e){var t=e.sideCar,r=yf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ja({},r))};aL.isSideCarExport=!0;function See(e,t){return e.useMedium(t),aL}var iL=_ee(),Jw=function(){},Pb=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Jw,onWheelCapture:Jw,onTouchMoveCapture:Jw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,b=e.noIsolation,m=e.inert,w=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,y=e.gapMode,j=yf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=wee([r,t]),S=Ja(Ja({},j),a);return x.createElement(x.Fragment,null,d&&x.createElement(_,{sideCar:iL,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:m,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:y}),o?x.cloneElement(x.Children.only(l),Ja(Ja({},S),{ref:N})):x.createElement(g,Ja({},S,{className:c,ref:N}),l))});Pb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pb.classNames={fullWidth:Cv,zeroRight:kv};var kee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kee();return t&&e.setAttribute("nonce",t),e}function Pee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Eee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Aee=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Cee())&&(Pee(t,r),Eee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Oee=function(){var e=Aee();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},oL=function(){var e=Oee(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Tee={left:0,top:0,right:0,gap:0},Zw=function(e){return parseInt(e||"",10)||0},Iee=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Zw(r),Zw(n),Zw(a)]},Ree=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Tee;var t=Iee(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Mee=oL(),Xu="data-scroll-locked",$ee=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(vee,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Xu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kv," .").concat(kv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cv," .").concat(Cv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xu,`] {
    `).concat(xee,": ").concat(l,`px;
  }
`)},BA=function(){var e=parseInt(document.body.getAttribute(Xu)||"0",10);return isFinite(e)?e:0},Dee=function(){x.useEffect(function(){return document.body.setAttribute(Xu,(BA()+1).toString()),function(){var e=BA()-1;e<=0?document.body.removeAttribute(Xu):document.body.setAttribute(Xu,e.toString())}},[])},Lee=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Dee();var i=x.useMemo(function(){return Ree(a)},[a]);return x.createElement(Mee,{styles:$ee(i,!t,a,r?"":"!important")})},xN=!1;if(typeof window<"u")try{var qg=Object.defineProperty({},"passive",{get:function(){return xN=!0,!0}});window.addEventListener("test",qg,qg),window.removeEventListener("test",qg,qg)}catch{xN=!1}var ou=xN?{passive:!1}:!1,Fee=function(e){return e.tagName==="TEXTAREA"},lL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Fee(e)&&r[t]==="visible")},Uee=function(e){return lL(e,"overflowY")},Bee=function(e){return lL(e,"overflowX")},VA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=cL(e,n);if(a){var i=uL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Vee=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qee=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},cL=function(e,t){return e==="v"?Uee(t):Bee(t)},uL=function(e,t){return e==="v"?Vee(t):qee(t)},zee=function(e,t){return e==="h"&&t==="rtl"?-1:1},Wee=function(e,t,r,n,a){var i=zee(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=uL(e,l),b=p[0],m=p[1],w=p[2],v=m-w-i*b;(b||v)&&cL(e,l)&&(f+=v,h+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},zg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qA=function(e){return[e.deltaX,e.deltaY]},zA=function(e){return e&&"current"in e?e.current:e},Kee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Hee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Gee=0,lu=[];function Qee(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Gee++)[0],i=x.useState(oL)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=lX([e.lockRef.current],(e.shards||[]).map(zA),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=zg(m),g=r.current,y="deltaX"in m?m.deltaX:g[0]-v[0],j="deltaY"in m?m.deltaY:g[1]-v[1],_,N=m.target,S=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&N.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,P=C?C===N||C.contains(N):!1;if(P)return!1;var E=VA(S,N);if(!E)return!0;if(E?_=S:(_=S==="v"?"h":"v",E=VA(S,N)),!E)return!1;if(!n.current&&"changedTouches"in m&&(y||j)&&(n.current=_),!_)return!0;var O=n.current||_;return Wee(O,w,m,O==="h"?y:j)},[]),c=x.useCallback(function(m){var w=m;if(!(!lu.length||lu[lu.length-1]!==i)){var v="deltaY"in w?qA(w):zg(w),g=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&Kee(_.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var y=(o.current.shards||[]).map(zA).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=y.length>0?l(w,y[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=x.useCallback(function(m,w,v,g){var y={name:m,delta:w,target:v,should:g,shadowParent:Yee(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),d=x.useCallback(function(m){r.current=zg(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,qA(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,zg(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return lu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ou),document.addEventListener("touchmove",c,ou),document.addEventListener("touchstart",d,ou),function(){lu=lu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,ou),document.removeEventListener("touchmove",c,ou),document.removeEventListener("touchstart",d,ou)}},[]);var p=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(i,{styles:Hee(a)}):null,p?x.createElement(Lee,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Yee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Xee=See(iL,Qee);var Dp=x.forwardRef(function(e,t){return x.createElement(Pb,Ja({},e,{ref:t,sideCar:Xee}))});Dp.classNames=Pb.classNames;var Eb="Popover",[dL]=Pn(Eb,[il]),Lp=il(),[Jee,ol]=dL(Eb),fL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Lp(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=hs({prop:n,defaultProp:a??!1,onChange:i,caller:Eb});return s.jsx(vb,{...l,children:s.jsx(Jee,{scope:t,contentId:Gr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};fL.displayName=Eb;var hL="PopoverAnchor",Zee=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ol(hL,r),i=Lp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Ip,{...i,...n,ref:t})});Zee.displayName=hL;var mL="PopoverTrigger",pL=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ol(mL,r),i=Lp(r),o=dt(t,a.triggerRef),l=s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bL(a.open),...n,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Ip,{asChild:!0,...i,children:l})});pL.displayName=mL;var Wk="PopoverPortal",[ete,tte]=dL(Wk,{forceMount:void 0}),gL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ol(Wk,t);return s.jsx(ete,{scope:t,forceMount:r,children:s.jsx(cn,{present:r||i.open,children:s.jsx(hf,{asChild:!0,container:a,children:n})})})};gL.displayName=Wk;var Cd="PopoverContent",vL=x.forwardRef((e,t)=>{const r=tte(Cd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ol(Cd,e.__scopePopover);return s.jsx(cn,{present:n||i.open,children:i.modal?s.jsx(nte,{...a,ref:t}):s.jsx(ste,{...a,ref:t})})});vL.displayName=Cd;var rte=lee("PopoverContent.RemoveScroll"),nte=x.forwardRef((e,t)=>{const r=ol(Cd,e.__scopePopover),n=x.useRef(null),a=dt(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Cb(o)},[]),s.jsx(Dp,{as:rte,allowPinchZoom:!0,children:s.jsx(xL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ste=x.forwardRef((e,t)=>{const r=ol(Cd,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(xL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xL=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ol(Cd,r),p=Lp(r);return kb(),s.jsx($p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(xb,{"data-state":bL(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yL="PopoverClose",ate=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ol(yL,r);return s.jsx($e.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});ate.displayName=yL;var ite="PopoverArrow",ote=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Lp(r);return s.jsx(yb,{...a,...n,ref:t})});ote.displayName=ite;function bL(e){return e?"open":"closed"}var lte=fL,cte=pL,ute=gL,wL=vL;const dte=lte,fte=cte,jL=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(ute,{children:s.jsx(wL,{ref:a,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));jL.displayName=wL.displayName;var hte=x.createContext(void 0);function wf(e){const t=x.useContext(hte);return e||t||"ltr"}function yN(e,[t,r]){return Math.min(r,Math.max(t,e))}function mte(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Kk="ScrollArea",[NL]=Pn(Kk),[pte,la]=NL(Kk),_L=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,b]=x.useState(null),[m,w]=x.useState(null),[v,g]=x.useState(0),[y,j]=x.useState(0),[_,N]=x.useState(!1),[S,k]=x.useState(!1),C=dt(t,E=>c(E)),P=wf(a);return s.jsx(pte,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:j,children:s.jsx($e.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});_L.displayName=Kk;var SL="ScrollAreaViewport",kL=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=la(SL,r),l=x.useRef(null),c=dt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx($e.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});kL.displayName=SL;var di="ScrollAreaScrollbar",Hk=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=la(di,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(gte,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(vte,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(CL,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Gk,{...n,ref:t}):null});Hk.displayName=di;var gte=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=la(di,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(cn,{present:r||i,children:s.jsx(CL,{"data-state":i?"visible":"hidden",...n,ref:t})})}),vte=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=la(di,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ob(()=>c("SCROLL_END"),100),[l,c]=mte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(cn,{present:r||l!=="hidden",children:s.jsx(Gk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),CL=x.forwardRef((e,t)=>{const r=la(di,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Ob(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Pd(r.viewport,c),Pd(r.content,c),s.jsx(cn,{present:n||i,children:s.jsx(Gk,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Gk=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=la(di,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=TL(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Nte(h,o.current,l,p)}return r==="horizontal"?s.jsx(xte,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=WA(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(yte,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=WA(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),xte=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=la(di,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(EL,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ab(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),RL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:yx(o.paddingLeft),paddingEnd:yx(o.paddingRight)}})}})}),yte=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=la(di,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(EL,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ab(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),RL(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:yx(o.paddingTop),paddingEnd:yx(o.paddingBottom)}})}})}),[bte,PL]=NL(di),EL=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=la(di,r),[b,m]=x.useState(null),w=dt(t,C=>m(C)),v=x.useRef(null),g=x.useRef(""),y=p.viewport,j=n.content-n.viewport,_=Mr(d),N=Mr(c),S=Ob(f,10);function k(C){if(v.current){const P=C.clientX-v.current.left,E=C.clientY-v.current.top;u({x:P,y:E})}}return x.useEffect(()=>{const C=P=>{const E=P.target;(b==null?void 0:b.contains(E))&&_(P,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[y,b,j,_]),x.useEffect(N,[n,N]),Pd(b,S),Pd(p.content,S),s.jsx(bte,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:Mr(i),onThumbPointerUp:Mr(o),onThumbPositionChange:N,onThumbPointerDown:Mr(l),children:s.jsx($e.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=b.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ne(e.onPointerMove,k),onPointerUp:Ne(e.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),xx="ScrollAreaThumb",AL=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=PL(xx,e.__scopeScrollArea);return s.jsx(cn,{present:r||a.hasThumb,children:s.jsx(wte,{ref:t,...n})})}),wte=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=la(xx,r),o=PL(xx,r),{onThumbPositionChange:l}=o,c=dt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=Ob(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=_te(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx($e.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:b,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});AL.displayName=xx;var Qk="ScrollAreaCorner",OL=x.forwardRef((e,t)=>{const r=la(Qk,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(jte,{...e,ref:t}):null});OL.displayName=Qk;var jte=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=la(Qk,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Pd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Pd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx($e.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function yx(e){return e?parseInt(e,10):0}function TL(e,t){const r=e/t;return isNaN(r)?0:r}function Ab(e){const t=TL(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Nte(e,t,r,n="ltr"){const a=Ab(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return IL([c,u],f)(e)}function WA(e,t,r="ltr"){const n=Ab(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=yN(e,c);return IL([0,o],[0,l])(u)}function IL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function RL(e,t){return e>0&&e<t}var _te=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Ob(e,t){const r=Mr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Pd(e,t){const r=Mr(t);$r(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var ML=_L,Ste=kL,kte=OL;const $L=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ML,{ref:n,className:be("relative overflow-hidden",e),...r,children:[s.jsx(Ste,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(DL,{}),s.jsx(kte,{})]}));$L.displayName=ML.displayName;const DL=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Hk,{ref:n,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(AL,{className:"relative flex-1 rounded-full bg-border"})}));DL.displayName=Hk.displayName;function Zt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const LL=6048e5,Cte=864e5,Wg=43200,KA=1440;let Pte={};function Fp(){return Pte}function Cm(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Zt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function bx(e){return Cm(e,{weekStartsOn:1})}function FL(e){const t=Zt(e),r=t.getFullYear(),n=Jo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=bx(n),i=Jo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=bx(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function HA(e){const t=Zt(e);return t.setHours(0,0,0,0),t}function wx(e){const t=Zt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function UL(e,t){const r=HA(e),n=HA(t),a=+r-wx(r),i=+n-wx(n);return Math.round((a-i)/Cte)}function Ete(e){const t=FL(e),r=Jo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),bx(r)}function Pv(e,t){const r=Zt(e),n=Zt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Ate(e){return Jo(e,Date.now())}function Ote(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tte(e){if(!Ote(e)&&typeof e!="number")return!1;const t=Zt(e);return!isNaN(Number(t))}function Ite(e,t){const r=Zt(e),n=Zt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Rte(e,t){const r=Zt(e),n=Zt(t),a=GA(r,n),i=Math.abs(UL(r,n));r.setDate(r.getDate()-a*i);const o=+(GA(r,n)===-a),l=a*(i-o);return l===0?0:l}function GA(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Mte(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function $te(e,t){return+Zt(e)-+Zt(t)}function Dte(e){const t=Zt(e);return t.setHours(23,59,59,999),t}function Lte(e){const t=Zt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fte(e){const t=Zt(e);return+Dte(t)==+Lte(t)}function Ute(e,t){const r=Zt(e),n=Zt(t),a=Pv(r,n),i=Math.abs(Ite(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Pv(r,n)===-a;Fte(Zt(e))&&i===1&&Pv(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Bte(e,t,r){const n=$te(e,t)/1e3;return Mte(r==null?void 0:r.roundingMethod)(n)}function Vte(e){const t=Zt(e),r=Jo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const qte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zte=(e,t,r)=>{let n;const a=qte[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ej(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gte={date:ej({formats:Wte,defaultWidth:"full"}),time:ej({formats:Kte,defaultWidth:"full"}),dateTime:ej({formats:Hte,defaultWidth:"full"})},Qte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yte=(e,t,r,n)=>Qte[e];function Zf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Xte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ere={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sre={ordinalNumber:nre,era:Zf({values:Xte,defaultWidth:"wide"}),quarter:Zf({values:Jte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zf({values:Zte,defaultWidth:"wide"}),day:Zf({values:ere,defaultWidth:"wide"}),dayPeriod:Zf({values:tre,defaultWidth:"wide",formattingValues:rre,defaultFormattingWidth:"wide"})};function eh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ire(l,f=>f.test(o)):are(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function are(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ire(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ore(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const lre=/^(\d+)(th|st|nd|rd)?/i,cre=/\d+/i,ure={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dre={any:[/^b/i,/^(a|c)/i]},fre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hre={any:[/1/i,/2/i,/3/i,/4/i]},mre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bre={ordinalNumber:ore({matchPattern:lre,parsePattern:cre,valueCallback:e=>parseInt(e,10)}),era:eh({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:dre,defaultParseWidth:"any"}),quarter:eh({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:eh({matchPatterns:mre,defaultMatchWidth:"wide",parsePatterns:pre,defaultParseWidth:"any"}),day:eh({matchPatterns:gre,defaultMatchWidth:"wide",parsePatterns:vre,defaultParseWidth:"any"}),dayPeriod:eh({matchPatterns:xre,defaultMatchWidth:"any",parsePatterns:yre,defaultParseWidth:"any"})},BL={code:"en-US",formatDistance:zte,formatLong:Gte,formatRelative:Yte,localize:sre,match:bre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wre(e){const t=Zt(e);return UL(t,Vte(t))+1}function jre(e){const t=Zt(e),r=+bx(t)-+Ete(t);return Math.round(r/LL)+1}function VL(e,t){var d,f,h,p;const r=Zt(e),n=r.getFullYear(),a=Fp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Jo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Cm(o,t),c=Jo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Cm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Nre(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=VL(e,t),i=Jo(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Cm(i,t)}function _re(e,t){const r=Zt(e),n=+Cm(r,t)-+Nre(r,t);return Math.round(n/LL)+1}function Xt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const lo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Xt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Xt(r+1,2)},d(e,t){return Xt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Xt(e.getHours()%12||12,t.length)},H(e,t){return Xt(e.getHours(),t.length)},m(e,t){return Xt(e.getMinutes(),t.length)},s(e,t){return Xt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Xt(a,t.length)}},cu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return lo.y(e,t)},Y:function(e,t,r,n){const a=VL(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Xt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Xt(i,t.length)},R:function(e,t){const r=FL(e);return Xt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Xt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return lo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_re(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Xt(a,t.length)},I:function(e,t,r){const n=jre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Xt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):lo.d(e,t)},D:function(e,t,r){const n=wre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Xt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Xt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Xt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=cu.noon:n===0?a=cu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=cu.evening:n>=12?a=cu.afternoon:n>=4?a=cu.morning:a=cu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return lo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):lo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):lo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):lo.s(e,t)},S:function(e,t){return lo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return XA(n);case"XXXX":case"XX":return El(n);case"XXXXX":case"XXX":default:return El(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return XA(n);case"xxxx":case"xx":return El(n);case"xxxxx":case"xxx":default:return El(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+YA(n,":");case"OOOO":default:return"GMT"+El(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+YA(n,":");case"zzzz":default:return"GMT"+El(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Xt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Xt(n,t.length)}};function YA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Xt(i,2)}function XA(e,t){return e%60===0?(e>0?"-":"+")+Xt(Math.abs(e)/60,2):El(e,t)}function El(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Xt(Math.trunc(n/60),2),i=Xt(n%60,2);return r+a+t+i}const JA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Sre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return JA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",JA(n,t)).replace("{{time}}",qL(a,t))},kre={p:qL,P:Sre},Cre=/^D+$/,Pre=/^Y+$/,Ere=["D","DD","YY","YYYY"];function Are(e){return Cre.test(e)}function Ore(e){return Pre.test(e)}function Tre(e,t,r){const n=Ire(e,t,r);if(console.warn(n),Ere.includes(e))throw new RangeError(n)}function Ire(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$re=/^'([^]*?)'?$/,Dre=/''/g,Lre=/[a-zA-Z]/;function Xn(e,t,r){var d,f,h,p;const n=Fp(),a=n.locale??BL,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Zt(e);if(!Tte(l))throw new RangeError("Invalid time value");let c=t.match(Mre).map(b=>{const m=b[0];if(m==="p"||m==="P"){const w=kre[m];return w(b,a.formatLong)}return b}).join("").match(Rre).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const m=b[0];if(m==="'")return{isToken:!1,value:Fre(b)};if(QA[m])return{isToken:!0,value:b};if(m.match(Lre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const m=b.value;(Ore(m)||Are(m))&&Tre(m,t,String(e));const w=QA[m[0]];return w(l,m,a.localize,u)}).join("")}function Fre(e){const t=e.match($re);return t?t[1].replace(Dre,"'"):e}function Ure(e,t,r){const n=Fp(),a=(r==null?void 0:r.locale)??n.locale??BL,i=2520,o=Pv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Zt(t),u=Zt(e)):(c=Zt(e),u=Zt(t));const d=Bte(u,c),f=(wx(u)-wx(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<KA){const b=Math.round(h/60);return a.formatDistance("aboutXHours",b,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Wg){const b=Math.round(h/KA);return a.formatDistance("xDays",b,l)}else if(h<Wg*2)return p=Math.round(h/Wg),a.formatDistance("aboutXMonths",p,l)}if(p=Ute(u,c),p<12){const b=Math.round(h/Wg);return a.formatDistance("xMonths",b,l)}else{const b=p%12,m=Math.trunc(p/12);return b<3?a.formatDistance("aboutXYears",m,l):b<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function zL(e,t){return Ure(e,Ate(e),t)}function Bre(){const[e,t]=x.useState(!1),{data:r=[],isLoading:n}=de({queryKey:["/api/notifications"]}),{data:a}=de({queryKey:["/api/notifications/unread-count"]}),i=ye({mutationFn:async f=>{await xe("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=ye({mutationFn:async()=>{await xe("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=ye({mutationFn:async f=>{await xe("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(a==null?void 0:a.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return s.jsxs(dte,{open:e,onOpenChange:t,children:[s.jsx(fte,{asChild:!0,children:s.jsxs(M,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[s.jsx(jd,{className:"w-5 h-5"}),c>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),s.jsxs(jL,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&s.jsxs(M,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[s.jsx(kr,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),s.jsx($L,{className:"h-[300px]",children:n?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[s.jsx(jd,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y",children:r.map(f=>s.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?s.jsx(he,{href:f.link,onClick:()=>d(f),children:s.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):s.jsx("p",{className:"text-sm font-medium",children:f.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:zL(new Date(f.createdAt),{addSuffix:!0})})]}),s.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&s.jsx(M,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:s.jsx(kr,{className:"w-3 h-3"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:s.jsx(mr,{className:"w-3 h-3"})})]})]})},f.id))})}),s.jsx("div",{className:"p-2 border-t",children:s.jsx(he,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:s.jsx(M,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var tj="rovingFocusGroup.onEntryFocus",Vre={bubbles:!1,cancelable:!0},Up="RovingFocusGroup",[bN,WL,qre]=Sp(Up),[zre,Tb]=Pn(Up,[qre]),[Wre,Kre]=zre(Up),KL=x.forwardRef((e,t)=>s.jsx(bN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(bN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Hre,{...e,ref:t})})}));KL.displayName=Up;var Hre=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=dt(t,h),b=wf(i),[m,w]=hs({prop:o,defaultProp:l??null,onChange:c,caller:Up}),[v,g]=x.useState(!1),y=Mr(u),j=WL(r),_=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(tj,y),()=>k.removeEventListener(tj,y)},[y]),s.jsx(Wre,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:m,onItemFocus:x.useCallback(k=>w(k),[w]),onItemShiftTab:x.useCallback(()=>g(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:s.jsx($e.div,{tabIndex:v||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{_.current=!0}),onFocus:Ne(e.onFocus,k=>{const C=!_.current;if(k.target===k.currentTarget&&C&&!v){const P=new CustomEvent(tj,Vre);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const E=j().filter(V=>V.focusable),O=E.find(V=>V.active),I=E.find(V=>V.id===m),$=[O,I,...E].filter(Boolean).map(V=>V.ref.current);QL($,d)}}_.current=!1}),onBlur:Ne(e.onBlur,()=>g(!1))})})}),HL="RovingFocusGroupItem",GL=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Gr(),u=i||c,d=Kre(HL,r),f=d.currentTabStopId===u,h=WL(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),s.jsx(bN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx($e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=Yre(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=h().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const j=y.indexOf(w.currentTarget);y=d.loop?Xre(y,j+1):y.slice(j+1)}setTimeout(()=>QL(y))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});GL.displayName=HL;var Gre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qre(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Yre(e,t,r){const n=Qre(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Gre[n]}function QL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Xre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var YL=KL,XL=GL;function Jre(e){const t=Zre(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(tne);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Zre(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=nne(a),l=rne(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ene=Symbol("radix.slottable");function tne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ene}function rne(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function nne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wN=["Enter"," "],sne=["ArrowDown","PageUp","Home"],JL=["ArrowUp","PageDown","End"],ane=[...sne,...JL],ine={ltr:[...wN,"ArrowRight"],rtl:[...wN,"ArrowLeft"]},one={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bp="Menu",[Pm,lne,cne]=Sp(Bp),[Rc,ZL]=Pn(Bp,[cne,il,Tb]),Ib=il(),eF=Tb(),[une,Mc]=Rc(Bp),[dne,Vp]=Rc(Bp),tF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Ib(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Mr(i),h=wf(a);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(vb,{...l,children:s.jsx(une,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(dne,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};tF.displayName=Bp;var fne="MenuAnchor",Yk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Ib(r);return s.jsx(Ip,{...a,...n,ref:t})});Yk.displayName=fne;var Xk="MenuPortal",[hne,rF]=Rc(Xk,{forceMount:void 0}),nF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Mc(Xk,t);return s.jsx(hne,{scope:t,forceMount:r,children:s.jsx(cn,{present:r||i.open,children:s.jsx(hf,{asChild:!0,container:a,children:n})})})};nF.displayName=Xk;var ea="MenuContent",[mne,Jk]=Rc(ea),sF=x.forwardRef((e,t)=>{const r=rF(ea,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Mc(ea,e.__scopeMenu),o=Vp(ea,e.__scopeMenu);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(cn,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(pne,{...a,ref:t}):s.jsx(gne,{...a,ref:t})})})})}),pne=x.forwardRef((e,t)=>{const r=Mc(ea,e.__scopeMenu),n=x.useRef(null),a=dt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Cb(i)},[]),s.jsx(Zk,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),gne=x.forwardRef((e,t)=>{const r=Mc(ea,e.__scopeMenu);return s.jsx(Zk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),vne=Jre("MenuContent.ScrollLock"),Zk=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:b,...m}=e,w=Mc(ea,r),v=Vp(ea,r),g=Ib(r),y=eF(r),j=lne(r),[_,N]=x.useState(null),S=x.useRef(null),k=dt(t,S,w.onContentChange),C=x.useRef(0),P=x.useRef(""),E=x.useRef(0),O=x.useRef(null),I=x.useRef("right"),T=x.useRef(0),$=b?Dp:x.Fragment,V=b?{as:vne,allowPinchZoom:!0}:void 0,K=R=>{var ne,we;const Q=P.current+R,J=j().filter(oe=>!oe.disabled),F=document.activeElement,X=(ne=J.find(oe=>oe.ref.current===F))==null?void 0:ne.textValue,H=J.map(oe=>oe.textValue),ie=Ene(H,Q,X),ve=(we=J.find(oe=>oe.textValue===ie))==null?void 0:we.ref.current;(function oe(L){P.current=L,window.clearTimeout(C.current),L!==""&&(C.current=window.setTimeout(()=>oe(""),1e3))})(Q),ve&&setTimeout(()=>ve.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),kb();const A=x.useCallback(R=>{var J,F;return I.current===((J=O.current)==null?void 0:J.side)&&One(R,(F=O.current)==null?void 0:F.area)},[]);return s.jsx(mne,{scope:r,searchRef:P,onItemEnter:x.useCallback(R=>{A(R)&&R.preventDefault()},[A]),onItemLeave:x.useCallback(R=>{var Q;A(R)||((Q=S.current)==null||Q.focus(),N(null))},[A]),onTriggerLeave:x.useCallback(R=>{A(R)&&R.preventDefault()},[A]),pointerGraceTimerRef:E,onPointerGraceIntentChange:x.useCallback(R=>{O.current=R},[]),children:s.jsx($,{...V,children:s.jsx($p,{asChild:!0,trapped:a,onMountAutoFocus:Ne(i,R=>{var Q;R.preventDefault(),(Q=S.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(YL,{asChild:!0,...y,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:Ne(c,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(xb,{role:"menu","aria-orientation":"vertical","data-state":bF(w.open),"data-radix-menu-content":"",dir:v.dir,...g,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:Ne(m.onKeyDown,R=>{const J=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,X=R.key.length===1;J&&(R.key==="Tab"&&R.preventDefault(),!F&&X&&K(R.key));const H=S.current;if(R.target!==H||!ane.includes(R.key))return;R.preventDefault();const ve=j().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);JL.includes(R.key)&&ve.reverse(),Cne(ve)}),onBlur:Ne(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:Ne(e.onPointerMove,Em(R=>{const Q=R.target,J=T.current!==R.clientX;if(R.currentTarget.contains(Q)&&J){const F=R.clientX>T.current?"right":"left";I.current=F,T.current=R.clientX}}))})})})})})})});sF.displayName=ea;var xne="MenuGroup",eC=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx($e.div,{role:"group",...n,ref:t})});eC.displayName=xne;var yne="MenuLabel",aF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx($e.div,{...n,ref:t})});aF.displayName=yne;var jx="MenuItem",ZA="menu.itemSelect",Rb=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),o=Vp(jx,e.__scopeMenu),l=Jk(jx,e.__scopeMenu),c=dt(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(ZA,{bubbles:!0,cancelable:!0});f.addEventListener(ZA,p=>n==null?void 0:n(p),{once:!0}),yk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(iF,{...a,ref:c,disabled:r,onClick:Ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||wN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Rb.displayName=jx;var iF=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Jk(jx,r),l=eF(r),c=x.useRef(null),u=dt(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[i.children]),s.jsx(Pm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(XL,{asChild:!0,...l,focusable:!n,children:s.jsx($e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,Em(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Em(b=>o.onItemLeave(b))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),bne="MenuCheckboxItem",oF=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(fF,{scope:e.__scopeMenu,checked:r,children:s.jsx(Rb,{role:"menuitemcheckbox","aria-checked":Nx(r)?"mixed":r,...a,ref:t,"data-state":rC(r),onSelect:Ne(a.onSelect,()=>n==null?void 0:n(Nx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});oF.displayName=bne;var lF="MenuRadioGroup",[wne,jne]=Rc(lF,{value:void 0,onValueChange:()=>{}}),cF=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Mr(n);return s.jsx(wne,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(eC,{...a,ref:t})})});cF.displayName=lF;var uF="MenuRadioItem",dF=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=jne(uF,e.__scopeMenu),i=r===a.value;return s.jsx(fF,{scope:e.__scopeMenu,checked:i,children:s.jsx(Rb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":rC(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});dF.displayName=uF;var tC="MenuItemIndicator",[fF,Nne]=Rc(tC,{checked:!1}),hF=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Nne(tC,r);return s.jsx(cn,{present:n||Nx(i.checked)||i.checked===!0,children:s.jsx($e.span,{...a,ref:t,"data-state":rC(i.checked)})})});hF.displayName=tC;var _ne="MenuSeparator",mF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});mF.displayName=_ne;var Sne="MenuArrow",pF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Ib(r);return s.jsx(yb,{...a,...n,ref:t})});pF.displayName=Sne;var kne="MenuSub",[w$e,gF]=Rc(kne),bh="MenuSubTrigger",vF=x.forwardRef((e,t)=>{const r=Mc(bh,e.__scopeMenu),n=Vp(bh,e.__scopeMenu),a=gF(bh,e.__scopeMenu),i=Jk(bh,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Yk,{asChild:!0,...u,children:s.jsx(iF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":bF(r.open),...e,ref:Jn(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Em(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,Em(f=>{var p,b;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(b=r.content)==null?void 0:b.dataset.side,w=m==="right",v=w?-5:5,g=h[w?"left":"right"],y=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:g,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||ine[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});vF.displayName=bh;var xF="MenuSubContent",yF=x.forwardRef((e,t)=>{const r=rF(ea,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Mc(ea,e.__scopeMenu),o=Vp(ea,e.__scopeMenu),l=gF(xF,e.__scopeMenu),c=x.useRef(null),u=dt(t,c);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(cn,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:s.jsx(Zk,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=one[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});yF.displayName=xF;function bF(e){return e?"open":"closed"}function Nx(e){return e==="indeterminate"}function rC(e){return Nx(e)?"indeterminate":e?"checked":"unchecked"}function Cne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Pne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ene(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Pne(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Ane(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function One(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Ane(r,t)}function Em(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Tne=tF,Ine=Yk,Rne=nF,Mne=sF,$ne=eC,Dne=aF,Lne=Rb,Fne=oF,Une=cF,Bne=dF,Vne=hF,qne=mF,zne=pF,Wne=vF,Kne=yF,Mb="DropdownMenu",[Hne]=Pn(Mb,[ZL]),ts=ZL(),[Gne,wF]=Hne(Mb),jF=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ts(t),u=x.useRef(null),[d,f]=hs({prop:a,defaultProp:i??!1,onChange:o,caller:Mb});return s.jsx(Gne,{scope:t,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Tne,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};jF.displayName=Mb;var NF="DropdownMenuTrigger",_F=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=wF(NF,r),o=ts(r);return s.jsx(Ine,{asChild:!0,...o,children:s.jsx($e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Jn(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});_F.displayName=NF;var Qne="DropdownMenuPortal",SF=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ts(t);return s.jsx(Rne,{...n,...r})};SF.displayName=Qne;var kF="DropdownMenuContent",CF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wF(kF,r),i=ts(r),o=x.useRef(!1);return s.jsx(Mne,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CF.displayName=kF;var Yne="DropdownMenuGroup",Xne=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx($ne,{...a,...n,ref:t})});Xne.displayName=Yne;var Jne="DropdownMenuLabel",PF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Dne,{...a,...n,ref:t})});PF.displayName=Jne;var Zne="DropdownMenuItem",EF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Lne,{...a,...n,ref:t})});EF.displayName=Zne;var ese="DropdownMenuCheckboxItem",AF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Fne,{...a,...n,ref:t})});AF.displayName=ese;var tse="DropdownMenuRadioGroup",rse=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Une,{...a,...n,ref:t})});rse.displayName=tse;var nse="DropdownMenuRadioItem",OF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Bne,{...a,...n,ref:t})});OF.displayName=nse;var sse="DropdownMenuItemIndicator",TF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Vne,{...a,...n,ref:t})});TF.displayName=sse;var ase="DropdownMenuSeparator",IF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(qne,{...a,...n,ref:t})});IF.displayName=ase;var ise="DropdownMenuArrow",ose=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(zne,{...a,...n,ref:t})});ose.displayName=ise;var lse="DropdownMenuSubTrigger",RF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Wne,{...a,...n,ref:t})});RF.displayName=lse;var cse="DropdownMenuSubContent",MF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ts(r);return s.jsx(Kne,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MF.displayName=cse;var use=jF,dse=_F,fse=SF,$F=CF,DF=PF,LF=EF,FF=AF,UF=OF,BF=TF,VF=IF,qF=RF,zF=MF;const hse=use,mse=dse,pse=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(qF,{ref:a,className:be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(sa,{className:"ml-auto"})]}));pse.displayName=qF.displayName;const gse=x.forwardRef(({className:e,...t},r)=>s.jsx(zF,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));gse.displayName=zF.displayName;const WF=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(fse,{children:s.jsx($F,{ref:n,sideOffset:t,className:be("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));WF.displayName=$F.displayName;const Ev=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(LF,{ref:n,className:be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Ev.displayName=LF.displayName;const vse=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(FF,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(BF,{children:s.jsx(kr,{className:"h-4 w-4"})})}),t]}));vse.displayName=FF.displayName;const xse=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(UF,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(BF,{children:s.jsx(YH,{className:"h-2 w-2 fill-current"})})}),t]}));xse.displayName=UF.displayName;const yse=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(DF,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));yse.displayName=DF.displayName;const jN=x.forwardRef(({className:e,...t},r)=>s.jsx(VF,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));jN.displayName=VF.displayName;const bse=[{label:"Facilities",href:"/facilities"},{label:"Events & Academies",href:"/events"},{label:"Updates",href:"/roadmap"},{label:"Contact",href:"/contact"}];function Wt({onScrollTo:e}){const[t,r]=x.useState(!1),{user:n,isAuthenticated:a}=Zi(),[i,o]=Dn(),{data:l}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const g=await fetch("/api/site-settings");if(!g.ok)return{};const y=await g.json();return y&&typeof y=="object"&&!y.message?y:{}}catch{return{}}}}),{data:c}=de({queryKey:["/api/navbar-items"],queryFn:async()=>{try{const g=await fetch("/api/navbar-items");if(!g.ok)return[];const y=await g.json();return Array.isArray(y)?y:[]}catch{return[]}}}),{data:u}=de({queryKey:["/api/admin/config"],enabled:a&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),d=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",f=g=>{if(r(!1),i!=="/"){o("/"),sessionStorage.setItem("scrollToSection",g);return}const y=document.getElementById(g);if(!y)return;const _=y.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:_,behavior:"smooth"})};x.useEffect(()=>{if(i==="/"){const g=sessionStorage.getItem("scrollToSection");g&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const y=document.getElementById(g);if(y){const _=y.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:_,behavior:"smooth"})}},100))}},[i]);const h=(g,y="")=>(l==null?void 0:l[g])||y,p=h("logo_main_url"),b=h("site_name","The Quarterdeck"),m=h("site_tagline","Sports & Recreation Complex"),w=x.useMemo(()=>!c||c.length===0?bse:c.filter(g=>g.isVisible).sort((g,y)=>(g.sortOrder||0)-(y.sortOrder||0)).map(g=>{var y;return g.href==="/#gallery"?{label:g.label,href:"/gallery"}:g.href==="/#contact"?{label:g.label,href:"/contact"}:(y=g.href)!=null&&y.startsWith("/#")?{label:g.label,section:g.href.replace("/#","")}:{label:g.label,href:g.href}}),[c]),v=g=>{g.href?(r(!1),o(g.href)):g.section&&f(g.section)};return s.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${vx})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[s.jsx(he,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[p?s.jsx("img",{src:p,alt:b,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):s.jsx("div",{className:"qd-logo-mark",children:"Q"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:b}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:m})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center gap-7 text-sm text-primary-foreground/70",children:w.map(g=>g.href?s.jsx(he,{href:g.href,children:s.jsx("span",{className:"hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`link-nav-${g.label.toLowerCase()}`,children:g.label})},g.label):s.jsx("button",{onClick:()=>f(g.section),className:"hover:text-primary-foreground transition-colors","data-testid":`link-nav-${g.section}`,children:g.label},g.section))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsx(RA,{}),a?s.jsxs(s.Fragment,{children:[s.jsx(Bre,{}),s.jsx(he,{href:"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),s.jsxs(hse,{children:[s.jsx(mse,{asChild:!0,children:s.jsxs(M,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[s.jsx(ls,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",s.jsx($a,{className:"w-3 h-3"})]})}),s.jsxs(WF,{align:"end",className:"w-48",children:[s.jsx(he,{href:"/profile",children:s.jsxs(Ev,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[s.jsx(ls,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&s.jsxs(s.Fragment,{children:[s.jsx(jN,{}),s.jsx(he,{href:`/${u.adminPath}`,children:s.jsxs(Ev,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[s.jsx(pm,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),s.jsx(jN,{}),s.jsx("a",{href:"/api/logout",children:s.jsxs(Ev,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[s.jsx(qE,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(he,{href:"/login",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),s.jsx(he,{href:"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),s.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?s.jsx(Qo,{className:"w-5 h-5 text-primary-foreground"}):s.jsx(F5,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&s.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[w.map(g=>g.href?s.jsx(he,{href:g.href,children:s.jsx("span",{className:"block text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer",onClick:()=>r(!1),"data-testid":`link-mobile-nav-${g.label.toLowerCase()}`,children:g.label})},g.label):s.jsx("button",{onClick:()=>v(g),className:"text-left py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground","data-testid":`link-mobile-nav-${g.section}`,children:g.label},g.section)),s.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[s.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),s.jsx(RA,{})]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4",children:a?s.jsxs(s.Fragment,{children:[s.jsx(he,{href:"/profile",onClick:()=>r(!1),children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[s.jsx(ls,{className:"w-4 h-4"}),"My Profile"]})}),d&&(u==null?void 0:u.adminPath)&&s.jsx(he,{href:`/${u.adminPath}`,onClick:()=>r(!1),children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[s.jsx(pm,{className:"w-4 h-4"}),"Admin Dashboard"]})}),s.jsx(he,{href:"/booking",onClick:()=>r(!1),children:s.jsx(M,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),s.jsx("a",{href:"/api/logout",children:s.jsxs(M,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[s.jsx(qE,{className:"w-4 h-4"}),"Log Out"]})})]}):s.jsx(s.Fragment,{children:s.jsx(he,{href:"/login",children:s.jsx(M,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function Kt(){const{data:e,isLoading:t}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const f=await fetch("/api/site-settings");if(!f.ok)return{};const h=await f.json();return h&&typeof h=="object"&&!h.message?h:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=de({queryKey:["/api/site-images","global"],queryFn:async()=>{const h=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(h)?h:[]},staleTime:1e3*60*5}),n=x.useMemo(()=>{if(!Array.isArray(r))return vx;const f=r.find(h=>h.section==="footer"&&h.isActive);return(f==null?void 0:f.imageUrl)||vx},[r]),a=(f,h="")=>(e==null?void 0:e[f])||h,i=a("site_name","The Quarterdeck"),o=a("site_tagline","Sports & Recreation Complex"),l=a("instagram_url")||a("social_instagram","#"),c=a("facebook_url")||a("social_facebook","#"),u=a("linkedin_url")||a("social_linkedin","#"),d=new Date().getFullYear();return s.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between gap-6 items-center",children:[s.jsx(he,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[s.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(he,{href:"/vision",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-about",children:"About Us"})}),s.jsx(he,{href:"/rules",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-rules",children:"Rules & Safety"})}),s.jsx(he,{href:"/careers",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})}),s.jsx(he,{href:"/contact",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-contact",children:"Contact"})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:s.jsx(D5,{className:"w-4 h-4"})}),s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:s.jsx(I5,{className:"w-4 h-4"})}),s.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"LinkedIn","data-testid":"link-social-linkedin",children:s.jsx(Z1,{className:"w-4 h-4"})})]})]}),s.jsxs("p",{className:"text-center mt-6 text-primary-foreground/60 text-xs",children:[" ",d," ",i,"  All rights reserved."," ",s.jsx(he,{href:"/terms",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-terms",children:"Terms & Conditions"})," | ",s.jsx(he,{href:"/privacy",className:"font-semibold hover:text-primary-foreground cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy Policy"})]})]})]})}function De({className:e,...t}){return s.jsx("div",{className:be("animate-pulse rounded-md bg-muted",e),...t})}function Dr(e,t={}){const{data:r=[],isLoading:n}=de({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),a={};return e.forEach(i=>{const o=r.find(l=>l.key===i);a[i]=(o==null?void 0:o.content)||t[i]||""}),{content:a,isLoading:n,getValue:i=>a[i]||t[i]||""}}const Ae={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_1_url:"/facilities",hero_cta_2:"View Site Updates",hero_cta_2_url:"/roadmap",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_cta_url:"/vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",facilities_cta_url:"/booking",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_cta_url:"/membership",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_contact_cta_url:"#contact",membership_terms_cta:"View Terms & Conditions",membership_terms_cta_url:"/terms",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",updates_cta_url:"/roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",gallery_cta_url:"/gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",rules_cta_url:"/rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",careers_cta_url:"/careers",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_cta_url:"#contact",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",page_facilities_title:"Our Facilities",page_facilities_subtitle:"World-class sports and recreation facilities designed for excellence in Islamabad",page_facilities_ready_title:"Ready to Book?",page_facilities_ready_description:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits.",page_facilities_book_cta:"Book Now",page_facilities_contact_cta:"Contact Us",page_membership_title:"Membership",page_membership_subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",page_membership_why_title:"Why Become a Member?",page_membership_why_description:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts.",page_membership_tiers_title:"Membership Tiers",page_membership_tiers_description:"Choose the membership tier that best fits your lifestyle and sports goals.",page_membership_ready_title:"Ready to Join?",page_membership_ready_description:"Create your account and choose your membership tier to start enjoying exclusive benefits today.",page_membership_create_cta:"Create Account",page_membership_contact_cta:"Contact Us",page_contact_title:"Contact Us",page_contact_subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",page_contact_form_title:"Send Us a Message",page_contact_success_title:"Thank You!",page_contact_success_message:"Your message has been sent successfully. We'll respond within 24-48 hours.",page_contact_info_title:"Contact Information",page_contact_social_title:"Follow Us",page_contact_faq_title:"Frequently Asked",page_careers_title:"Join Our Team",page_careers_subtitle:"Be part of Islamabad's premier sports and recreation destination",page_careers_benefits_title:"Why Work With Us",page_careers_positions_title:"Open Positions",page_careers_apply_cta:"Apply Now",page_careers_no_positions:"No open positions at this time. Check back soon!",page_events_title:"Events & Academies",page_events_subtitle:"Tournaments, leagues, and training programs",page_events_upcoming_title:"Upcoming Events",page_events_no_events:"No events scheduled at this time. Check back soon!",page_events_register_cta:"Register Now",page_gallery_title:"Gallery & Progress",page_gallery_subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",page_gallery_construction_title:"Construction Progress",page_gallery_renders_title:"Architectural Renders",page_leaderboard_title:"Leaderboard",page_leaderboard_subtitle:"Top players across all sports at The Quarterdeck",page_leaderboard_top_players:"Top Players",page_leaderboard_coming_soon:"Leaderboard will be available after launch.",page_roadmap_title:"Development Roadmap",page_roadmap_subtitle:"Follow our journey from groundbreaking to grand opening",page_roadmap_timeline_title:"Construction Timeline",page_rules_title:"Rules & Safety",page_rules_subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",page_rules_general_title:"General Rules",page_rules_safety_title:"Safety Guidelines",page_faq_title:"Frequently Asked Questions",page_faq_subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",page_faq_contact_cta:"Still have questions? Contact us",page_vision_title:"Our Vision",page_vision_subtitle:"Building Islamabad's premier sports and recreation destination",page_vision_mission_title:"Our Mission",page_vision_values_title:"Our Values",page_privacy_title:"Privacy Policy",page_privacy_subtitle:"Last updated: December 2025",page_terms_title:"Terms & Conditions",page_terms_subtitle:"Last updated: December 2025",page_booking_title:"Book a Court",page_booking_subtitle:"Select your facility, date, and time slot",page_booking_login_required:"Please log in to book",page_booking_select_facility:"Select Facility",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this.",section_about_visible:"true",section_facilities_visible:"true",section_updates_visible:"true",section_gallery_visible:"true",section_membership_visible:"true",section_rules_visible:"true",section_careers_visible:"true",section_about_order:"1",section_facilities_order:"2",section_updates_order:"3",section_gallery_order:"4",section_membership_order:"5",section_rules_order:"6",section_careers_order:"7"};function wse(e,t=!0){return e===void 0||e===""?t:e.toLowerCase()==="true"}const eO="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function jse(){const[e,t]=x.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=de({queryKey:["/api/cms/bulk"],queryFn:async()=>{const S=await(await fetch("/api/cms/bulk")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"],queryFn:async()=>{const S=await(await fetch("/api/construction-phases")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),{data:i=[]}=de({queryKey:["/api/site-images","landing"],queryFn:async()=>{const S=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(S)?S:[]},staleTime:1e3*60*5}),o=x.useMemo(()=>{if(!Array.isArray(i))return eO;const N=i.find(S=>S.section==="hero"&&S.isActive);return(N==null?void 0:N.imageUrl)||eO},[i]),l=x.useMemo(()=>[...n].sort((N,S)=>N.sortOrder-S.sortOrder),[n]),c=x.useMemo(()=>l.find(N=>N.isActive)||l[0],[l]),u=x.useMemo(()=>l.length===0?0:l.reduce((N,S)=>N+S.progress,0)/l.length,[l]),d=N=>{const S=r.find(k=>k.key===N);return(S==null?void 0:S.content)||Ae[N]||""},f=d("hero_launch_date")||"2026-10-01";x.useEffect(()=>{const N=new Date(`${f}T00:00:00`),S=()=>{const C=new Date,P=N.getTime()-C.getTime();if(P>0){const E=Math.floor(P/864e5),O=Math.floor(P%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(P%(1e3*60*60)/(1e3*60)),T=Math.floor(P%(1e3*60)/1e3);t({days:E,hours:O,minutes:I,seconds:T})}};S();const k=setInterval(S,1e3);return()=>clearInterval(k)},[f]);const h=d("hero_title")||Ae.hero_title,p=d("hero_subtitle")||Ae.hero_subtitle,b=d("hero_eyebrow")||Ae.hero_eyebrow,m=d("hero_cta_1")||"Explore Facilities",w=d("hero_cta_1_url")||Ae.hero_cta_1_url||"/facilities",v=d("hero_cta_2")||"View Site Updates",g=d("hero_cta_2_url")||Ae.hero_cta_2_url||"/roadmap",y=d("hero_status_active")||Ae.hero_status_active,j=d("hero_status_updates")||Ae.hero_status_updates,_=d("hero_status_booking")||Ae.hero_status_booking;return s.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${o})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"qd-hero-grid",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"qd-eyebrow",children:[s.jsx("span",{className:"qd-eyebrow-dot"})," ",b]}),s.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:h}}),s.jsx("p",{className:"text-muted-foreground max-w-lg mb-6 text-sm sm:text-base","data-testid":"text-hero-subtitle",children:p}),s.jsxs("div",{className:"qd-countdown",children:[s.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-3 font-mono flex-wrap justify-center sm:justify-start","data-testid":"countdown-timer",children:[s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.days}),s.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.hours}),s.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.minutes}),s.jsx("span",{className:"qd-countdown-label",children:"Mins"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.seconds}),s.jsx("span",{className:"qd-countdown-label",children:"Secs"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[s.jsx(he,{href:w,children:s.jsx(M,{className:"rounded-full px-6","data-testid":"button-explore-facilities",children:m})}),s.jsx(he,{href:g,children:s.jsx(M,{variant:"outline",className:"rounded-full px-6","data-testid":"button-view-updates",children:v})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-6 text-[10px] sm:text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2","data-testid":"status-construction-active",children:[s.jsx("span",{className:"qd-status-dot"})," ",y]}),s.jsx("span",{"data-testid":"status-updates",children:j}),s.jsx("span",{"data-testid":"status-booking",children:_})]})]}),s.jsx("aside",{children:s.jsxs("div",{className:"qd-hero-card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),a?s.jsx(De,{className:"h-6 w-20 rounded-full"}):c?s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:c.label}):s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),a?s.jsxs(s.Fragment,{children:[s.jsx(De,{className:"h-4 w-full mb-2"}),s.jsx(De,{className:"h-3 w-full rounded-full"}),s.jsx(De,{className:"h-12 w-full mt-4"})]}):c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[s.jsxs("span",{children:[c.label,": ",c.title]}),s.jsxs("span",{children:[c.progress,"% Complete"]})]}),s.jsx("div",{className:"qd-progress-track",children:s.jsx("div",{className:"qd-progress-fill",style:{width:`${c.progress}%`}})}),c.highlights&&c.highlights.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:c.highlights[0]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),s.jsxs("div",{className:"font-semibold text-sm",children:[l.filter(N=>N.isComplete).length," phases"]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),s.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(u),"% done"]})]})]})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function Nse(){const{getValue:e}=Dr(["about_title","about_subtitle","about_cta","about_cta_url","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ae),t=(e("about_tags")||Ae.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ae.about_team_credits).split("|").map(n=>n.trim());return s.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ae.about_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ae.about_subtitle})]}),s.jsx(he,{href:e("about_cta_url")||Ae.about_cta_url||"/vision",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ae.about_cta})})]}),s.jsxs("div",{className:"qd-dev-grid",children:[s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ae.about_vision_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ae.about_vision_content}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ae.about_vision_content_2}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,a)=>s.jsx("span",{className:"qd-tag",children:n},a))})]}),s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ae.about_team_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ae.about_team_content}),s.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})}var KF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tO=D.createContext&&D.createContext(KF),_se=["attr","size","title"];function Sse(e,t){if(e==null)return{};var r=kse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(this,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cse(e,t,r){return t=Pse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pse(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HF(e){return e&&e.map((t,r)=>D.createElement(t.tag,Sx({key:r},t.attr),HF(t.child)))}function eo(e){return t=>D.createElement(Ase,_x({attr:Sx({},e.attr)},t),HF(e.child))}function Ase(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=Sse(e,_se),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),D.createElement("svg",_x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Sx(Sx({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&D.createElement("title",null,i),e.children)};return tO!==void 0?D.createElement(tO.Consumer,null,r=>t(r)):t(KF)}function qp(e){return eo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function Zo(e){return eo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}function Ose(e){return Object.prototype.toString.call(e)==="[object Object]"}function nO(e){return Ose(e)||Array.isArray(e)}function Tse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function nC(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!nO(l)||!nO(c)?l===c:nC(l,c)})}function sO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function Ise(e,t){if(e.length!==t.length)return!1;const r=sO(e),n=sO(t);return r.every((a,i)=>{const o=n[i];return nC(a,o)})}function sC(e){return typeof e=="number"}function NN(e){return typeof e=="string"}function $b(e){return typeof e=="boolean"}function aO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Cr(e){return Math.abs(e)}function aC(e){return Math.sign(e)}function Fh(e,t){return Cr(e-t)}function Rse(e,t){if(e===0||t===0||Cr(e)<=Cr(t))return 0;const r=Fh(Cr(e),Cr(t));return Cr(r/e)}function Mse(e){return Math.round(e*100)/100}function Am(e){return Om(e).map(Number)}function Ia(e){return e[zp(e)]}function zp(e){return Math.max(0,e.length-1)}function iC(e,t){return t===zp(e)}function iO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Om(e){return Object.keys(e)}function GF(e,t){return[e,t].reduce((r,n)=>(Om(n).forEach(a=>{const i=r[a],o=n[a],l=aO(i)&&aO(o);r[a]=l?GF(i,o):o}),r),{})}function _N(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function $se(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return NN(e)?r[e](c):e(t,c,u)}return{measure:o}}function Tm(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function Dse(e,t,r,n){const a=Tm(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&b()})}function d(){p(),a.clear()}function f(w){if(!c)return;o||(o=w,r(),r());const v=w-o;for(o=w,l+=v;l>=i;)r(),l-=i;const g=l/i;n(g),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function b(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function Lse(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(b){const{height:m,width:w}=b;return n?m:w}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(b){return b*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function gc(e=0,t=0){const r=Cr(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function QF(e,t,r){const{constrain:n}=gc(0,e),a=e+1;let i=o(t);function o(h){return r?Cr((a+h)%a):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return QF(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function Fse(e,t,r,n,a,i,o,l,c,u,d,f,h,p,b,m,w,v,g){const{cross:y,direction:j}=e,_=["INPUT","SELECT","TEXTAREA"],N={passive:!1},S=Tm(),k=Tm(),C=gc(50,225).constrain(p.measure(20)),P={mouse:300,touch:400},E={mouse:500,touch:600},O=b?43:25;let I=!1,T=0,$=0,V=!1,K=!1,A=!1,R=!1;function Q(G){if(!g)return;function U(He){($b(g)||g(G,He))&&ve(He)}const pe=t;S.add(pe,"dragstart",He=>He.preventDefault(),N).add(pe,"touchmove",()=>{},N).add(pe,"touchend",()=>{}).add(pe,"touchstart",U).add(pe,"mousedown",U).add(pe,"touchcancel",we).add(pe,"contextmenu",we).add(pe,"click",oe,!0)}function J(){S.clear(),k.clear()}function F(){const G=R?r:t;k.add(G,"touchmove",ne,N).add(G,"touchend",we).add(G,"mousemove",ne,N).add(G,"mouseup",we)}function X(G){const U=G.nodeName||"";return _.includes(U)}function H(){return(b?E:P)[R?"mouse":"touch"]}function ie(G,U){const pe=f.add(aC(G)*-1),He=d.byDistance(G,!b).distance;return b||Cr(G)<C?He:w&&U?He*.5:d.byIndex(pe.get(),0).distance}function ve(G){const U=_N(G,n);R=U,A=b&&U&&!G.buttons&&I,I=Fh(a.get(),o.get())>=2,!(U&&G.button!==0)&&(X(G.target)||(V=!0,i.pointerDown(G),u.useFriction(0).useDuration(0),a.set(o),F(),T=i.readPoint(G),$=i.readPoint(G,y),h.emit("pointerDown")))}function ne(G){if(!_N(G,n)&&G.touches.length>=2)return we(G);const pe=i.readPoint(G),He=i.readPoint(G,y),Ee=Fh(pe,T),mt=Fh(He,$);if(!K&&!R&&(!G.cancelable||(K=Ee>mt,!K)))return we(G);const sr=i.pointerMove(G);Ee>m&&(A=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(j(sr)),G.preventDefault()}function we(G){const pe=d.byDistance(0,!1).index!==f.get(),He=i.pointerUp(G)*H(),Ee=ie(j(He),pe),mt=Rse(He,Ee),sr=O-10*mt,Ut=v+mt/50;K=!1,V=!1,k.clear(),u.useDuration(sr).useFriction(Ut),c.distance(Ee,!b),R=!1,h.emit("pointerUp")}function oe(G){A&&(G.stopPropagation(),G.preventDefault(),A=!1)}function L(){return V}return{init:Q,destroy:J,pointerDown:L}}function Use(e,t){let n,a;function i(f){return f.timeStamp}function o(f,h){const b=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(_N(f,t)?f:f.touches[0])[b]}function l(f){return n=f,a=f,o(f)}function c(f){const h=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),h}function u(f){if(!n||!a)return 0;const h=o(a)-o(n),p=i(f)-i(n),b=i(f)-i(a)>170,m=h/p;return p&&!b&&Cr(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Bse(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function Vse(e){function t(n){return e*(n/100)}return{measure:t}}function qse(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(w){return a.measureSize(o.measure(w))}function p(w){if(!i)return;u=h(e),d=n.map(h);function v(g){for(const y of g){if(f)return;const j=y.target===e,_=n.indexOf(y.target),N=j?u:d[_],S=h(j?e:n[_]);if(Cr(S-N)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(g=>{($b(i)||i(w,g))&&v(g)}),r.requestAnimationFrame(()=>{l.forEach(g=>c.observe(g))})}function b(){f=!0,c&&c.disconnect()}return{init:p,destroy:b}}function zse(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function h(){const N=n.get()-e.get(),S=!c;let k=0;return S?(o=0,r.set(n),e.set(n),k=N):(r.set(e),o+=N/c,o*=u,d+=o,e.add(o),k=d-f),l=aC(k),f=d,_}function p(){const N=n.get()-t.get();return Cr(N)<.001}function b(){return c}function m(){return l}function w(){return o}function v(){return y(a)}function g(){return j(i)}function y(N){return c=N,_}function j(N){return u=N,_}const _={direction:m,duration:b,velocity:w,seek:h,settled:p,useBaseFriction:g,useBaseDuration:v,useFriction:j,useDuration:y};return _}function Wse(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=gc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const b=e.reachedMin(t.get())?"min":"max",m=Cr(e[b]-t.get()),w=r.get()-t.get(),v=l.constrain(m/o);r.subtract(w*v),!p&&Cr(w)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Kse(e,t,r,n,a){const i=gc(-t+e,0),o=f(),l=d(),c=h();function u(b,m){return Fh(b,m)<=1}function d(){const b=o[0],m=Ia(o),w=o.lastIndexOf(b),v=o.indexOf(m)+1;return gc(w,v)}function f(){return r.map((b,m)=>{const{min:w,max:v}=i,g=i.constrain(b),y=!m,j=iC(r,m);return y?v:j||u(w,g)?w:u(v,g)?v:g}).map(b=>parseFloat(b.toFixed(3)))}function h(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:b,max:m}=l;return o.slice(b,m)}return{snapsContained:c,scrollContainLimit:l}}function Hse(e,t,r){const n=t[0],a=r?n-e:Ia(t);return{limit:gc(a,n)}}function Gse(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=gc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(b=>b.add(p))}return{loop:d}}function Qse(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function Yse(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>Ia(m)[o]-m[0][i]).map(Cr)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-Cr(m))}function p(){return l(u).map(m=>m[0]).map((m,w)=>m+c[w])}return{snaps:u,snapsAligned:d}}function Xse(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((b,m,w)=>{const v=!m,g=iC(w,m);if(v){const y=Ia(w[0])+1;return iO(y)}if(g){const y=zp(i)-Ia(w)[0]+1;return iO(y,Ia(w)[0])}return b})}return{slideRegistry:u}}function Jse(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(b){return b.concat().sort((m,w)=>Cr(m)-Cr(w))[0]}function u(b){const m=e?o(b):l(b),w=t.map((g,y)=>({diff:d(g-m,0),index:y})).sort((g,y)=>Cr(g.diff)-Cr(y.diff)),{index:v}=w[0];return{index:v,distance:m}}function d(b,m){const w=[b,b+r,b-r];if(!e)return b;if(!m)return c(w);const v=w.filter(g=>aC(g)===m);return v.length?c(v):Ia(w)-r}function f(b,m){const w=t[b]-a.get(),v=d(w,m);return{index:b,distance:v}}function h(b,m){const w=a.get()+b,{index:v,distance:g}=u(w),y=!e&&i(w);if(!m||y)return{index:v,distance:b};const j=t[v]-g,_=b+d(j,0);return{index:v,distance:_}}return{byDistance:h,byIndex:f,shortcut:d}}function Zse(e,t,r,n,a,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=a.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),b=a.byIndex(p.get(),h);l(b)}return{distance:c,index:u}}function eae(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function b(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const g=r.findIndex(y=>y.includes(m));sC(g)&&(a.useDuration(0),n.index(g,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,w)=>{i.add(m,"focus",v=>{($b(l)||l(p,v))&&b(w)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function wh(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return sC(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function YF(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=Mse(e.direction(h));p!==a&&(n.transform=r(p),a=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function tae(e,t,r,n,a,i,o,l,c){const d=Am(a),f=Am(a).reverse(),h=v().concat(g());function p(S,k){return S.reduce((C,P)=>C-a[P],k)}function b(S,k){return S.reduce((C,P)=>p(C,k)>0?C.concat([P]):C,[])}function m(S){return i.map((k,C)=>({start:k-n[C]+.5+S,end:k+t-.5+S}))}function w(S,k,C){const P=m(k);return S.map(E=>{const O=C?0:-r,I=C?r:0,T=C?"end":"start",$=P[E][T];return{index:E,loopPoint:$,slideLocation:wh(-1),translate:YF(e,c[E]),target:()=>l.get()>$?O:I}})}function v(){const S=o[0],k=b(f,S);return w(k,r,!1)}function g(){const S=t-o[0]-1,k=b(d,S);return w(k,-r,!0)}function y(){return h.every(({index:S})=>{const k=d.filter(C=>C!==S);return p(k,t)<=.1})}function j(){h.forEach(S=>{const{target:k,translate:C,slideLocation:P}=S,E=k();E!==P.get()&&(C.to(E),P.set(E))})}function _(){h.forEach(S=>S.translate.clear())}return{canLoop:y,clear:_,loop:j,loopPoints:h}}function rae(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||($b(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function nae(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(b=>{c||(b.forEach(m=>{const w=t.indexOf(m.target);a[w]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(b=>l.observe(b))}function d(){l&&l.disconnect(),c=!0}function f(b){return Om(a).reduce((m,w)=>{const v=parseInt(w),{isIntersecting:g}=a[v];return(b&&g||!b&&!g)&&m.push(v),m},[])}function h(b=!0){if(b&&i)return i;if(!b&&o)return o;const m=f(b);return b&&(i=m),b||(o=m),m}return{init:u,destroy:d,get:h}}function sae(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=b(),f=m(),h=r.map(o),p=w();function b(){if(!u)return 0;const g=r[0];return Cr(t[l]-g[l])}function m(){if(!u)return 0;const g=i.getComputedStyle(Ia(n));return parseFloat(g.getPropertyValue(`margin-${c}`))}function w(){return r.map((g,y,j)=>{const _=!y,N=iC(j,y);return _?h[y]+d:N?h[y]+f:j[y+1][l]-g[l]}).map(Cr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function aae(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=sC(r);function p(v,g){return Am(v).filter(y=>y%g===0).map(y=>v.slice(y,y+g))}function b(v){return v.length?Am(v).reduce((g,y,j)=>{const _=Ia(g)||0,N=_===0,S=y===zp(v),k=a[u]-i[_][u],C=a[u]-i[y][d],P=!n&&N?f(o):0,E=!n&&S?f(l):0,O=Cr(C-E-(k+P));return j&&O>t+c&&g.push(y),S&&g.push(v.length),g},[]).map((g,y,j)=>{const _=Math.max(j[y-1]||0);return v.slice(_,g)}):[]}function m(v){return h?p(v,r):b(v)}return{groupSlides:m}}function iae(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:b,inViewThreshold:m,slidesToScroll:w,skipSnaps:v,containScroll:g,watchResize:y,watchSlides:j,watchDrag:_,watchFocus:N}=i,S=2,k=Bse(),C=k.measure(t),P=r.map(k.measure),E=Lse(c,u),O=E.measureSize(C),I=Vse(O),T=$se(l,O),$=!f&&!!g,V=f||!!g,{slideSizes:K,slideSizesWithGaps:A,startGap:R,endGap:Q}=sae(E,C,P,r,V,a),J=aae(E,O,w,f,C,P,R,Q,S),{snaps:F,snapsAligned:X}=Yse(E,T,C,P,J),H=-Ia(F)+Ia(A),{snapsContained:ie,scrollContainLimit:ve}=Kse(O,H,X,g,S),ne=$?ie:X,{limit:we}=Hse(H,ne,f),oe=QF(zp(ne),d,f),L=oe.clone(),se=Am(r),G=({dragHandler:Nr,scrollBody:ha,scrollBounds:rs,options:{loop:za}})=>{za||rs.constrain(Nr.pointerDown()),ha.seek()},U=({scrollBody:Nr,translate:ha,location:rs,offsetLocation:za,previousLocation:ml,scrollLooper:Fn,slideLooper:Gc,dragHandler:pl,animation:gl,eventHandler:vl,scrollBounds:Ff,options:{loop:Qc}},ig)=>{const Uf=Nr.settled(),ew=!Ff.shouldConstrain(),En=Qc?Uf:Uf&&ew,og=En&&!pl.pointerDown();og&&gl.stop();const lg=rs.get()*ig+ml.get()*(1-ig);za.set(lg),Qc&&(Fn.loop(Nr.direction()),Gc.loop()),ha.to(za.get()),og&&vl.emit("settle"),En||vl.emit("scroll")},pe=Dse(n,a,()=>G(Rt),Nr=>U(Rt,Nr)),He=.68,Ee=ne[oe.get()],mt=wh(Ee),sr=wh(Ee),Ut=wh(Ee),or=wh(Ee),q=zse(mt,Ut,sr,or,h,He),Z=Jse(f,ne,H,we,or),ae=Zse(pe,oe,L,q,Z,or,o),Oe=Qse(we),Pe=Tm(),je=nae(t,r,o,m),{slideRegistry:Ke}=Xse($,g,ne,ve,J,se),It=eae(e,r,Ke,ae,q,Pe,o,N),Rt={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:C,slideRects:P,animation:pe,axis:E,dragHandler:Fse(E,e,n,a,or,Use(E,a),mt,pe,ae,q,Z,oe,o,I,p,b,v,He,_),eventStore:Pe,percentOfView:I,index:oe,indexPrevious:L,limit:we,location:mt,offsetLocation:Ut,previousLocation:sr,options:i,resizeHandler:qse(t,o,a,r,E,y,k),scrollBody:q,scrollBounds:Wse(we,Ut,or,q,I),scrollLooper:Gse(H,we,Ut,[mt,Ut,sr,or]),scrollProgress:Oe,scrollSnapList:ne.map(Oe.get),scrollSnaps:ne,scrollTarget:Z,scrollTo:ae,slideLooper:tae(E,O,H,K,A,F,ne,Ut,r),slideFocus:It,slidesHandler:rae(t,o,j),slidesInView:je,slideIndexes:se,slideRegistry:Ke,slidesToScroll:J,target:or,translate:YF(E,t)};return Rt}function oae(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const lae={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function cae(e){function t(i,o){return GF(i,o||{})}function r(i){const o=i.breakpoints||{},l=Om(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Om(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function uae(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function kx(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=cae(a),o=uae(i),l=Tm(),c=oae(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:b}=c,m=E;let w=!1,v,g=u(lae,kx.globalOptions),y=u(g),j=[],_,N,S;function k(){const{container:se,slides:G}=y;N=(NN(se)?e.querySelector(se):se)||e.children[0];const pe=NN(G)?N.querySelectorAll(G):G;S=[].slice.call(pe||N.children)}function C(se){const G=iae(e,N,S,n,a,se,c);if(se.loop&&!G.slideLooper.canLoop()){const U=Object.assign({},se,{loop:!1});return C(U)}return G}function P(se,G){w||(g=u(g,se),y=d(g),j=G||j,k(),v=C(y),f([g,...j.map(({options:U})=>U)]).forEach(U=>l.add(U,"change",E)),y.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(L),v.eventHandler.init(L),v.resizeHandler.init(L),v.slidesHandler.init(L),v.options.loop&&v.slideLooper.loop(),N.offsetParent&&S.length&&v.dragHandler.init(L),_=o.init(L,j)))}function E(se,G){const U=J();O(),P(u({startIndex:U},se),G),c.emit("reInit")}function O(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),o.destroy(),l.clear()}function I(){w||(w=!0,l.clear(),O(),c.emit("destroy"),c.clear())}function T(se,G,U){!y.active||w||(v.scrollBody.useBaseFriction().useDuration(G===!0?0:y.duration),v.scrollTo.index(se,U||0))}function $(se){const G=v.index.add(1).get();T(G,se,-1)}function V(se){const G=v.index.add(-1).get();T(G,se,1)}function K(){return v.index.add(1).get()!==J()}function A(){return v.index.add(-1).get()!==J()}function R(){return v.scrollSnapList}function Q(){return v.scrollProgress.get(v.offsetLocation.get())}function J(){return v.index.get()}function F(){return v.indexPrevious.get()}function X(){return v.slidesInView.get()}function H(){return v.slidesInView.get(!1)}function ie(){return _}function ve(){return v}function ne(){return e}function we(){return N}function oe(){return S}const L={canScrollNext:K,canScrollPrev:A,containerNode:we,internalEngine:ve,destroy:I,off:p,on:h,emit:b,plugins:ie,previousScrollSnap:F,reInit:m,rootNode:ne,scrollNext:$,scrollPrev:V,scrollProgress:Q,scrollSnapList:R,scrollTo:T,selectedScrollSnap:J,slideNodes:oe,slidesInView:X,slidesNotInView:H};return P(t,r),setTimeout(()=>c.emit("init"),0),L}kx.globalOptions=void 0;function oC(e={},t=[]){const r=x.useRef(e),n=x.useRef(t),[a,i]=x.useState(),[o,l]=x.useState(),c=x.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return x.useEffect(()=>{nC(r.current,e)||(r.current=e,c())},[e,c]),x.useEffect(()=>{Ise(n.current,t)||(n.current=t,c())},[t,c]),x.useEffect(()=>{if(Tse()&&o){kx.globalOptions=oC.globalOptions;const u=kx(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}oC.globalOptions=void 0;const XF=x.createContext(null);function Db(){const e=x.useContext(XF);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Wp=x.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=oC({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=x.useState(!1),[h,p]=x.useState(!1),b=x.useCallback(g=>{g&&(f(g.canScrollPrev()),p(g.canScrollNext()))},[]),m=x.useCallback(()=>{u==null||u.scrollPrev()},[u]),w=x.useCallback(()=>{u==null||u.scrollNext()},[u]),v=x.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),m()):g.key==="ArrowRight"&&(g.preventDefault(),w())},[m,w]);return x.useEffect(()=>{!u||!r||r(u)},[u,r]),x.useEffect(()=>{if(u)return b(u),u.on("reInit",b),u.on("select",b),()=>{u==null||u.off("select",b)}},[u,b]),s.jsx(XF.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:w,canScrollPrev:d,canScrollNext:h},children:s.jsx("div",{ref:l,onKeyDownCapture:v,className:be("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});Wp.displayName="Carousel";const Kp=x.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Db();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:be("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Kp.displayName="CarouselContent";const Hp=x.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Db();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:be("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});Hp.displayName="CarouselItem";const dae=x.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=Db();return s.jsxs(M,{ref:a,variant:t,size:r,className:be("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(_n,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});dae.displayName="CarouselPrevious";const fae=x.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=Db();return s.jsxs(M,{ref:a,variant:t,size:r,className:be("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(ob,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});fae.displayName="CarouselNext";const hae={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function mae(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function pae(e,t){const r=e.rootNode();return t&&t(r)||r}function jf(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(T,$){r=T;const{mergeOptions:V,optionsAtMedia:K}=$,A=V(hae,jf.globalOptions),R=V(A,e);if(t=K(R),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=mae(r,t.delay);const{eventStore:Q,ownerDocument:J}=r.internalEngine(),F=!!r.internalEngine().options.watchDrag,X=pae(r,t.rootNode);Q.add(J,"visibilitychange",v),F&&r.on("pointerDown",y),F&&!t.stopOnInteraction&&r.on("pointerUp",j),t.stopOnMouseEnter&&Q.add(X,"mouseenter",_),t.stopOnMouseEnter&&!t.stopOnInteraction&&Q.add(X,"mouseleave",N),t.stopOnFocusIn&&r.on("slideFocusStart",w),t.stopOnFocusIn&&!t.stopOnInteraction&&Q.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",y).off("pointerUp",j).off("slideFocusStart",w),w(),n=!0,l=!1}function p(){const{ownerWindow:T}=r.internalEngine();T.clearTimeout(o),o=T.setTimeout(E,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function b(){const{ownerWindow:T}=r.internalEngine();T.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(g()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function w(){n||(l&&r.emit("autoplay:stop"),b(),l=!1)}function v(){if(g())return u=l,w();u&&m()}function g(){const{ownerDocument:T}=r.internalEngine();return T.visibilityState==="hidden"}function y(){c||w()}function j(){c||m()}function _(){c=!0,w()}function N(){c=!1,m()}function S(T){typeof T<"u"&&(d=T),m()}function k(){l&&w()}function C(){l&&m()}function P(){return l}function E(){const{index:T}=r.internalEngine(),$=T.clone().add(1).get(),V=r.scrollSnapList().length-1,K=t.stopOnLastSnap&&$===V;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),K)return w();m()}function O(){if(!i)return null;const T=a[r.selectedScrollSnap()],$=new Date().getTime()-i;return T-$}return{name:"autoplay",options:e,init:f,destroy:h,play:S,stop:k,reset:C,isPlaying:P,timeUntilNext:O}}jf.globalOptions=void 0;const Nf="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Lb="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",lC="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Fb="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",gae="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",cC="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",vae={GiTennisRacket:Zo,GiSquare:qp,Crosshair:Pp,Building2:vn,Coffee:Nk,Spade:fb},xae={"padel-tennis":Nf,squash:Lb,"air-rifle-range":lC,"multipurpose-hall":Fb,"bridge-room":gae,"cafe-bar":cC},oO=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:Zo,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:Nf},{id:"squash",slug:"squash",name:"Squash Court",icon:qp,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Lb},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:Pp,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:lC},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:vn,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Fb},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:Nk,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:cC}];function yae(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function bae(){const{getValue:e}=Dr(["facilities_title","facilities_subtitle","facilities_cta","facilities_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(a=>{const i=yae(a.status),o=oO.find(l=>l.slug===a.slug);return{id:a.id,slug:a.slug,name:a.name,icon:vae[a.icon]||(o==null?void 0:o.icon)||vn,category:a.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:a.description||(o==null?void 0:o.description)||"",footer:`${a.resourceCount||1} ${a.resourceCount===1?"court":"courts"} available`,image:a.imageUrl||xae[a.slug]||(o==null?void 0:o.image)||Fb}}):oO;return s.jsx("section",{id:"facilities",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ae.facilities_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ae.facilities_subtitle})]}),s.jsx(he,{href:e("facilities_cta_url")||Ae.facilities_cta_url||"/booking",children:s.jsx(M,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ae.facilities_cta})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsx(Wp,{opts:{align:"start",loop:!0},plugins:[jf({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Kp,{className:"-ml-2 md:-ml-4",children:n.map(a=>s.jsx(Hp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(he,{href:`/facilities/${a.slug}`,children:s.jsxs("div",{className:"group relative aspect-[4/3] rounded-xl overflow-hidden cursor-pointer","data-testid":`card-facility-${a.slug||a.id}`,children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold backdrop-blur-sm ${a.status==="soon"?"bg-blue-500/80 text-white":a.status==="active"?"bg-green-500/80 text-white":"bg-gray-500/80 text-white"}`,children:a.statusLabel})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[a.category,s.jsx(sa,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},a.id))})})]})})}const wae={check:kr,"check-circle":xn,clock:Gt,hammer:M5,"hard-hat":$5,rocket:hG,target:Ri};function jae(){const[e,t]=x.useState(null),{getValue:r}=Dr(["updates_title","updates_subtitle","updates_cta","updates_cta_url"],Ae),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"]}),i=x.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=x.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return a?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:s.jsxs("div",{children:[s.jsx(De,{className:"h-8 w-64 mb-2"}),s.jsx(De,{className:"h-4 w-96"})]})}),s.jsxs("div",{className:"relative py-12",children:[s.jsx(De,{className:"h-1 w-full rounded-full"}),s.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[s.jsx(De,{className:"w-14 h-14 rounded-full"}),s.jsx(De,{className:"h-4 w-16 mt-4"}),s.jsx(De,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsx("div",{className:"qd-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),s.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ae.updates_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ae.updates_subtitle})]}),s.jsx(he,{href:r("updates_cta_url")||Ae.updates_cta_url||"/roadmap",children:s.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ae.updates_cta," ",s.jsx(sa,{className:"w-4 h-4"})]})})]}),s.jsxs("div",{className:"relative py-12",children:[s.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),s.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),s.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),s.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=wae[c.icon]||Gt,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return s.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[s.jsx(he,{href:`/roadmap#${c.id}`,children:s.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[s.jsx(d,{className:"w-6 h-6"}),c.isActive&&s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),s.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),s.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[s.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:s.jsx(d,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),s.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,b)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[s.jsx(kr,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{children:p})]},b))})]}),c.highlights&&c.highlights.length>0&&s.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),s.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,b)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[s.jsx(sa,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:p})]},b))})]})]})]})]},c.id)})})]}),s.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const JF="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",ZF="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",Nae="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",e6="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",_ae="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",Sae="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",kae=[{key:"gallery-1",title:"Complex Exterior Render",type:"render",image:JF,category:"renders"},{key:"gallery-2",title:"Court Construction Progress",type:"photo",image:e6,category:"construction"},{key:"gallery-3",title:"Sports Arena Render",type:"render",image:ZF,category:"renders"},{key:"gallery-4",title:"Indoor Facility Build",type:"photo",image:_ae,category:"construction"},{key:"gallery-5",title:"Final Design Concept",type:"render",image:Nae,category:"renders"},{key:"gallery-6",title:"Structural Framework",type:"photo",image:Sae,category:"construction"}];function Cae(){const{getValue:e}=Dr(["gallery_title","gallery_subtitle","gallery_cta","gallery_cta_url"],Ae),{data:t=[]}=de({queryKey:["/api/site-images","gallery"],queryFn:async()=>{const a=await(await fetch("/api/site-images?page=gallery")).json();return Array.isArray(a)?a:[]},staleTime:1e3*60*5}),r=x.useMemo(()=>kae.map((n,a)=>{const i=t.find(o=>o.section===n.key&&o.isActive);return{...n,title:(i==null?void 0:i.title)||n.title,image:(i==null?void 0:i.imageUrl)||n.image}}),[t]);return s.jsx("section",{id:"gallery",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ae.gallery_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ae.gallery_subtitle})]}),s.jsx(he,{href:e("gallery_cta_url")||Ae.gallery_cta_url||"/gallery",children:s.jsxs(M,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ae.gallery_cta," ",s.jsx(ob,{className:"ml-2 w-4 h-4"})]})})]}),s.jsx(Wp,{opts:{align:"start",loop:!0},plugins:[jf({delay:3500,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Kp,{className:"-ml-2 md:-ml-4",children:r.map((n,a)=>s.jsx(Hp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(he,{href:`/gallery?category=${n.category}`,children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer","data-testid":`gallery-item-${a}`,children:[s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:n.title}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${n.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:n.type})]})]})})},a))})})]})})}const lO="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",Pae={FOUNDING:Nf,GOLD:Lb,SILVER:Fb,GUEST:cC},Eae={FOUNDING:lb,GOLD:oa,SILVER:V5,GUEST:jr},cO={FOUNDING:{gradient:"from-amber-600/90 to-amber-800/90",badge:"bg-amber-500"},GOLD:{gradient:"from-yellow-500/90 to-yellow-700/90",badge:"bg-yellow-500"},SILVER:{gradient:"from-gray-500/90 to-gray-700/90",badge:"bg-gray-500"},GUEST:{gradient:"from-blue-500/90 to-blue-700/90",badge:"bg-blue-500"}},Aae=[{id:"founding",name:"Founding",tier:"FOUNDING",tagline:"Exclusive",price:35e3,billingPeriod:"monthly",closed:!0,isActive:!0,sortOrder:1},{id:"gold",name:"Gold",tier:"GOLD",tagline:"Premium",price:15e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:2},{id:"silver",name:"Silver",tier:"SILVER",tagline:"Standard",price:5e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Casual",price:0,billingPeriod:"per visit",closed:!1,isActive:!0,sortOrder:4}];function Oae(){const{getValue:e}=Dr(["membership_title","membership_subtitle","membership_cta","membership_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),{data:n=[]}=de({queryKey:["/api/site-images","membership"],queryFn:async()=>{const u=await(await fetch("/api/site-images?page=membership")).json();return Array.isArray(u)?u:[]},staleTime:1e3*60*5}),a=c=>{const u=n.find(d=>d.section===`tier-${c.toLowerCase()}`&&d.isActive);return(u==null?void 0:u.imageUrl)||Pae[c]||lO},i=x.useMemo(()=>{const c=n.find(u=>u.section==="background"&&u.isActive);return(c==null?void 0:c.imageUrl)||lO},[n]),o=x.useMemo(()=>!t||t.length===0?Aae:t.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Exclusive":c.tier==="GOLD"?"Premium":c.tier==="SILVER"?"Standard":"Casual",price:c.price,billingPeriod:c.billingPeriod||"monthly",closed:c.tier==="FOUNDING",isActive:c.isActive,sortOrder:c.sortOrder||0})),[t]),l=(c,u)=>{if(c===0||!c)return"Pay per use";const d=u==="yearly"?"/yr":"/mo";return`PKR ${(c/1e3).toFixed(0)}k${d}`};return r?s.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:s.jsx("div",{className:"qd-container relative z-10",children:s.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(c=>s.jsx(De,{className:"aspect-[4/3] w-72 rounded-xl flex-shrink-0"},c))})})}):s.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${i})`}}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:e("membership_title")||Ae.membership_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("membership_subtitle")||Ae.membership_subtitle})]}),s.jsx(he,{href:e("membership_cta_url")||Ae.membership_cta_url||"/membership",children:s.jsx(M,{className:"rounded-full","data-testid":"button-inquire-membership",children:e("membership_cta")||Ae.membership_cta})})]}),s.jsx(Wp,{opts:{align:"start",loop:!0},plugins:[jf({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Kp,{className:"-ml-2 md:-ml-4",children:o.map(c=>{const u=Eae[c.tier]||jr,d=cO[c.tier]||cO.GUEST,f=a(c.tier);return s.jsx(Hp,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/4",children:s.jsx(he,{href:"/membership",children:s.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer","data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[s.jsx("img",{src:f,alt:c.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient}`}),c.closed&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-red-500 text-white",children:"CLOSED"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.badge}`,children:s.jsx(u,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70 mb-1",children:c.tagline}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:c.name}),s.jsx("p",{className:"text-lg font-semibold text-white/90 mb-2",children:l(c.price,c.billingPeriod)}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:["View details",s.jsx(sa,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},c.id)})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("membership_footer")||Ae.membership_footer}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(he,{href:e("membership_contact_cta_url")||Ae.membership_contact_cta_url||"/contact",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-contact-membership",children:e("membership_contact_cta")||Ae.membership_contact_cta})}),s.jsx(he,{href:e("membership_terms_cta_url")||Ae.membership_terms_cta_url||"/terms",children:s.jsx(M,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:e("membership_terms_cta")||Ae.membership_terms_cta})})]})]})]})]})}function Tae(){const{getValue:e}=Dr(["rules_title","rules_subtitle","rules_cta","rules_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return s.jsx("section",{id:"rules",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ae.rules_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ae.rules_subtitle})]}),s.jsx(he,{href:e("rules_cta_url")||Ae.rules_cta_url||"/rules",children:s.jsxs(M,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ae.rules_cta," ",s.jsx(sa,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):s.jsx("div",{className:"qd-rules-grid",children:n.map((a,i)=>s.jsx(he,{href:"/rules",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.content})]})},a.id))})]})})}function Iae(){var a;const{getValue:e}=Dr(["careers_title","careers_subtitle","careers_cta","careers_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/careers"]}),n=((a=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:a.slice(0,4))||[];return s.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ae.careers_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ae.careers_subtitle})]}),s.jsx(he,{href:e("careers_cta_url")||Ae.careers_cta_url||"/careers",children:s.jsxs(M,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ae.careers_cta," ",s.jsx(sa,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):s.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>s.jsx(he,{href:"/careers",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}const Kg="The Quarterdeck",Rae="Premium sports and recreation complex in Islamabad, Pakistan featuring Padel Tennis, Squash, Air Rifle Range, and more. Book your facilities, join events, and become a member today.";function Lr({title:e,description:t=Rae,ogTitle:r,ogDescription:n,ogImage:a,ogType:i="website",twitterCard:o="summary_large_image",canonicalUrl:l}={}){x.useEffect(()=>{const c=e?`${e} | ${Kg}`:Kg;document.title=c;const u=(d,f,h=!1)=>{const p=h?`meta[property="${d}"]`:`meta[name="${d}"]`;let b=document.querySelector(p);b||(b=document.createElement("meta"),h?b.setAttribute("property",d):b.setAttribute("name",d),document.head.appendChild(b)),b.setAttribute("content",f)};if(u("description",t),u("og:title",r||c,!0),u("og:description",n||t,!0),u("og:type",i,!0),u("og:site_name",Kg,!0),a&&u("og:image",a,!0),l){u("og:url",l,!0);let d=document.querySelector('link[rel="canonical"]');d||(d=document.createElement("link"),d.setAttribute("rel","canonical"),document.head.appendChild(d)),d.setAttribute("href",l)}return u("twitter:card",o),u("twitter:title",r||c),u("twitter:description",n||t),a&&u("twitter:image",a),()=>{document.title=Kg}},[e,t,r,n,a,i,o,l])}const rj=[{id:"about",component:()=>s.jsx(Nse,{}),altBackground:!0,visibilityKey:"section_about_visible",orderKey:"section_about_order"},{id:"facilities",component:()=>s.jsx(bae,{}),altBackground:!1,visibilityKey:"section_facilities_visible",orderKey:"section_facilities_order"},{id:"updates",component:()=>s.jsx(jae,{}),altBackground:!0,visibilityKey:"section_updates_visible",orderKey:"section_updates_order"},{id:"gallery",component:()=>s.jsx(Cae,{}),altBackground:!1,visibilityKey:"section_gallery_visible",orderKey:"section_gallery_order"},{id:"membership",component:()=>s.jsx(Oae,{}),altBackground:!0,visibilityKey:"section_membership_visible",orderKey:"section_membership_order"},{id:"rules",component:()=>s.jsx(Tae,{}),altBackground:!1,visibilityKey:"section_rules_visible",orderKey:"section_rules_order"},{id:"careers",component:()=>s.jsx(Iae,{}),altBackground:!0,visibilityKey:"section_careers_visible",orderKey:"section_careers_order"}];function Mae(){Lr({description:"The Quarterdeck is Islamabad's premier sports and recreation complex featuring Padel Tennis, Squash, Air Rifle Range, and exclusive membership packages. Book facilities and join events today."});const e=[...rj.map(n=>n.visibilityKey),...rj.map(n=>n.orderKey)],{getValue:t}=Dr(e,Ae),r=x.useMemo(()=>rj.filter(n=>wse(t(n.visibilityKey))).sort((n,a)=>{const i=parseInt(t(n.orderKey)||"99",10),o=parseInt(t(a.orderKey)||"99",10);return i-o}),[t]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(jse,{}),r.map(n=>{const a=n.component;return n.altBackground?s.jsx("div",{className:"qd-section-alt",children:s.jsx(a,{})},n.id):s.jsx(a,{},n.id)})]}),s.jsx(Kt,{})]})}const Y=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:be("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Y.displayName="Input";const $ae=Cp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...r}){return s.jsx("div",{className:be($ae({variant:t}),e),...r})}function Ha(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function Dae(e,t){const[r,n]=e.split(":").map(Number),a=r*60+n+t,i=Math.floor(a/60),o=a%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function uO(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const Ub=()=>"Notification"in window,Lae=()=>Ub()?Notification.permission:"unsupported",Fae=async()=>Ub()?Notification.permission==="granted"?"granted":Notification.permission!=="denied"?await Notification.requestPermission():Notification.permission:(console.warn("Push notifications are not supported in this browser"),"unsupported"),dO=e=>{if(!Ub())return console.warn("Push notifications are not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const t=new Notification(e.title,{body:e.body,icon:e.icon||"/favicon.ico",tag:e.tag,requireInteraction:e.requireInteraction||!1});return e.onClick&&(t.onclick=()=>{var r;window.focus(),(r=e.onClick)==null||r.call(e),t.close()}),t},fO={bookingReminder:(e,t,r)=>({title:"Upcoming Booking Reminder",body:`Your ${e} booking is scheduled for ${t} on ${r}`,tag:"booking-reminder",requireInteraction:!0}),bookingConfirmed:e=>({title:"Booking Confirmed",body:`Your booking for ${e} has been confirmed!`,tag:"booking-confirmed"}),paymentVerified:e=>({title:"Payment Verified",body:`Your payment for ${e} has been verified`,tag:"payment-verified"}),eventReminder:(e,t)=>({title:"Event Reminder",body:`Don't forget: ${e} is happening on ${t}`,tag:"event-reminder",requireInteraction:!0})};function Uae(){const[e]=x.useState(()=>Ub()),[t,r]=x.useState("default");x.useEffect(()=>{r(Lae())},[]);const n=x.useCallback(async()=>{const o=await Fae();return r(o),o},[]),a=x.useCallback((o,l)=>{if(t!=="granted")return;const c=fO.bookingReminder(l,o.startTime,o.date);dO(c)},[t]),i=x.useCallback((o,l)=>{if(t!=="granted")return;const c=fO.eventReminder(o,l);dO(c)},[t]);return{isSupported:e,permission:t,requestPermission:n,showBookingReminder:a,showEventReminder:i}}const Bae="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",hO={"padel-tennis":Zo,squash:qp,"air-rifle-range":Pp,"bridge-room":fb,"multipurpose-hall":vn},Hg=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function Vae({initialView:e="booking"}){var rP,nP,sP;const{user:t,isAuthenticated:r}=Zi(),{toast:n}=ht(),{isSupported:a,permission:i,requestPermission:o}=Uae(),[l,c]=x.useState(e),[u,d]=x.useState(null),[f,h]=x.useState("Islamabad"),[p,b]=x.useState(()=>new Date().toISOString().split("T")[0]),[m,w]=x.useState(60),[v,g]=x.useState(1),[y,j]=x.useState(null),[_,N]=x.useState("cash"),[S,k]=x.useState(!1),[C,P]=x.useState("self"),[E,O]=x.useState(""),[I,T]=x.useState(null),[$,V]=x.useState(new Set),[K,A]=x.useState({}),[R,Q]=x.useState(!1),[J,F]=x.useState(!1),[X,H]=x.useState(1),[ie,ve]=x.useState(null),[ne,we]=x.useState("cumulative"),[oe,L]=x.useState(!1),{data:se}=de({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const z=await fetch("/api/memberships/my",{credentials:"include"});return z.status===404||!z.ok?null:await z.json()}catch{return null}},enabled:r}),{data:G=[]}=de({queryKey:["/api/leaderboard",ne==="cumulative"?void 0:ne],queryFn:async()=>{try{const z=ne==="cumulative"?"":`?facilityId=${ne}`,ge=await fetch(`/api/leaderboard${z}`);if(!ge.ok)return[];const ct=await ge.json();return Array.isArray(ct)?ct:[]}catch{return[]}}}),{data:U=[]}=de({queryKey:["/api/pricing-tiers"]}),pe=x.useMemo(()=>{const z={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return U.forEach(ge=>{if(ge.discountPercent!==null&&ge.discountPercent!==void 0)z[ge.tier]=ge.discountPercent;else{const Le=(ge.benefits||[]).find(lr=>lr.toLowerCase().includes("discount")&&lr.toLowerCase().includes("off-peak"));if(Le){const lr=Le.match(/(\d+)%/);lr&&(z[ge.tier]=parseInt(lr[1],10))}}}),z},[U]),He=x.useMemo(()=>{const z={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2};return U.forEach(ge=>{ge.advanceBookingDays!==null&&ge.advanceBookingDays!==void 0&&(z[ge.tier]=ge.advanceBookingDays)}),z},[U]),Ee=x.useMemo(()=>{const z=(se==null?void 0:se.tier)||"GUEST",ge=(se==null?void 0:se.status)||"PENDING_PAYMENT",ct=ge==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(se==null?void 0:se.guestPasses)||0,membershipTier:z,membershipStatus:ge,membershipNumber:(se==null?void 0:se.membershipNumber)||null,membershipExpiry:(se==null?void 0:se.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:ct}},[t,r,se]),mt=x.useMemo(()=>{const z=Ee.membershipTier,ct=Ee.isActiveMember&&He[z]||2,Le=new Date;return Le.setDate(Le.getDate()+ct),Le.toISOString().split("T")[0]},[Ee.membershipTier,Ee.isActiveMember,He]),sr=x.useMemo(()=>p<=mt,[p,mt]);x.useEffect(()=>{const z=new URLSearchParams(window.location.search),ge=z.get("success"),ct=z.get("session_id"),Le=z.get("canceled");ge==="true"&&ct?xe("POST","/api/stripe/verify-session",{sessionId:ct}).then(lr=>lr.json()).then(lr=>{lr.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),re.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(lr=>{n({title:"Payment Verification Failed",description:lr.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):Le==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:Ut=[]}=de({queryKey:["/api/bookings",u==null?void 0:u.id,p],enabled:!!u}),{data:or=[],isLoading:q}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const z=await fetch("/api/facilities");if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),{data:Z=[]}=de({queryKey:["/api/venues"],queryFn:async()=>{try{const z=await fetch("/api/venues");if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),{data:ae=[]}=de({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const z=await fetch("/api/hall-activities");if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),Oe=x.useMemo(()=>Z.length===0?["Islamabad"]:Z.map(z=>z.city),[Z]),Pe=x.useMemo(()=>ae.length===0?[]:ae.map(z=>({value:z.name,label:z.name})),[ae]),je=x.useMemo(()=>new Date(p+"T12:00:00").getDay(),[p]),Ke=x.useMemo(()=>{if(!u)return null;const z=or.find(ge=>ge.slug===u.id);return(z==null?void 0:z.id)||null},[or,u==null?void 0:u.id]),It=x.useMemo(()=>{const z=Z.find(ge=>ge.city===f);return(z==null?void 0:z.id)||null},[Z,f]),{data:Rt=[]}=de({queryKey:["/api/operating-hours",je],queryFn:async()=>{try{const z=await fetch(`/api/operating-hours?dayOfWeek=${je}`);if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}}}),Nr=x.useMemo(()=>{const z=Ke?Rt.find(dn=>!dn.isClosed&&!dn.isHoliday&&dn.facilityId===Ke&&dn.dayOfWeek===je):null,ge=It?Rt.find(dn=>!dn.isClosed&&!dn.isHoliday&&dn.venueId===It&&!dn.facilityId&&dn.dayOfWeek===je):null,ct=Rt.find(dn=>!dn.isClosed&&!dn.isHoliday&&!dn.facilityId&&!dn.venueId&&dn.dayOfWeek===je),Le=z||ge||ct;if(!Le)return[];const lr=[],Yc=Le.slotDurationMinutes||60,[cg,Vf]=Le.openTime.split(":").map(Number),[Xc,ug]=Le.closeTime.split(":").map(Number);let mi=cg*60+Vf;const qf=Xc*60+ug-m;for(;mi<=qf;){const dn=Math.floor(mi/60),a7=mi%60;lr.push(`${dn.toString().padStart(2,"0")}:${a7.toString().padStart(2,"0")}`),mi+=Yc}return lr},[Rt,je,Ke,It,m]),{data:ha=[]}=de({queryKey:["/api/facilities",u==null?void 0:u.id,"addons"],queryFn:async()=>{if(!u)return[];try{const z=await fetch(`/api/facilities/${u.id}/addons`);if(!z.ok)return[];const ge=await z.json();return Array.isArray(ge)?ge:[]}catch{return[]}},enabled:!!(u!=null&&u.id)}),rs={Target:Ri,CircleDot:QH,Droplets:JH,ShieldCheck:_d,Headphones:tG,Glasses:eG,Coffee:Nk,Speaker:gG},za=x.useMemo(()=>ha.map(z=>({id:z.id,label:z.label,price:z.price,icon:z.icon&&rs[z.icon]||Ri,image:z.imageUrl||Bae})),[ha]),ml=x.useMemo(()=>{const z={};return or.forEach(ge=>{z[ge.id]=ge.slug}),z},[or]),Fn=x.useMemo(()=>or.length===0?[]:or.filter(z=>z.status==="ACTIVE"&&z.slug!=="bridge-room").map(z=>({id:z.slug,label:z.name,count:z.resourceCount||1,basePrice:z.basePrice,minPlayers:z.minPlayers||1,icon:hO[z.slug]||vn,requiresCert:z.requiresCertification||!1,restricted:z.isRestricted||!1})).sort((z,ge)=>{const ct=Hg.indexOf(z.id),Le=Hg.indexOf(ge.id);return(ct===-1?999:ct)-(Le===-1?999:Le)}),[or]),Gc=x.useMemo(()=>or.filter(z=>z.slug!=="bridge-room").map(z=>({id:z.slug,label:z.name,count:z.resourceCount||1,basePrice:z.basePrice,minPlayers:z.minPlayers||1,icon:hO[z.slug]||vn,requiresCert:z.requiresCertification||!1,restricted:z.isRestricted||!1,status:z.status})).sort((z,ge)=>{const ct=Hg.indexOf(z.id),Le=Hg.indexOf(ge.id);return(ct===-1?999:ct)-(Le===-1?999:Le)}),[or]);x.useEffect(()=>{if(Fn.length>0)if(!u||!Fn.find(z=>z.id===u.id))d(Fn[0]);else{const z=Fn.find(ge=>ge.id===u.id);z&&(z.count!==u.count||z.basePrice!==u.basePrice)&&d(z)}},[Fn,u==null?void 0:u.id]),x.useEffect(()=>{Oe.length>0&&!Oe.includes(f)&&h(Oe[0])},[Oe,f]);const{data:pl=[]}=de({queryKey:["/api/events"]}),gl=ye({mutationFn:async z=>await xe("POST",`/api/events/${z.eventId}/register`,z),onSuccess:()=>{n({title:"Registration Submitted!",description:"Your registration is pending approval. You'll receive a confirmation email once approved."}),re.invalidateQueries({queryKey:["/api/events"]})},onError:z=>{n({title:"Registration Failed",description:z.message||"Unable to register for this event.",variant:"destructive"})}}),vl=z=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),window.location.href="/login";return}gl.mutate({eventId:z.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},Ff=f!=="Islamabad",Qc=ye({mutationFn:async z=>await xe("POST","/api/bookings",z),onSuccess:async(z,ge)=>{const ct=ge.paymentMethod==="bank_transfer",Le=ge.paymentMethod==="cash";n(ct?{title:"Booking Created!",description:"Please complete your bank transfer and share the receipt with us for verification."}:Le?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),a&&i==="default"&&setTimeout(()=>{n({title:"Enable Booking Reminders?",description:"Get notified 1 hour before your booking starts.",action:s.jsx(M,{size:"sm",onClick:async()=>{await o()==="granted"&&n({title:"Reminders Enabled",description:"You'll receive notifications before your bookings."})},"data-testid":"button-enable-notifications",children:"Enable"})})},1500),re.invalidateQueries({queryKey:["/api/bookings"]}),j(null),V(new Set),Q(!1),F(!1),H(1)},onError:z=>{var ct;const ge=(ct=z.message)==null?void 0:ct.includes("certification");n({title:ge?"Certification Required":"Booking Failed",description:ge?"This facility requires a valid certification to book. Visit our Certifications page to complete the required training.":z.message,variant:"destructive"})}}),ig=z=>{const ge=Uf(z),ct=ge+m;return Ut.some(Le=>{if(Le.date!==p||Le.resourceId!==v||Le.status==="CANCELLED")return!1;const lr=Uf(Le.startTime),Yc=lr+(Le.durationMinutes||60);return ge<Yc&&ct>lr})},Uf=z=>{const[ge,ct]=z.split(":").map(Number);return ge*60+ct},ew=async z=>{const ge=z.trim().toUpperCase();if(O(ge),!ge){T(null);return}if(!/^QD-\d{4}$/.test(ge)){T(!1);return}L(!0);try{const Le=await fetch(`/api/memberships/validate/${ge}`);if(!Le.ok){T(!1);return}const lr=await Le.json();T(lr.valid===!0)}catch{T(!1)}finally{L(!1)}},En=x.useMemo(()=>{if(!y||!u)return null;let ct=u.basePrice/60*m,Le=0;const lr=Ee.membershipTier,Yc=Ee.isActiveMember,cg=uO(y),Vf=pe[lr]||0;cg&&Yc&&Vf>0&&(Le=ct*(Vf/100));let Xc=0;$.forEach(mi=>{const tw=za.find(qf=>qf.id===mi);if(tw){const qf=K[mi]??1;Xc+=tw.price*qf}}),R&&(Xc+=4e3);let ug=null;if(cg&&Yc&&Le>0){const mi=lr.charAt(0)+lr.slice(1).toLowerCase();ug=`${Vf}% ${mi} (Off-Peak)`}return{basePrice:Math.round(ct),discount:Math.round(Le),discountLabel:ug,addOnTotal:Xc,totalPrice:Math.round(ct-Le+Xc),date:p,startTime:y,endTime:Dae(y,m)}},[y,u,m,$,K,R,p,Ee.membershipTier,Ee.isActiveMember,za,pe]),og=z=>{const ge=new Set($);ge.has(z.id)?ge.delete(z.id):(ge.add(z.id),A(ct=>({...ct,[z.id]:ct[z.id]??1}))),V(ge)},lg=(z,ge)=>{A(ct=>{const Le=ct[z]??1,lr=Math.min(10,Math.max(1,Le+ge));return{...ct,[z]:lr}})},n7=async()=>{if(!(!En||!y||!u)){if(!sr){const z=Ee.membershipTier,ge=Ee.isActiveMember&&He[z]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${ge} days in advance.`,variant:"destructive"});return}if(u.id==="multipurpose-hall"&&!ie){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}Qc.mutate({facilitySlug:u.id,venue:f,resourceId:v,date:p,startTime:y,endTime:En.endTime,durationMinutes:m,paymentMethod:_,payerType:C.toUpperCase(),payerMembershipNumber:C==="member"?E:null,basePrice:En.basePrice,discount:En.discount,addOnTotal:En.addOnTotal,totalPrice:En.totalPrice,coachBooked:R,isMatchmaking:J,currentPlayers:X,maxPlayers:u.minPlayers,hallActivity:ie,addOns:Array.from($).map(z=>({id:z,quantity:K[z]??1}))})}},s7=z=>{switch(z){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},eP=Gc.filter(z=>z.id!=="bridge-room"&&z.id!=="multipurpose-hall"),tP=x.useMemo(()=>G.map(z=>({name:z.playerName||"Member",points:z.rankingPoints,tier:"Member",facility:z.facilityId})),[G]),Bf=()=>{window.location.href="/"};return q||Fn.length===0||!u?s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 w-full md:w-72 flex-shrink-0 p-6 border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700",children:[s.jsx(De,{className:"h-8 w-48 mb-2"}),s.jsx(De,{className:"h-3 w-32 mb-6"}),s.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(z=>s.jsx(De,{className:"h-12 rounded-xl"},z))})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(De,{className:"h-6 w-24"}),s.jsx(De,{className:"h-6 w-6 rounded-full"}),s.jsx(De,{className:"h-6 w-32"})]}),s.jsx(De,{className:"h-8 w-48 mb-6"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[1,2,3,4].map(z=>s.jsx(De,{className:"h-24 rounded-xl"},z))}),s.jsx(De,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(z=>s.jsx(De,{className:"h-10 w-20 rounded-md"},z))}),s.jsx(De,{className:"h-40 rounded-xl"})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[s.jsxs("div",{children:[s.jsx(he,{href:"/",children:s.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[s.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>c("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[s.jsx(nx,{className:"w-4 h-4"})," Book Facility"]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>c("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[s.jsx(Ns,{className:"w-4 h-4"})," Events & Academies"]}),s.jsxs("button",{onClick:()=>c("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[s.jsx(Ns,{className:"w-4 h-4"})," Leaderboard"]}),s.jsxs("button",{onClick:()=>c("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[s.jsx(ls,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(KE,{className:"w-5 h-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),s.jsx("p",{className:"text-lg font-bold",children:Ha(Ee.creditBalance)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(WE,{className:"w-5 h-5 text-sky-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),s.jsxs("p",{className:"text-lg font-bold",children:[Ee.totalHoursPlayed," hrs"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ox,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),s.jsx("p",{className:"text-lg font-bold",children:Ee.guestPasses})]})]})]})]}),s.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[l==="booking"&&!r&&s.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[s.jsx(ls,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(he,{href:"/login",className:"block",children:s.jsx(M,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),s.jsxs(M,{variant:"outline",className:"w-full",onClick:Bf,"data-testid":"button-back-home-auth",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),l==="booking"&&r&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Bf,className:"rounded-full","data-testid":"button-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),s.jsx("div",{className:"mt-3 sm:mt-0",children:s.jsxs("div",{className:"max-w-xs sm:text-right",children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),s.jsx("select",{value:f,onChange:z=>{h(z.target.value),d(Fn[0]),g(1),j(null),V(new Set),A({}),Q(!1),F(!1),H(1),ve(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:Oe.map(z=>s.jsx("option",{value:z,children:z},z))}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",f]})]})})]}),Ff&&s.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),s.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",f]}),s.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",f," is currently under development. Stay tuned for updates on our upcoming locations."]}),s.jsx(ue,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),s.jsx("div",{className:"mt-6",children:s.jsx(M,{variant:"outline",onClick:()=>h("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!Ff&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:Fn.map(z=>{const ge=z.icon,ct=u.id===z.id,Le=z.restricted&&Ee.membershipTier!=="FOUNDING";return s.jsxs("button",{onClick:()=>{Le?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(d(z),g(1),j(null),F(!1),ve(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${Le?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":ct?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${z.id}`,children:[s.jsx(ge,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),s.jsx("p",{className:"font-semibold text-sm",children:z.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[z.count," available"]}),Le&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},z.id)})})]}),!Ff&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[s.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",u.label,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:u.count}).map((z,ge)=>s.jsxs("button",{onClick:()=>g(ge+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${v===ge+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${ge+1}`,children:["Court ",ge+1]},ge+1))}),u.id==="multipurpose-hall"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),s.jsxs("select",{value:ie||"",onChange:z=>ve(z.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[s.jsx("option",{value:"",children:"-- Select Activity --"}),Pe.map(z=>s.jsx("option",{value:z.value,children:z.label},z.value))]})]}),u.id!=="hall"&&!u.restricted&&s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),s.jsx("button",{onClick:()=>F(!J),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${J?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${J?"translate-x-6":"translate-x-1"}`})})]}),J&&s.jsxs("select",{value:X,onChange:z=>H(parseInt(z.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[s.jsx("option",{value:1,children:"Just Me (1)"}),s.jsx("option",{value:2,children:"Pair (2)"}),s.jsx("option",{value:3,children:"Three (3)"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),s.jsx("button",{onClick:()=>Q(!R),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${R?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${R?"translate-x-6":"translate-x-1"}`})})]}),R&&s.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(wr,{className:"w-5 h-5 text-sky-500"}),s.jsx("input",{type:"date",value:p,min:new Date().toISOString().split("T")[0],max:mt,onChange:z=>{b(z.target.value),j(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!sr&&s.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[s.jsx(Kn,{className:"w-3 h-3"}),"Your ",Ee.membershipTier," tier allows booking up to ",He[Ee.membershipTier]||2," days ahead"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(z=>s.jsxs("button",{onClick:()=>{w(z),j(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${m===z?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${z}`,children:[s.jsx(Gt,{className:"w-4 h-4"}),z," min"]},z))})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),Nr.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Gt,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 sm:gap-3",children:Nr.map(z=>{const ge=ig(z),ct=y===z,Le=uO(z);return s.jsxs("button",{onClick:()=>!ge&&j(z),disabled:ge,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${ge?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-70":ct?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${z.replace(":","")}`,children:[z,Le&&!ge&&!ct&&s.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},z)})}),Nr.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),s.jsx("div",{className:"md:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),En?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),s.jsx("div",{className:"space-y-2",children:za.map(z=>{const ge=$.has(z.id),ct=K[z.id]??1;return s.jsxs("div",{onClick:()=>og(z),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${ge?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${z.id}`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:s.jsx("img",{src:z.image,alt:z.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"font-semibold truncate",children:z.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ha(z.price)," per unit"]})]}),ge&&s.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:Le=>Le.stopPropagation(),children:[s.jsx("button",{onClick:()=>lg(z.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(iG,{className:"w-3 h-3"})}),s.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:ct}),s.jsx("button",{onClick:()=>lg(z.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(tr,{className:"w-3 h-3"})})]})]},z.id)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:C==="self",onChange:()=>P("self"),className:"accent-sky-600"}),s.jsx("span",{children:"Self (use my account)"})]}),s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:C==="member",onChange:()=>P("member"),className:"accent-sky-600"}),s.jsx("span",{children:"Another member will pay"})]})]}),C==="member"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),s.jsx(Y,{type:"text",value:E,onChange:z=>ew(z.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),I===!0&&s.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[s.jsx(kr,{className:"w-3 h-3"})," Membership found."]}),I===!1&&s.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[s.jsx(Kn,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),s.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",m," min)"]}),s.jsx("span",{children:Ha(En.basePrice)})]}),En.discount>0&&s.jsxs("div",{className:"flex justify-between text-emerald-600",children:[s.jsxs("span",{children:["Member Discount (",En.discountLabel,")"]}),s.jsxs("span",{children:["- ",Ha(En.discount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),s.jsxs("span",{children:["+ ",Ha(En.addOnTotal)]})]})]}),s.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[s.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),s.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Ha(En.totalPrice)})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>N("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),s.jsx("button",{onClick:()=>N("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),s.jsx("button",{onClick:()=>N("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${_==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),_==="bank_transfer"&&s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[s.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),s.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Bank:"})," HBL (Habib Bank Limited)"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account Title:"})," The Quarterdeck Sports Club"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account #:"})," 1234-5678-9012-3456"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"IBAN:"})," PK00HABB1234567890123456"]})]}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),s.jsx(M,{onClick:n7,disabled:Qc.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:Qc.isPending?"Processing...":"Confirm Booking"})]}):s.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),l==="events"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Bf,className:"rounded-full","data-testid":"button-events-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),s.jsx("div",{className:"w-16"})," "]}),pl.length>0?Gc.map(z=>{const ge=z.icon,ct=pl.filter(Le=>ml[Le.facilityId]===z.id);return ct.length===0?null:s.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${z.id==="padel-tennis"?"border-sky-500":z.id==="air-rifle-range"?"border-red-400":z.id==="squash"?"border-slate-400":z.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${z.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[s.jsx(ge,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),s.jsxs("h3",{className:"text-xl font-extrabold",children:[z.label," Programs"]}),z.status==="PLANNED"&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:ct.map(Le=>s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${Le.id}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:`${s7(Le.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:Le.type}),s.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Ha(Le.price)})]}),s.jsx("h4",{className:"font-bold text-lg mb-1",children:Le.title}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[Le.scheduleDay," at ",Le.scheduleTime||"TBA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Le.description}),Le.instructor&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",Le.instructor]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Le.enrolledCount||0," / ",Le.capacity," enrolled"]})]}),s.jsx(M,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>vl(Le),disabled:gl.isPending||(Le.enrolledCount||0)>=Le.capacity,"data-testid":`button-register-${Le.id}`,children:gl.isPending?"Registering...":(Le.enrolledCount||0)>=Le.capacity?"Full":"Register"})]},Le.id))})]},z.id)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),l==="leaderboard"&&s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Bf,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:ne==="cumulative"?"Global Arena Leaderboard":`${((rP=Fn.find(z=>z.id===ne))==null?void 0:rP.label)||""} Top Scorers`}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),s.jsx("div",{className:"w-16"})," "]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[s.jsx("button",{onClick:()=>we("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${ne==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),eP.map(z=>{const ge=z.icon;return s.jsxs("button",{onClick:()=>we(z.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${ne===z.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${z.id}`,children:[s.jsx(ge,{className:"w-4 h-4"}),z.label]},z.id)})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:tP.length>0?tP.map((z,ge)=>s.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${ge===0?"bg-amber-50 dark:bg-amber-900/20":ge===1?"bg-gray-50 dark:bg-slate-700/50":ge===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${ge}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${ge===0?"bg-amber-400 text-white":ge===1?"bg-gray-400 text-white":ge===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:ge+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:z.name}),s.jsx(ue,{variant:"outline",className:"text-xs",children:z.tier})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:z.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},ge)):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:ne==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${((nP=eP.find(z=>z.id===ne))==null?void 0:nP.label)||"this facility"}!`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),l==="profile"&&s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:Bf,className:"rounded-full","data-testid":"button-profile-back-home",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),s.jsx("div",{className:"w-16"})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((sP=t.firstName)==null?void 0:sP.charAt(0))||"M":"G"}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),s.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[s.jsxs(ue,{className:`${Ee.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":Ee.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":Ee.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[Ee.membershipTier," MEMBER"]}),Ee.isActiveMember&&s.jsxs(ue,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[s.jsx(kr,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),se&&s.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),s.jsx("p",{className:"font-mono font-bold text-lg",children:se.membershipNumber}),s.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(se.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(KE,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ha(Ee.creditBalance)}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(WE,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ee.totalHoursPlayed}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(ox,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ee.guestPasses}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(nx,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:He[Ee.membershipTier]||2}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Ns,{className:"w-4 h-4"})," Membership Benefits"]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:s.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[pe[Ee.membershipTier]||0,"%"]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(wr,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Booking Window"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",He[Ee.membershipTier]||2," days ahead"]})]})]}),Ee.guestPasses>0&&s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(ls,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Guest Passes"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ee.guestPasses," passes remaining"]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(_d,{className:"w-4 h-4"})," Certifications & Waivers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Ee.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Ee.isSafetyCertified?s.jsx(kr,{className:"w-5 h-5 text-green-600"}):s.jsx(Kn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.isSafetyCertified?"Certified":"Required for range access"})]})]}),s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Ee.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Ee.hasSignedWaiver?s.jsx(_k,{className:"w-5 h-5 text-blue-600"}):s.jsx(Kn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&s.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[s.jsx(ls,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),s.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),s.jsx(he,{href:"/login",children:s.jsx(M,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]})]})}function qae(){return Lr({title:"Book a Facility",description:"Book sports facilities at The Quarterdeck - Padel Tennis, Squash, Air Rifle Range and more. Easy online booking with real-time availability."}),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-6xl",children:s.jsx(Vae,{})})})}const ee=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const Fe=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));Fe.displayName="CardHeader";const ze=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));ze.displayName="CardTitle";const Et=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Et.displayName="CardDescription";const te=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));te.displayName="CardContent";const Cx=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));Cx.displayName="CardFooter";var Bb="Tabs",[zae]=Pn(Bb,[Tb]),t6=Tb(),[Wae,uC]=zae(Bb),r6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=wf(l),[f,h]=hs({prop:n,onChange:a,defaultProp:i??"",caller:Bb});return s.jsx(Wae,{scope:r,baseId:Gr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx($e.div,{dir:d,"data-orientation":o,...u,ref:t})})});r6.displayName=Bb;var n6="TabsList",s6=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=uC(n6,r),o=t6(r);return s.jsx(YL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx($e.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});s6.displayName=n6;var a6="TabsTrigger",i6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=uC(a6,r),l=t6(r),c=c6(o.baseId,n),u=u6(o.baseId,n),d=n===o.value;return s.jsx(XL,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx($e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});i6.displayName=a6;var o6="TabsContent",l6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=uC(o6,r),c=c6(l.baseId,n),u=u6(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(cn,{present:a||d,children:({present:h})=>s.jsx($e.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});l6.displayName=o6;function c6(e,t){return`${e}-trigger-${t}`}function u6(e,t){return`${e}-content-${t}`}var Kae=r6,d6=s6,f6=i6,h6=l6;const aa=Kae,Ms=x.forwardRef(({className:e,...t},r)=>s.jsx(d6,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ms.displayName=d6.displayName;const Bt=x.forwardRef(({className:e,...t},r)=>s.jsx(f6,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Bt.displayName=f6.displayName;const Vt=x.forwardRef(({className:e,...t},r)=>s.jsx(h6,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vt.displayName=h6.displayName;function Hae(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...b}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=x.useMemo(()=>b,Object.values(b));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=x.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Gae(a,...t)]}function Gae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Qae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dC=Qae.reduce((e,t)=>{const r=Sb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Yae(){return RD.useSyncExternalStore(Xae,()=>!0,()=>!1)}function Xae(){return()=>{}}var fC="Avatar",[Jae]=Hae(fC),[Zae,m6]=Jae(fC),p6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return s.jsx(Zae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(dC.span,{...n,ref:t})})});p6.displayName=fC;var g6="AvatarImage",v6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=m6(g6,r),l=eie(n,i),c=Mr(u=>{a(u),o.onImageLoadingStatusChange(u)});return $r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(dC.img,{...i,ref:t,src:n}):null});v6.displayName=g6;var x6="AvatarFallback",y6=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=m6(x6,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(dC.span,{...a,ref:t}):null});y6.displayName=x6;function mO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eie(e,{referrerPolicy:t,crossOrigin:r}){const n=Yae(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>mO(i,e));return $r(()=>{l(mO(i,e))},[i,e]),$r(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var b6=p6,w6=v6,j6=y6;const Ed=x.forwardRef(({className:e,...t},r)=>s.jsx(b6,{ref:r,className:be(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Ed.displayName=b6.displayName;const Ad=x.forwardRef(({className:e,...t},r)=>s.jsx(w6,{ref:r,className:be("aspect-square h-full w-full",e),...t}));Ad.displayName=w6.displayName;const Od=x.forwardRef(({className:e,...t},r)=>s.jsx(j6,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Od.displayName=j6.displayName;function tie(){var S,k;Lr({title:"My Profile",description:"Manage your Quarterdeck account, view bookings, notifications, and membership status."});const{user:e,isLoading:t,isAuthenticated:r}=Zi(),n=VD(),i=new URLSearchParams(n).get("tab")||"account",o=x.useRef(null),{toast:l}=ht(),{data:c}=de({queryKey:["/api/memberships/my"],enabled:r}),{data:u=[]}=de({queryKey:["/api/bookings/my"],enabled:r}),{data:d=[],isLoading:f}=de({queryKey:["/api/notifications"],enabled:r}),h=ye({mutationFn:async C=>{await xe("POST",`/api/notifications/${C}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),p=ye({mutationFn:async()=>{await xe("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),b=ye({mutationFn:async C=>{await xe("DELETE",`/api/notifications/${C}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=ye({mutationFn:async C=>{const P=new FormData;P.append("photo",C);const E=await fetch("/api/user/profile-photo",{method:"POST",body:P,credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Failed to upload photo")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:C=>{l({title:"Upload failed",description:C.message,variant:"destructive"})}}),w=C=>{var E;const P=(E=C.target.files)==null?void 0:E[0];if(P){if(P.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}m.mutate(P)}},v=new Date().toISOString().split("T")[0],{upcomingBookings:g,pastBookings:y}=x.useMemo(()=>{const C=u.filter(E=>E.date>=v).sort((E,O)=>E.date.localeCompare(O.date)),P=u.filter(E=>E.date<v).sort((E,O)=>O.date.localeCompare(E.date));return{upcomingBookings:C,pastBookings:P}},[u,v]),j=d.filter(C=>!C.isRead).length;if(t)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(De,{className:"h-12 w-64 mb-8"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(De,{className:"h-64"}),s.jsx(De,{className:"h-64"})]})]})]}),s.jsx(Kt,{})]});if(!r)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(ee,{className:"max-w-md w-full mx-4",children:s.jsxs(te,{className:"pt-6 text-center",children:[s.jsx(ls,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),s.jsx(he,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(Kt,{})]});const _=C=>{switch(C){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},N=C=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${C.id}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:C.venue}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.date," at ",C.startTime," - ",C.endTime]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ue,{variant:C.status==="CONFIRMED"?"default":"secondary",children:C.status}),s.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Ha(C.totalPrice)})]})]},C.id);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),s.jsx("div",{className:"qd-container py-6",children:s.jsxs(aa,{defaultValue:i,className:"space-y-6",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Bt,{value:"account","data-testid":"tab-account",children:[s.jsx(ls,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),s.jsxs(Bt,{value:"bookings","data-testid":"tab-bookings",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),s.jsxs(Bt,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[s.jsx(jd,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",j>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:j})]}),s.jsxs(Bt,{value:"membership","data-testid":"tab-membership",children:[s.jsx(ni,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),s.jsxs(Vt,{value:"account",className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-5 h-5"}),"Account Information"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(Ed,{className:"w-24 h-24",children:[s.jsx(Ad,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),s.jsxs(Od,{className:"text-2xl bg-primary/10 text-primary",children:[(S=e==null?void 0:e.firstName)==null?void 0:S[0],(k=e==null?void 0:e.lastName)==null?void 0:k[0]]})]}),s.jsx("button",{type:"button",onClick:()=>{var C;return(C=o.current)==null?void 0:C.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:m.isPending,"data-testid":"button-change-photo",children:m.isPending?s.jsx(Re,{className:"w-6 h-6 text-white animate-spin"}):s.jsx(T5,{className:"w-6 h-6 text-white"})}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:w,className:"hidden","data-testid":"input-profile-photo"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(ls,{className:"w-3 h-3"})," Name"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(mf,{className:"w-3 h-3"})," Email"]}),s.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Nd,{className:"w-3 h-3"})," Credit Balance"]}),s.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Ha((e==null?void 0:e.creditBalance)||0)})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Gt,{className:"w-3 h-3"})," Total Hours Played"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(qi,{className:"w-3 h-3"})," Safety Certified"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(_k,{className:"w-3 h-3"})," Waiver Signed"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/api/logout",children:s.jsx(M,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),s.jsxs(Vt,{value:"bookings",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),s.jsx(he,{href:"/booking",children:s.jsx(M,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),s.jsxs(aa,{defaultValue:"upcoming",className:"space-y-4",children:[s.jsxs(Ms,{children:[s.jsxs(Bt,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[s.jsx(nx,{className:"w-4 h-4"}),"Upcoming (",g.length,")"]}),s.jsxs(Bt,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[s.jsx(BE,{className:"w-4 h-4"}),"Past (",y.length,")"]})]}),s.jsx(Vt,{value:"upcoming",className:"space-y-3",children:g.length>0?g.map(N):s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(wr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),s.jsx(he,{href:"/booking",children:s.jsx(M,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),s.jsx(Vt,{value:"past",className:"space-y-3",children:y.length>0?y.map(N):s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(BE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),s.jsxs(Vt,{value:"notifications",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),j>0&&s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>p.mutate(),disabled:p.isPending,"data-testid":"button-mark-all-notifications-read",children:[p.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(kr,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),f?s.jsxs("div",{className:"space-y-3",children:[s.jsx(De,{className:"h-20"}),s.jsx(De,{className:"h-20"}),s.jsx(De,{className:"h-20"})]}):d.length===0?s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(jd,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):s.jsx("div",{className:"space-y-3",children:d.map(C=>s.jsx(ee,{className:C.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${C.id}`,children:s.jsx(te,{className:"py-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${_(C.type)}`}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[C.link?s.jsx(he,{href:C.link,children:s.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:C.title})}):s.jsx("p",{className:"font-semibold",children:C.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C.createdAt?zL(new Date(C.createdAt),{addSuffix:!0}):""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!C.isRead&&s.jsx(M,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>h.mutate(C.id),disabled:h.isPending,"data-testid":`button-mark-notification-read-${C.id}`,children:h.isPending?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsx(kr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>b.mutate(C.id),disabled:b.isPending,"data-testid":`button-delete-notification-${C.id}`,children:b.isPending?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsx(mr,{className:"w-4 h-4"})})]})]})})]})})},C.id))})]}),s.jsx(Vt,{value:"membership",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5"}),"Membership Details"]})}),s.jsx(te,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),s.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),s.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),s.jsx(ue,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(jr,{className:"w-3 h-3"})," Guest Passes"]}),s.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ni,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),s.jsx(he,{href:"/membership",children:s.jsx(M,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),s.jsx(Kt,{})]})}var Gp=e=>e.type==="checkbox",Bl=e=>e instanceof Date,as=e=>e==null;const N6=e=>typeof e=="object";var Qr=e=>!as(e)&&!Array.isArray(e)&&N6(e)&&!Bl(e),_6=e=>Qr(e)&&e.target?Gp(e.target)?e.target.checked:e.target.value:e,rie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,S6=(e,t)=>e.has(rie(t)),nie=e=>{const t=e.constructor&&e.constructor.prototype;return Qr(t)&&t.hasOwnProperty("isPrototypeOf")},hC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(hC&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Qr(e)&&nie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=nn(e[a]));return n}var Vb=e=>/^\w*$/.test(e),Ir=e=>e===void 0,mC=e=>Array.isArray(e)?e.filter(Boolean):[],pC=e=>mC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Qr(e))return r;const n=(Vb(t)?[t]:pC(t)).reduce((a,i)=>as(a)?a:a[i],e);return Ir(n)||n===e?Ir(e[t])?r:e[t]:n},ws=e=>typeof e=="boolean",Wn=e=>typeof e=="function",Yt=(e,t,r)=>{let n=-1;const a=Vb(t)?[t]:pC(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Qr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Px={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ca={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gC=D.createContext(null);gC.displayName="HookFormContext";const qb=()=>D.useContext(gC),sie=e=>{const{children:t,...r}=e;return D.createElement(gC.Provider,{value:r},t)};var k6=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ca.all&&(t._proxyFormState[o]=!n||Ca.all),r&&(r[o]=!0),e[o]}});return a};const vC=typeof window<"u"?D.useLayoutEffect:D.useEffect;function aie(e){const t=qb(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=D.useState(r._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vC(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),D.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),D.useMemo(()=>k6(o,r,c.current,!1),[o,r])}var ks=e=>typeof e=="string",SN=(e,t,r,n,a)=>ks(e)?(n&&t.watch.add(e),Te(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),kN=e=>as(e)||!N6(e);function Pa(e,t,r=new WeakSet){if(kN(e)||kN(t))return Object.is(e,t);if(Bl(e)&&Bl(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Bl(o)&&Bl(l)||Qr(o)&&Qr(l)||Array.isArray(o)&&Array.isArray(l)?!Pa(o,l,r):!Object.is(o,l))return!1}}return!0}function iie(e){const t=qb(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=D.useRef(a),u=D.useRef(l),d=D.useRef(void 0),f=D.useRef(r),h=D.useRef(n);u.current=l;const[p,b]=D.useState(()=>{const j=r._getWatch(n,c.current);return u.current?u.current(j):j}),m=D.useCallback(j=>{const _=SN(n,r._names,j||r._formValues,!1,c.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),w=D.useCallback(j=>{if(!i){const _=SN(n,r._names,j||r._formValues,!1,c.current);if(u.current){const N=u.current(_);Pa(N,d.current)||(b(N),d.current=N)}else b(_)}},[r._formValues,r._names,i,n]);vC(()=>((f.current!==r||!Pa(h.current,n))&&(f.current=r,h.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:j=>{w(j.values)}})),[r,o,n,w]),D.useEffect(()=>r._removeUnmounted());const v=f.current!==r,g=h.current,y=D.useMemo(()=>{if(i)return null;const j=!v&&!Pa(g,n);return v||j?m():null},[i,v,n,g,m]);return y!==null?y:p}function oie(e){const t=qb(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=S6(a._names.array,r),u=D.useMemo(()=>Te(a._formValues,r,Te(a._defaultValues,r,o)),[a,r,o]),d=iie({control:a,name:r,defaultValue:u,exact:l}),f=aie({control:a,name:r,exact:l}),h=D.useRef(e),p=D.useRef(void 0),b=D.useRef(a.register(r,{...e.rules,value:d,...ws(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(f.validatingFields,r)},error:{enumerable:!0,get:()=>Te(f.errors,r)}}),[f,r]),w=D.useCallback(j=>b.current.onChange({target:{value:_6(j),name:r},type:Px.CHANGE}),[r]),v=D.useCallback(()=>b.current.onBlur({target:{value:Te(a._formValues,r),name:r},type:Px.BLUR}),[r,a._formValues]),g=D.useCallback(j=>{const _=Te(a._fields,r);_&&_._f&&j&&(_._f.ref={focus:()=>Wn(j.focus)&&j.focus(),select:()=>Wn(j.select)&&j.select(),setCustomValidity:N=>Wn(j.setCustomValidity)&&j.setCustomValidity(N),reportValidity:()=>Wn(j.reportValidity)&&j.reportValidity()})},[a._fields,r]),y=D.useMemo(()=>({name:r,value:d,...ws(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:w,onBlur:v,ref:g}),[r,n,f.disabled,w,v,g,d]);return D.useEffect(()=>{const j=a._options.shouldUnregister||i,_=p.current;_&&_!==r&&!c&&a.unregister(_),a.register(r,{...h.current.rules,...ws(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(S,k)=>{const C=Te(a._fields,S);C&&C._f&&(C._f.mount=k)};if(N(r,!0),j){const S=nn(Te(a._options.defaultValues,r,h.current.defaultValue));Yt(a._defaultValues,r,S),Ir(Te(a._formValues,r))&&Yt(a._formValues,r,S)}return!c&&a.register(r),p.current=r,()=>{(c?j&&!a._state.action:j)?a.unregister(r):N(r,!1)}},[r,a,c,i]),D.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),D.useMemo(()=>({field:y,formState:f,fieldState:m}),[y,f,m])}const lie=e=>e.render(oie(e));var C6=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Uh=e=>Array.isArray(e)?e:[e],pO=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function P6(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Qr(a)&&i){const o=P6(a,i);Qr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Vn=e=>Qr(e)&&!Object.keys(e).length,xC=e=>e.type==="file",Ex=e=>{if(!hC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},E6=e=>e.type==="select-multiple",yC=e=>e.type==="radio",cie=e=>yC(e)||Gp(e),nj=e=>Ex(e)&&e.isConnected;function uie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ir(e)?n++:e[t[n++]];return e}function die(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ir(e[t]))return!1;return!0}function qr(e,t){const r=Array.isArray(t)?t:Vb(t)?[t]:pC(t),n=r.length===1?e:uie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Qr(n)&&Vn(n)||Array.isArray(n)&&die(n))&&qr(e,r.slice(0,-1)),e}var fie=e=>{for(const t in e)if(Wn(e[t]))return!0;return!1};function A6(e){return Array.isArray(e)||Qr(e)&&!fie(e)}function CN(e,t={}){for(const r in e){const n=e[r];A6(n)?(t[r]=Array.isArray(n)?[]:{},CN(n,t[r])):Ir(n)||(t[r]=!0)}return t}function xu(e,t,r){r||(r=CN(t));for(const n in e){const a=e[n];if(A6(a))Ir(t)||kN(r[n])?r[n]=CN(a,Array.isArray(a)?[]:{}):xu(a,as(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Pa(a,i)}}return r}const gO={value:!1,isValid:!1},vO={value:!0,isValid:!0};var O6=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ir(e[0].attributes.value)?Ir(e[0].value)||e[0].value===""?vO:{value:e[0].value,isValid:!0}:vO:gO}return gO},T6=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ir(e)?e:t?e===""?NaN:e&&+e:r&&ks(e)?new Date(e):n?n(e):e;const xO={isValid:!1,value:null};var I6=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xO):xO;function yO(e){const t=e.ref;return xC(t)?t.files:yC(t)?I6(e.refs).value:E6(t)?[...t.selectedOptions].map(({value:r})=>r):Gp(t)?O6(e.refs).value:T6(Ir(t.value)?e.ref.value:t.value,e)}var hie=(e,t,r,n)=>{const a={};for(const i of e){const o=Te(t,i);o&&Yt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ax=e=>e instanceof RegExp,th=e=>Ir(e)?e:Ax(e)?e.source:Qr(e)?Ax(e.value)?e.value.source:e.value:e,bO=e=>({isOnSubmit:!e||e===Ca.onSubmit,isOnBlur:e===Ca.onBlur,isOnChange:e===Ca.onChange,isOnAll:e===Ca.all,isOnTouch:e===Ca.onTouched});const wO="AsyncFunction";var mie=e=>!!e&&!!e.validate&&!!(Wn(e.validate)&&e.validate.constructor.name===wO||Qr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wO)),pie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),jO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Bh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Te(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Bh(l,t))break}else if(Qr(l)&&Bh(l,t))break}}};function NO(e,t,r){const n=Te(e,r);if(n||Vb(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var gie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Vn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ca.all))},vie=(e,t,r)=>!e||!t||e===t||Uh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),xie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,yie=(e,t)=>!mC(Te(e,t)).length&&qr(e,t),bie=(e,t,r)=>{const n=Uh(Te(e,r));return Yt(n,"root",t[r]),Yt(e,r,n),e};function _O(e,t,r="validate"){if(ks(e)||Array.isArray(e)&&e.every(ks)||ws(e)&&!e)return{type:r,message:ks(e)?e:"",ref:t}}var uu=e=>Qr(e)&&!Ax(e)?e:{value:e,message:""},SO=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:b,name:m,valueAsNumber:w,mount:v}=e._f,g=Te(r,m);if(!v||t.has(m))return{};const y=l?l[0]:o,j=O=>{a&&y.reportValidity&&(y.setCustomValidity(ws(O)?"":O||""),y.reportValidity())},_={},N=yC(o),S=Gp(o),k=N||S,C=(w||xC(o))&&Ir(o.value)&&Ir(g)||Ex(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,P=C6.bind(null,m,n,_),E=(O,I,T,$=gi.maxLength,V=gi.minLength)=>{const K=O?I:T;_[m]={type:O?$:V,message:K,ref:o,...P(O?$:V,K)}};if(i?!Array.isArray(g)||!g.length:c&&(!k&&(C||as(g))||ws(g)&&!g||S&&!O6(l).isValid||N&&!I6(l).isValid)){const{value:O,message:I}=ks(c)?{value:!!c,message:c}:uu(c);if(O&&(_[m]={type:gi.required,message:I,ref:y,...P(gi.required,I)},!n))return j(I),_}if(!C&&(!as(f)||!as(h))){let O,I;const T=uu(h),$=uu(f);if(!as(g)&&!isNaN(g)){const V=o.valueAsNumber||g&&+g;as(T.value)||(O=V>T.value),as($.value)||(I=V<$.value)}else{const V=o.valueAsDate||new Date(g),K=Q=>new Date(new Date().toDateString()+" "+Q),A=o.type=="time",R=o.type=="week";ks(T.value)&&g&&(O=A?K(g)>K(T.value):R?g>T.value:V>new Date(T.value)),ks($.value)&&g&&(I=A?K(g)<K($.value):R?g<$.value:V<new Date($.value))}if((O||I)&&(E(!!O,T.message,$.message,gi.max,gi.min),!n))return j(_[m].message),_}if((u||d)&&!C&&(ks(g)||i&&Array.isArray(g))){const O=uu(u),I=uu(d),T=!as(O.value)&&g.length>+O.value,$=!as(I.value)&&g.length<+I.value;if((T||$)&&(E(T,O.message,I.message),!n))return j(_[m].message),_}if(p&&!C&&ks(g)){const{value:O,message:I}=uu(p);if(Ax(O)&&!g.match(O)&&(_[m]={type:gi.pattern,message:I,ref:o,...P(gi.pattern,I)},!n))return j(I),_}if(b){if(Wn(b)){const O=await b(g,r),I=_O(O,y);if(I&&(_[m]={...I,...P(gi.validate,I.message)},!n))return j(I.message),_}else if(Qr(b)){let O={};for(const I in b){if(!Vn(O)&&!n)break;const T=_O(await b[I](g,r),y,I);T&&(O={...T,...P(I,T.message)},j(T.message),n&&(_[m]=O))}if(!Vn(O)&&(_[m]={ref:y,...O},!n))return _}}return j(!0),_};const wie={mode:Ca.onSubmit,reValidateMode:Ca.onChange,shouldFocusError:!0};function jie(e={}){let t={...wie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Qr(t.defaultValues)||Qr(t.values)?nn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:nn(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:pO(),state:pO()},b=t.criteriaMode===Ca.all,m=q=>Z=>{clearTimeout(u),u=setTimeout(q,Z)},w=async q=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||q)){let Z;t.resolver?(Z=Vn((await k()).errors),v()):Z=await P(n,!0),Z!==r.isValid&&p.state.next({isValid:Z})}},v=(q,Z)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((q||Array.from(l.mount)).forEach(ae=>{ae&&(Z?Yt(r.validatingFields,ae,Z):qr(r.validatingFields,ae))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Vn(r.validatingFields)}))},g=(q,Z=[],ae,Oe,Pe=!0,je=!0)=>{if(Oe&&ae&&!t.disabled){if(o.action=!0,je&&Array.isArray(Te(n,q))){const Ke=ae(Te(n,q),Oe.argA,Oe.argB);Pe&&Yt(n,q,Ke)}if(je&&Array.isArray(Te(r.errors,q))){const Ke=ae(Te(r.errors,q),Oe.argA,Oe.argB);Pe&&Yt(r.errors,q,Ke),yie(r.errors,q)}if((f.touchedFields||h.touchedFields)&&je&&Array.isArray(Te(r.touchedFields,q))){const Ke=ae(Te(r.touchedFields,q),Oe.argA,Oe.argB);Pe&&Yt(r.touchedFields,q,Ke)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=xu(a,i)),p.state.next({name:q,isDirty:O(q,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Yt(i,q,Z)},y=(q,Z)=>{Yt(r.errors,q,Z),p.state.next({errors:r.errors})},j=q=>{r.errors=q,p.state.next({errors:r.errors,isValid:!1})},_=(q,Z,ae,Oe)=>{const Pe=Te(n,q);if(Pe){const je=Te(i,q,Ir(ae)?Te(a,q):ae);Ir(je)||Oe&&Oe.defaultChecked||Z?Yt(i,q,Z?je:yO(Pe._f)):$(q,je),o.mount&&!o.action&&w()}},N=(q,Z,ae,Oe,Pe)=>{let je=!1,Ke=!1;const It={name:q};if(!t.disabled){if(!ae||Oe){(f.isDirty||h.isDirty)&&(Ke=r.isDirty,r.isDirty=It.isDirty=O(),je=Ke!==It.isDirty);const Rt=Pa(Te(a,q),Z);Ke=!!Te(r.dirtyFields,q),Rt?qr(r.dirtyFields,q):Yt(r.dirtyFields,q,!0),It.dirtyFields=r.dirtyFields,je=je||(f.dirtyFields||h.dirtyFields)&&Ke!==!Rt}if(ae){const Rt=Te(r.touchedFields,q);Rt||(Yt(r.touchedFields,q,ae),It.touchedFields=r.touchedFields,je=je||(f.touchedFields||h.touchedFields)&&Rt!==ae)}je&&Pe&&p.state.next(It)}return je?It:{}},S=(q,Z,ae,Oe)=>{const Pe=Te(r.errors,q),je=(f.isValid||h.isValid)&&ws(Z)&&r.isValid!==Z;if(t.delayError&&ae?(c=m(()=>y(q,ae)),c(t.delayError)):(clearTimeout(u),c=null,ae?Yt(r.errors,q,ae):qr(r.errors,q)),(ae?!Pa(Pe,ae):Pe)||!Vn(Oe)||je){const Ke={...Oe,...je&&ws(Z)?{isValid:Z}:{},errors:r.errors,name:q};r={...r,...Ke},p.state.next(Ke)}},k=async q=>(v(q,!0),await t.resolver(i,t.context,hie(q||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async q=>{const{errors:Z}=await k(q);if(v(q),q)for(const ae of q){const Oe=Te(Z,ae);Oe?Yt(r.errors,ae,Oe):qr(r.errors,ae)}else r.errors=Z;return Z},P=async(q,Z,ae={valid:!0})=>{for(const Oe in q){const Pe=q[Oe];if(Pe){const{_f:je,...Ke}=Pe;if(je){const It=l.array.has(je.name),Rt=Pe._f&&mie(Pe._f);Rt&&f.validatingFields&&v([je.name],!0);const Nr=await SO(Pe,l.disabled,i,b,t.shouldUseNativeValidation&&!Z,It);if(Rt&&f.validatingFields&&v([je.name]),Nr[je.name]&&(ae.valid=!1,Z))break;!Z&&(Te(Nr,je.name)?It?bie(r.errors,Nr,je.name):Yt(r.errors,je.name,Nr[je.name]):qr(r.errors,je.name))}!Vn(Ke)&&await P(Ke,Z,ae)}}return ae.valid},E=()=>{for(const q of l.unMount){const Z=Te(n,q);Z&&(Z._f.refs?Z._f.refs.every(ae=>!nj(ae)):!nj(Z._f.ref))&&we(q)}l.unMount=new Set},O=(q,Z)=>!t.disabled&&(q&&Z&&Yt(i,q,Z),!Pa(J(),a)),I=(q,Z,ae)=>SN(q,l,{...o.mount?i:Ir(Z)?a:ks(q)?{[q]:Z}:Z},ae,Z),T=q=>mC(Te(o.mount?i:a,q,t.shouldUnregister?Te(a,q,[]):[])),$=(q,Z,ae={})=>{const Oe=Te(n,q);let Pe=Z;if(Oe){const je=Oe._f;je&&(!je.disabled&&Yt(i,q,T6(Z,je)),Pe=Ex(je.ref)&&as(Z)?"":Z,E6(je.ref)?[...je.ref.options].forEach(Ke=>Ke.selected=Pe.includes(Ke.value)):je.refs?Gp(je.ref)?je.refs.forEach(Ke=>{(!Ke.defaultChecked||!Ke.disabled)&&(Array.isArray(Pe)?Ke.checked=!!Pe.find(It=>It===Ke.value):Ke.checked=Pe===Ke.value||!!Pe)}):je.refs.forEach(Ke=>Ke.checked=Ke.value===Pe):xC(je.ref)?je.ref.value="":(je.ref.value=Pe,je.ref.type||p.state.next({name:q,values:nn(i)})))}(ae.shouldDirty||ae.shouldTouch)&&N(q,Pe,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&Q(q)},V=(q,Z,ae)=>{for(const Oe in Z){if(!Z.hasOwnProperty(Oe))return;const Pe=Z[Oe],je=q+"."+Oe,Ke=Te(n,je);(l.array.has(q)||Qr(Pe)||Ke&&!Ke._f)&&!Bl(Pe)?V(je,Pe,ae):$(je,Pe,ae)}},K=(q,Z,ae={})=>{const Oe=Te(n,q),Pe=l.array.has(q),je=nn(Z);Yt(i,q,je),Pe?(p.array.next({name:q,values:nn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ae.shouldDirty&&p.state.next({name:q,dirtyFields:xu(a,i),isDirty:O(q,je)})):Oe&&!Oe._f&&!as(je)?V(q,je,ae):$(q,je,ae),jO(q,l)&&p.state.next({...r,name:q}),p.state.next({name:o.mount?q:void 0,values:nn(i)})},A=async q=>{o.mount=!0;const Z=q.target;let ae=Z.name,Oe=!0;const Pe=Te(n,ae),je=Rt=>{Oe=Number.isNaN(Rt)||Bl(Rt)&&isNaN(Rt.getTime())||Pa(Rt,Te(i,ae,Rt))},Ke=bO(t.mode),It=bO(t.reValidateMode);if(Pe){let Rt,Nr;const ha=Z.type?yO(Pe._f):_6(q),rs=q.type===Px.BLUR||q.type===Px.FOCUS_OUT,za=!pie(Pe._f)&&!t.resolver&&!Te(r.errors,ae)&&!Pe._f.deps||xie(rs,Te(r.touchedFields,ae),r.isSubmitted,It,Ke),ml=jO(ae,l,rs);Yt(i,ae,ha),rs?(!Z||!Z.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(q),c&&c(0)):Pe._f.onChange&&Pe._f.onChange(q);const Fn=N(ae,ha,rs),Gc=!Vn(Fn)||ml;if(!rs&&p.state.next({name:ae,type:q.type,values:nn(i)}),za)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?rs&&w():rs||w()),Gc&&p.state.next({name:ae,...ml?{}:Fn});if(!rs&&ml&&p.state.next({...r}),t.resolver){const{errors:pl}=await k([ae]);if(v([ae]),je(ha),Oe){const gl=NO(r.errors,n,ae),vl=NO(pl,n,gl.name||ae);Rt=vl.error,ae=vl.name,Nr=Vn(pl)}}else v([ae],!0),Rt=(await SO(Pe,l.disabled,i,b,t.shouldUseNativeValidation))[ae],v([ae]),je(ha),Oe&&(Rt?Nr=!1:(f.isValid||h.isValid)&&(Nr=await P(n,!0)));Oe&&(Pe._f.deps&&(!Array.isArray(Pe._f.deps)||Pe._f.deps.length>0)&&Q(Pe._f.deps),S(ae,Nr,Rt,Fn))}},R=(q,Z)=>{if(Te(r.errors,Z)&&q.focus)return q.focus(),1},Q=async(q,Z={})=>{let ae,Oe;const Pe=Uh(q);if(t.resolver){const je=await C(Ir(q)?q:Pe);ae=Vn(je),Oe=q?!Pe.some(Ke=>Te(je,Ke)):ae}else q?(Oe=(await Promise.all(Pe.map(async je=>{const Ke=Te(n,je);return await P(Ke&&Ke._f?{[je]:Ke}:Ke)}))).every(Boolean),!(!Oe&&!r.isValid)&&w()):Oe=ae=await P(n);return p.state.next({...!ks(q)||(f.isValid||h.isValid)&&ae!==r.isValid?{}:{name:q},...t.resolver||!q?{isValid:ae}:{},errors:r.errors}),Z.shouldFocus&&!Oe&&Bh(n,R,q?Pe:l.mount),Oe},J=(q,Z)=>{let ae={...o.mount?i:a};return Z&&(ae=P6(Z.dirtyFields?r.dirtyFields:r.touchedFields,ae)),Ir(q)?ae:ks(q)?Te(ae,q):q.map(Oe=>Te(ae,Oe))},F=(q,Z)=>({invalid:!!Te((Z||r).errors,q),isDirty:!!Te((Z||r).dirtyFields,q),error:Te((Z||r).errors,q),isValidating:!!Te(r.validatingFields,q),isTouched:!!Te((Z||r).touchedFields,q)}),X=q=>{q&&Uh(q).forEach(Z=>qr(r.errors,Z)),p.state.next({errors:q?r.errors:{}})},H=(q,Z,ae)=>{const Oe=(Te(n,q,{_f:{}})._f||{}).ref,Pe=Te(r.errors,q)||{},{ref:je,message:Ke,type:It,...Rt}=Pe;Yt(r.errors,q,{...Rt,...Z,ref:Oe}),p.state.next({name:q,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},ie=(q,Z)=>Wn(q)?p.state.subscribe({next:ae=>"values"in ae&&q(I(void 0,Z),ae)}):I(q,Z,!0),ve=q=>p.state.subscribe({next:Z=>{vie(q.name,Z.name,q.exact)&&gie(Z,q.formState||f,sr,q.reRenderRoot)&&q.callback({values:{...i},...r,...Z,defaultValues:a})}}).unsubscribe,ne=q=>(o.mount=!0,h={...h,...q.formState},ve({...q,formState:{...d,...q.formState}})),we=(q,Z={})=>{for(const ae of q?Uh(q):l.mount)l.mount.delete(ae),l.array.delete(ae),Z.keepValue||(qr(n,ae),qr(i,ae)),!Z.keepError&&qr(r.errors,ae),!Z.keepDirty&&qr(r.dirtyFields,ae),!Z.keepTouched&&qr(r.touchedFields,ae),!Z.keepIsValidating&&qr(r.validatingFields,ae),!t.shouldUnregister&&!Z.keepDefaultValue&&qr(a,ae);p.state.next({values:nn(i)}),p.state.next({...r,...Z.keepDirty?{isDirty:O()}:{}}),!Z.keepIsValid&&w()},oe=({disabled:q,name:Z})=>{(ws(q)&&o.mount||q||l.disabled.has(Z))&&(q?l.disabled.add(Z):l.disabled.delete(Z))},L=(q,Z={})=>{let ae=Te(n,q);const Oe=ws(Z.disabled)||ws(t.disabled);return Yt(n,q,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:q}},name:q,mount:!0,...Z}}),l.mount.add(q),ae?oe({disabled:ws(Z.disabled)?Z.disabled:t.disabled,name:q}):_(q,!0,Z.value),{...Oe?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:th(Z.min),max:th(Z.max),minLength:th(Z.minLength),maxLength:th(Z.maxLength),pattern:th(Z.pattern)}:{},name:q,onChange:A,onBlur:A,ref:Pe=>{if(Pe){L(q,Z),ae=Te(n,q);const je=Ir(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ke=cie(je),It=ae._f.refs||[];if(Ke?It.find(Rt=>Rt===je):je===ae._f.ref)return;Yt(n,q,{_f:{...ae._f,...Ke?{refs:[...It.filter(nj),je,...Array.isArray(Te(a,q))?[{}]:[]],ref:{type:je.type,name:q}}:{ref:je}}}),_(q,!1,void 0,je)}else ae=Te(n,q,{}),ae._f&&(ae._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(S6(l.array,q)&&o.action)&&l.unMount.add(q)}}},se=()=>t.shouldFocusError&&Bh(n,R,l.mount),G=q=>{ws(q)&&(p.state.next({disabled:q}),Bh(n,(Z,ae)=>{const Oe=Te(n,ae);Oe&&(Z.disabled=Oe._f.disabled||q,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(Pe=>{Pe.disabled=Oe._f.disabled||q}))},0,!1))},U=(q,Z)=>async ae=>{let Oe;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let Pe=nn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:je,values:Ke}=await k();v(),r.errors=je,Pe=nn(Ke)}else await P(n);if(l.disabled.size)for(const je of l.disabled)qr(Pe,je);if(qr(r.errors,"root"),Vn(r.errors)){p.state.next({errors:{}});try{await q(Pe,ae)}catch(je){Oe=je}}else Z&&await Z({...r.errors},ae),se(),setTimeout(se);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vn(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},pe=(q,Z={})=>{Te(n,q)&&(Ir(Z.defaultValue)?K(q,nn(Te(a,q))):(K(q,Z.defaultValue),Yt(a,q,nn(Z.defaultValue))),Z.keepTouched||qr(r.touchedFields,q),Z.keepDirty||(qr(r.dirtyFields,q),r.isDirty=Z.defaultValue?O(q,nn(Te(a,q))):O()),Z.keepError||(qr(r.errors,q),f.isValid&&w()),p.state.next({...r}))},He=(q,Z={})=>{const ae=q?nn(q):a,Oe=nn(ae),Pe=Vn(q),je=Pe?a:Oe;if(Z.keepDefaultValues||(a=ae),!Z.keepValues){if(Z.keepDirtyValues){const Ke=new Set([...l.mount,...Object.keys(xu(a,i))]);for(const It of Array.from(Ke))Te(r.dirtyFields,It)?Yt(je,It,Te(i,It)):K(It,Te(je,It))}else{if(hC&&Ir(q))for(const Ke of l.mount){const It=Te(n,Ke);if(It&&It._f){const Rt=Array.isArray(It._f.refs)?It._f.refs[0]:It._f.ref;if(Ex(Rt)){const Nr=Rt.closest("form");if(Nr){Nr.reset();break}}}}if(Z.keepFieldsRef)for(const Ke of l.mount)K(Ke,Te(je,Ke));else n={}}i=t.shouldUnregister?Z.keepDefaultValues?nn(a):{}:nn(je),p.array.next({values:{...je}}),p.state.next({values:{...je}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!t.shouldUnregister&&!Vn(je),o.watch=!!t.shouldUnregister,o.keepIsValid=!!Z.keepIsValid,o.action=!1,Z.keepErrors||(r.errors={}),p.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:Pe?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Pa(q,a)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Pe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?xu(a,i):r.dirtyFields:Z.keepDefaultValues&&q?xu(a,q):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Ee=(q,Z)=>He(Wn(q)?q(i):q,{...t.resetOptions,...Z}),mt=(q,Z={})=>{const ae=Te(n,q),Oe=ae&&ae._f;if(Oe){const Pe=Oe.refs?Oe.refs[0]:Oe.ref;Pe.focus&&setTimeout(()=>{Pe.focus(),Z.shouldSelect&&Wn(Pe.select)&&Pe.select()})}},sr=q=>{r={...r,...q}},or={control:{register:L,unregister:we,getFieldState:F,handleSubmit:U,setError:H,_subscribe:ve,_runSchema:k,_updateIsValidating:v,_focusError:se,_getWatch:I,_getDirty:O,_setValid:w,_setFieldArray:g,_setDisabledField:oe,_setErrors:j,_getFieldArray:T,_reset:He,_resetDefaultValues:()=>Wn(t.defaultValues)&&t.defaultValues().then(q=>{Ee(q,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:G,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(q){o=q},get _defaultValues(){return a},get _names(){return l},set _names(q){l=q},get _formState(){return r},get _options(){return t},set _options(q){t={...t,...q}}},subscribe:ne,trigger:Q,register:L,handleSubmit:U,watch:ie,setValue:K,getValues:J,reset:Ee,resetField:pe,clearErrors:X,unregister:we,setError:H,setFocus:mt,getFieldState:F};return{...or,formControl:or}}function $s(e={}){const t=D.useRef(void 0),r=D.useRef(void 0),[n,a]=D.useState({isDirty:!1,isValidating:!1,isLoading:Wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=jie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,vC(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),D.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),D.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),D.useEffect(()=>{var o;e.values&&!Pa(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),D.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=k6(n,i),t.current}const kO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},R6=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?kO(n.ref,r,e):n.refs&&n.refs.forEach(a=>kO(a,r,e))}},Nie=(e,t)=>{t.shouldUseNativeValidation&&R6(e,t);const r={};for(const n in e){const a=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(_ie(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));Yt(o,"root",i),Yt(r,n,o)}else Yt(r,n,i)}return r},_ie=(e,t)=>e.some(r=>r.startsWith(t+"."));var Sie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=C6(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ds=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&R6({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Nie(Sie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Lt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Lt||(Lt={}));var CO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(CO||(CO={}));const We=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),po=e=>{switch(typeof e){case"undefined":return We.undefined;case"string":return We.string;case"number":return Number.isNaN(e)?We.nan:We.number;case"boolean":return We.boolean;case"function":return We.function;case"bigint":return We.bigint;case"symbol":return We.symbol;case"object":return Array.isArray(e)?We.array:e===null?We.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?We.promise:typeof Map<"u"&&e instanceof Map?We.map:typeof Set<"u"&&e instanceof Set?We.set:typeof Date<"u"&&e instanceof Date?We.date:We.object;default:return We.unknown}},Se=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ki extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Ki))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ki.create=e=>new Ki(e);const PN=(e,t)=>{let r;switch(e.code){case Se.invalid_type:e.received===We.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Lt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lt.joinValues(e.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lt.joinValues(e.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Lt.joinValues(e.options)}, received '${e.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Lt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Se.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Se.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=t.defaultError,Lt.assertNever(e)}return{message:r}};let kie=PN;function Cie(){return kie}const Pie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Me(e,t){const r=Cie(),n=Pie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===PN?void 0:PN].filter(a=>!!a)});e.common.issues.push(n)}class Ls{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return pt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ls.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return pt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const pt=Object.freeze({status:"aborted"}),jh=e=>({status:"dirty",value:e}),ca=e=>({status:"valid",value:e}),PO=e=>e.status==="aborted",EO=e=>e.status==="dirty",Td=e=>e.status==="valid",Ox=e=>typeof Promise<"u"&&e instanceof Promise;var Qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Qe||(Qe={}));class el{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AO=(e,t)=>{if(Td(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ki(e.common.issues);return this._error=r,this._error}}};function Nt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Dt{get description(){return this._def.description}_getType(t){return po(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:po(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ls,ctx:{common:t.parent.common,data:t.data,parsedType:po(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ox(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:po(t)},a=this._parseSync({data:t,path:n.path,parent:n});return AO(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:po(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Td(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Td(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:po(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Ox(a)?a:Promise.resolve(a));return AO(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Se.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Md({schema:this,typeName:gt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qo.create(this,this._def)}nullable(){return $d.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ai.create(this)}promise(){return Mx.create(this,this._def)}or(t){return Ix.create([this,t],this._def)}and(t){return Rx.create(this,t,this._def)}transform(t){return new Md({...Nt(this._def),schema:this,typeName:gt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ON({...Nt(this._def),innerType:this,defaultValue:r,typeName:gt.ZodDefault})}brand(){return new Xie({typeName:gt.ZodBranded,type:this,...Nt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new TN({...Nt(this._def),innerType:this,catchValue:r,typeName:gt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return bC.create(this,t)}readonly(){return IN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Eie=/^c[^\s-]{8,}$/i,Aie=/^[0-9a-z]+$/,Oie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Tie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Iie=/^[a-z0-9_-]{21}$/i,Rie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$ie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Die="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sj;const Lie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Uie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,M6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zie=new RegExp(`^${M6}$`);function $6(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Wie(e){return new RegExp(`^${$6(e)}$`)}function Kie(e){let t=`${M6}T${$6(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Hie(e,t){return!!((t==="v4"||!t)&&Lie.test(e)||(t==="v6"||!t)&&Uie.test(e))}function Gie(e,t){if(!Rie.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Qie(e,t){return!!((t==="v4"||!t)&&Fie.test(e)||(t==="v6"||!t)&&Bie.test(e))}class Ei extends Dt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==We.string){const i=this._getOrReturnCtx(t);return Me(i,{code:Se.invalid_type,expected:We.string,received:i.parsedType}),pt}const n=new Ls;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Me(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Me(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")$ie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"email",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")sj||(sj=new RegExp(Die,"u")),sj.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"emoji",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Tie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"uuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Iie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"nanoid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Eie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Aie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid2",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Oie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"ulid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Me(a,{validation:"url",code:Se.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"regex",code:Se.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Kie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?zie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Wie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Mie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"duration",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Hie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"ip",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Gie(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"jwt",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Qie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cidr",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Vie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"base64",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?qie.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"base64url",code:Se.invalid_string,message:i.message}),n.dirty()):Lt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Se.invalid_string,...Qe.errToObj(n)})}_addCheck(t){return new Ei({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Qe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Qe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Qe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Qe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Qe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Qe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Qe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Qe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Qe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Qe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Qe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Qe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Qe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Qe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Qe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Qe.errToObj(r)})}nonempty(t){return this.min(1,Qe.errToObj(t))}trim(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ei.create=e=>new Ei({checks:[],typeName:gt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Nt(e)});function Yie(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class vc extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==We.number){const i=this._getOrReturnCtx(t);return Me(i,{code:Se.invalid_type,expected:We.number,received:i.parsedType}),pt}let n;const a=new Ls;for(const i of this._def.checks)i.kind==="int"?Lt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Yie(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.not_finite,message:i.message}),a.dirty()):Lt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Qe.toString(r))}setLimit(t,r,n,a){return new vc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Qe.toString(a)}]})}_addCheck(t){return new vc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Qe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Qe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Lt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vc.create=e=>new vc({checks:[],typeName:gt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Nt(e)});class xc extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==We.bigint)return this._getInvalidInput(t);let n;const a=new Ls;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Lt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Me(r,{code:Se.invalid_type,expected:We.bigint,received:r.parsedType}),pt}gte(t,r){return this.setLimit("min",t,!0,Qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Qe.toString(r))}setLimit(t,r,n,a){return new xc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Qe.toString(a)}]})}_addCheck(t){return new xc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xc.create=e=>new xc({checks:[],typeName:gt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Nt(e)});class Tx extends Dt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==We.boolean){const n=this._getOrReturnCtx(t);return Me(n,{code:Se.invalid_type,expected:We.boolean,received:n.parsedType}),pt}return ca(t.data)}}Tx.create=e=>new Tx({typeName:gt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Nt(e)});class Id extends Dt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==We.date){const i=this._getOrReturnCtx(t);return Me(i,{code:Se.invalid_type,expected:We.date,received:i.parsedType}),pt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Me(i,{code:Se.invalid_date}),pt}const n=new Ls;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:Se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Lt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Id({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Id.create=e=>new Id({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:gt.ZodDate,...Nt(e)});class OO extends Dt{_parse(t){if(this._getType(t)!==We.symbol){const n=this._getOrReturnCtx(t);return Me(n,{code:Se.invalid_type,expected:We.symbol,received:n.parsedType}),pt}return ca(t.data)}}OO.create=e=>new OO({typeName:gt.ZodSymbol,...Nt(e)});class TO extends Dt{_parse(t){if(this._getType(t)!==We.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:Se.invalid_type,expected:We.undefined,received:n.parsedType}),pt}return ca(t.data)}}TO.create=e=>new TO({typeName:gt.ZodUndefined,...Nt(e)});class IO extends Dt{_parse(t){if(this._getType(t)!==We.null){const n=this._getOrReturnCtx(t);return Me(n,{code:Se.invalid_type,expected:We.null,received:n.parsedType}),pt}return ca(t.data)}}IO.create=e=>new IO({typeName:gt.ZodNull,...Nt(e)});class RO extends Dt{constructor(){super(...arguments),this._any=!0}_parse(t){return ca(t.data)}}RO.create=e=>new RO({typeName:gt.ZodAny,...Nt(e)});class MO extends Dt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ca(t.data)}}MO.create=e=>new MO({typeName:gt.ZodUnknown,...Nt(e)});class tl extends Dt{_parse(t){const r=this._getOrReturnCtx(t);return Me(r,{code:Se.invalid_type,expected:We.never,received:r.parsedType}),pt}}tl.create=e=>new tl({typeName:gt.ZodNever,...Nt(e)});class $O extends Dt{_parse(t){if(this._getType(t)!==We.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:Se.invalid_type,expected:We.void,received:n.parsedType}),pt}return ca(t.data)}}$O.create=e=>new $O({typeName:gt.ZodVoid,...Nt(e)});class ai extends Dt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==We.array)return Me(r,{code:Se.invalid_type,expected:We.array,received:r.parsedType}),pt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Me(r,{code:o?Se.too_big:Se.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Me(r,{code:Se.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Me(r,{code:Se.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new el(r,o,r.path,l)))).then(o=>Ls.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new el(r,o,r.path,l)));return Ls.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ai({...this._def,minLength:{value:t,message:Qe.toString(r)}})}max(t,r){return new ai({...this._def,maxLength:{value:t,message:Qe.toString(r)}})}length(t,r){return new ai({...this._def,exactLength:{value:t,message:Qe.toString(r)}})}nonempty(t){return this.min(1,t)}}ai.create=(e,t)=>new ai({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gt.ZodArray,...Nt(t)});function yu(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=qo.create(yu(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof ai?new ai({...e._def,type:yu(e.element)}):e instanceof qo?qo.create(yu(e.unwrap())):e instanceof $d?$d.create(yu(e.unwrap())):e instanceof yc?yc.create(e.items.map(t=>yu(t))):e}class Kr extends Dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Lt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==We.object){const u=this._getOrReturnCtx(t);return Me(u,{code:Se.invalid_type,expected:We.object,received:u.parsedType}),pt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof tl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new el(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof tl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Me(a,{code:Se.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new el(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ls.mergeObjectSync(n,u)):Ls.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Qe.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Qe.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of Lt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Lt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return yu(this)}partial(t){const r={};for(const n of Lt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Lt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof qo;)i=i._def.innerType;r[n]=i}return new Kr({...this._def,shape:()=>r})}keyof(){return D6(Lt.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:tl.create(),typeName:gt.ZodObject,...Nt(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:tl.create(),typeName:gt.ZodObject,...Nt(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:tl.create(),typeName:gt.ZodObject,...Nt(t)});class Ix extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ki(l.ctx.common.issues));return Me(r,{code:Se.invalid_union,unionErrors:o}),pt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ki(c));return Me(r,{code:Se.invalid_union,unionErrors:l}),pt}}get options(){return this._def.options}}Ix.create=(e,t)=>new Ix({options:e,typeName:gt.ZodUnion,...Nt(t)});function EN(e,t){const r=po(e),n=po(t);if(e===t)return{valid:!0,data:e};if(r===We.object&&n===We.object){const a=Lt.objectKeys(t),i=Lt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=EN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===We.array&&n===We.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=EN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===We.date&&n===We.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rx extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(PO(i)||PO(o))return pt;const l=EN(i.value,o.value);return l.valid?((EO(i)||EO(o))&&r.dirty(),{status:r.value,value:l.data}):(Me(n,{code:Se.invalid_intersection_types}),pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rx.create=(e,t,r)=>new Rx({left:e,right:t,typeName:gt.ZodIntersection,...Nt(r)});class yc extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==We.array)return Me(n,{code:Se.invalid_type,expected:We.array,received:n.parsedType}),pt;if(n.data.length<this._def.items.length)return Me(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pt;!this._def.rest&&n.data.length>this._def.items.length&&(Me(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new el(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ls.mergeArray(r,o)):Ls.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new yc({...this._def,rest:t})}}yc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yc({items:e,typeName:gt.ZodTuple,rest:null,...Nt(t)})};class DO extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==We.map)return Me(n,{code:Se.invalid_type,expected:We.map,received:n.parsedType}),pt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new el(n,l,n.path,[u,"key"])),value:i._parse(new el(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}DO.create=(e,t,r)=>new DO({valueType:t,keyType:e,typeName:gt.ZodMap,...Nt(r)});class Im extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==We.set)return Me(n,{code:Se.invalid_type,expected:We.set,received:n.parsedType}),pt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Me(n,{code:Se.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Me(n,{code:Se.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return pt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new el(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Im({...this._def,minSize:{value:t,message:Qe.toString(r)}})}max(t,r){return new Im({...this._def,maxSize:{value:t,message:Qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Im.create=(e,t)=>new Im({valueType:e,minSize:null,maxSize:null,typeName:gt.ZodSet,...Nt(t)});class LO extends Dt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}LO.create=(e,t)=>new LO({getter:e,typeName:gt.ZodLazy,...Nt(t)});class AN extends Dt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Me(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}AN.create=(e,t)=>new AN({value:e,typeName:gt.ZodLiteral,...Nt(t)});function D6(e,t){return new Rd({values:e,typeName:gt.ZodEnum,...Nt(t)})}class Rd extends Dt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Me(r,{expected:Lt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Me(r,{received:r.data,code:Se.invalid_enum_value,options:n}),pt}return ca(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Rd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Rd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Rd.create=D6;class FO extends Dt{_parse(t){const r=Lt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==We.string&&n.parsedType!==We.number){const a=Lt.objectValues(r);return Me(n,{expected:Lt.joinValues(a),received:n.parsedType,code:Se.invalid_type}),pt}if(this._cache||(this._cache=new Set(Lt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Lt.objectValues(r);return Me(n,{received:n.data,code:Se.invalid_enum_value,options:a}),pt}return ca(t.data)}get enum(){return this._def.values}}FO.create=(e,t)=>new FO({values:e,typeName:gt.ZodNativeEnum,...Nt(t)});class Mx extends Dt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==We.promise&&r.common.async===!1)return Me(r,{code:Se.invalid_type,expected:We.promise,received:r.parsedType}),pt;const n=r.parsedType===We.promise?r.data:Promise.resolve(r.data);return ca(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mx.create=(e,t)=>new Mx({type:e,typeName:gt.ZodPromise,...Nt(t)});class Md extends Dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Me(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return pt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?pt:c.status==="dirty"||r.value==="dirty"?jh(c.value):c});{if(r.value==="aborted")return pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?pt:l.status==="dirty"||r.value==="dirty"?jh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Td(o))return pt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Td(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):pt);Lt.assertNever(a)}}Md.create=(e,t,r)=>new Md({schema:e,typeName:gt.ZodEffects,effect:t,...Nt(r)});Md.createWithPreprocess=(e,t,r)=>new Md({schema:t,effect:{type:"preprocess",transform:e},typeName:gt.ZodEffects,...Nt(r)});class qo extends Dt{_parse(t){return this._getType(t)===We.undefined?ca(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qo.create=(e,t)=>new qo({innerType:e,typeName:gt.ZodOptional,...Nt(t)});class $d extends Dt{_parse(t){return this._getType(t)===We.null?ca(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$d.create=(e,t)=>new $d({innerType:e,typeName:gt.ZodNullable,...Nt(t)});class ON extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===We.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ON.create=(e,t)=>new ON({innerType:e,typeName:gt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Nt(t)});class TN extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ox(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ki(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ki(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}TN.create=(e,t)=>new TN({innerType:e,typeName:gt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Nt(t)});class UO extends Dt{_parse(t){if(this._getType(t)!==We.nan){const n=this._getOrReturnCtx(t);return Me(n,{code:Se.invalid_type,expected:We.nan,received:n.parsedType}),pt}return{status:"valid",value:t.data}}}UO.create=e=>new UO({typeName:gt.ZodNaN,...Nt(e)});class Xie extends Dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class bC extends Dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?pt:i.status==="dirty"?(r.dirty(),jh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?pt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new bC({in:t,out:r,typeName:gt.ZodPipeline})}}class IN extends Dt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Td(a)&&(a.value=Object.freeze(a.value)),a);return Ox(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}IN.create=(e,t)=>new IN({innerType:e,typeName:gt.ZodReadonly,...Nt(t)});var gt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(gt||(gt={}));const vt=Ei.create,L6=vc.create;xc.create;const wC=Tx.create;Id.create;tl.create;ai.create;const ua=Kr.create;Ix.create;Rx.create;yc.create;const BO=AN.create;Rd.create;Mx.create;qo.create;$d.create;const zb={string:e=>Ei.create({...e,coerce:!0}),number:e=>vc.create({...e,coerce:!0}),boolean:e=>Tx.create({...e,coerce:!0}),bigint:e=>xc.create({...e,coerce:!0}),date:e=>Id.create({...e,coerce:!0})};function Jie(e){const t=Zie(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(toe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Zie(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=noe(a),l=roe(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eoe=Symbol("radix.slottable");function toe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eoe}function roe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function noe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wb="Dialog",[F6,U6]=Pn(Wb),[soe,Ua]=F6(Wb),B6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=hs({prop:n,defaultProp:a??!1,onChange:i,caller:Wb});return s.jsx(soe,{scope:t,triggerRef:l,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};B6.displayName=Wb;var V6="DialogTrigger",q6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ua(V6,r),i=dt(t,a.triggerRef);return s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_C(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});q6.displayName=V6;var jC="DialogPortal",[aoe,z6]=F6(jC,{forceMount:void 0}),W6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ua(jC,t);return s.jsx(aoe,{scope:t,forceMount:r,children:x.Children.map(n,o=>s.jsx(cn,{present:r||i.open,children:s.jsx(hf,{asChild:!0,container:a,children:o})}))})};W6.displayName=jC;var $x="DialogOverlay",K6=x.forwardRef((e,t)=>{const r=z6($x,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ua($x,e.__scopeDialog);return i.modal?s.jsx(cn,{present:n||i.open,children:s.jsx(ooe,{...a,ref:t})}):null});K6.displayName=$x;var ioe=Jie("DialogOverlay.RemoveScroll"),ooe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ua($x,r);return s.jsx(Dp,{as:ioe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx($e.div,{"data-state":_C(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),bc="DialogContent",H6=x.forwardRef((e,t)=>{const r=z6(bc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ua(bc,e.__scopeDialog);return s.jsx(cn,{present:n||i.open,children:i.modal?s.jsx(loe,{...a,ref:t}):s.jsx(coe,{...a,ref:t})})});H6.displayName=bc;var loe=x.forwardRef((e,t)=>{const r=Ua(bc,e.__scopeDialog),n=x.useRef(null),a=dt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Cb(i)},[]),s.jsx(G6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),coe=x.forwardRef((e,t)=>{const r=Ua(bc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(G6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),G6=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ua(bc,r),c=x.useRef(null),u=dt(t,c);return kb(),s.jsxs(s.Fragment,{children:[s.jsx($p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Ic,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_C(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(doe,{titleId:l.titleId}),s.jsx(hoe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),NC="DialogTitle",Q6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ua(NC,r);return s.jsx($e.h2,{id:a.titleId,...n,ref:t})});Q6.displayName=NC;var Y6="DialogDescription",X6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ua(Y6,r);return s.jsx($e.p,{id:a.descriptionId,...n,ref:t})});X6.displayName=Y6;var J6="DialogClose",Z6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ua(J6,r);return s.jsx($e.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});Z6.displayName=J6;function _C(e){return e?"open":"closed"}var e8="DialogTitleWarning",[uoe,t8]=HK(e8,{contentName:bc,titleName:NC,docsSlug:"dialog"}),doe=({titleId:e})=>{const t=t8(e8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},foe="DialogDescriptionWarning",hoe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t8(foe).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SC=B6,r8=q6,kC=W6,Kb=K6,Hb=H6,CC=Q6,PC=X6,EC=Z6;const At=SC,Yr=r8,moe=kC,n8=x.forwardRef(({className:e,...t},r)=>s.jsx(Kb,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));n8.displayName=Kb.displayName;const Ct=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(moe,{children:[s.jsx(n8,{}),s.jsxs(Hb,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(EC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Qo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ct.displayName=Hb.displayName;const Ot=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ot.displayName="DialogHeader";const Dx=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dx.displayName="DialogFooter";const Tt=x.forwardRef(({className:e,...t},r)=>s.jsx(CC,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));Tt.displayName=CC.displayName;const Fa=x.forwardRef(({className:e,...t},r)=>s.jsx(PC,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Fa.displayName=PC.displayName;var poe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],goe=poe.reduce((e,t)=>{const r=Sb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),voe="Label",s8=x.forwardRef((e,t)=>s.jsx(goe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s8.displayName=voe;var a8=s8;const xoe=Cp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=x.forwardRef(({className:e,...t},r)=>s.jsx(a8,{ref:r,className:be(xoe(),e),...t}));B.displayName=a8.displayName;const Fs=sie,i8=x.createContext({}),tt=({...e})=>s.jsx(i8.Provider,{value:{name:e.name},children:s.jsx(lie,{...e})}),Gb=()=>{const e=x.useContext(i8),t=x.useContext(o8),{getFieldState:r,formState:n}=qb(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},o8=x.createContext({}),Xe=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return s.jsx(o8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:be("space-y-2",e),...t})})});Xe.displayName="FormItem";const Ze=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Gb();return s.jsx(B,{ref:r,className:be(n&&"text-destructive",e),htmlFor:a,...t})});Ze.displayName="FormLabel";const et=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Gb();return s.jsx(qk,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});et.displayName="FormControl";const yoe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Gb();return s.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",e),...t})});yoe.displayName="FormDescription";const nt=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Gb(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:be("text-sm font-medium text-destructive",e),...r,children:o}):null});nt.displayName="FormMessage";const lt=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));lt.displayName="Textarea";const l8=x.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));l8.displayName="Breadcrumb";const c8=x.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:be("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));c8.displayName="BreadcrumbList";const RN=x.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:be("inline-flex items-center gap-1.5",e),...t}));RN.displayName="BreadcrumbItem";const MN=x.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?qk:"a";return s.jsx(a,{ref:n,className:be("transition-colors hover:text-foreground",t),...r})});MN.displayName="BreadcrumbLink";const u8=x.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:be("font-normal text-foreground",e),...t}));u8.displayName="BreadcrumbPage";const d8=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:be("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(sa,{})});d8.displayName="BreadcrumbSeparator";const boe={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Ba({items:e,currentPage:t}){const[r]=Dn(),a=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=boe[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return a.length===0?null:s.jsx(l8,{className:"mb-4","data-testid":"breadcrumb-nav",children:s.jsxs(c8,{children:[s.jsx(RN,{children:s.jsx(MN,{asChild:!0,children:s.jsxs(he,{href:"/",className:"flex items-center gap-1.5",children:[s.jsx(Sk,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),a.map((i,o)=>s.jsxs("span",{className:"contents",children:[s.jsx(d8,{}),s.jsx(RN,{children:i.href?s.jsx(MN,{asChild:!0,children:s.jsx(he,{href:i.href,children:i.label})}):s.jsx(u8,{children:i.label})})]},o))]})})}function Ln({title:e,subtitle:t,testId:r,subtitleTestId:n}){return s.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${vx})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&s.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const woe=ua({fullName:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().optional(),guestCount:L6().min(0).max(10).default(0),notes:vt().optional()});function joe(){var _;Lr({title:"Events & Tournaments",description:"Discover upcoming events, tournaments, and classes at The Quarterdeck. Register for sports competitions, training clinics, and social events in Islamabad."});const{user:e}=Zi(),{toast:t}=ht(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{getValue:c}=Dr(["page_events_title","page_events_subtitle","page_events_upcoming_title","page_events_no_events","page_events_register_cta"],Ae),u=$s({resolver:Ds(woe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:d=[],isLoading:f}=de({queryKey:["/api/events"]}),{data:h=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!e}),p=ye({mutationFn:async N=>await xe("POST",`/api/events/${N.eventId}/register`,N),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),u.reset()},onError:N=>{t({title:"Registration Failed",description:N.message||"Unable to register for this event.",variant:"destructive"})}}),b=ye({mutationFn:async N=>await xe("DELETE",`/api/events/${N}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:N=>{t({title:"Cancellation Failed",description:N.message||"Unable to cancel registration.",variant:"destructive"})}}),m=N=>h.some(S=>S.eventId===N),w=N=>N?new Date(N).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",v={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},g=N=>{if(n(N),!e){l(!0);return}u.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),u.setValue("email",e.email||""),i(!0)},y=N=>{r&&p.mutate({...N,eventId:r.id})},j=N=>{b.mutate(N)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:c("page_events_title"),subtitle:c("page_events_subtitle"),testId:"text-events-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(N=>s.jsx(De,{className:"h-64 rounded-xl"},N))}):d.length>0?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(N=>{var P;const S=m(N.id),k=(N.enrolledCount||0)>=(N.capacity||0),C=p.isPending||b.isPending;return s.jsxs(ee,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${N.id}`,children:[s.jsx(he,{href:`/events/${N.slug||N.id}`,children:s.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:s.jsx(Ns,{className:"w-16 h-16 text-amber-400/50"})})}),s.jsx(Fe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(he,{href:`/events/${N.slug||N.id}`,children:s.jsx(ze,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:N.title})}),s.jsx(ue,{className:v[N.type]||v.SOCIAL,children:N.type})]})}),s.jsxs(te,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:N.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.scheduleDay," ",N.scheduleTime||""]})]}),N.instructor&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Instructor: ",N.instructor]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsxs("span",{children:[N.enrolledCount||0," / ",N.capacity," enrolled"]})]}),N.enrollmentDeadline&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Register by ",w(N.enrollmentDeadline)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[s.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((P=N.price)==null?void 0:P.toLocaleString())||"Free"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{href:`/events/${N.slug||N.id}`,children:s.jsx(M,{size:"sm",variant:"ghost","data-testid":`button-view-event-${N.id}`,children:"View"})}),S?s.jsx(M,{size:"sm",variant:"outline",onClick:E=>{E.stopPropagation(),j(N.id)},disabled:C,"data-testid":`button-cancel-event-${N.id}`,children:C?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"w-4 h-4 mr-1"}),"Registered"]})}):s.jsx(M,{size:"sm",onClick:E=>{E.stopPropagation(),g(N)},disabled:k,"data-testid":`button-register-event-${N.id}`,children:k?"Full":"Register"})]})]})]})]},N.id)})}):s.jsx(ee,{children:s.jsxs(te,{className:"py-16 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),s.jsx(he,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),s.jsx(Kt,{}),s.jsx(At,{open:a,onOpenChange:i,children:s.jsxs(Ct,{className:"sm:max-w-md",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{"data-testid":"text-registration-title",children:"Event Registration"}),s.jsxs(Fa,{children:[(r==null?void 0:r.title)&&s.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),s.jsx(Fs,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(y),className:"space-y-4",children:[s.jsx(tt,{control:u.control,name:"fullName",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Full Name *"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"Enter your full name",...N,"data-testid":"input-reg-fullname"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:u.control,name:"email",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email *"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com",...N,"data-testid":"input-reg-email"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:u.control,name:"phone",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...N,"data-testid":"input-reg-phone"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:u.control,name:"guestCount",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Number of Guests"}),s.jsx(et,{children:s.jsx(Y,{type:"number",min:0,max:10,placeholder:"0",...N,onChange:S=>N.onChange(parseInt(S.target.value)||0),"data-testid":"input-reg-guests"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:u.control,name:"notes",render:({field:N})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Additional Notes"}),s.jsx(et,{children:s.jsx(lt,{placeholder:"Any special requirements or notes...",className:"resize-none",...N,"data-testid":"textarea-reg-notes"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-registration",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),s.jsx(At,{open:o,onOpenChange:l,children:s.jsxs(Ct,{className:"sm:max-w-md",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[s.jsx(eN,{className:"w-5 h-5"}),"Sign In Required"]}),s.jsx(Fa,{children:"Please sign in to register for this event."})]}),s.jsxs("div",{className:"py-4",children:[r&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-semibold",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),s.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((_=r.price)==null?void 0:_.toLocaleString())||"Free"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(he,{href:"/login",className:"w-full",children:s.jsxs(M,{className:"w-full","data-testid":"button-login-to-register",children:[s.jsx(eN,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),s.jsx(M,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})})]})}const Noe=ua({fullName:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().optional(),guestCount:L6().min(0).max(10).default(0),notes:vt().optional()}),VO={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},_oe={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function Soe(){const{slug:e}=nb(),{user:t}=Zi(),{toast:r}=ht(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),l=$s({resolver:Ds(Noe),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:c,isLoading:u}=de({queryKey:["/api/events",e],queryFn:async()=>{const _=await fetch(`/api/events/${e}`);if(!_.ok)throw new Error("Event not found");return _.json()},enabled:!!e});Lr({title:(c==null?void 0:c.title)||"Event Details",description:(c==null?void 0:c.description)||"View event details and register for events at The Quarterdeck sports complex.",ogImage:c==null?void 0:c.imageUrl});const{data:d=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!t});x.useEffect(()=>{t&&(l.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),l.setValue("email",t.email||""))},[t,l]);const f=ye({mutationFn:async _=>await xe("POST",`/api/events/${_.eventId}/register`,_),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Successful",description:"You have been registered for this event."}),a(!1),l.reset()},onError:_=>{r({title:"Registration Failed",description:_.message||"Unable to register for this event.",variant:"destructive"})}}),h=ye({mutationFn:async _=>await xe("DELETE",`/api/events/${_}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:_=>{r({title:"Cancellation Failed",description:_.message||"Unable to cancel registration.",variant:"destructive"})}}),p=c?d.some(_=>_.eventId===c.id):!1,b=_=>_?new Date(_).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",m=_=>_||"TBD",w=()=>{if(!t){o(!0);return}a(!0)},v=_=>{c&&f.mutate({..._,eventId:c.id})},g=()=>{navigator.share&&c?navigator.share({title:c.title,text:c.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(u)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1 qd-container py-8",children:[s.jsx(De,{className:"h-[300px] w-full rounded-xl mb-8"}),s.jsx(De,{className:"h-8 w-1/2 mb-4"}),s.jsx(De,{className:"h-4 w-full mb-2"}),s.jsx(De,{className:"h-4 w-3/4"})]}),s.jsx(Kt,{})]});if(!c)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),s.jsx(he,{href:"/events",children:s.jsxs(M,{"data-testid":"button-back-events",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),s.jsx(Kt,{})]});const y=(c.capacity||0)-(c.enrolledCount||0),j=y<=0;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:c.title,subtitle:c.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{items:[{label:"Events",href:"/events"},{label:c.title}]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.imageUrl&&s.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[s.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(ue,{className:VO[c.type]||VO.SOCIAL,children:_oe[c.type]||c.type})})]}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(db,{className:"w-5 h-5"}),"About This Event"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),c.instructor&&s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ls,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),s.jsx("p",{className:"font-medium",children:c.instructor})]})]})]})]}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(nx,{className:"w-5 h-5"}),"Schedule & Details"]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(wr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:b(c.scheduleDatetime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Gt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-medium",children:m(c.scheduleTime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(jr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),s.jsxs("p",{className:"font-medium",children:[c.capacity||"Unlimited"," participants"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ms,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ee,{className:"sticky top-24",children:s.jsxs(te,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:c.price===0?"Free":`PKR ${(c.price||0).toLocaleString()}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),s.jsx("span",{className:`font-medium ${j?"text-destructive":y<=5?"text-amber-600":""}`,children:j?"Full":`${y} left`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),s.jsxs("span",{className:"font-medium",children:[c.enrolledCount||0," / ",c.capacity||""]})]}),c.enrollmentDeadline&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),s.jsx("span",{className:"font-medium",children:b(c.enrollmentDeadline)})]})]}),p?s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[s.jsx(kr,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),s.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>h.mutate(c.id),disabled:h.isPending,"data-testid":"button-cancel-registration",children:[h.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):s.jsx(M,{className:"w-full",onClick:w,disabled:j,"data-testid":"button-register-event",children:j?"Event Full":"Register Now"}),s.jsxs(M,{variant:"ghost",className:"w-full mt-3",onClick:g,"data-testid":"button-share-event",children:[s.jsx(mG,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),s.jsx(he,{href:"/events",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),s.jsx(At,{open:i,onOpenChange:o,children:s.jsxs(Ct,{children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(eN,{className:"w-5 h-5"}),"Login Required"]}),s.jsx(Fa,{children:"Please log in to register for this event."})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(he,{href:"/login",className:"flex-1",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),s.jsx(he,{href:"/signup",className:"flex-1",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),s.jsx(At,{open:n,onOpenChange:a,children:s.jsxs(Ct,{children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{children:["Register for ",c.title]}),s.jsx(Fa,{children:"Complete the form below to register for this event."})]}),s.jsx(Fs,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(v),className:"space-y-4",children:[s.jsx(tt,{control:l.control,name:"fullName",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Full Name *"}),s.jsx(et,{children:s.jsx(Y,{..._,"data-testid":"input-reg-name"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:l.control,name:"email",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email *"}),s.jsx(et,{children:s.jsx(Y,{type:"email",..._,"data-testid":"input-reg-email"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:l.control,name:"phone",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Phone (Optional)"}),s.jsx(et,{children:s.jsx(Y,{..._,"data-testid":"input-reg-phone"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:l.control,name:"notes",render:({field:_})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Notes (Optional)"}),s.jsx(et,{children:s.jsx(lt,{..._,"data-testid":"input-reg-notes"})}),s.jsx(nt,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:f.isPending,"data-testid":"button-submit-registration",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})})]})}),s.jsx(Kt,{})]})}const koe=[{id:"all",name:"All Sports",icon:Ns},{id:"padel",name:"Padel",icon:Ri},{id:"squash",name:"Squash",icon:Ri},{id:"rifle",name:"Air Rifle",icon:Ri}];function Coe(){Lr({title:"Leaderboard",description:"View The Quarterdeck's sports leaderboard rankings. Track top players and compete in Padel Tennis, Squash, and Air Rifle competitions."});const[e,t]=x.useState("all"),{isAuthenticated:r,isLoading:n}=Zi(),{getValue:a}=Dr(["page_leaderboard_title","page_leaderboard_subtitle","page_leaderboard_coming_soon"],Ae),{data:i=[],isLoading:o}=de({queryKey:["/api/leaderboard",e!=="all"?e:void 0],enabled:r}),l=u=>{switch(u){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},c=u=>u<=3?s.jsx(nG,{className:`w-5 h-5 ${u===1?"text-amber-400":u===2?"text-gray-400":"text-amber-600"}`}):s.jsx("span",{className:"text-sm font-bold",children:u});return n?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsx("main",{className:"flex-1",children:s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(De,{className:"h-12 w-64 mb-8"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsx(De,{className:"h-20 rounded-xl"},u))})]})}),s.jsx(Kt,{})]}):r?s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:a("page_leaderboard_title"),subtitle:a("page_leaderboard_subtitle"),testId:"text-leaderboard-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:koe.map(u=>s.jsxs(M,{variant:e===u.id?"default":"outline",size:"sm",onClick:()=>t(u.id),className:"gap-2","data-testid":`button-filter-${u.id}`,children:[s.jsx(u.icon,{className:"w-4 h-4"}),u.name]},u.id))}),o?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>s.jsx(De,{className:"h-20 rounded-xl"},u))}):i.length>0?s.jsx("div",{className:"space-y-3",children:i.map((u,d)=>{var f,h;return s.jsx(ee,{className:`overflow-visible ${d<3?"border-2":""} ${d===0?"border-amber-400":d===1?"border-gray-400":d===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${u.id}`,children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l(d+1)}`,children:c(d+1)}),s.jsxs(Ed,{className:"w-12 h-12",children:[s.jsx(Ad,{src:u.profileImageUrl||""}),s.jsx(Od,{children:((f=u.playerName)==null?void 0:f.split(" ").map(p=>p[0]).join(""))||"P"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:u.playerName||"Anonymous Player"}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{children:[u.wins,"W - ",u.losses,"L"]}),u.winRate&&s.jsxs(ue,{variant:"secondary",className:"text-xs",children:[(u.winRate*100).toFixed(0),"% WR"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((h=u.rankingPoints)==null?void 0:h.toLocaleString())||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},u.id)})}):s.jsx(ee,{children:s.jsxs(te,{className:"py-16 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),s.jsx(he,{href:"/booking",children:s.jsx(M,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),s.jsx(Kt,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(ee,{className:"max-w-md w-full mx-4",children:s.jsxs(te,{className:"pt-6 text-center",children:[s.jsx(Ns,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view the leaderboard and player rankings."}),s.jsx(he,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(Kt,{})]})}const qO=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function Poe(){Lr({title:"Gallery",description:"View The Quarterdeck's photo gallery featuring architectural renders, construction progress, and facility images of Islamabad's premier sports complex."});const e=VD(),t=new URLSearchParams(e).get("category"),[r,n]=x.useState(t||"all"),[a,i]=x.useState(null),{getValue:o}=Dr(["page_gallery_title","page_gallery_subtitle"],Ae),{data:l,isLoading:c,error:u}=de({queryKey:["/api/gallery"]}),d=x.useMemo(()=>{if(!l)return[];const h=l.filter(p=>p.isActive!==!1);return r==="all"?h:h.filter(p=>{var b;return((b=p.category)==null?void 0:b.toLowerCase())===r.toLowerCase()})},[r,l]),f=x.useMemo(()=>{if(!l)return qO;const h=new Set(l.filter(p=>p.isActive!==!1).map(p=>{var b;return(b=p.category)==null?void 0:b.toLowerCase()}).filter(Boolean));return qO.filter(p=>p.id==="all"||h.has(p.id.toLowerCase()))},[l]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:o("page_gallery_title"),subtitle:o("page_gallery_subtitle"),testId:"text-gallery-page-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),c?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(h=>s.jsx(De,{className:"aspect-[4/3] rounded-xl"},h))}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(VE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[s.jsx(R5,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),f.map(h=>s.jsx(M,{variant:r===h.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(h.id),"data-testid":`filter-${h.id}`,children:h.label},h.id))]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(h),"data-testid":`gallery-image-${h.id}`,children:[s.jsx("img",{src:h.imageUrl,alt:h.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:h.title||"Untitled"}),h.category&&s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:h.category})]})]},h.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(VE,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:s.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[s.jsx("img",{src:a.imageUrl,alt:a.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[s.jsx("h3",{className:"text-white text-xl font-semibold",children:a.title||"Untitled"}),a.description&&s.jsx("p",{className:"text-white/80 mt-2",children:a.description})]}),s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:h=>{h.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),s.jsx(Kt,{})]})}function Eoe(){Lr({title:"Our Vision",description:"Learn about The Quarterdeck's mission, values, and vision for creating a world-class sports and recreation community in Islamabad, Pakistan."});const{getValue:e}=Dr(["page_vision_title","page_vision_subtitle"],Ae);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:e("page_vision_title"),subtitle:e("page_vision_subtitle"),testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),s.jsx("div",{className:"qd-container py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(ee,{"data-testid":"card-value-excellence",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ns,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),s.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),s.jsx(ee,{"data-testid":"card-value-community",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(jr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),s.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),s.jsx(ee,{"data-testid":"card-value-integrity",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(qi,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),s.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),s.jsx(ee,{"data-testid":"card-value-wellness",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ub,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),s.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(he,{href:"/roadmap",children:s.jsxs(M,{"data-testid":"button-view-roadmap",children:[s.jsx(vn,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),s.jsx(he,{href:"/facilities",children:s.jsx(M,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),s.jsx(Kt,{})]})}const Aoe="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Ooe="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",Toe="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",Ioe="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",zO={"padel-tennis":Zo,squash:qp,"air-rifle-range":Pp,"bridge-room":fb,"multipurpose-hall":vn},WO={"padel-tennis":Aoe,squash:Ooe,"air-rifle-range":lC,"bridge-room":Toe,"multipurpose-hall":Ioe},Roe=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function Moe(){Lr({title:"Our Facilities",description:"Explore world-class sports facilities at The Quarterdeck - Padel Tennis courts, Squash courts, Air Rifle Range, Bridge Room, and Multipurpose Hall in Islamabad."});const{getValue:e}=Dr(["page_facilities_title","page_facilities_subtitle","page_facilities_ready_title","page_facilities_ready_description","page_facilities_book_cta","page_facilities_contact_cta"],Ae),{data:t}=de({queryKey:["/api/facilities"]}),n=(t&&t.length>0?t.filter(a=>!a.isHidden).map(a=>({...a,courtCount:a.resourceCount||a.courtCount||1,operatingHours:a.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:a.maxPlayers||a.minPlayers||4,basePrice:String(a.basePrice||0),isActive:a.status!=="CLOSED"})):Roe).filter(a=>a.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:e("page_facilities_title"),subtitle:e("page_facilities_subtitle"),testId:"text-facilities-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),s.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[s.jsx("div",{className:"grid gap-6",children:n.map(a=>s.jsx(he,{href:`/facilities/${a.slug}`,children:s.jsx(ee,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${a.slug}`,children:s.jsx(te,{className:"p-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:a.imageUrl||WO[a.slug]?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a.imageUrl||WO[a.slug],alt:a.name,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const i=zO[a.slug]||Zo;return s.jsx(i,{className:"w-5 h-5 text-white"})})()})]}):s.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const i=zO[a.slug]||Zo;return s.jsx(i,{className:"w-12 h-12 text-primary/50"})})()})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xl mb-1",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(oa,{className:"w-4 h-4"})," ",a.courtCount," ",a.courtCount===1?"Unit":"Courts/Lanes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"w-4 h-4"})," ",a.minPlayers,"-",a.maxPlayers," players"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Gt,{className:"w-4 h-4"})," ",a.operatingHours]})]})]}),a.requiresCertification&&s.jsx(ue,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a.description}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"From "}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(a.basePrice).toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs(M,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",s.jsx(sa,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},a.id))}),s.jsxs("div",{className:"mt-12 mb-16 md:mb-24 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:e("page_facilities_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:e("page_facilities_ready_description")}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(he,{href:"/booking",children:s.jsx(M,{"data-testid":"button-book-now",children:e("page_facilities_book_cta")})}),s.jsx(he,{href:"/contact",children:s.jsx(M,{variant:"outline","data-testid":"button-contact-us",children:e("page_facilities_contact_cta")})})]})]})]})]})]}),s.jsx(Kt,{})]})}const $oe="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",Doe="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Loe="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",Foe="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",Uoe={"padel-tennis":Zo,squash:qp,"air-rifle-range":Pp,"bridge-room":fb,"multipurpose-hall":vn},Boe={"padel-tennis":Nf,squash:$oe,"air-rifle-range":Doe,"bridge-room":Loe,"multipurpose-hall":Foe},Voe={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function qoe(){var c,u,d,f;const{slug:e}=nb(),{data:t}=de({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=de({queryKey:["/api/pricing-tiers"]}),n=x.useMemo(()=>{const h={};return r.forEach(p=>{const m=(p.benefits||[]).find(w=>w.toLowerCase().includes("discount")&&w.toLowerCase().includes("off-peak"));if(m){const w=m.match(/(\d+)%/);w&&(h[p.tier]=w[1])}}),h},[r]),a=Voe[e||""],i=t?{...a,...t,features:(c=t.features)!=null&&c.length?t.features:a==null?void 0:a.features,amenities:(u=t.amenities)!=null&&u.length?t.amenities:a==null?void 0:a.amenities,longDescription:t.aboutContent||(a==null?void 0:a.longDescription),aboutContent:t.aboutContent||(a==null?void 0:a.longDescription),operatingHours:t.operatingHours||(a==null?void 0:a.operatingHours),addOns:t.addOns||(a==null?void 0:a.addOns),courtCount:t.resourceCount||t.courtCount||(a==null?void 0:a.courtCount),pricingNotes:t.pricingNotes,certificationInfo:t.certificationInfo,galleryImages:t.galleryImages,keywords:t.keywords,quickInfo:t.quickInfo}:a;if(!i)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(ee,{className:"max-w-md",children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),s.jsx(he,{href:"/facilities",children:s.jsx(M,{children:"View All Facilities"})})]})})});const o=Uoe[e||""]||Zo,l=i.imageUrl||Boe[e||""]||Nf;return Lr({title:i.name,description:i.description||`Book ${i.name} at The Quarterdeck sports complex in Islamabad.`,ogImage:l}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:s.jsx(o,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&s.jsx(ue,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&s.jsx(ue,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),s.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),s.jsxs("div",{className:"container mx-auto px-6 py-12",children:[s.jsx(he,{href:"/facilities",children:s.jsxs(M,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(d=i.features)==null?void 0:d.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:h})]},p))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(f=i.amenities)==null?void 0:f.map((h,p)=>s.jsx(ue,{variant:"secondary",children:h},p))})]}),i.addOns&&i.addOns.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(h=>s.jsx(ee,{children:s.jsxs(te,{className:"p-4 flex items-center justify-between",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",h.price.toLocaleString()]})]})},h.id))})]}),i.galleryImages&&i.galleryImages.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.galleryImages.map((h,p)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:h,alt:`${i.name} gallery image ${p+1}`,className:"w-full h-full object-cover","data-testid":`img-gallery-${p}`})},p))})]}),(t==null?void 0:t.howToPlayContent)&&s.jsxs("section",{"data-testid":"section-how-to-play",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"How To Play"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.howToPlayContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.scoringRulesContent)&&s.jsxs("section",{"data-testid":"section-scoring-rules",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Scoring Rules"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.scoringRulesContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.winningCriteriaContent)&&s.jsxs("section",{"data-testid":"section-winning-criteria",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Winning Criteria"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.winningCriteriaContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.pointsSystemContent)&&s.jsxs("section",{"data-testid":"section-points-system",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Points & Ranking System"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.pointsSystemContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Quick Info"})}),s.jsx(te,{className:"space-y-4",children:i.quickInfo&&Object.keys(i.quickInfo).length>0?Object.entries(i.quickInfo).map(([h,p])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),s.jsx("p",{className:"font-medium",children:String(p)})]})]},h)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),s.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),s.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ms,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),s.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})})]}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Pricing"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?s.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",s.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):s.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"}),i.pricingNotes&&s.jsx("p",{className:"text-xs text-muted-foreground pt-2 mt-2 border-t",children:i.pricingNotes})]})})]}),i.requiresCertification&&s.jsx(ee,{className:"border-amber-500/50 bg-amber-500/5",children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Op,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.certificationInfo||"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),s.jsx(he,{href:"/booking",children:s.jsxs(M,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),s.jsx(Kt,{})]})}const zoe=e=>e.isComplete?s.jsx(ue,{className:"bg-green-500",children:"Completed"}):e.isActive?s.jsxs(ue,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):s.jsx(ue,{variant:"secondary",children:"Upcoming"}),KO=e=>e.isComplete?s.jsx(mm,{className:"w-8 h-8 text-green-500"}):e.isActive?s.jsx(Gt,{className:"w-8 h-8 text-amber-500"}):s.jsx(wr,{className:"w-8 h-8 text-muted-foreground"});function Woe(){Lr({title:"Construction Roadmap",description:"Follow The Quarterdeck's construction progress in Islamabad. View milestones, timeline, and development phases for our sports complex launch in Q4 2026."});const{getValue:e}=Dr(["page_roadmap_title","page_roadmap_subtitle"],Ae),{data:t=[],isLoading:r}=de({queryKey:["/api/construction-phases"]}),n=x.useMemo(()=>[...t].sort((i,o)=>i.sortOrder-o.sortOrder),[t]),a=x.useMemo(()=>n.length===0?0:n.reduce((i,o)=>i+o.progress,0)/n.length,[n]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:e("page_roadmap_title"),subtitle:e("page_roadmap_subtitle"),testId:"text-roadmap-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),s.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:s.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(a),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:n.filter(i=>i.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-amber-600",children:n.filter(i=>i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:n.filter(i=>!i.isComplete&&!i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[r?s.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(i=>s.jsx("div",{className:"relative",children:s.jsx("div",{className:"md:ml-16",children:s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsx(De,{className:"h-6 w-48"}),s.jsx(De,{className:"h-4 w-32 mt-2"})]}),s.jsxs(te,{children:[s.jsx(De,{className:"h-4 w-full mb-4"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(De,{className:"h-4 w-full"},o))}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(De,{className:"h-4 w-full"},o))})]})]})]})})},i))}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),s.jsx("div",{className:"space-y-8",children:n.map((i,o)=>s.jsx("div",{id:i.id,className:"relative","data-testid":`card-phase-${i.id}`,children:s.jsxs("div",{className:"md:ml-16",children:[s.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:KO(i)}),s.jsxs(ee,{className:i.isActive?"border-amber-500/50 border-2":"",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"md:hidden",children:KO(i)}),s.jsxs("div",{children:[s.jsxs(ze,{className:"text-xl",children:[i.label,": ",i.title]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.timeframe||"Timeline TBD"})]})]}),zoe(i)]}),i.isActive&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${i.progress}%`}})})})]}),s.jsx(te,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.milestones&&i.milestones.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(mm,{className:"w-4 h-4"})," Milestones"]}),s.jsx("ul",{className:"space-y-2",children:i.milestones.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.isComplete?s.jsx(mm,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),s.jsx("span",{className:i.isComplete?"":"text-muted-foreground",children:l})]},c))})]}),i.highlights&&i.highlights.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.icon==="rocket"?s.jsx(fG,{className:"w-4 h-4"}):s.jsx(vn,{className:"w-4 h-4"}),"Key Highlights"]}),s.jsx("ul",{className:"space-y-2",children:i.highlights.map((l,c)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),l]},c))})]})]})})]})]})},i.id))})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),s.jsx(he,{href:"/contact",children:s.jsx(M,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),s.jsx(Kt,{})]})}var Qb="Collapsible",[Koe,f8]=Pn(Qb),[Hoe,AC]=Koe(Qb),h8=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=hs({prop:n,defaultProp:a??!1,onChange:o,caller:Qb});return s.jsx(Hoe,{scope:r,disabled:i,contentId:Gr(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:s.jsx($e.div,{"data-state":TC(c),"data-disabled":i?"":void 0,...l,ref:t})})});h8.displayName=Qb;var m8="CollapsibleTrigger",p8=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=AC(m8,r);return s.jsx($e.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":TC(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ne(e.onClick,a.onOpenToggle)})});p8.displayName=m8;var OC="CollapsibleContent",g8=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=AC(OC,e.__scopeCollapsible);return s.jsx(cn,{present:r||a.open,children:({present:i})=>s.jsx(Goe,{...n,ref:t,present:i})})});g8.displayName=OC;var Goe=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=AC(OC,r),[l,c]=x.useState(n),u=x.useRef(null),d=dt(t,u),f=x.useRef(0),h=f.current,p=x.useRef(0),b=p.current,m=o.open||l,w=x.useRef(m),v=x.useRef(void 0);return x.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),$r(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const y=g.getBoundingClientRect();f.current=y.height,p.current=y.width,w.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),c(n)}},[o.open,n]),s.jsx($e.div,{"data-state":TC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:m&&a})});function TC(e){return e?"open":"closed"}var Qoe=h8,Yoe=p8,Xoe=g8,Va="Accordion",Joe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[IC,Zoe,ele]=Sp(Va),[Yb]=Pn(Va,[ele,f8]),RC=f8(),v8=D.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(IC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(sle,{...i,ref:t}):s.jsx(nle,{...a,ref:t})})});v8.displayName=Va;var[x8,tle]=Yb(Va),[y8,rle]=Yb(Va,{collapsible:!1}),nle=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=hs({prop:r,defaultProp:n??"",onChange:a,caller:Va});return s.jsx(x8,{scope:e.__scopeAccordion,value:D.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:D.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(y8,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(b8,{...o,ref:t})})})}),sle=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=hs({prop:r,defaultProp:n??[],onChange:a,caller:Va}),c=D.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=D.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(x8,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(y8,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(b8,{...i,ref:t})})})}),[ale,Xb]=Yb(Va),b8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=D.useRef(null),c=dt(l,t),u=Zoe(r),f=wf(a)==="ltr",h=Ne(e.onKeyDown,p=>{var k;if(!Joe.includes(p.key))return;const b=p.target,m=u().filter(C=>{var P;return!((P=C.ref.current)!=null&&P.disabled)}),w=m.findIndex(C=>C.ref.current===b),v=m.length;if(w===-1)return;p.preventDefault();let g=w;const y=0,j=v-1,_=()=>{g=w+1,g>j&&(g=y)},N=()=>{g=w-1,g<y&&(g=j)};switch(p.key){case"Home":g=y;break;case"End":g=j;break;case"ArrowRight":i==="horizontal"&&(f?_():N());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(f?N():_());break;case"ArrowUp":i==="vertical"&&N();break}const S=g%v;(k=m[S].ref.current)==null||k.focus()});return s.jsx(ale,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(IC.Slot,{scope:r,children:s.jsx($e.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Lx="AccordionItem",[ile,MC]=Yb(Lx),w8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=Xb(Lx,r),o=tle(Lx,r),l=RC(r),c=Gr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(ile,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Qoe,{"data-orientation":i.orientation,"data-state":C8(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});w8.displayName=Lx;var j8="AccordionHeader",N8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Xb(Va,r),i=MC(j8,r);return s.jsx($e.h3,{"data-orientation":a.orientation,"data-state":C8(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});N8.displayName=j8;var $N="AccordionTrigger",_8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Xb(Va,r),i=MC($N,r),o=rle($N,r),l=RC(r);return s.jsx(IC.ItemSlot,{scope:r,children:s.jsx(Yoe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});_8.displayName=$N;var S8="AccordionContent",k8=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Xb(Va,r),i=MC(S8,r),o=RC(r);return s.jsx(Xoe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});k8.displayName=S8;function C8(e){return e?"open":"closed"}var ole=v8,lle=w8,cle=N8,P8=_8,E8=k8;const A8=ole,Mu=x.forwardRef(({className:e,...t},r)=>s.jsx(lle,{ref:r,className:be("border-b",e),...t}));Mu.displayName="AccordionItem";const $u=x.forwardRef(({className:e,children:t,...r},n)=>s.jsx(cle,{className:"flex",children:s.jsxs(P8,{ref:n,className:be("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx($a,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));$u.displayName=P8.displayName;const Du=x.forwardRef(({className:e,children:t,...r},n)=>s.jsx(E8,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:be("pb-4 pt-0",e),children:t})}));Du.displayName=E8.displayName;const ule={general:{title:"General Rules",icon:qi},booking:{title:"Booking & Scheduling",icon:Gt},conduct:{title:"Conduct & Behavior",icon:jr},safety:{title:"Safety Requirements",icon:Op},dresscode:{title:"Dress Code",icon:pG},equipment:{title:"Equipment & Facilities",icon:HH},guests:{title:"Guest Policy",icon:ub},emergency:{title:"Emergency Procedures",icon:ax}},dle=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function fle(){Lr({title:"Club Rules & Guidelines",description:"Review The Quarterdeck's club rules, safety requirements, dress code, booking policies, and guest guidelines for our sports facilities."});const{getValue:e}=Dr(["page_rules_title","page_rules_subtitle"],Ae),{data:t=[],isLoading:r}=de({queryKey:["/api/rules"]}),n=t.reduce((i,o)=>{const l=o.category||"general";return i[l]||(i[l]=[]),i[l].push(o),i},{}),a=dle.filter(i=>{var o;return((o=n[i])==null?void 0:o.length)>0});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:e("page_rules_title"),subtitle:e("page_rules_subtitle"),testId:"text-rules-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(ee,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Op,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),s.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(qi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):s.jsx(A8,{type:"multiple",className:"space-y-4",children:a.map(i=>{const o=ule[i]||{title:i,icon:qi},l=o.icon,c=n[i]||[];return s.jsxs(Mu,{value:i,className:"border rounded-md px-4","data-testid":`accordion-${i}`,children:[s.jsx($u,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:s.jsx(l,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),s.jsx("span",{className:"font-semibold",children:o.title})]})}),s.jsx(Du,{children:s.jsx("ul",{className:"space-y-3 pl-13 py-4",children:c.map((u,d)=>s.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[s.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[d+1,"."]}),s.jsxs("div",{children:[u.title&&s.jsxs("span",{className:"font-medium text-foreground",children:[u.title,": "]}),u.content]})]},u.id))})})]},i)})}),s.jsxs(ee,{className:"mt-8",children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Questions About Our Rules?"})}),s.jsxs(te,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(he,{href:"/contact",children:s.jsx(M,{"data-testid":"button-contact-us",children:"Contact Us"})}),s.jsx(he,{href:"/terms",children:s.jsx(M,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),s.jsx(Kt,{})]})}const HO=ua({name:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email"),phone:vt().min(10,"Please enter a valid phone number"),cvUrl:vt().optional().or(BO("")),linkedinUrl:vt().url("Please enter a valid LinkedIn URL").optional().or(BO("")),coverLetter:vt().min(50,"Cover letter should be at least 50 characters")}),hle=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],mle=[".pdf",".doc",".docx"],ple=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function gle(){Lr({title:"Careers",description:"Join The Quarterdeck team. Explore career opportunities at Islamabad's premier sports and recreation complex. Apply for positions in operations, coaching, and hospitality."});const{toast:e}=ht(),{user:t}=Zi(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(!1),b=x.useRef(null),[m,w]=x.useState(null),[v,g]=x.useState(""),[y,j]=x.useState(!1),_=x.useRef(null),{getValue:N}=Dr(["page_careers_title","page_careers_subtitle","page_careers_positions_title","page_careers_apply_cta","page_careers_no_positions"],Ae),S=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:k}=de({queryKey:["/api/careers"]}),C=$s({resolver:Ds(HO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),P=$s({resolver:Ds(HO),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),E=ye({mutationFn:async H=>await xe("POST",`/api/careers/${H.careerId}/apply`,{fullName:H.name,email:H.email,phone:H.phone,cvUrl:H.cvUrl||null,linkedinUrl:H.linkedinUrl||null,coverLetter:H.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),C.reset()},onError:H=>{e({title:"Submission Failed",description:H.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),O=ye({mutationFn:async H=>await xe("POST","/api/careers/general-application",{fullName:H.name,email:H.email,phone:H.phone,cvUrl:H.cvUrl||null,linkedinUrl:H.linkedinUrl||null,coverLetter:H.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),P.reset()},onError:H=>{e({title:"Submission Failed",description:H.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),I=H=>{if(!hle.includes(H.type)){const ie=H.name.toLowerCase().slice(H.name.lastIndexOf("."));if(!mle.includes(ie))return e({title:"Invalid File Type",description:"Please upload a PDF, DOC, or DOCX file.",variant:"destructive"}),!1}return H.size>10*1024*1024?(e({title:"File Too Large",description:"Maximum file size is 10MB.",variant:"destructive"}),!1):!0},T=async H=>{const ie=new FormData;ie.append("cv",H);const ve=await fetch("/api/careers/upload-cv",{method:"POST",body:ie});if(!ve.ok){const we=await ve.json();throw new Error(we.message||"Failed to upload CV")}return(await ve.json()).cvUrl},$=H=>{var ve;const ie=(ve=H.target.files)==null?void 0:ve[0];ie&&I(ie)&&(u(ie),f(ie.name))},V=H=>{var ve;const ie=(ve=H.target.files)==null?void 0:ve[0];ie&&I(ie)&&(w(ie),g(ie.name))},K=()=>{u(null),f(""),b.current&&(b.current.value="")},A=()=>{w(null),g(""),_.current&&(_.current.value="")},R=async H=>{if(r)try{let ie=H.cvUrl||null;c&&(p(!0),ie=await T(c)),E.mutate({...H,careerId:r.id,cvUrl:ie||""})}catch(ie){e({title:"Upload Failed",description:ie.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{p(!1)}},Q=async H=>{try{let ie=H.cvUrl||null;m&&(j(!0),ie=await T(m)),O.mutate({...H,cvUrl:ie||""})}catch(ie){e({title:"Upload Failed",description:ie.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{j(!1)}},J=H=>{n(H),K(),i(!0)},X=(k&&k.length>0?k:ple).filter(H=>H.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:N("page_careers_title"),subtitle:N("page_careers_subtitle"),testId:"text-careers-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),s.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(ee,{children:s.jsxs(te,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(hm,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),s.jsx(ee,{children:s.jsxs(te,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(ms,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),s.jsx(ee,{children:s.jsxs(te,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Gt,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),X.length===0?s.jsx(ee,{children:s.jsx(te,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):s.jsx("div",{className:"space-y-4",children:X.map(H=>s.jsx(ee,{className:"hover-elevate","data-testid":`card-job-${H.id}`,children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:H.title}),s.jsx(ue,{variant:"secondary",className:"text-xs",children:H.type})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(hm,{className:"w-4 h-4"})," ",H.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ms,{className:"w-4 h-4"})," ",H.location]}),S&&H.salary&&s.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:H.salary})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:H.description}),H.requirements&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Requirements: "}),s.jsx("span",{className:"text-muted-foreground",children:H.requirements})]})]}),s.jsxs(M,{className:" flex-shrink-0",onClick:()=>J(H),"data-testid":`button-apply-${H.id}`,children:["Apply Now ",s.jsx(sa,{className:"w-4 h-4 ml-1"})]})]})})},H.id))})]}),s.jsxs(ee,{className:"mt-12",children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Don't See the Right Fit?"})}),s.jsxs(te,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),s.jsxs(M,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[s.jsx(As,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),s.jsx(Kt,{}),s.jsx(At,{open:a,onOpenChange:i,children:s.jsxs(Ct,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{children:["Apply for ",r==null?void 0:r.title]}),s.jsx(Fa,{children:"Fill out the form below to submit your application"})]}),s.jsx(Fs,{...C,children:s.jsxs("form",{onSubmit:C.handleSubmit(R),className:"space-y-4",children:[s.jsx(tt,{control:C.control,name:"name",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Full Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"John Doe",...H,"data-testid":"input-applicant-name"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:C.control,name:"email",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"john@example.com",...H,"data-testid":"input-applicant-email"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:C.control,name:"phone",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...H,"data-testid":"input-applicant-phone"})}),s.jsx(nt,{})]})}),s.jsxs(Xe,{children:[s.jsx(Ze,{children:"CV/Resume (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:b,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:$,className:"hidden","data-testid":"input-applicant-cv-file"}),d?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(As,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-cv-filename",children:d}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:K,"data-testid":"button-clear-cv",children:s.jsx(Qo,{className:"w-4 h-4"})})]}):s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var H;return(H=b.current)==null?void 0:H.click()},className:"w-full","data-testid":"button-upload-cv",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(tt,{control:C.control,name:"linkedinUrl",render:({field:H})=>s.jsxs(Xe,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Z1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(et,{children:s.jsx(Y,{placeholder:"https://linkedin.com/in/...",...H,"data-testid":"input-applicant-linkedin"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:C.control,name:"coverLetter",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Cover Letter"}),s.jsx(et,{children:s.jsx(lt,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...H,"data-testid":"input-applicant-cover-letter"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:E.isPending||h,className:"","data-testid":"button-submit-application",children:[E.isPending||h?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ix,{className:"w-4 h-4 mr-2"}),h?"Uploading CV...":"Submit Application"]})]})]})})]})}),s.jsx(At,{open:o,onOpenChange:l,children:s.jsxs(Ct,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Send Your CV"}),s.jsx(Fa,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),s.jsx(Fs,{...P,children:s.jsxs("form",{onSubmit:P.handleSubmit(Q),className:"space-y-4",children:[s.jsx(tt,{control:P.control,name:"name",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Full Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"John Doe",...H,"data-testid":"input-cv-name"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:P.control,name:"email",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"john@example.com",...H,"data-testid":"input-cv-email"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:P.control,name:"phone",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 300 1234567",...H,"data-testid":"input-cv-phone"})}),s.jsx(nt,{})]})}),s.jsxs(Xe,{children:[s.jsx(Ze,{children:"CV/Resume"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:_,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:V,className:"hidden","data-testid":"input-general-cv-file"}),v?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(As,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-general-cv-filename",children:v}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",onClick:A,"data-testid":"button-clear-general-cv",children:s.jsx(Qo,{className:"w-4 h-4"})})]}):s.jsxs(M,{type:"button",variant:"outline",onClick:()=>{var H;return(H=_.current)==null?void 0:H.click()},className:"w-full","data-testid":"button-upload-general-cv",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(tt,{control:P.control,name:"linkedinUrl",render:({field:H})=>s.jsxs(Xe,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Z1,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(et,{children:s.jsx(Y,{placeholder:"https://linkedin.com/in/...",...H,"data-testid":"input-cv-linkedin"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:P.control,name:"coverLetter",render:({field:H})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Message / Cover Letter"}),s.jsx(et,{children:s.jsx(lt,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...H,"data-testid":"input-cv-cover-letter"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:O.isPending||y,className:"","data-testid":"button-submit-cv-form",children:[O.isPending||y?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ix,{className:"w-4 h-4 mr-2"}),y?"Uploading CV...":"Submit CV"]})]})]})})]})})]})}function vle(){Lr({title:"Terms & Conditions",description:"The Quarterdeck's terms and conditions. Review our policies for membership, facility usage, bookings, and member conduct."});const{getValue:e}=Dr(["page_terms_title","page_terms_subtitle"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="terms_conditions");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse terms content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:e("page_terms_title"),subtitle:e("page_terms_subtitle"),testId:"text-terms-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(As,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>s.jsx("li",{children:l},c))})]},o))})})]}),s.jsx(Kt,{})]})}function xle(){Lr({title:"Privacy Policy",description:"The Quarterdeck's privacy policy. Learn how we collect, use, and protect your personal information at our sports complex."});const{getValue:e}=Dr(["page_privacy_title","page_privacy_subtitle"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="privacy_policy");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse privacy policy content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:e("page_privacy_title"),subtitle:e("page_privacy_subtitle"),testId:"text-privacy-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(_d,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>{const u=l.indexOf(":");if(u>-1&&u<30){const d=l.slice(0,u),f=l.slice(u+1);return s.jsxs("li",{children:[s.jsxs("strong",{children:[d,":"]}),f]},c)}return s.jsx("li",{children:l},c)})})]},o))})})]}),s.jsx(Kt,{})]})}const yle=[{key:"coming-soon-1",src:JF,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{key:"coming-soon-2",src:Nf,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{key:"coming-soon-3",src:Lb,alt:"Squash Court",caption:"Professional Squash Facility"},{key:"coming-soon-4",src:ZF,alt:"Sports Arena",caption:"Modern Architecture"},{key:"coming-soon-5",src:e6,alt:"Construction Progress",caption:"Building Your Future"}];function ble(){Lr({title:"Coming Soon",description:"The Quarterdeck is coming to Islamabad in Q4 2026. Join our waitlist for exclusive early access to Pakistan's premier sports and recreation complex."});const{toast:e}=ht(),[t,r]=x.useState(""),[n,a]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=x.useState(!1),{getValue:l}=Dr(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ae),{data:c=[]}=de({queryKey:["/api/site-images","coming-soon"],queryFn:async()=>{const w=await(await fetch("/api/site-images?page=coming-soon")).json();return Array.isArray(w)?w:[]},staleTime:1e3*60*5}),u=x.useMemo(()=>yle.map(m=>{const w=c.find(v=>v.section===m.key&&v.isActive);return{...m,src:(w==null?void 0:w.imageUrl)||m.src,alt:(w==null?void 0:w.alt)||m.alt,caption:(w==null?void 0:w.title)||m.caption}}),[c]),d=l("coming_soon_launch_date")||Ae.coming_soon_launch_date||"2026-10-01",f=new Date(d);x.useEffect(()=>{const m=()=>{const v=+f-+new Date;return v>0?(o(!1),{days:Math.floor(v/864e5),hours:Math.floor(v/36e5%24),minutes:Math.floor(v/1e3/60%60),seconds:Math.floor(v/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};a(m());const w=setInterval(()=>{a(m())},1e3);return()=>clearInterval(w)},[d]);const h=ye({mutationFn:async m=>await xe("POST","/api/contact",{name:"Early Interest Subscriber",email:m,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:m=>{e({title:"Subscription Failed",description:m.message||"Please try again later.",variant:"destructive"})}}),p=m=>{m.preventDefault(),t&&h.mutate(t)},b=({value:m,label:w})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:m.toString().padStart(2,"0")})}),s.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:w})]});return s.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-amber-500/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("header",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(he,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"Q"})}),s.jsx("span",{className:"text-xl font-semibold text-white hidden sm:block",children:l("site_name")||Ae.site_name})]})}),s.jsx(he,{href:"/",children:s.jsxs(M,{variant:"outline",className:"text-white border-white/30 bg-white/10 backdrop-blur-sm",children:["Full Website ",s.jsx(ob,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("main",{className:"container mx-auto px-6 py-12 md:py-24",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-amber-500/20 text-amber-300 rounded-full text-sm font-medium",children:l("hero_eyebrow")||Ae.hero_eyebrow}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight",children:l("coming_soon_title")||Ae.coming_soon_title}),s.jsx("p",{className:"text-lg text-white/70 max-w-lg",children:l("coming_soon_subtitle")||Ae.coming_soon_subtitle})]}),s.jsxs("div",{className:"flex items-center gap-4 text-white/70",children:[s.jsx(ms,{className:"w-5 h-5"}),s.jsx("span",{children:l("coming_soon_location")||Ae.coming_soon_location||"Islamabad, Pakistan"})]}),i?s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-xl",children:[s.jsx(xn,{className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold",children:"We're Live!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[s.jsx(wr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expected Launch: Q4 2026"})]}),s.jsxs("div",{className:"flex gap-3 sm:gap-4 md:gap-6",children:[s.jsx(b,{value:n.days,label:"Days"}),s.jsx(b,{value:n.hours,label:"Hours"}),s.jsx(b,{value:n.minutes,label:"Mins"}),s.jsx(b,{value:n.seconds,label:"Secs"})]})]}),s.jsx(ee,{className:"bg-white/10 border-white/20 backdrop-blur",children:s.jsxs(te,{className:"p-6",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mf,{className:"w-5 h-5"}),"Get Early Access Updates"]}),s.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(Y,{type:"email",placeholder:"your@email.com",value:t,onChange:m=>r(m.target.value),className:"flex-1 bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0,"data-testid":"input-email-subscribe"}),s.jsx(M,{type:"submit",disabled:h.isPending,className:"bg-amber-500 text-white","data-testid":"button-subscribe",children:h.isPending?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):"Notify Me"})]}),s.jsx("p",{className:"text-xs text-white/50 mt-3",children:"Join the waitlist for exclusive pre-launch offers and founding member benefits."})]})})]}),s.jsx("div",{className:"lg:pl-8",children:s.jsx(Wp,{opts:{loop:!0},plugins:[jf({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(Kp,{children:u.map((m,w)=>s.jsx(Hp,{children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden",children:[s.jsx("img",{src:m.src,alt:m.alt,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:s.jsx("p",{className:"text-white font-medium text-lg",children:m.caption})})]})},w))})})})]})}),s.jsx("footer",{className:"container mx-auto px-6 py-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-white/50 text-sm",children:"2024-2027 The Quarterdeck. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 text-white/50 text-sm",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsx("span",{children:"Pre-launch Phase"})]})]})})]})]})}const wle=ua({name:vt().min(2,"Name must be at least 2 characters"),email:vt().email("Please enter a valid email address"),phone:vt().optional(),subject:vt().min(3,"Subject must be at least 3 characters"),message:vt().min(10,"Message must be at least 10 characters")});function jle(){Lr({title:"Contact Us",description:"Get in touch with The Quarterdeck. Contact us for facility inquiries, membership questions, event bookings, or general information about our sports complex in Islamabad."});const{toast:e}=ht(),[t,r]=x.useState(!1),{getValue:n}=Dr(["page_contact_title","page_contact_subtitle","page_contact_form_title","page_contact_success_title","page_contact_success_message","page_contact_info_title","page_contact_social_title","page_contact_faq_title"],Ae),{data:a={}}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const d=await fetch("/api/site-settings");if(!d.ok)return{};const f=await d.json();return f&&typeof f=="object"&&!f.message?f:{}}catch{return{}}}}),i=d=>a[d]||"",o=$s({resolver:Ds(wle),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),l=ye({mutationFn:async d=>await xe("POST","/api/contact",d),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),o.reset()},onError:d=>{e({title:"Error",description:d.message||"Failed to send message. Please try again.",variant:"destructive"})}}),c=d=>{l.mutate(d)},u=[{icon:wr,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:jr,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:vn,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:n("page_contact_title"),subtitle:n("page_contact_subtitle"),testId:"text-contact-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(U5,{className:"w-5 h-5"}),n("page_contact_form_title")]})}),s.jsx(te,{children:t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:s.jsx(ix,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("page_contact_success_title")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n("page_contact_success_message")}),s.jsx(M,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):s.jsx(Fs,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(tt,{control:o.control,name:"name",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Full Name *"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"Your name",...d,"data-testid":"input-contact-name"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:o.control,name:"email",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email Address *"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com",...d,"data-testid":"input-contact-email"})}),s.jsx(nt,{})]})})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(tt,{control:o.control,name:"phone",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Phone Number"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"+92 xxx xxxxxxx",...d,"data-testid":"input-contact-phone"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:o.control,name:"subject",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Subject *"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"What's this about?",...d,"data-testid":"input-contact-subject"})}),s.jsx(nt,{})]})})]}),s.jsx(tt,{control:o.control,name:"message",render:({field:d})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Message *"}),s.jsx(et,{children:s.jsx(lt,{placeholder:"How can we help you?",rows:5,...d,"data-testid":"input-contact-message"})}),s.jsx(nt,{})]})}),s.jsx(M,{type:"submit",className:"w-full sm:w-auto",disabled:l.isPending,"data-testid":"button-contact-submit",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ix,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),s.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:u.map(d=>s.jsx(he,{href:d.href,children:s.jsx(ee,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${d.title.toLowerCase().replace(/\s/g,"-")}`,children:s.jsxs(te,{className:"p-4",children:[s.jsx(d.icon,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-1",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})})},d.href))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:n("page_contact_info_title")})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ms,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ax,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("phone")||"+92 51 XXX XXXX"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(mf,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("email")||"info@thequarterdeck.pk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Gt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Operating Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:n("page_contact_social_title")})}),s.jsx(te,{children:s.jsxs("div",{className:"flex gap-3",children:[i("facebook")&&s.jsx("a",{href:i("facebook"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-facebook",children:s.jsx(I5,{className:"w-5 h-5 text-primary"})}),i("instagram")&&s.jsx("a",{href:i("instagram"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-instagram",children:s.jsx(D5,{className:"w-5 h-5 text-primary"})}),i("twitter")&&s.jsx("a",{href:i("twitter"),target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center hover-elevate","data-testid":"link-social-twitter",children:s.jsx(yG,{className:"w-5 h-5 text-primary"})}),!i("facebook")&&!i("instagram")&&!i("twitter")&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Social links coming soon"})]})})]}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5"}),n("page_contact_faq_title")]})}),s.jsxs(te,{className:"space-y-1",children:[s.jsxs(A8,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Mu,{value:"booking",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-booking",children:"How do I book a facility?"}),s.jsx(Du,{className:"text-sm text-muted-foreground",children:"You can book facilities through our booking page. Simply select the facility, choose your preferred date and time slot, and confirm your reservation. Members get priority booking windows based on their tier."})]}),s.jsxs(Mu,{value:"membership",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-membership",children:"What membership options are available?"}),s.jsx(Du,{className:"text-sm text-muted-foreground",children:"We offer Founding Member, Gold, Silver, and Pay-to-Play options. Each tier includes different benefits like booking windows, discounts, and guest passes. Visit our membership page for details."})]}),s.jsxs(Mu,{value:"rules",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-rules",children:"What are the facility rules?"}),s.jsx(Du,{className:"text-sm text-muted-foreground",children:"All members must follow our facility guidelines including proper attire, court etiquette, and safety protocols. Visit our Rules page for the complete list."})]}),s.jsxs(Mu,{value:"events",className:"border-b-0",children:[s.jsx($u,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-events",children:"How do I join events?"}),s.jsx(Du,{className:"text-sm text-muted-foreground",children:"Check our Events page for upcoming tournaments and activities. Members can register directly through the event details page. Some events may have limited spots."})]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsx(he,{href:"/faq",children:s.jsx(M,{variant:"outline",size:"sm",className:"w-full","data-testid":"link-view-more-faq",children:"View All FAQs"})})})]})]})]})]})]})]}),s.jsx(Kt,{})]})}const Nle={"help-circle":Zs,users:jr,calendar:wr,"credit-card":Nd,clock:Gt,"building-2":vn,shield:qi,settings:pm};function _le({item:e,isOpen:t,onToggle:r}){return s.jsxs("div",{className:"border-b border-border last:border-b-0",children:[s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[s.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),s.jsx($a,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function Sle(){Lr({title:"Frequently Asked Questions",description:"Find answers to common questions about The Quarterdeck - membership, booking, facilities, payments, and policies at Islamabad's sports complex."});const[e,t]=x.useState({}),{getValue:r}=Dr(["page_faq_title","page_faq_subtitle","page_faq_contact_cta"],Ae),{data:n=[],isLoading:a}=de({queryKey:["/api/faq"]}),i=l=>{t(c=>({...c,[l]:!c[l]}))},o=l=>Nle[l||"help-circle"]||Zs;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:r("page_faq_title"),subtitle:r("page_faq_subtitle"),testId:"text-faq-title"}),s.jsx("section",{className:"py-12 md:py-16",children:s.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[s.jsx(Ba,{items:[{label:"FAQ"}]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx(ee,{className:"overflow-visible",children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(Zs,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):s.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:n.map(l=>{const c=o(l.icon);return s.jsx(ee,{className:"overflow-visible","data-testid":`card-faq-${l.id}`,children:s.jsxs(te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:l.title})]}),s.jsx("div",{children:l.items.length===0?s.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):l.items.map(u=>s.jsx(_le,{item:u,isOpen:e[u.id]||!1,onToggle:()=>i(u.id)},u.id))})]})},l.id)})}),s.jsx("div",{className:"mt-12 text-center",children:s.jsx(ee,{className:"inline-block overflow-visible",children:s.jsxs(te,{className:"p-8",children:[s.jsx(Zs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),s.jsx(he,{href:"/contact",children:s.jsx(M,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),s.jsx(Kt,{})]})}function kle(e){const t=Cle(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Ele);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Cle(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Ole(a),l=Ale(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Jn(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ple=Symbol("radix.slottable");function Ele(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ple}function Ale(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ole(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $C(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tle=[" ","Enter","ArrowUp","ArrowDown"],Ile=[" ","Enter"],wc="Select",[Jb,Zb,Rle]=Sp(wc),[_f]=Pn(wc,[Rle,il]),e0=il(),[Mle,ll]=_f(wc),[$le,Dle]=_f(wc),O8=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:b}=e,m=e0(t),[w,v]=x.useState(null),[g,y]=x.useState(null),[j,_]=x.useState(!1),N=wf(u),[S,k]=hs({prop:n,defaultProp:a??!1,onChange:i,caller:wc}),[C,P]=hs({prop:o,defaultProp:l,onChange:c,caller:wc}),E=x.useRef(null),O=w?b||!!w.closest("form"):!0,[I,T]=x.useState(new Set),$=Array.from(I).map(V=>V.props.value).join(";");return s.jsx(vb,{...m,children:s.jsxs(Mle,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Gr(),value:C,onValueChange:P,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:E,disabled:h,children:[s.jsx(Jb.Provider,{scope:t,children:s.jsx($le,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(V=>{T(K=>new Set(K).add(V))},[]),onNativeOptionRemove:x.useCallback(V=>{T(K=>{const A=new Set(K);return A.delete(V),A})},[]),children:r})}),O?s.jsxs(tU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:V=>P(V.target.value),disabled:h,form:b,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},$):null]})})};O8.displayName=wc;var T8="SelectTrigger",I8=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=e0(r),o=ll(T8,r),l=o.disabled||n,c=dt(t,o.onTriggerChange),u=Zb(r),d=x.useRef("touch"),[f,h,p]=nU(m=>{const w=u().filter(y=>!y.disabled),v=w.find(y=>y.value===o.value),g=sU(w,m,v);g!==void 0&&o.onValueChange(g.value)}),b=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Ip,{asChild:!0,...i,children:s.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rU(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&b(m)}),onPointerDown:Ne(a.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:Ne(a.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&Tle.includes(m.key)&&(b(),m.preventDefault())})})})});I8.displayName=T8;var R8="SelectValue",M8=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ll(R8,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=dt(t,c.onValueNodeChange);return $r(()=>{u(d)},[u,d]),s.jsx($e.span,{...l,ref:f,style:{pointerEvents:"none"},children:rU(c.value)?s.jsx(s.Fragment,{children:o}):i})});M8.displayName=R8;var Lle="SelectIcon",$8=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx($e.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});$8.displayName=Lle;var Fle="SelectPortal",D8=e=>s.jsx(hf,{asChild:!0,...e});D8.displayName=Fle;var jc="SelectContent",L8=x.forwardRef((e,t)=>{const r=ll(jc,e.__scopeSelect),[n,a]=x.useState();if($r(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Tc.createPortal(s.jsx(F8,{scope:e.__scopeSelect,children:s.jsx(Jb.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(U8,{...e,ref:t})});L8.displayName=jc;var va=10,[F8,cl]=_f(jc),Ule="SelectContentImpl",Ble=kle("SelectContent.RemoveScroll"),U8=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:w,...v}=e,g=ll(jc,r),[y,j]=x.useState(null),[_,N]=x.useState(null),S=dt(t,ne=>j(ne)),[k,C]=x.useState(null),[P,E]=x.useState(null),O=Zb(r),[I,T]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(y)return Cb(y)},[y]),kb();const V=x.useCallback(ne=>{const[we,...oe]=O().map(G=>G.ref.current),[L]=oe.slice(-1),se=document.activeElement;for(const G of ne)if(G===se||(G==null||G.scrollIntoView({block:"nearest"}),G===we&&_&&(_.scrollTop=0),G===L&&_&&(_.scrollTop=_.scrollHeight),G==null||G.focus(),document.activeElement!==se))return},[O,_]),K=x.useCallback(()=>V([k,y]),[V,k,y]);x.useEffect(()=>{I&&K()},[I,K]);const{onOpenChange:A,triggerPointerDownPosRef:R}=g;x.useEffect(()=>{if(y){let ne={x:0,y:0};const we=L=>{var se,G;ne={x:Math.abs(Math.round(L.pageX)-(((se=R.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(L.pageY)-(((G=R.current)==null?void 0:G.y)??0))}},oe=L=>{ne.x<=10&&ne.y<=10?L.preventDefault():y.contains(L.target)||A(!1),document.removeEventListener("pointermove",we),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",oe,{capture:!0})}}},[y,A,R]),x.useEffect(()=>{const ne=()=>A(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[A]);const[Q,J]=nU(ne=>{const we=O().filter(se=>!se.disabled),oe=we.find(se=>se.ref.current===document.activeElement),L=sU(we,ne,oe);L&&setTimeout(()=>L.ref.current.focus())}),F=x.useCallback((ne,we,oe)=>{const L=!$.current&&!oe;(g.value!==void 0&&g.value===we||L)&&(C(ne),L&&($.current=!0))},[g.value]),X=x.useCallback(()=>y==null?void 0:y.focus(),[y]),H=x.useCallback((ne,we,oe)=>{const L=!$.current&&!oe;(g.value!==void 0&&g.value===we||L)&&E(ne)},[g.value]),ie=n==="popper"?DN:B8,ve=ie===DN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:m,avoidCollisions:w}:{};return s.jsx(F8,{scope:r,content:y,viewport:_,onViewportChange:N,itemRefCallback:F,selectedItem:k,onItemLeave:X,itemTextRefCallback:H,focusSelectedItem:K,selectedItemText:P,position:n,isPositioned:I,searchRef:Q,children:s.jsx(Dp,{as:Ble,allowPinchZoom:!0,children:s.jsx($p,{asChild:!0,trapped:g.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ne(a,ne=>{var we;(we=g.trigger)==null||we.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(Ic,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(ie,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ne=>ne.preventDefault(),...v,...ve,onPlaced:()=>T(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ne(v.onKeyDown,ne=>{const we=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!we&&ne.key.length===1&&J(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let L=O().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const se=ne.target,G=L.indexOf(se);L=L.slice(G+1)}setTimeout(()=>V(L)),ne.preventDefault()}})})})})})})});U8.displayName=Ule;var Vle="SelectItemAlignedPosition",B8=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ll(jc,r),o=cl(jc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=dt(t,S=>d(S)),h=Zb(r),p=x.useRef(!1),b=x.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:g}=o,y=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&w&&v){const S=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(i.dir!=="rtl"){const se=P.left-k.left,G=C.left-se,U=S.left-G,pe=S.width+U,He=Math.max(pe,k.width),Ee=window.innerWidth-va,mt=yN(G,[va,Math.max(va,Ee-He)]);l.style.minWidth=pe+"px",l.style.left=mt+"px"}else{const se=k.right-P.right,G=window.innerWidth-C.right-se,U=window.innerWidth-S.right-G,pe=S.width+U,He=Math.max(pe,k.width),Ee=window.innerWidth-va,mt=yN(G,[va,Math.max(va,Ee-He)]);l.style.minWidth=pe+"px",l.style.right=mt+"px"}const E=h(),O=window.innerHeight-va*2,I=m.scrollHeight,T=window.getComputedStyle(u),$=parseInt(T.borderTopWidth,10),V=parseInt(T.paddingTop,10),K=parseInt(T.borderBottomWidth,10),A=parseInt(T.paddingBottom,10),R=$+V+I+A+K,Q=Math.min(w.offsetHeight*5,R),J=window.getComputedStyle(m),F=parseInt(J.paddingTop,10),X=parseInt(J.paddingBottom,10),H=S.top+S.height/2-va,ie=O-H,ve=w.offsetHeight/2,ne=w.offsetTop+ve,we=$+V+ne,oe=R-we;if(we<=H){const se=E.length>0&&w===E[E.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-m.offsetTop-m.offsetHeight,U=Math.max(ie,ve+(se?X:0)+G+K),pe=we+U;l.style.height=pe+"px"}else{const se=E.length>0&&w===E[0].ref.current;l.style.top="0px";const U=Math.max(H,$+m.offsetTop+(se?F:0)+ve)+oe;l.style.height=U+"px",m.scrollTop=we-H+m.offsetTop}l.style.margin=`${va}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,w,v,i.dir,n]);$r(()=>y(),[y]);const[j,_]=x.useState();$r(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&b.current===!0&&(y(),g==null||g(),b.current=!1)},[y,g]);return s.jsx(zle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx($e.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});B8.displayName=Vle;var qle="SelectPopperPosition",DN=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=va,...i}=e,o=e0(r);return s.jsx(xb,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});DN.displayName=qle;var[zle,DC]=_f(jc,{}),LN="SelectViewport",V8=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=cl(LN,r),o=DC(LN,r),l=dt(t,i.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Jb.Slot,{scope:r,children:s.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-va*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(m,w);if(v<b){const g=v+p,y=Math.min(b,g),j=g-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});V8.displayName=LN;var q8="SelectGroup",[Wle,Kle]=_f(q8),Hle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Gr();return s.jsx(Wle,{scope:r,id:a,children:s.jsx($e.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Hle.displayName=q8;var z8="SelectLabel",W8=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Kle(z8,r);return s.jsx($e.div,{id:a.id,...n,ref:t})});W8.displayName=z8;var Fx="SelectItem",[Gle,K8]=_f(Fx),H8=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ll(Fx,r),c=cl(Fx,r),u=l.value===n,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),b=dt(t,g=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,g,n,a)}),m=Gr(),w=x.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Gle,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:x.useCallback(g=>{f(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx(Jb.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx($e.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:Ne(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:Ne(o.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:Ne(o.onPointerMove,g=>{var y;w.current=g.pointerType,a?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Ne(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(Ile.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});H8.displayName=Fx;var Nh="SelectItemText",G8=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ll(Nh,r),l=cl(Nh,r),c=K8(Nh,r),u=Dle(Nh,r),[d,f]=x.useState(null),h=dt(t,v=>f(v),c.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return $r(()=>(m(b),()=>w(b)),[m,w,b]),s.jsxs(s.Fragment,{children:[s.jsx($e.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Tc.createPortal(i.children,o.valueNode):null]})});G8.displayName=Nh;var Q8="SelectItemIndicator",Y8=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return K8(Q8,r).isSelected?s.jsx($e.span,{"aria-hidden":!0,...n,ref:t}):null});Y8.displayName=Q8;var FN="SelectScrollUpButton",X8=x.forwardRef((e,t)=>{const r=cl(FN,e.__scopeSelect),n=DC(FN,e.__scopeSelect),[a,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Z8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});X8.displayName=FN;var UN="SelectScrollDownButton",J8=x.forwardRef((e,t)=>{const r=cl(UN,e.__scopeSelect),n=DC(UN,e.__scopeSelect),[a,i]=x.useState(!1),o=dt(t,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Z8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});J8.displayName=UN;var Z8=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=cl("SelectScrollButton",r),o=x.useRef(null),l=Zb(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),$r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx($e.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),Qle="SelectSeparator",eU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx($e.div,{"aria-hidden":!0,...n,ref:t})});eU.displayName=Qle;var BN="SelectArrow",Yle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=e0(r),i=ll(BN,r),o=cl(BN,r);return i.open&&o.position==="popper"?s.jsx(yb,{...a,...n,ref:t}):null});Yle.displayName=BN;var Xle="SelectBubbleInput",tU=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=dt(n,a),o=$C(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx($e.select,{...r,style:{...u5,...r.style},ref:i,defaultValue:t})});tU.displayName=Xle;function rU(e){return e===""||e===void 0}function nU(e){const t=Mr(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function sU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Jle(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Jle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Zle=O8,aU=I8,ece=M8,tce=$8,rce=D8,iU=L8,nce=V8,oU=W8,lU=H8,sce=G8,ace=Y8,cU=X8,uU=J8,dU=eU;const _t=Zle,St=ece,wt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(aU,{ref:n,className:be("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(tce,{asChild:!0,children:s.jsx($a,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=aU.displayName;const fU=x.forwardRef(({className:e,...t},r)=>s.jsx(cU,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(hc,{className:"h-4 w-4"})}));fU.displayName=cU.displayName;const hU=x.forwardRef(({className:e,...t},r)=>s.jsx(uU,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($a,{className:"h-4 w-4"})}));hU.displayName=uU.displayName;const jt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(rce,{children:s.jsxs(iU,{ref:a,className:be("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(fU,{}),s.jsx(nce,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(hU,{})]})}));jt.displayName=iU.displayName;const ice=x.forwardRef(({className:e,...t},r)=>s.jsx(oU,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ice.displayName=oU.displayName;const ke=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(lU,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ace,{children:s.jsx(kr,{className:"h-4 w-4"})})}),s.jsx(sce,{children:t})]}));ke.displayName=lU.displayName;const oce=x.forwardRef(({className:e,...t},r)=>s.jsx(dU,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));oce.displayName=dU.displayName;const Gg={bankName:"MCB Bank",accountTitle:"Quarterdeck Sports Complex",accountNumber:"0123456789012345",iban:"PK00MCBL0123456789012345"},GO={FOUNDING:35e3,GOLD:15e3,SILVER:5e3};function lce({onSuccess:e}){const{toast:t}=ht(),[r,n]=x.useState(""),[a,i]=x.useState("bank_transfer"),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(null),h=x.useRef(null),{data:p,isLoading:b}=de({queryKey:["/api/membership-applications/mine"]}),m=p==null?void 0:p.find(N=>N.status==="PENDING"),w=ye({mutationFn:async N=>await xe("POST","/api/membership-applications",N),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Application submitted",description:"Please upload your payment proof to complete the application."}),e==null||e()},onError:N=>{t({title:"Failed to submit application",description:N.message||"An error occurred",variant:"destructive"})}}),v=ye({mutationFn:async({id:N,data:S})=>await xe("PATCH",`/api/membership-applications/${N}`,S),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Payment proof uploaded",description:"Your application is now under review. We'll notify you once it's processed."})},onError:N=>{t({title:"Failed to upload payment proof",description:N.message||"An error occurred",variant:"destructive"})}}),g=async N=>{var C;const S=(C=N.target.files)==null?void 0:C[0];if(!S)return;if(S.size>10*1024*1024){t({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(S.type)){t({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}u(!0);try{const P=new FormData;P.append("file",S);const E=await fetch("/api/membership/upload-payment-proof",{method:"POST",body:P,credentials:"include"});if(!E.ok)throw new Error("Upload failed");const O=await E.json();f({name:S.name,url:O.url}),t({title:"File uploaded successfully"})}catch{t({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{u(!1)}},y=()=>{if(!r){t({title:"Please select a membership tier",variant:"destructive"});return}w.mutate({tierDesired:r,paymentMethod:a,paymentAmount:GO[r]||0})},j=()=>{!m||!d||v.mutate({id:m.id,data:{paymentProofUrl:d.url,paymentReference:o}})},_=N=>{switch(N){case"PENDING":return s.jsxs(ue,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"APPROVED":return s.jsxs(ue,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ue,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(sx,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ue,{variant:"secondary",children:N})}};if(b)return s.jsx(ee,{children:s.jsx(te,{className:"p-6 flex items-center justify-center",children:s.jsx(Re,{className:"w-6 h-6 animate-spin text-muted-foreground"})})});if(m){const N=!m.paymentProofUrl;return s.jsxs(ee,{"data-testid":"card-pending-application",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Nd,{className:"w-5 h-5"}),"Your Membership Application"]}),s.jsx(Et,{children:N?"Please complete your payment and upload proof to proceed":"Your application is being reviewed by our team"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[m.tierDesired," Membership"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied on ",m.createdAt?Xn(new Date(m.createdAt),"PPP"):"N/A"]})]}),_(m.status||"PENDING")]}),N&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vn,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Bank Transfer Details"})]}),s.jsxs("div",{className:"grid gap-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank Name:"}),s.jsx("span",{className:"font-medium",children:Gg.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title:"}),s.jsx("span",{className:"font-medium",children:Gg.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),s.jsx("span",{className:"font-medium",children:Gg.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm",children:Gg.iban})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-bold text-primary",children:["PKR ",(m.paymentAmount||0).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"paymentReference",children:"Payment Reference / Transaction ID"}),s.jsx(Y,{id:"paymentReference",value:o,onChange:S=>l(S.target.value),placeholder:"Enter your transaction reference number",className:"mt-1","data-testid":"input-payment-reference"})]}),s.jsxs("div",{children:[s.jsx(B,{children:"Payment Proof (Screenshot/Receipt)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:g,className:"hidden"}),s.jsxs(M,{variant:"outline",onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},disabled:c,className:"w-full","data-testid":"button-upload-proof",children:[c?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(kn,{className:"w-4 h-4 mr-2"}),d?d.name:"Upload Payment Proof"]}),d&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-600",children:[s.jsx(xn,{className:"w-4 h-4"}),s.jsxs("span",{children:["File uploaded: ",d.name]})]})]})]}),s.jsxs(M,{onClick:j,disabled:!d||v.isPending,className:"w-full","data-testid":"button-submit-proof",children:[v.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Submit Payment Proof"]})]})]}),!N&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[s.jsx(As,{className:"w-10 h-10 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment proof has been submitted. Our team will review your application and notify you once approved."})]})]})]})}return s.jsxs(ee,{"data-testid":"card-new-application",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Nd,{className:"w-5 h-5"}),"Apply for Membership"]}),s.jsx(Et,{children:"Choose your membership tier and complete the payment to join The Quarterdeck"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"tier",children:"Select Membership Tier"}),s.jsxs(_t,{value:r,onValueChange:n,children:[s.jsx(wt,{className:"mt-1","data-testid":"select-tier",children:s.jsx(St,{placeholder:"Choose a membership tier"})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"GOLD",children:"Gold Membership - PKR 15,000/month"}),s.jsx(ke,{value:"SILVER",children:"Silver Membership - PKR 5,000/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(_t,{value:a,onValueChange:i,children:[s.jsx(wt,{className:"mt-1","data-testid":"select-payment-method",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(ke,{value:"cash",children:"Cash (at reception)"})]})]})]}),r&&s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"text-xl font-bold",children:["PKR ",(GO[r]||0).toLocaleString()]})]})}),s.jsxs(M,{onClick:y,disabled:!r||w.isPending,className:"w-full","data-testid":"button-submit-application",children:[w.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Start Application"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After submitting, you'll receive bank details for payment. Upload your payment proof to complete the application."})]})]})}const cce={clock:Gt,gift:cb,award:ni,shield:qi,target:Ri,zap:q5,heart:ub,ticket:ox,calendar:wr,trophy:Ns,star:oa,crown:lb,users:jr,check:kr,helpCircle:Zs};function uce(e){if(!e)return Zs;const t=e.toLowerCase();return cce[t]||Zs}const dce={FOUNDING:lb,GOLD:oa,SILVER:V5,GUEST:jr},QO={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},fce=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],hce=[{feature:"Advance Booking Window",foundingValue:"14 days",goldValue:"7 days",silverValue:"5 days",guestValue:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",foundingValue:"25%",goldValue:"20%",silverValue:"10%",guestValue:"None"},{feature:"Monthly Guest Passes",foundingValue:"10",goldValue:"4",silverValue:"2",guestValue:"N/A"},{feature:"Coaching Discount",foundingValue:"20%",goldValue:"15%",silverValue:"10%",guestValue:"None"},{feature:"Event Priority",foundingValue:"VIP",goldValue:"Priority",silverValue:"Standard",guestValue:"Last"}],mce=[{icon:"clock",title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:"gift",title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:"award",title:"Guest Passes",description:"Share the experience with friends and family"},{icon:"shield",title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function pce(){Lr({title:"Membership Plans",description:"Join The Quarterdeck with exclusive membership tiers - Founding, Gold, Silver, and Guest. Enjoy priority booking, discounts, and premium benefits at Islamabad's premier sports complex."});const[e,t]=x.useState(null),[r,n]=x.useState(!1),[,a]=Dn(),{isAuthenticated:i}=Zi(),{data:o}=de({queryKey:["/api/memberships/my"],enabled:i}),l=v=>{var g;i?o?a("/profile?tab=membership"):(g=document.getElementById("apply"))==null||g.scrollIntoView({behavior:"smooth"}):a(`/signup?redirect=/membership&tier=${v.tier}`)},{getValue:c}=Dr(["page_membership_title","page_membership_subtitle","page_membership_why_title","page_membership_why_description","page_membership_tiers_title","page_membership_tiers_description","page_membership_ready_title","page_membership_ready_description","page_membership_create_cta","page_membership_contact_cta"],Ae),{data:u,isLoading:d}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const v=await fetch("/api/pricing-tiers");if(!v.ok)throw new Error("Failed to fetch pricing tiers");return v.json()}}),{data:f}=de({queryKey:["/api/comparison-features"]}),{data:h}=de({queryKey:["/api/member-benefits"]}),p=x.useMemo(()=>f&&f.length>0?f:hce,[f]),b=x.useMemo(()=>h&&h.length>0?h:mce,[h]),m=x.useMemo(()=>u&&u.length>0?u.filter(v=>v.isActive).sort((v,g)=>(v.sortOrder||0)-(g.sortOrder||0)).map(v=>({...v,tagline:v.tier==="FOUNDING"?"Limited & Exclusive":v.tier==="GOLD"?"Premium Access":v.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:v.tier==="FOUNDING"})):fce,[u]),w=v=>{t(e===v?null:v)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:c("page_membership_title"),subtitle:c("page_membership_subtitle"),testId:"text-membership-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ba,{}),s.jsxs("section",{className:"mt-8 mb-16",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_why_title")}),s.jsx("p",{className:"text-muted-foreground",children:c("page_membership_why_description")})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:b.map((v,g)=>{const y=uce(v.icon);return s.jsx(ee,{className:"text-center","data-testid":`card-benefit-${g}`,children:s.jsxs(te,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(y,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]})},g)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:c("page_membership_tiers_title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:c("page_membership_tiers_description")})]}),d?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(v=>s.jsx(ee,{children:s.jsxs(te,{className:"p-6 space-y-4",children:[s.jsx(De,{className:"h-8 w-24"}),s.jsx(De,{className:"h-10 w-32"}),s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-3/4"})]})},v))}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:m.map(v=>{var _,N,S,k;const g=dce[v.tier]||oa,y=QO[v.tier]||QO.SILVER,j=e===v.id;return s.jsxs(ee,{className:`relative overflow-visible ${v.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(_=v.tier)==null?void 0:_.toLowerCase()}`,children:[v.featured&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),v.closed&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),s.jsxs(te,{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${y.bg} flex items-center justify-center mb-4`,children:s.jsx(g,{className:`w-6 h-6 ${y.text}`})}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:v.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:v.tagline}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:v.price===0?"Free":`PKR ${v.price.toLocaleString()}`}),v.price>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",v.billingPeriod]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:v.description}),s.jsxs("button",{onClick:()=>w(v.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(N=v.tier)==null?void 0:N.toLowerCase()}`,children:[j?"Hide":"View"," Benefits",j?s.jsx(hc,{className:"w-4 h-4"}):s.jsx($a,{className:"w-4 h-4"})]}),j&&s.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(S=v.benefits)==null?void 0:S.map((C,P)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(kr,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{children:C})]},P))}),v.closed?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):s.jsx(M,{variant:v.featured?"default":"outline",className:"w-full",onClick:()=>l(v),"data-testid":`button-join-${(k=v.tier)==null?void 0:k.toLowerCase()}`,children:i?o?"View My Membership":"Apply for Membership":v.price===0?"Register Free":"Join Now"})]})]},v.id)})})]}),s.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?s.jsx(hc,{className:"w-5 h-5"}):s.jsx($a,{className:"w-5 h-5"})]}),r&&s.jsx(ee,{className:"overflow-visible animate-qd-fade-in",children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),s.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),s.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),s.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),s.jsx("tbody",{children:p.map((v,g)=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"p-4 text-sm",children:v.feature}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:v.foundingValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:v.goldValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:v.silverValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:v.guestValue})]},g))})]})})})})]}),i&&!o&&s.jsxs("section",{className:"mb-16 max-w-xl mx-auto",id:"apply",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Apply for Membership"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete your application and start enjoying member benefits today"})]}),s.jsx(lce,{})]}),s.jsx("section",{className:"text-center max-w-2xl mx-auto",children:s.jsx(ee,{children:s.jsxs(te,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:c("page_membership_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:c("page_membership_ready_description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i?o?s.jsx(he,{href:"/profile?tab=membership",children:s.jsx(M,{"data-testid":"button-view-my-membership",children:"View My Membership"})}):s.jsx(M,{onClick:()=>{var v;return(v=document.getElementById("apply"))==null?void 0:v.scrollIntoView({behavior:"smooth"})},"data-testid":"button-apply-membership",children:"Apply for Membership"}):s.jsx(he,{href:"/signup?redirect=/membership",children:s.jsx(M,{"data-testid":"button-create-account",children:c("page_membership_create_cta")})}),s.jsx(he,{href:"/contact",children:s.jsx(M,{variant:"outline","data-testid":"button-contact-membership",children:c("page_membership_contact_cta")})})]})]})})})]})]}),s.jsx(Kt,{})]})}function gce(){Lr({title:"Certifications & Training",description:"Get certified for specialized facilities at The Quarterdeck. Enroll in training classes and obtain required certifications for Air Rifle Range and other facilities."});const{isAuthenticated:e}=Zi(),{toast:t}=ht(),[r,n]=x.useState("overview"),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),{data:d=[],isLoading:f}=de({queryKey:["/api/certifications"]}),{data:h=[],isLoading:p}=de({queryKey:["/api/certification-classes"]}),{data:b=[],isLoading:m}=de({queryKey:["/api/my-certifications"],enabled:e}),{data:w=[],isLoading:v}=de({queryKey:["/api/my-enrollments"],enabled:e}),g=ye({mutationFn:async P=>{const E=await fetch(`/api/certification-classes/${P}/enroll`,{method:"POST",credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Enrollment failed")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-enrollments"]}),re.invalidateQueries({queryKey:["/api/certification-classes"]}),t({title:"Success",description:"You have been enrolled in the class."})},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),y=ye({mutationFn:async P=>{const E=await fetch("/api/my-certifications/submit",{method:"POST",body:P,credentials:"include"});if(!E.ok){const O=await E.json();throw new Error(O.message||"Submission failed")}return E.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-certifications"]}),i(!1),u({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),l(null),t({title:"Submitted",description:"Your certification has been submitted for verification."})},onError:P=>{t({title:"Error",description:P.message,variant:"destructive"})}}),j=()=>{if(!o)return;const P=new FormData;P.append("certificationId",o.id),c.certificateNumber&&P.append("certificateNumber",c.certificateNumber),c.expiresAt&&P.append("expiresAt",c.expiresAt),c.notes&&P.append("notes",c.notes),c.proofFile&&P.append("proofDocument",c.proofFile),y.mutate(P)},_=P=>d.find(E=>E.id===P.certificationId),N=P=>w.some(E=>E.classId===P),S=P=>{switch(P){case"ACTIVE":return s.jsxs(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"})," Active"]});case"PENDING":return s.jsxs(ue,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:[s.jsx(Gt,{className:"w-3 h-3 mr-1"})," Pending Verification"]});case"REVOKED":case"EXPIRED":return s.jsxs(ue,{className:"bg-red-500/20 text-red-700 dark:text-red-400",children:[s.jsx(Op,{className:"w-3 h-3 mr-1"})," ",P]});default:return s.jsx(ue,{variant:"secondary",children:P})}},k=b.filter(P=>P.status==="ACTIVE"),C=b.filter(P=>P.status==="PENDING");return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsx(Ln,{title:"Certifications & Training",subtitle:"Some facilities require safety certifications. View available classes or submit your existing credentials."}),s.jsx(Ba,{items:[{label:"Home",href:"/"},{label:"Certifications"}]}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:s.jsxs(aa,{value:r,onValueChange:n,className:"space-y-6",children:[s.jsxs(Ms,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[s.jsx(Bt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Bt,{value:"classes","data-testid":"tab-classes",children:"Classes"}),s.jsx(Bt,{value:"my-certs","data-testid":"tab-my-certs",children:"My Certs"})]}),s.jsxs(Vt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Available Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"These certifications may be required for certain facilities"})]}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(P=>s.jsx(ee,{children:s.jsx(te,{className:"p-6",children:s.jsx(De,{className:"h-32"})})},P))}):d.length===0?s.jsx(ee,{children:s.jsx(te,{className:"p-8 text-center text-muted-foreground",children:"No certifications available at this time."})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(P=>{const E=k.some(I=>I.certificationId===P.id),O=C.some(I=>I.certificationId===P.id);return s.jsxs(ee,{"data-testid":`card-certification-${P.id}`,className:E?"border-green-500/50":"",children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(ni,{className:"w-8 h-8 text-primary shrink-0"}),E&&s.jsx(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Certified"}),O&&s.jsx(ue,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:"Pending"})]}),s.jsx(ze,{className:"text-lg",children:P.name}),s.jsx(Et,{children:P.description})]}),s.jsxs(te,{className:"space-y-3",children:[P.validityMonths&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Valid for ",P.validityMonths," months"]})]}),P.facilityId&&s.jsx(ue,{variant:"destructive",children:"Required for facility access"})]}),s.jsx(Cx,{children:e?E?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Certified"}):O?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Verification Pending"}):s.jsxs(M,{className:"w-full",onClick:()=>{l(P),i(!0)},"data-testid":`button-submit-cert-${P.id}`,children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," Submit Certification"]}):s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to submit"})})})]},P.id)})})]}),s.jsxs(Vt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upcoming Training Classes"}),s.jsx("p",{className:"text-muted-foreground",children:"Enroll in a class to get certified at our facility"})]}),p?s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2].map(P=>s.jsx(ee,{children:s.jsx(te,{className:"p-6",children:s.jsx(De,{className:"h-40"})})},P))}):h.length===0?s.jsx(ee,{children:s.jsx(te,{className:"p-8 text-center text-muted-foreground",children:"No upcoming classes scheduled. Check back later."})}):s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:h.map(P=>{const E=_(P),O=N(P.id),I=(P.enrolledCount||0)>=(P.capacity||1/0);return s.jsxs(ee,{"data-testid":`card-class-${P.id}`,children:[s.jsxs(Fe,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsx(FE,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(ue,{variant:"secondary",children:(E==null?void 0:E.name)||"Certification"}),O&&s.jsx(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Enrolled"})]})]}),s.jsx(ze,{children:P.title}),s.jsx(Et,{children:P.description})]}),s.jsxs(te,{className:"space-y-3",children:[P.scheduledDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(wr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:Xn(new Date(P.scheduledDate),"PPP 'at' p")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(jr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[P.enrolledCount||0," / ",P.capacity||"Unlimited"," enrolled"]})]}),P.location&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",P.location]}),P.price&&Number(P.price)>0&&s.jsxs("div",{className:"text-lg font-semibold",children:["PKR ",Number(P.price).toLocaleString()]})]}),s.jsx(Cx,{children:e?O?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Enrolled"}):I?s.jsx(M,{variant:"secondary",className:"w-full",disabled:!0,children:"Class Full"}):s.jsx(M,{className:"w-full",onClick:()=>g.mutate(P.id),disabled:g.isPending,"data-testid":`button-enroll-${P.id}`,children:"Enroll Now"}):s.jsx(M,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to enroll"})})})]},P.id)})})]}),s.jsx(Vt,{value:"my-certs",className:"space-y-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"My Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your certifications and class enrollments"})]}),m||v?s.jsx("div",{className:"space-y-4",children:[1,2].map(P=>s.jsx(ee,{children:s.jsx(te,{className:"p-6",children:s.jsx(De,{className:"h-20"})})},P))}):b.length===0&&w.length===0?s.jsx(ee,{children:s.jsxs(te,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(_k,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"You don't have any certifications yet."}),s.jsx("p",{className:"mt-2",children:"Submit your existing certificates or enroll in a training class."})]})}):s.jsxs("div",{className:"space-y-6",children:[b.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Issued Certifications"}),b.map(P=>{const E=d.find(O=>O.id===P.certificationId);return s.jsx(ee,{"data-testid":`card-my-cert-${P.id}`,children:s.jsxs(te,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ni,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.name)||"Certification"}),P.certificateNumber&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",P.certificateNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S(P.status),P.expiresAt&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Expires: ",Xn(new Date(P.expiresAt),"PP")]})]})]})},P.id)})]}),w.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Class Enrollments"}),w.map(P=>{const E=h.find(O=>O.id===P.classId);return s.jsx(ee,{"data-testid":`card-enrollment-${P.id}`,children:s.jsxs(te,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FE,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(E==null?void 0:E.title)||"Training Class"}),(E==null?void 0:E.scheduledDate)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:Xn(new Date(E.scheduledDate),"PPP 'at' p")})]})]}),s.jsx(ue,{variant:"secondary",children:P.status})]})},P.id)})]})]})]}):s.jsx(ee,{children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to view your certifications"}),s.jsx(M,{asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign In"})})]})})})]})}),s.jsx(At,{open:a,onOpenChange:i,children:s.jsxs(Ct,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Submit Certification"}),s.jsxs(Fa,{children:["Upload proof of your ",o==null?void 0:o.name," certification for verification."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"certificateNumber",children:"Certificate Number (optional)"}),s.jsx(Y,{id:"certificateNumber",value:c.certificateNumber,onChange:P=>u(E=>({...E,certificateNumber:P.target.value})),placeholder:"Enter your certificate number","data-testid":"input-certificate-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"expiresAt",children:"Expiration Date (optional)"}),s.jsx(Y,{id:"expiresAt",type:"date",value:c.expiresAt,onChange:P=>u(E=>({...E,expiresAt:P.target.value})),"data-testid":"input-expires-at"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"proofFile",children:"Proof Document"}),s.jsx(Y,{id:"proofFile",type:"file",accept:"image/*,.pdf",onChange:P=>u(E=>{var O;return{...E,proofFile:((O=P.target.files)==null?void 0:O[0])||null}}),"data-testid":"input-proof-file"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image or PDF of your certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"notes",children:"Additional Notes (optional)"}),s.jsx(lt,{id:"notes",value:c.notes,onChange:P=>u(E=>({...E,notes:P.target.value})),placeholder:"Any additional information...","data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(M,{onClick:j,disabled:y.isPending,"data-testid":"button-submit-certification",children:y.isPending?"Submitting...":"Submit for Verification"})]})]})}),s.jsx(Kt,{})]})}function vce(){const[,e]=Dn();return x.useEffect(()=>{e("/roadmap")},[e]),null}function xce(){return Lr({title:"Page Not Found",description:"The page you're looking for doesn't exist or has been moved. Visit The Quarterdeck homepage to explore our sports complex."}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:s.jsx(ee,{className:"w-full max-w-lg mx-4",children:s.jsxs(te,{className:"pt-8 pb-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),s.jsx(he,{href:"/",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[s.jsx(Sk,{className:"h-4 w-4"}),"Go to Homepage"]})}),s.jsx(he,{href:"/facilities",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[s.jsx(wr,{className:"h-4 w-4"}),"View Facilities"]})}),s.jsx(he,{href:"/#membership",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[s.jsx(jr,{className:"h-4 w-4"}),"Membership Plans"]})})]}),s.jsx("div",{className:"text-center",children:s.jsxs(M,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[s.jsx(_n,{className:"h-4 w-4"}),"Go Back"]})})]})})}),s.jsx(Kt,{})]})}const yce=Cp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qp=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:be(yce({variant:t}),e),...r}));Qp.displayName="Alert";const bce=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",e),...t}));bce.displayName="AlertTitle";const Yp=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",e),...t}));Yp.displayName="AlertDescription";function mU(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function wce(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function jce(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function Nce(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function _ce(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function pU(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function Sce(e){return eo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const kce=[{id:"twitter",name:"X",icon:pU},{id:"github",name:"GitHub",icon:wce},{id:"facebook",name:"Facebook",icon:mU}];function gU({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=bf(),{toast:n}=ht(),[a,i]=x.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:kce.map(c=>{const u=c.icon,d=a===c.id;return s.jsxs(M,{type:"button",variant:"outline",className:"gap-2",disabled:a!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var Cce=({as:e="div",...t},r)=>s.jsx(e,{...t,ref:r}),Pce=x.forwardRef(Cce),Ece="https://challenges.cloudflare.com/turnstile/v0/api.js",LC="cf-turnstile-script",Ace="cf-turnstile",FC="onloadTurnstileCallback",vU=e=>!!document.getElementById(e),Oce=({render:e="explicit",onLoadCallbackName:t=FC,scriptOptions:{nonce:r="",defer:n=!0,async:a=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||LC;if(vU(u))return;let d=document.createElement("script");d.id=u,d.src=`${Ece}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!a,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},jl={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function Tce(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function Ice(e=LC){let[t,r]=x.useState(!1);return x.useEffect(()=>{let n=()=>{vU(e)&&r(!0)},a=new MutationObserver(n);return a.observe(document,{childList:!0,subtree:!0}),n(),()=>{a.disconnect()}},[e]),t}var Vh="unloaded",xU,Rce=new Promise((e,t)=>{xU={resolve:e,reject:t},Vh==="ready"&&e(void 0)}),Mce=(e=FC)=>(Vh==="unloaded"&&(Vh="loading",window[e]=()=>{xU.resolve(),Vh="ready",delete window[e]}),Rce),UC=x.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:a,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:p,id:b,style:m,as:w="div",injectScript:v=!0,rerenderOnCallbackChange:g=!1,...y}=e,j=n.size,_=x.useCallback(()=>typeof j>"u"?{}:n.execution==="execute"?jl.invisible:n.appearance==="interaction-only"?jl.interactionOnly:jl[j],[n.execution,j,n.appearance]),[N,S]=x.useState(_()),k=x.useRef(null),[C,P]=x.useState(!1),E=x.useRef(void 0),O=x.useRef(!1),I=b||Ace,T=x.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});x.useEffect(()=>{g||(T.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let $=(r==null?void 0:r.id)||LC,V=Ice($),K=(r==null?void 0:r.onLoadCallbackName)||FC,A=n.appearance||"always",R=x.useMemo(()=>({sitekey:a,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:Tce(j),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:J=>{var F,X;O.current=!0,g?o==null||o(J):(X=(F=T.current).onSuccess)==null||X.call(F,J)},"error-callback":g?c:(...J)=>{var F,X;return(X=(F=T.current).onError)==null?void 0:X.call(F,...J)},"expired-callback":g?l:(...J)=>{var F,X;return(X=(F=T.current).onExpire)==null?void 0:X.call(F,...J)},"before-interactive-callback":g?u:(...J)=>{var F,X;return(X=(F=T.current).onBeforeInteractive)==null?void 0:X.call(F,...J)},"after-interactive-callback":g?d:(...J)=>{var F,X;return(X=(F=T.current).onAfterInteractive)==null?void 0:X.call(F,...J)},"unsupported-callback":g?f:(...J)=>{var F,X;return(X=(F=T.current).onUnsupported)==null?void 0:X.call(F,...J)},"timeout-callback":g?h:(...J)=>{var F,X;return(X=(F=T.current).onTimeout)==null?void 0:X.call(F,...J)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,a,j,g,g?o:null,g?c:null,g?l:null,g?u:null,g?d:null,g?f:null,g?h:null]),Q=x.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return x.useEffect(function(){v&&!C&&Oce({onLoadCallbackName:K,scriptOptions:{...r,id:$}})},[v,C,r,$]),x.useEffect(function(){Vh!=="ready"&&Mce(K).then(()=>P(!0)).catch(console.error)},[]),x.useEffect(function(){if(!k.current||!C)return;let J=!1;return(async()=>{if(J||!k.current)return;let F=window.turnstile.render(k.current,R);E.current=F,E.current&&(i==null||i(E.current))})(),()=>{J=!0,E.current&&(window.turnstile.remove(E.current),O.current=!1)}},[I,C,R]),x.useImperativeHandle(t,()=>{let{turnstile:J}=window;return{getResponse(){if(!(J!=null&&J.getResponse)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}return J.getResponse(E.current)},async getResponsePromise(F=3e4,X=100){return new Promise((H,ie)=>{let ve,ne=async()=>{if(O.current&&window.turnstile&&E.current)try{let we=window.turnstile.getResponse(E.current);return ve&&clearTimeout(ve),we?H(we):ie(new Error("No response received"))}catch(we){return ve&&clearTimeout(ve),console.warn("Failed to get response",we),ie(new Error("Failed to get response"))}ve||(ve=setTimeout(()=>{ve&&clearTimeout(ve),ie(new Error("Timeout"))},F)),await new Promise(we=>setTimeout(we,X)),await ne()};ne()})},reset(){if(!(J!=null&&J.reset)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&S(jl.invisible);try{O.current=!1,J.reset(E.current)}catch(F){console.warn(`Failed to reset Turnstile widget ${E}`,F)}},remove(){if(!(J!=null&&J.remove)||!E.current||!Q()){console.warn("Turnstile has not been loaded");return}S(jl.invisible),O.current=!1,J.remove(E.current),E.current=null},render(){if(!(J!=null&&J.render)||!k.current||!Q()||E.current){console.warn("Turnstile has not been loaded or container not found");return}let F=J.render(k.current,R);return E.current=F,E.current&&(i==null||i(E.current)),n.execution!=="execute"&&S(j?jl[j]:{}),F},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(J!=null&&J.execute)||!k.current||!E.current||!Q()){console.warn("Turnstile has not been loaded or container not found");return}J.execute(k.current,R),S(j?jl[j]:{})},isExpired(){return!(J!=null&&J.isExpired)||!E.current||!Q()?(console.warn("Turnstile has not been loaded"),!1):J.isExpired(E.current)}}},[E,n.execution,j,R,k,Q,C,i]),x.useEffect(()=>{V&&!C&&window.turnstile&&P(!0)},[C,V]),x.useEffect(()=>{S(_())},[n.execution,j,A]),x.useEffect(()=>{!V||typeof p!="function"||p()},[V]),s.jsx(Pce,{ref:k,as:w,id:I,style:{...N,...m},...y})});UC.displayName="Turnstile";const $ce=ua({email:vt().email("Please enter a valid email address"),password:vt().min(1,"Password is required")});function Dce(){const[,e]=Dn(),{toast:t}=ht(),{signIn:r,isSupabaseConfigured:n,isLoading:a}=bf(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{fetch("/api/public-config").then(w=>w.json()).then(w=>{w.turnstileSiteKey&&h(w.turnstileSiteKey)}).catch(()=>{})},[]);const b=$s({resolver:Ds($ce),defaultValues:{email:"",password:""}}),m=async w=>{var v;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(f&&!u){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}c(!0);try{const{error:g,requiresEmailVerification:y}=await r(w.email,w.password);g?(t(y?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:g.message||"Invalid email or password",variant:"destructive"}),(v=p.current)==null||v.reset(),d(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ee,{className:"w-full max-w-md",children:s.jsx(te,{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(he,{href:"/",children:s.jsxs(M,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[s.jsx(_n,{className:"w-4 h-4"}),"Back"]})}),s.jsx(he,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),s.jsx("div",{className:"w-16"})]}),s.jsx(ze,{className:"text-2xl font-bold",children:"Welcome Back"}),s.jsx(Et,{children:"Sign in to your Quarterdeck account"})]}),s.jsxs(te,{children:[s.jsx(Fs,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(m),className:"space-y-4",children:[s.jsx(tt,{control:b.control,name:"email",render:({field:w})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...w})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:b.control,name:"password",render:({field:w})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...w}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Rs,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(he,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),f&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(UC,{ref:p,siteKey:f,options:{theme:"dark"},onSuccess:w=>d(w),onError:()=>d(null),onExpire:()=>d(null)})}),s.jsx(M,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(gU,{mode:"signin"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),s.jsx(he,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsx(Fe,{className:"text-center",children:s.jsx(ze,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(te,{children:[s.jsxs(Qp,{variant:"destructive",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx(Yp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(he,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}var t0="Checkbox",[Lce]=Pn(t0),[Fce,BC]=Lce(t0);function Uce(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=hs({prop:r,defaultProp:a??!1,onChange:c,caller:t0}),[b,m]=x.useState(null),[w,v]=x.useState(null),g=x.useRef(!1),y=b?!!o||!!b.closest("form"):!0,j={checked:h,disabled:i,setChecked:p,control:b,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:zo(a)?!1:a,isFormControl:y,bubbleInput:w,setBubbleInput:v};return s.jsx(Fce,{scope:t,...j,children:Bce(f)?f(j):n})}var yU="CheckboxTrigger",bU=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:b}=BC(yU,e),m=dt(a,d),w=x.useRef(c);return x.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const g=()=>f(w.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[i,f]),s.jsx($e.button,{type:"button",role:"checkbox","aria-checked":zo(c)?"mixed":c,"aria-required":u,"data-state":SU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:Ne(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Ne(r,v=>{f(g=>zo(g)?!0:!g),b&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});bU.displayName=yU;var VC=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(Uce,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(bU,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(_U,{__scopeCheckbox:r})]})})});VC.displayName=t0;var wU="CheckboxIndicator",jU=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=BC(wU,r);return s.jsx(cn,{present:n||zo(i.checked)||i.checked===!0,children:s.jsx($e.span,{"data-state":SU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});jU.displayName=wU;var NU="CheckboxBubbleInput",_U=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=BC(NU,e),b=dt(r,p),m=$C(i),w=Rk(n);x.useEffect(()=>{const g=h;if(!g)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,N=!a.current;if(m!==i&&_){const S=new Event("click",{bubbles:N});g.indeterminate=zo(i),_.call(g,zo(i)?!1:i),g.dispatchEvent(S)}},[h,m,i,a]);const v=x.useRef(zo(i)?!1:i);return s.jsx($e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_U.displayName=NU;function Bce(e){return typeof e=="function"}function zo(e){return e==="indeterminate"}function SU(e){return zo(e)?"indeterminate":e?"checked":"unchecked"}const kU=x.forwardRef(({className:e,...t},r)=>s.jsx(VC,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(jU,{className:be("flex items-center justify-center text-current"),children:s.jsx(kr,{className:"h-4 w-4"})})}));kU.displayName=VC.displayName;const Vce=ua({email:vt().email("Please enter a valid email address"),password:vt().min(8,"Password must be at least 8 characters"),confirmPassword:vt(),firstName:vt().min(1,"First name is required"),lastName:vt().min(1,"Last name is required"),phone:vt().optional(),termsAccepted:wC().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function qce(){const[,e]=Dn(),{toast:t}=ht(),{signUp:r,isSupabaseConfigured:n,isLoading:a}=bf(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,b]=x.useState(null),m=x.useRef(null);x.useEffect(()=>{fetch("/api/public-config").then(g=>g.json()).then(g=>{g.turnstileSiteKey&&b(g.turnstileSiteKey)}).catch(()=>{})},[]);const w=$s({resolver:Ds(Vce),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),v=async g=>{var y;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(p&&!f){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}d(!0);try{const{error:j}=await r(g.email,g.password,{firstName:g.firstName,lastName:g.lastName});j?(t({title:"Signup failed",description:j.message||"Failed to create account",variant:"destructive"}),(y=m.current)==null||y.reset(),h(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ee,{className:"w-full max-w-md",children:s.jsx(te,{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(he,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Create Account"}),s.jsx(Et,{children:"Join The Quarterdeck community"})]}),s.jsxs(te,{children:[s.jsx(Fs,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(v),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(tt,{control:w.control,name:"firstName",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"First Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"John","data-testid":"input-first-name",...g})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:w.control,name:"lastName",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Last Name"}),s.jsx(et,{children:s.jsx(Y,{placeholder:"Doe","data-testid":"input-last-name",...g})}),s.jsx(nt,{})]})})]}),s.jsx(tt,{control:w.control,name:"email",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...g})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:w.control,name:"phone",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Phone (Optional)"}),s.jsx(et,{children:s.jsx(Y,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...g})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:w.control,name:"password",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Rs,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:w.control,name:"confirmPassword",render:({field:g})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Confirm Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...g}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Rs,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:w.control,name:"termsAccepted",render:({field:g})=>s.jsxs(Xe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(et,{children:s.jsx(kU,{checked:g.value,onCheckedChange:g.onChange,"data-testid":"checkbox-terms"})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(Ze,{className:"text-sm font-normal",children:["I agree to the"," ",s.jsx(he,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",s.jsx(he,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),s.jsx(nt,{})]})]})}),p&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(UC,{ref:m,siteKey:p,options:{theme:"dark"},onSuccess:g=>h(g),onError:()=>h(null),onExpire:()=>h(null)})}),s.jsx(M,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-signup",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(gU,{mode:"signup"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(he,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsx(Fe,{className:"text-center",children:s.jsx(ze,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(te,{children:[s.jsxs(Qp,{variant:"destructive",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx(Yp,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(he,{href:"/",children:s.jsx(M,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const zce=ua({email:vt().email("Please enter a valid email address")});function Wce(){const{toast:e}=ht(),{resetPassword:t,isSupabaseConfigured:r}=bf(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),l=$s({resolver:Ds(zce),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):a(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(Et,{children:"If an account exists with that email, we've sent password reset instructions."})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 60 minutes."}),s.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{onClick:()=>a(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),s.jsx(he,{href:"/login",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[s.jsx(_n,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(mf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Forgot Password?"}),s.jsx(Et,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs(te,{children:[s.jsx(Fs,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(tt,{control:l.control,name:"email",render:({field:u})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Email"}),s.jsx(et,{children:s.jsx(Y,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),s.jsx(nt,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(he,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[s.jsx(_n,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsx(Fe,{className:"text-center",children:s.jsx(ze,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(te,{children:[s.jsxs(Qp,{variant:"destructive",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx(Yp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(he,{href:"/login",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const Kce=ua({password:vt().min(8,"Password must be at least 8 characters"),confirmPassword:vt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Hce(){Dn();const{toast:e}=ht(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:a}=bf(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[p,b]=x.useState(!0),m=$s({resolver:Ds(Kce),defaultValues:{password:"",confirmPassword:""}});x.useEffect(()=>{if(!a){const v=setTimeout(()=>{b(!1)},1e3);return()=>clearTimeout(v)}},[a]);const w=async v=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:g}=await t(v.password);g?e({title:"Reset failed",description:g.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ee,{className:"w-full max-w-md",children:s.jsxs(te,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[s.jsx(Re,{className:"h-8 w-8 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Password Reset!"}),s.jsx(Et,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsx(te,{children:s.jsx(he,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(he,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx(Et,{children:"Enter your new password below"})]}),s.jsx(te,{children:s.jsx(Fs,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(w),className:"space-y-4",children:[s.jsx(tt,{control:m.control,name:"password",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"New Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...v}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Rs,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:m.control,name:"confirmPassword",render:({field:v})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Confirm New Password"}),s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Y,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...v}),s.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(Vi,{className:"h-4 w-4"}):s.jsx(Rs,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(M,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Kn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Session Expired"}),s.jsx(Et,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(he,{href:"/forgot-password",children:s.jsx(M,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),s.jsx(he,{href:"/login",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsx(Fe,{className:"text-center",children:s.jsx(ze,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(te,{children:[s.jsxs(Qp,{variant:"destructive",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx(Yp,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(he,{href:"/login",children:s.jsx(M,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function Gce(){const[,e]=Dn(),{isAuthenticated:t,isLoading:r}=bf(),[n,a]=x.useState("checking");return x.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(a("verified"),setTimeout(()=>{e("/")},2e3)):a("pending"))})()},[t,r,e]),n==="checking"||r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ee,{className:"w-full max-w-md",children:s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Re,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Verifying Email"}),s.jsx(Et,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(Et,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),s.jsx(te,{children:s.jsx(he,{href:"/",children:s.jsx(M,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!eL()?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Kn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Verification Failed"}),s.jsx(Et,{children:"This verification link is invalid or has expired."})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(he,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(mf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(Et,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 24 hours."}),s.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),s.jsx(he,{href:"/login",children:s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function Qce(){const[,e]=Dn(),[t,r]=x.useState("loading"),[n,a]=x.useState("");return x.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),a("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ee,{className:"w-full max-w-md",children:s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Re,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Processing"}),s.jsx(Et,{children:"Please wait while we complete your request..."})]})})}):t==="success"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(ee,{className:"w-full max-w-md",children:s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(xn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Success!"}),s.jsx(Et,{children:n})]})})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ee,{className:"w-full max-w-md",children:[s.jsxs(Fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Kn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(ze,{className:"text-2xl font-bold",children:"Something Went Wrong"}),s.jsx(Et,{children:n})]}),s.jsx(te,{className:"space-y-4",children:s.jsx(he,{href:"/login",children:s.jsx(M,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var YO=1,Yce=.9,Xce=.8,Jce=.17,aj=.1,ij=.999,Zce=.9999,eue=.99,tue=/[\\\/_+.#"@\[\(\{&]/,rue=/[\\\/_+.#"@\[\(\{&]/g,nue=/[\s-]/,CU=/[\s-]/g;function VN(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?YO:eue;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,p,b;u>=0;)f=VN(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=YO:tue.test(e.charAt(u-1))?(f*=Xce,p=e.slice(a,u-1).match(rue),p&&a>0&&(f*=Math.pow(ij,p.length))):nue.test(e.charAt(u-1))?(f*=Yce,b=e.slice(a,u-1).match(CU),b&&a>0&&(f*=Math.pow(ij,b.length))):(f*=Jce,a>0&&(f*=Math.pow(ij,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=Zce)),(f<aj&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=VN(e,t,r,n,u+1,i+2,o),h*aj>f&&(f=h*aj)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function XO(e){return e.toLowerCase().replace(CU," ")}function sue(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,VN(e,t,XO(e),XO(t),0,0,{})}var rh='[cmdk-group=""]',oj='[cmdk-group-items=""]',aue='[cmdk-group-heading=""]',PU='[cmdk-item=""]',JO=`${PU}:not([aria-disabled="true"])`,qN="cmdk-item-select",bu="data-value",iue=(e,t,r)=>sue(e,t,r),EU=x.createContext(void 0),Xp=()=>x.useContext(EU),AU=x.createContext(void 0),qC=()=>x.useContext(AU),OU=x.createContext(void 0),TU=x.forwardRef((e,t)=>{let r=wu(()=>{var F,X;return{search:"",value:(X=(F=e.value)!=null?F:e.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=wu(()=>new Set),a=wu(()=>new Map),i=wu(()=>new Map),o=wu(()=>new Set),l=IU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:b,disablePointerSelection:m=!1,vimBindings:w=!0,...v}=e,g=Gr(),y=Gr(),j=Gr(),_=x.useRef(null),N=vue();Nc(()=>{if(d!==void 0){let F=d.trim();r.current.value=F,S.emit()}},[d]),Nc(()=>{N(6,I)},[]);let S=x.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>r.current,setState:(F,X,H)=>{var ie,ve,ne,we;if(!Object.is(r.current[F],X)){if(r.current[F]=X,F==="search")O(),P(),N(1,E);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let oe=document.getElementById(j);oe?oe.focus():(ie=document.getElementById(g))==null||ie.focus()}if(N(7,()=>{var oe;r.current.selectedItemId=(oe=T())==null?void 0:oe.id,S.emit()}),H||N(5,I),((ve=l.current)==null?void 0:ve.value)!==void 0){let oe=X??"";(we=(ne=l.current).onValueChange)==null||we.call(ne,oe);return}}S.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),k=x.useMemo(()=>({value:(F,X,H)=>{var ie;X!==((ie=i.current.get(F))==null?void 0:ie.value)&&(i.current.set(F,{value:X,keywords:H}),r.current.filtered.items.set(F,C(X,H)),N(2,()=>{P(),S.emit()}))},item:(F,X)=>(n.current.add(F),X&&(a.current.has(X)?a.current.get(X).add(F):a.current.set(X,new Set([F]))),N(3,()=>{O(),P(),r.current.value||E(),S.emit()}),()=>{i.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let H=T();N(4,()=>{O(),(H==null?void 0:H.getAttribute("id"))===F&&E(),S.emit()})}),group:F=>(a.current.has(F)||a.current.set(F,new Set),()=>{i.current.delete(F),a.current.delete(F)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:g,inputId:j,labelId:y,listInnerRef:_}),[]);function C(F,X){var H,ie;let ve=(ie=(H=l.current)==null?void 0:H.filter)!=null?ie:iue;return F?ve(F,r.current.search,X):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let F=r.current.filtered.items,X=[];r.current.filtered.groups.forEach(ie=>{let ve=a.current.get(ie),ne=0;ve.forEach(we=>{let oe=F.get(we);ne=Math.max(oe,ne)}),X.push([ie,ne])});let H=_.current;$().sort((ie,ve)=>{var ne,we;let oe=ie.getAttribute("id"),L=ve.getAttribute("id");return((ne=F.get(L))!=null?ne:0)-((we=F.get(oe))!=null?we:0)}).forEach(ie=>{let ve=ie.closest(oj);ve?ve.appendChild(ie.parentElement===ve?ie:ie.closest(`${oj} > *`)):H.appendChild(ie.parentElement===H?ie:ie.closest(`${oj} > *`))}),X.sort((ie,ve)=>ve[1]-ie[1]).forEach(ie=>{var ve;let ne=(ve=_.current)==null?void 0:ve.querySelector(`${rh}[${bu}="${encodeURIComponent(ie[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function E(){let F=$().find(H=>H.getAttribute("aria-disabled")!=="true"),X=F==null?void 0:F.getAttribute(bu);S.setState("value",X||void 0)}function O(){var F,X,H,ie;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ve=0;for(let ne of n.current){let we=(X=(F=i.current.get(ne))==null?void 0:F.value)!=null?X:"",oe=(ie=(H=i.current.get(ne))==null?void 0:H.keywords)!=null?ie:[],L=C(we,oe);r.current.filtered.items.set(ne,L),L>0&&ve++}for(let[ne,we]of a.current)for(let oe of we)if(r.current.filtered.items.get(oe)>0){r.current.filtered.groups.add(ne);break}r.current.filtered.count=ve}function I(){var F,X,H;let ie=T();ie&&(((F=ie.parentElement)==null?void 0:F.firstChild)===ie&&((H=(X=ie.closest(rh))==null?void 0:X.querySelector(aue))==null||H.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function T(){var F;return(F=_.current)==null?void 0:F.querySelector(`${PU}[aria-selected="true"]`)}function $(){var F;return Array.from(((F=_.current)==null?void 0:F.querySelectorAll(JO))||[])}function V(F){let X=$()[F];X&&S.setState("value",X.getAttribute(bu))}function K(F){var X;let H=T(),ie=$(),ve=ie.findIndex(we=>we===H),ne=ie[ve+F];(X=l.current)!=null&&X.loop&&(ne=ve+F<0?ie[ie.length-1]:ve+F===ie.length?ie[0]:ie[ve+F]),ne&&S.setState("value",ne.getAttribute(bu))}function A(F){let X=T(),H=X==null?void 0:X.closest(rh),ie;for(;H&&!ie;)H=F>0?pue(H,rh):gue(H,rh),ie=H==null?void 0:H.querySelector(JO);ie?S.setState("value",ie.getAttribute(bu)):K(F)}let R=()=>V($().length-1),Q=F=>{F.preventDefault(),F.metaKey?R():F.altKey?A(1):K(1)},J=F=>{F.preventDefault(),F.metaKey?V(0):F.altKey?A(-1):K(-1)};return x.createElement($e.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:F=>{var X;(X=v.onKeyDown)==null||X.call(v,F);let H=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||H))switch(F.key){case"n":case"j":{w&&F.ctrlKey&&Q(F);break}case"ArrowDown":{Q(F);break}case"p":case"k":{w&&F.ctrlKey&&J(F);break}case"ArrowUp":{J(F);break}case"Home":{F.preventDefault(),V(0);break}case"End":{F.preventDefault(),R();break}case"Enter":{F.preventDefault();let ie=T();if(ie){let ve=new Event(qN);ie.dispatchEvent(ve)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:yue},c),r0(e,F=>x.createElement(AU.Provider,{value:S},x.createElement(EU.Provider,{value:k},F))))}),oue=x.forwardRef((e,t)=>{var r,n;let a=Gr(),i=x.useRef(null),o=x.useContext(OU),l=Xp(),c=IU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Nc(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=RU(a,i,[e.value,e.children,i],e.keywords),f=qC(),h=rl(N=>N.value&&N.value===d.current),p=rl(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);x.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(qN,b),()=>N.removeEventListener(qN,b)},[p,e.onSelect,e.disabled]);function b(){var N,S;m(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:w,value:v,onSelect:g,forceMount:y,keywords:j,..._}=e;return x.createElement($e.div,{ref:Jn(i,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||l.getDisablePointerSelection()?void 0:m,onClick:w?void 0:b},e.children)}),lue=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Gr(),l=x.useRef(null),c=x.useRef(null),u=Gr(),d=Xp(),f=rl(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Nc(()=>d.group(o),[]),RU(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement($e.div,{ref:Jn(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),r0(e,p=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(OU.Provider,{value:h},p))))}),cue=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),i=rl(o=>!o.search);return!r&&!i?null:x.createElement($e.div,{ref:Jn(a,t),...n,"cmdk-separator":"",role:"separator"})}),uue=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=qC(),o=rl(u=>u.search),l=rl(u=>u.selectedItemId),c=Xp();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement($e.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),due=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=x.useRef(null),o=x.useRef(null),l=rl(u=>u.selectedItemId),c=Xp();return x.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement($e.div,{ref:Jn(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},r0(e,u=>x.createElement("div",{ref:Jn(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),fue=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return x.createElement(SC,{open:r,onOpenChange:n},x.createElement(kC,{container:o},x.createElement(Kb,{"cmdk-overlay":"",className:a}),x.createElement(Hb,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(TU,{ref:t,...l}))))}),hue=x.forwardRef((e,t)=>rl(r=>r.filtered.count===0)?x.createElement($e.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),mue=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return x.createElement($e.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},r0(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),ps=Object.assign(TU,{List:due,Item:oue,Input:uue,Group:lue,Separator:cue,Dialog:fue,Empty:hue,Loading:mue});function pue(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function gue(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function IU(e){let t=x.useRef(e);return Nc(()=>{t.current=e}),t}var Nc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function wu(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function rl(e){let t=qC(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function RU(e,t,r,n=[]){let a=x.useRef(),i=Xp();return Nc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(bu,l),a.current=l}),a}var vue=()=>{let[e,t]=x.useState(),r=wu(()=>new Map);return Nc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function xue(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function r0({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(xue(t),{ref:t.ref},r(t.props.children)):r(t)}var yue={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const MU=x.forwardRef(({className:e,...t},r)=>s.jsx(ps,{ref:r,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));MU.displayName=ps.displayName;const bue=({children:e,...t})=>s.jsx(At,{...t,children:s.jsx(Ct,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(MU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),$U=x.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ap,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ps.Input,{ref:r,className:be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));$U.displayName=ps.Input.displayName;const DU=x.forwardRef(({className:e,...t},r)=>s.jsx(ps.List,{ref:r,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));DU.displayName=ps.List.displayName;const LU=x.forwardRef((e,t)=>s.jsx(ps.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));LU.displayName=ps.Empty.displayName;const _h=x.forwardRef(({className:e,...t},r)=>s.jsx(ps.Group,{ref:r,className:be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));_h.displayName=ps.Group.displayName;const wue=x.forwardRef(({className:e,...t},r)=>s.jsx(ps.Separator,{ref:r,className:be("-mx-1 h-px bg-border",e),...t}));wue.displayName=ps.Separator.displayName;const Sh=x.forwardRef(({className:e,...t},r)=>s.jsx(ps.Item,{ref:r,className:be("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Sh.displayName=ps.Item.displayName;const jue=3e4,ZO=["mousemove","keydown","click","scroll","touchstart"],Nue=5e3;function _ue(){const[,e]=Dn(),{toast:t}=ht(),[r,n]=x.useState(null),a=x.useRef(Date.now()),i=x.useRef(null),o=x.useRef(!1),l=x.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=x.useCallback(async()=>{try{const f=await(await xe("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=x.useCallback(()=>{const d=Date.now();d-a.current>Nue&&(a.current=d,c())},[c]);return x.useEffect(()=>(c(),i.current=setInterval(c,jue),ZO.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),ZO.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),x.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}const eT={USER:0,EDITOR:1,ADMIN:2,SUPER_ADMIN:3};function tT(e,t){return eT[e]>=eT[t]}function Sue(e){return[{path:e,label:"Dashboard",icon:rG,minRole:"EDITOR"},{path:`${e}/bookings`,label:"Bookings",icon:Nd,minRole:"EDITOR"},{path:`${e}/members`,label:"Members",icon:jr,minRole:"EDITOR"},{path:`${e}/membership-applications`,label:"Membership Applications",icon:XH,minRole:"EDITOR"},{path:`${e}/certifications`,label:"Certifications",icon:ni,minRole:"EDITOR"},{path:`${e}/user-management`,label:"User Roles",icon:_d,minRole:"SUPER_ADMIN"},{path:`${e}/branding`,label:"Branding & Nav",icon:dG,minRole:"ADMIN"},{path:`${e}/homepage`,label:"Site Content",icon:Sk,minRole:"ADMIN"},{path:`${e}/coming-soon`,label:"Coming Soon",icon:Gt,minRole:"ADMIN"},{path:`${e}/venues`,label:"Venues & Locations",icon:ms,minRole:"ADMIN"},{path:`${e}/facilities`,label:"Facilities",icon:vn,minRole:"ADMIN"},{path:`${e}/comparison-features`,label:"Comparison Features",icon:L5,minRole:"ADMIN"},{path:`${e}/member-benefits`,label:"Member Benefits",icon:cb,minRole:"ADMIN"},{path:`${e}/blogs`,label:"Blog / News",icon:ZH,minRole:"ADMIN"},{path:`${e}/testimonials`,label:"Testimonials",icon:aG,minRole:"ADMIN"},{path:`${e}/roadmap`,label:"Construction Status",icon:$5,minRole:"ADMIN"},{path:`${e}/events`,label:"Events & Academies",icon:wr,minRole:"ADMIN"},{path:`${e}/pricing`,label:"Pricing Tiers",icon:X1,minRole:"ADMIN"},{path:`${e}/announcements`,label:"Announcements",icon:jd,minRole:"ADMIN"},{path:`${e}/careers`,label:"Careers",icon:hm,minRole:"ADMIN"},{path:`${e}/rules`,label:"Rules & Safety",icon:As,minRole:"ADMIN"},{path:`${e}/faq`,label:"FAQ",icon:Zs,minRole:"ADMIN"},{path:`${e}/policies`,label:"Privacy & Terms",icon:_d,minRole:"ADMIN"},{path:`${e}/gallery`,label:"Gallery",icon:Ta,minRole:"ADMIN"},{path:`${e}/site-images`,label:"Site Images",icon:Ta,minRole:"ADMIN"},{path:`${e}/hero-sections`,label:"Hero Sections",icon:Ta,minRole:"ADMIN"},{path:`${e}/ctas`,label:"CTAs",icon:lG,minRole:"ADMIN"},{path:`${e}/site-settings`,label:"Site Settings",icon:pm,minRole:"ADMIN"}]}function rt({children:e,title:t}){var j,_;const[r,n]=Dn(),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{adminPath:c}=Mp();_ue();const u=`/${c}`,d=x.useMemo(()=>Sue(u),[u]),{data:f,isLoading:h}=de({queryKey:["/api/auth/user"]}),{data:p}=de({queryKey:["/api/admin/users"]}),{data:b}=de({queryKey:["/api/admin/bookings"]}),{data:m}=de({queryKey:["/api/admin/facilities"]});x.useEffect(()=>{const N=S=>{S.key==="k"&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),l(k=>!k))};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[]);const w=x.useCallback(N=>{l(!1),n(N)},[n]);if(h)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const v=f==null?void 0:f.role,g=v&&tT(v,"EDITOR");if(!f||!g)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need staff privileges to access this page."}),s.jsx(he,{href:"/",children:s.jsxs(M,{children:[s.jsx(_n,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})});const y=d.filter(N=>tT(v,N.minRole));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(M,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!a),"data-testid":"button-mobile-menu",children:a?s.jsx(Qo,{className:"h-5 w-5"}):s.jsx(F5,{className:"h-5 w-5"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),s.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs(he,{href:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),s.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:y.map(N=>{const S=N.icon,k=r===N.path||N.path!=="/admin"&&r.startsWith(N.path);return s.jsx(he,{href:N.path,children:s.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${k?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(S,{className:"w-4 h-4"}),N.label]})},N.path)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(he,{href:"/",children:s.jsxs(M,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[s.jsx(_n,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),s.jsxs("main",{className:"lg:ml-64",children:[s.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(M,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[s.jsx(Ap,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),s.jsx("span",{className:"inline sm:hidden",children:"Search..."}),s.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?s.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(j=f.firstName)==null?void 0:j[0],(_=f.lastName)==null?void 0:_[0]]})})]})]})}),s.jsxs(bue,{open:o,onOpenChange:l,children:[s.jsx($U,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),s.jsxs(DU,{children:[s.jsx(LU,{children:"No results found."}),s.jsx(_h,{heading:"Navigation",children:y.map(N=>s.jsxs(Sh,{value:N.label,onSelect:()=>w(N.path),"data-testid":`search-nav-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(N.icon,{className:"mr-2 h-4 w-4"}),N.label]},N.path))}),m&&m.length>0&&s.jsx(_h,{heading:"Facilities",children:m.slice(0,5).map(N=>s.jsxs(Sh,{value:`facility ${N.name} ${N.slug}`,onSelect:()=>w("/admin/facilities"),"data-testid":`search-facility-${N.id}`,children:[s.jsx(vn,{className:"mr-2 h-4 w-4"}),N.name]},N.id))}),p&&p.length>0&&s.jsx(_h,{heading:"Users",children:p.slice(0,5).map(N=>s.jsxs(Sh,{value:`user ${N.firstName} ${N.lastName} ${N.email}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-user-${N.id}`,children:[s.jsx(jr,{className:"mr-2 h-4 w-4"}),N.firstName," ",N.lastName," - ",N.email]},N.id))}),b&&b.length>0&&s.jsx(_h,{heading:"Recent Bookings",children:b.slice(0,5).map(N=>{const S=m==null?void 0:m.find(k=>k.id===N.facilityId);return s.jsxs(Sh,{value:`booking ${N.id} ${S==null?void 0:S.name} ${N.date}`,onSelect:()=>w("/admin/bookings"),"data-testid":`search-booking-${N.id}`,children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),S==null?void 0:S.name," - ",N.date," at ",N.startTime]},N.id)})})]})]}),s.jsx("div",{className:"p-6",children:e})]})]})}const Ur=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",e),...t})}));Ur.displayName="Table";const Br=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:be("[&_tr]:border-b",e),...t}));Br.displayName="TableHeader";const Vr=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",e),...t}));Vr.displayName="TableBody";const kue=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kue.displayName="TableFooter";const st=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));st.displayName="TableRow";const fe=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));fe.displayName="TableHead";const le=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));le.displayName="TableCell";const Cue=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",e),...t}));Cue.displayName="TableCaption";var Pue=Array.isArray,gs=Pue,Eue=typeof fg=="object"&&fg&&fg.Object===Object&&fg,FU=Eue,Aue=FU,Oue=typeof self=="object"&&self&&self.Object===Object&&self,Tue=Aue||Oue||Function("return this")(),fi=Tue,Iue=fi,Rue=Iue.Symbol,Jp=Rue,rT=Jp,UU=Object.prototype,Mue=UU.hasOwnProperty,$ue=UU.toString,nh=rT?rT.toStringTag:void 0;function Due(e){var t=Mue.call(e,nh),r=e[nh];try{e[nh]=void 0;var n=!0}catch{}var a=$ue.call(e);return n&&(t?e[nh]=r:delete e[nh]),a}var Lue=Due,Fue=Object.prototype,Uue=Fue.toString;function Bue(e){return Uue.call(e)}var Vue=Bue,nT=Jp,que=Lue,zue=Vue,Wue="[object Null]",Kue="[object Undefined]",sT=nT?nT.toStringTag:void 0;function Hue(e){return e==null?e===void 0?Kue:Wue:sT&&sT in Object(e)?que(e):zue(e)}var to=Hue;function Gue(e){return e!=null&&typeof e=="object"}var ro=Gue,Que=to,Yue=ro,Xue="[object Symbol]";function Jue(e){return typeof e=="symbol"||Yue(e)&&Que(e)==Xue}var Sf=Jue,Zue=gs,ede=Sf,tde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rde=/^\w*$/;function nde(e,t){if(Zue(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ede(e)?!0:rde.test(e)||!tde.test(e)||t!=null&&e in Object(t)}var zC=nde;function sde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ul=sde;const kf=Qt(ul);var ade=to,ide=ul,ode="[object AsyncFunction]",lde="[object Function]",cde="[object GeneratorFunction]",ude="[object Proxy]";function dde(e){if(!ide(e))return!1;var t=ade(e);return t==lde||t==cde||t==ode||t==ude}var WC=dde;const ft=Qt(WC);var fde=fi,hde=fde["__core-js_shared__"],mde=hde,lj=mde,aT=function(){var e=/[^.]+$/.exec(lj&&lj.keys&&lj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pde(e){return!!aT&&aT in e}var gde=pde,vde=Function.prototype,xde=vde.toString;function yde(e){if(e!=null){try{return xde.call(e)}catch{}try{return e+""}catch{}}return""}var BU=yde,bde=WC,wde=gde,jde=ul,Nde=BU,_de=/[\\^$.*+?()[\]{}|]/g,Sde=/^\[object .+?Constructor\]$/,kde=Function.prototype,Cde=Object.prototype,Pde=kde.toString,Ede=Cde.hasOwnProperty,Ade=RegExp("^"+Pde.call(Ede).replace(_de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ode(e){if(!jde(e)||wde(e))return!1;var t=bde(e)?Ade:Sde;return t.test(Nde(e))}var Tde=Ode;function Ide(e,t){return e==null?void 0:e[t]}var Rde=Ide,Mde=Tde,$de=Rde;function Dde(e,t){var r=$de(e,t);return Mde(r)?r:void 0}var $c=Dde,Lde=$c,Fde=Lde(Object,"create"),n0=Fde,iT=n0;function Ude(){this.__data__=iT?iT(null):{},this.size=0}var Bde=Ude;function Vde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qde=Vde,zde=n0,Wde="__lodash_hash_undefined__",Kde=Object.prototype,Hde=Kde.hasOwnProperty;function Gde(e){var t=this.__data__;if(zde){var r=t[e];return r===Wde?void 0:r}return Hde.call(t,e)?t[e]:void 0}var Qde=Gde,Yde=n0,Xde=Object.prototype,Jde=Xde.hasOwnProperty;function Zde(e){var t=this.__data__;return Yde?t[e]!==void 0:Jde.call(t,e)}var efe=Zde,tfe=n0,rfe="__lodash_hash_undefined__";function nfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tfe&&t===void 0?rfe:t,this}var sfe=nfe,afe=Bde,ife=qde,ofe=Qde,lfe=efe,cfe=sfe;function Cf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cf.prototype.clear=afe;Cf.prototype.delete=ife;Cf.prototype.get=ofe;Cf.prototype.has=lfe;Cf.prototype.set=cfe;var ufe=Cf;function dfe(){this.__data__=[],this.size=0}var ffe=dfe;function hfe(e,t){return e===t||e!==e&&t!==t}var KC=hfe,mfe=KC;function pfe(e,t){for(var r=e.length;r--;)if(mfe(e[r][0],t))return r;return-1}var s0=pfe,gfe=s0,vfe=Array.prototype,xfe=vfe.splice;function yfe(e){var t=this.__data__,r=gfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xfe.call(t,r,1),--this.size,!0}var bfe=yfe,wfe=s0;function jfe(e){var t=this.__data__,r=wfe(t,e);return r<0?void 0:t[r][1]}var Nfe=jfe,_fe=s0;function Sfe(e){return _fe(this.__data__,e)>-1}var kfe=Sfe,Cfe=s0;function Pfe(e,t){var r=this.__data__,n=Cfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Efe=Pfe,Afe=ffe,Ofe=bfe,Tfe=Nfe,Ife=kfe,Rfe=Efe;function Pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pf.prototype.clear=Afe;Pf.prototype.delete=Ofe;Pf.prototype.get=Tfe;Pf.prototype.has=Ife;Pf.prototype.set=Rfe;var a0=Pf,Mfe=$c,$fe=fi,Dfe=Mfe($fe,"Map"),HC=Dfe,oT=ufe,Lfe=a0,Ffe=HC;function Ufe(){this.size=0,this.__data__={hash:new oT,map:new(Ffe||Lfe),string:new oT}}var Bfe=Ufe;function Vfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qfe=Vfe,zfe=qfe;function Wfe(e,t){var r=e.__data__;return zfe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var i0=Wfe,Kfe=i0;function Hfe(e){var t=Kfe(this,e).delete(e);return this.size-=t?1:0,t}var Gfe=Hfe,Qfe=i0;function Yfe(e){return Qfe(this,e).get(e)}var Xfe=Yfe,Jfe=i0;function Zfe(e){return Jfe(this,e).has(e)}var ehe=Zfe,the=i0;function rhe(e,t){var r=the(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nhe=rhe,she=Bfe,ahe=Gfe,ihe=Xfe,ohe=ehe,lhe=nhe;function Ef(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ef.prototype.clear=she;Ef.prototype.delete=ahe;Ef.prototype.get=ihe;Ef.prototype.has=ohe;Ef.prototype.set=lhe;var GC=Ef,VU=GC,che="Expected a function";function QC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(che);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(QC.Cache||VU),r}QC.Cache=VU;var qU=QC;const uhe=Qt(qU);var dhe=qU,fhe=500;function hhe(e){var t=dhe(e,function(n){return r.size===fhe&&r.clear(),n}),r=t.cache;return t}var mhe=hhe,phe=mhe,ghe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vhe=/\\(\\)?/g,xhe=phe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ghe,function(r,n,a,i){t.push(a?i.replace(vhe,"$1"):n||r)}),t}),yhe=xhe;function bhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var YC=bhe,lT=Jp,whe=YC,jhe=gs,Nhe=Sf,cT=lT?lT.prototype:void 0,uT=cT?cT.toString:void 0;function zU(e){if(typeof e=="string")return e;if(jhe(e))return whe(e,zU)+"";if(Nhe(e))return uT?uT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _he=zU,She=_he;function khe(e){return e==null?"":She(e)}var WU=khe,Che=gs,Phe=zC,Ehe=yhe,Ahe=WU;function Ohe(e,t){return Che(e)?e:Phe(e,t)?[e]:Ehe(Ahe(e))}var KU=Ohe,The=Sf;function Ihe(e){if(typeof e=="string"||The(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var o0=Ihe,Rhe=KU,Mhe=o0;function $he(e,t){t=Rhe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Mhe(t[r++])];return r&&r==n?e:void 0}var XC=$he,Dhe=XC;function Lhe(e,t,r){var n=e==null?void 0:Dhe(e,t);return n===void 0?r:n}var HU=Lhe;const Ts=Qt(HU);function Fhe(e){return e==null}var Uhe=Fhe;const kt=Qt(Uhe);var Bhe=to,Vhe=gs,qhe=ro,zhe="[object String]";function Whe(e){return typeof e=="string"||!Vhe(e)&&qhe(e)&&Bhe(e)==zhe}var Khe=Whe;const _c=Qt(Khe);var GU={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),Hhe=Symbol.for("react.server_context"),h0=Symbol.for("react.forward_ref"),m0=Symbol.for("react.suspense"),p0=Symbol.for("react.suspense_list"),g0=Symbol.for("react.memo"),v0=Symbol.for("react.lazy"),Ghe=Symbol.for("react.offscreen"),QU;QU=Symbol.for("react.module.reference");function da(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JC:switch(e=e.type,e){case l0:case u0:case c0:case m0:case p0:return e;default:switch(e=e&&e.$$typeof,e){case Hhe:case f0:case h0:case v0:case g0:case d0:return e;default:return t}}case ZC:return t}}}nr.ContextConsumer=f0;nr.ContextProvider=d0;nr.Element=JC;nr.ForwardRef=h0;nr.Fragment=l0;nr.Lazy=v0;nr.Memo=g0;nr.Portal=ZC;nr.Profiler=u0;nr.StrictMode=c0;nr.Suspense=m0;nr.SuspenseList=p0;nr.isAsyncMode=function(){return!1};nr.isConcurrentMode=function(){return!1};nr.isContextConsumer=function(e){return da(e)===f0};nr.isContextProvider=function(e){return da(e)===d0};nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JC};nr.isForwardRef=function(e){return da(e)===h0};nr.isFragment=function(e){return da(e)===l0};nr.isLazy=function(e){return da(e)===v0};nr.isMemo=function(e){return da(e)===g0};nr.isPortal=function(e){return da(e)===ZC};nr.isProfiler=function(e){return da(e)===u0};nr.isStrictMode=function(e){return da(e)===c0};nr.isSuspense=function(e){return da(e)===m0};nr.isSuspenseList=function(e){return da(e)===p0};nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===l0||e===u0||e===c0||e===m0||e===p0||e===Ghe||typeof e=="object"&&e!==null&&(e.$$typeof===v0||e.$$typeof===g0||e.$$typeof===d0||e.$$typeof===f0||e.$$typeof===h0||e.$$typeof===QU||e.getModuleId!==void 0)};nr.typeOf=da;GU.exports=nr;var Qhe=GU.exports,Yhe=to,Xhe=ro,Jhe="[object Number]";function Zhe(e){return typeof e=="number"||Xhe(e)&&Yhe(e)==Jhe}var YU=Zhe;const eme=Qt(YU);var tme=YU;function rme(e){return tme(e)&&e!=+e}var nme=rme;const Zp=Qt(nme);var Hn=function(t){return t===0?0:t>0?1:-1},Vl=function(t){return _c(t)&&t.indexOf("%")===t.length-1},Ce=function(t){return eme(t)&&!Zp(t)},sme=function(t){return kt(t)},ln=function(t){return Ce(t)||_c(t)},ame=0,eg=function(t){var r=++ame;return"".concat(t||"").concat(r)},Gn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&!_c(t))return n;var i;if(Vl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Zp(i)&&(i=n),a&&i>r&&(i=r),i},wo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ime=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},go=function(t,r){return Ce(t)&&Ce(r)?function(n){return t+n*(r-t)}:function(){return r}};function zN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ts(n,t))===r})}var ome=function(t,r){return Ce(t)&&Ce(r)?t-r:_c(t)&&_c(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ju(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WN(e){"@babel/helpers - typeof";return WN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WN(e)}var lme=["viewBox","children"],cme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dT=["points","pathLength"],cj={svg:lme,polygon:dT,polyline:dT},e2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ux=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!kf(n))return null;var a={};return Object.keys(n).forEach(function(i){e2.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},ume=function(t,r,n){return function(a){return t(r,n,a),null}},Sc=function(t,r,n){if(!kf(t)||WN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];e2.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=ume(o,r,n))}),a},dme=["children"],fme=["children"];function fT(e,t){if(e==null)return{};var r=hme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},mT=null,uj=null,t2=function e(t){if(t===mT&&Array.isArray(uj))return uj;var r=[];return x.Children.forEach(t,function(n){kt(n)||(Qhe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),uj=r,mT=t,r};function ta(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Mi(a)}):n=[Mi(t)],t2(e).forEach(function(a){var i=Ts(a,"type.displayName")||Ts(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function bs(e,t){var r=ta(e,t);return r&&r[0]}var pT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ce(n)||n<=0||!Ce(a)||a<=0)},mme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pme=function(t){return t&&t.type&&_c(t.type)&&mme.indexOf(t.type)>=0},gme=function(t,r,n,a){var i,o=(i=cj==null?void 0:cj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ft(t)&&(a&&o.includes(r)||cme.includes(r))||n&&e2.includes(r)},ut=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!kf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;gme((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},KN=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!gT(i,o))return!1}return!0},gT=function(t,r){if(kt(t)&&kt(r))return!0;if(!kt(t)&&!kt(r)){var n=t.props||{},a=n.children,i=fT(n,dme),o=r.props||{},l=o.children,c=fT(o,fme);return a&&l?Ju(i,c)&&KN(a,l):!a&&!l?Ju(i,c):!1}return!1},vT=function(t,r){var n=[],a={};return t2(t).forEach(function(i,o){if(pme(i))n.push(i);else if(i){var l=Mi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},vme=function(t){var r=t&&t.type;return r&&hT[r]?hT[r]:null},xme=function(t,r){return t2(r).indexOf(t)},yme=["children","width","height","viewBox","className","style","title","desc"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(this,arguments)}function bme(e,t){if(e==null)return{};var r=wme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=bme(e,yme),d=a||{width:r,height:n,x:0,y:0},f=xt("recharts-surface",i);return D.createElement("svg",HN({},ut(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),t)}var jme=["children","className"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(this,arguments)}function Nme(e,t){if(e==null)return{};var r=_me(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _me(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jt=D.forwardRef(function(e,t){var r=e.children,n=e.className,a=Nme(e,jme),i=xt("recharts-layer",n);return D.createElement("g",QN({className:i},ut(a,!0),{ref:t}),r)}),Ra=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Sme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var kme=Sme,Cme=kme;function Pme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Cme(e,t,r)}var Eme=Pme,Ame="\\ud800-\\udfff",Ome="\\u0300-\\u036f",Tme="\\ufe20-\\ufe2f",Ime="\\u20d0-\\u20ff",Rme=Ome+Tme+Ime,Mme="\\ufe0e\\ufe0f",$me="\\u200d",Dme=RegExp("["+$me+Ame+Rme+Mme+"]");function Lme(e){return Dme.test(e)}var XU=Lme;function Fme(e){return e.split("")}var Ume=Fme,JU="\\ud800-\\udfff",Bme="\\u0300-\\u036f",Vme="\\ufe20-\\ufe2f",qme="\\u20d0-\\u20ff",zme=Bme+Vme+qme,Wme="\\ufe0e\\ufe0f",Kme="["+JU+"]",YN="["+zme+"]",XN="\\ud83c[\\udffb-\\udfff]",Hme="(?:"+YN+"|"+XN+")",ZU="[^"+JU+"]",eB="(?:\\ud83c[\\udde6-\\uddff]){2}",tB="[\\ud800-\\udbff][\\udc00-\\udfff]",Gme="\\u200d",rB=Hme+"?",nB="["+Wme+"]?",Qme="(?:"+Gme+"(?:"+[ZU,eB,tB].join("|")+")"+nB+rB+")*",Yme=nB+rB+Qme,Xme="(?:"+[ZU+YN+"?",YN,eB,tB,Kme].join("|")+")",Jme=RegExp(XN+"(?="+XN+")|"+Xme+Yme,"g");function Zme(e){return e.match(Jme)||[]}var epe=Zme,tpe=Ume,rpe=XU,npe=epe;function spe(e){return rpe(e)?npe(e):tpe(e)}var ape=spe,ipe=Eme,ope=XU,lpe=ape,cpe=WU;function upe(e){return function(t){t=cpe(t);var r=ope(t)?lpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?ipe(r,1).join(""):t.slice(1);return n[e]()+a}}var dpe=upe,fpe=dpe,hpe=fpe("toUpperCase"),mpe=hpe;const x0=Qt(mpe);function dr(e){return function(){return e}}const sB=Math.cos,Bx=Math.sin,qa=Math.sqrt,Vx=Math.PI,y0=2*Vx,JN=Math.PI,ZN=2*JN,Al=1e-6,ppe=ZN-Al;function aB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aB;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class vpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aB:gpe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Al)if(!(Math.abs(f*c-u*d)>Al)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,b=a-l,m=c*c+u*u,w=p*p+b*b,v=Math.sqrt(m),g=Math.sqrt(h),y=i*Math.tan((JN-Math.acos((m+h-w)/(2*v*g)))/2),j=y/g,_=y/v;Math.abs(j-1)>Al&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*b)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Al||Math.abs(this._y1-d)>Al)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ZN+ZN),h>ppe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Al&&this._append`A${n},${n},0,${+(h>=JN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function r2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vpe(t)}function n2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iB(e){this._context=e}iB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function b0(e){return new iB(e)}function oB(e){return e[0]}function lB(e){return e[1]}function cB(e,t){var r=dr(!0),n=null,a=b0,i=null,o=r2(l);e=typeof e=="function"?e:e===void 0?oB:dr(e),t=typeof t=="function"?t:t===void 0?lB:dr(t);function l(c){var u,d=(c=n2(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Qg(e,t,r){var n=null,a=dr(!0),i=null,o=b0,l=null,c=r2(u);e=typeof e=="function"?e:e===void 0?oB:dr(+e),t=typeof t=="function"?t:dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?lB:dr(+r);function u(f){var h,p,b,m=(f=n2(f)).length,w,v=!1,g,y=new Array(m),j=new Array(m);for(i==null&&(l=o(g=c())),h=0;h<=m;++h){if(!(h<m&&a(w=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=p;--b)l.point(y[b],j[b]);l.lineEnd(),l.areaEnd()}v&&(y[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):y[h],r?+r(w,h,f):j[h]))}if(g)return l=null,g+""||null}function d(){return cB().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:dr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:dr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:dr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:dr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:dr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class uB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xpe(e){return new uB(e,!0)}function ype(e){return new uB(e,!1)}const s2={draw(e,t){const r=qa(t/Vx);e.moveTo(r,0),e.arc(0,0,r,0,y0)}},bpe={draw(e,t){const r=qa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dB=qa(1/3),wpe=dB*2,jpe={draw(e,t){const r=qa(t/wpe),n=r*dB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Npe={draw(e,t){const r=qa(t),n=-r/2;e.rect(n,n,r,r)}},_pe=.8908130915292852,fB=Bx(Vx/10)/Bx(7*Vx/10),Spe=Bx(y0/10)*fB,kpe=-sB(y0/10)*fB,Cpe={draw(e,t){const r=qa(t*_pe),n=Spe*r,a=kpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=y0*i/5,l=sB(o),c=Bx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},dj=qa(3),Ppe={draw(e,t){const r=-qa(t/(dj*3));e.moveTo(0,r*2),e.lineTo(-dj*r,-r),e.lineTo(dj*r,-r),e.closePath()}},Vs=-.5,qs=qa(3)/2,e_=1/qa(12),Epe=(e_/2+1)*3,Ape={draw(e,t){const r=qa(t/Epe),n=r/2,a=r*e_,i=n,o=r*e_+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Vs*n-qs*a,qs*n+Vs*a),e.lineTo(Vs*i-qs*o,qs*i+Vs*o),e.lineTo(Vs*l-qs*c,qs*l+Vs*c),e.lineTo(Vs*n+qs*a,Vs*a-qs*n),e.lineTo(Vs*i+qs*o,Vs*o-qs*i),e.lineTo(Vs*l+qs*c,Vs*c-qs*l),e.closePath()}};function Ope(e,t){let r=null,n=r2(a);e=typeof e=="function"?e:dr(e||s2),t=typeof t=="function"?t:dr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function qx(){}function zx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function hB(e){this._context=e}hB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tpe(e){return new hB(e)}function mB(e){this._context=e}mB.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ipe(e){return new mB(e)}function pB(e){this._context=e}pB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rpe(e){return new pB(e)}function gB(e){this._context=e}gB.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Mpe(e){return new gB(e)}function xT(e){return e<0?-1:1}function yT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(xT(i)+xT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function bT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Wx(e){this._context=e}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fj(this,this._t0,bT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fj(this,bT(this,r=yT(this,e,t)),r);break;default:fj(this,this._t0,r=yT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function vB(e){this._context=new xB(e)}(vB.prototype=Object.create(Wx.prototype)).point=function(e,t){Wx.prototype.point.call(this,t,e)};function xB(e){this._context=e}xB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $pe(e){return new Wx(e)}function Dpe(e){return new vB(e)}function yB(e){this._context=e}yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wT(e),a=wT(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Lpe(e){return new yB(e)}function w0(e,t){this._context=e,this._t=t}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fpe(e){return new w0(e,.5)}function Upe(e){return new w0(e,0)}function Bpe(e){return new w0(e,1)}function Dd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function t_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vpe(e,t){return e[t]}function qpe(e){const t=[];return t.key=e,t}function zpe(){var e=dr([]),t=t_,r=Dd,n=Vpe;function a(i){var o=Array.from(e.apply(this,arguments),qpe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=n2(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?t_:typeof i=="function"?i:dr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Dd,a):r},a}function Wpe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Dd(e,t)}}function Kpe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dd(e,t)}}function Hpe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,b=0;b<l;++b){var m=e[t[b]],w=m[n][1]||0,v=m[n-1][1]||0;p+=w-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Dd(e,t)}}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}var Gpe=["type","size","sizeType"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qpe(e,t,r){return t=Ype(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ype(e){var t=Xpe(e,"string");return Rm(t)=="symbol"?t:t+""}function Xpe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jpe(e,t){if(e==null)return{};var r=Zpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bB={symbolCircle:s2,symbolCross:bpe,symbolDiamond:jpe,symbolSquare:Npe,symbolStar:Cpe,symbolTriangle:Ppe,symbolWye:Ape},ege=Math.PI/180,tge=function(t){var r="symbol".concat(x0(t));return bB[r]||s2},rge=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ege;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nge=function(t,r){bB["symbol".concat(x0(t))]=r},a2=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Jpe(t,Gpe),u=NT(NT({},c),{},{type:n,size:i,sizeType:l}),d=function(){var w=tge(n),v=Ope().type(w).size(rge(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,b=ut(u,!0);return h===+h&&p===+p&&i===+i?D.createElement("path",r_({},b,{className:xt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};a2.registerSymbol=nge;function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){Mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function age(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ige(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jB(n.key),n)}}function oge(e,t,r){return t&&ige(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lge(e,t,r){return t=Kx(t),cge(e,wB()?Reflect.construct(t,r||[],Kx(e).constructor):t.apply(e,r))}function cge(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uge(e)}function uge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wB=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(e)}function dge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s_(e,t)}function Mm(e,t,r){return t=jB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=fge(e,"string");return Ld(t)=="symbol"?t:t+""}function fge(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zs=32,i2=function(e){function t(){return age(this,t),lge(this,t,arguments)}return dge(t,e),oge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=zs/2,o=zs/6,l=zs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:zs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(zs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(zs/8,"h").concat(zs,"v").concat(zs*3/4,"h").concat(-zs,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=sge({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(a2,{fill:c,cx:i,cy:i,size:zs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:zs,height:zs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,b){var m=p.formatter||c,w=xt(Mm(Mm({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=ft(p.value)?null:p.value;Ra(!ft(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return D.createElement("li",n_({className:w,style:f,key:"legend-item-".concat(b)},Sc(n.props,p,b)),D.createElement(GN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(v,p,b):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Mm(i2,"displayName","Legend");Mm(i2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hge=a0;function mge(){this.__data__=new hge,this.size=0}var pge=mge;function gge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var vge=gge;function xge(e){return this.__data__.get(e)}var yge=xge;function bge(e){return this.__data__.has(e)}var wge=bge,jge=a0,Nge=HC,_ge=GC,Sge=200;function kge(e,t){var r=this.__data__;if(r instanceof jge){var n=r.__data__;if(!Nge||n.length<Sge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _ge(n)}return r.set(e,t),this.size=r.size,this}var Cge=kge,Pge=a0,Ege=pge,Age=vge,Oge=yge,Tge=wge,Ige=Cge;function Af(e){var t=this.__data__=new Pge(e);this.size=t.size}Af.prototype.clear=Ege;Af.prototype.delete=Age;Af.prototype.get=Oge;Af.prototype.has=Tge;Af.prototype.set=Ige;var NB=Af,Rge="__lodash_hash_undefined__";function Mge(e){return this.__data__.set(e,Rge),this}var $ge=Mge;function Dge(e){return this.__data__.has(e)}var Lge=Dge,Fge=GC,Uge=$ge,Bge=Lge;function Hx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Fge;++t<r;)this.add(e[t])}Hx.prototype.add=Hx.prototype.push=Uge;Hx.prototype.has=Bge;var _B=Hx;function Vge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var SB=Vge;function qge(e,t){return e.has(t)}var kB=qge,zge=_B,Wge=SB,Kge=kB,Hge=1,Gge=2;function Qge(e,t,r,n,a,i){var o=r&Hge,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Gge?new zge:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var b=e[f],m=t[f];if(n)var w=o?n(m,b,f,t,e,i):n(b,m,f,e,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Wge(t,function(v,g){if(!Kge(p,g)&&(b===v||a(b,v,r,n,i)))return p.push(g)})){h=!1;break}}else if(!(b===m||a(b,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var CB=Qge,Yge=fi,Xge=Yge.Uint8Array,Jge=Xge;function Zge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var eve=Zge;function tve(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var o2=tve,ST=Jp,kT=Jge,rve=KC,nve=CB,sve=eve,ave=o2,ive=1,ove=2,lve="[object Boolean]",cve="[object Date]",uve="[object Error]",dve="[object Map]",fve="[object Number]",hve="[object RegExp]",mve="[object Set]",pve="[object String]",gve="[object Symbol]",vve="[object ArrayBuffer]",xve="[object DataView]",CT=ST?ST.prototype:void 0,hj=CT?CT.valueOf:void 0;function yve(e,t,r,n,a,i,o){switch(r){case xve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vve:return!(e.byteLength!=t.byteLength||!i(new kT(e),new kT(t)));case lve:case cve:case fve:return rve(+e,+t);case uve:return e.name==t.name&&e.message==t.message;case hve:case pve:return e==t+"";case dve:var l=sve;case mve:var c=n&ive;if(l||(l=ave),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=ove,o.set(e,t);var d=nve(l(e),l(t),n,a,i,o);return o.delete(e),d;case gve:if(hj)return hj.call(e)==hj.call(t)}return!1}var bve=yve;function wve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var PB=wve,jve=PB,Nve=gs;function _ve(e,t,r){var n=t(e);return Nve(e)?n:jve(n,r(e))}var Sve=_ve;function kve(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Cve=kve;function Pve(){return[]}var Eve=Pve,Ave=Cve,Ove=Eve,Tve=Object.prototype,Ive=Tve.propertyIsEnumerable,PT=Object.getOwnPropertySymbols,Rve=PT?function(e){return e==null?[]:(e=Object(e),Ave(PT(e),function(t){return Ive.call(e,t)}))}:Ove,Mve=Rve;function $ve(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Dve=$ve,Lve=to,Fve=ro,Uve="[object Arguments]";function Bve(e){return Fve(e)&&Lve(e)==Uve}var Vve=Bve,ET=Vve,qve=ro,EB=Object.prototype,zve=EB.hasOwnProperty,Wve=EB.propertyIsEnumerable,Kve=ET(function(){return arguments}())?ET:function(e){return qve(e)&&zve.call(e,"callee")&&!Wve.call(e,"callee")},l2=Kve,Gx={exports:{}};function Hve(){return!1}var Gve=Hve;Gx.exports;(function(e,t){var r=fi,n=Gve,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Gx,Gx.exports);var AB=Gx.exports,Qve=9007199254740991,Yve=/^(?:0|[1-9]\d*)$/;function Xve(e,t){var r=typeof e;return t=t??Qve,!!t&&(r=="number"||r!="symbol"&&Yve.test(e))&&e>-1&&e%1==0&&e<t}var c2=Xve,Jve=9007199254740991;function Zve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jve}var u2=Zve,exe=to,txe=u2,rxe=ro,nxe="[object Arguments]",sxe="[object Array]",axe="[object Boolean]",ixe="[object Date]",oxe="[object Error]",lxe="[object Function]",cxe="[object Map]",uxe="[object Number]",dxe="[object Object]",fxe="[object RegExp]",hxe="[object Set]",mxe="[object String]",pxe="[object WeakMap]",gxe="[object ArrayBuffer]",vxe="[object DataView]",xxe="[object Float32Array]",yxe="[object Float64Array]",bxe="[object Int8Array]",wxe="[object Int16Array]",jxe="[object Int32Array]",Nxe="[object Uint8Array]",_xe="[object Uint8ClampedArray]",Sxe="[object Uint16Array]",kxe="[object Uint32Array]",gr={};gr[xxe]=gr[yxe]=gr[bxe]=gr[wxe]=gr[jxe]=gr[Nxe]=gr[_xe]=gr[Sxe]=gr[kxe]=!0;gr[nxe]=gr[sxe]=gr[gxe]=gr[axe]=gr[vxe]=gr[ixe]=gr[oxe]=gr[lxe]=gr[cxe]=gr[uxe]=gr[dxe]=gr[fxe]=gr[hxe]=gr[mxe]=gr[pxe]=!1;function Cxe(e){return rxe(e)&&txe(e.length)&&!!gr[exe(e)]}var Pxe=Cxe;function Exe(e){return function(t){return e(t)}}var OB=Exe,Qx={exports:{}};Qx.exports;(function(e,t){var r=FU,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Qx,Qx.exports);var Axe=Qx.exports,Oxe=Pxe,Txe=OB,AT=Axe,OT=AT&&AT.isTypedArray,Ixe=OT?Txe(OT):Oxe,TB=Ixe,Rxe=Dve,Mxe=l2,$xe=gs,Dxe=AB,Lxe=c2,Fxe=TB,Uxe=Object.prototype,Bxe=Uxe.hasOwnProperty;function Vxe(e,t){var r=$xe(e),n=!r&&Mxe(e),a=!r&&!n&&Dxe(e),i=!r&&!n&&!a&&Fxe(e),o=r||n||a||i,l=o?Rxe(e.length,String):[],c=l.length;for(var u in e)(t||Bxe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Lxe(u,c)))&&l.push(u);return l}var qxe=Vxe,zxe=Object.prototype;function Wxe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||zxe;return e===r}var Kxe=Wxe;function Hxe(e,t){return function(r){return e(t(r))}}var IB=Hxe,Gxe=IB,Qxe=Gxe(Object.keys,Object),Yxe=Qxe,Xxe=Kxe,Jxe=Yxe,Zxe=Object.prototype,eye=Zxe.hasOwnProperty;function tye(e){if(!Xxe(e))return Jxe(e);var t=[];for(var r in Object(e))eye.call(e,r)&&r!="constructor"&&t.push(r);return t}var rye=tye,nye=WC,sye=u2;function aye(e){return e!=null&&sye(e.length)&&!nye(e)}var tg=aye,iye=qxe,oye=rye,lye=tg;function cye(e){return lye(e)?iye(e):oye(e)}var j0=cye,uye=Sve,dye=Mve,fye=j0;function hye(e){return uye(e,fye,dye)}var mye=hye,TT=mye,pye=1,gye=Object.prototype,vye=gye.hasOwnProperty;function xye(e,t,r,n,a,i){var o=r&pye,l=TT(e),c=l.length,u=TT(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:vye.call(t,h)))return!1}var p=i.get(e),b=i.get(t);if(p&&b)return p==t&&b==e;var m=!0;i.set(e,t),i.set(t,e);for(var w=o;++f<c;){h=l[f];var v=e[h],g=t[h];if(n)var y=o?n(g,v,h,t,e,i):n(v,g,h,e,t,i);if(!(y===void 0?v===g||a(v,g,r,n,i):y)){m=!1;break}w||(w=h=="constructor")}if(m&&!w){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var yye=xye,bye=$c,wye=fi,jye=bye(wye,"DataView"),Nye=jye,_ye=$c,Sye=fi,kye=_ye(Sye,"Promise"),Cye=kye,Pye=$c,Eye=fi,Aye=Pye(Eye,"Set"),RB=Aye,Oye=$c,Tye=fi,Iye=Oye(Tye,"WeakMap"),Rye=Iye,a_=Nye,i_=HC,o_=Cye,l_=RB,c_=Rye,MB=to,Of=BU,IT="[object Map]",Mye="[object Object]",RT="[object Promise]",MT="[object Set]",$T="[object WeakMap]",DT="[object DataView]",$ye=Of(a_),Dye=Of(i_),Lye=Of(o_),Fye=Of(l_),Uye=Of(c_),Ol=MB;(a_&&Ol(new a_(new ArrayBuffer(1)))!=DT||i_&&Ol(new i_)!=IT||o_&&Ol(o_.resolve())!=RT||l_&&Ol(new l_)!=MT||c_&&Ol(new c_)!=$T)&&(Ol=function(e){var t=MB(e),r=t==Mye?e.constructor:void 0,n=r?Of(r):"";if(n)switch(n){case $ye:return DT;case Dye:return IT;case Lye:return RT;case Fye:return MT;case Uye:return $T}return t});var Bye=Ol,mj=NB,Vye=CB,qye=bve,zye=yye,LT=Bye,FT=gs,UT=AB,Wye=TB,Kye=1,BT="[object Arguments]",VT="[object Array]",Yg="[object Object]",Hye=Object.prototype,qT=Hye.hasOwnProperty;function Gye(e,t,r,n,a,i){var o=FT(e),l=FT(t),c=o?VT:LT(e),u=l?VT:LT(t);c=c==BT?Yg:c,u=u==BT?Yg:u;var d=c==Yg,f=u==Yg,h=c==u;if(h&&UT(e)){if(!UT(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new mj),o||Wye(e)?Vye(e,t,r,n,a,i):qye(e,t,c,r,n,a,i);if(!(r&Kye)){var p=d&&qT.call(e,"__wrapped__"),b=f&&qT.call(t,"__wrapped__");if(p||b){var m=p?e.value():e,w=b?t.value():t;return i||(i=new mj),a(m,w,r,n,i)}}return h?(i||(i=new mj),zye(e,t,r,n,a,i)):!1}var Qye=Gye,Yye=Qye,zT=ro;function $B(e,t,r,n,a){return e===t?!0:e==null||t==null||!zT(e)&&!zT(t)?e!==e&&t!==t:Yye(e,t,r,n,$B,a)}var d2=$B,Xye=NB,Jye=d2,Zye=1,ebe=2;function tbe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Xye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Jye(d,u,Zye|ebe,n,f):h))return!1}}return!0}var rbe=tbe,nbe=ul;function sbe(e){return e===e&&!nbe(e)}var DB=sbe,abe=DB,ibe=j0;function obe(e){for(var t=ibe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,abe(a)]}return t}var lbe=obe;function cbe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var LB=cbe,ube=rbe,dbe=lbe,fbe=LB;function hbe(e){var t=dbe(e);return t.length==1&&t[0][2]?fbe(t[0][0],t[0][1]):function(r){return r===e||ube(r,e,t)}}var mbe=hbe;function pbe(e,t){return e!=null&&t in Object(e)}var gbe=pbe,vbe=KU,xbe=l2,ybe=gs,bbe=c2,wbe=u2,jbe=o0;function Nbe(e,t,r){t=vbe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=jbe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&wbe(a)&&bbe(o,a)&&(ybe(e)||xbe(e)))}var _be=Nbe,Sbe=gbe,kbe=_be;function Cbe(e,t){return e!=null&&kbe(e,t,Sbe)}var Pbe=Cbe,Ebe=d2,Abe=HU,Obe=Pbe,Tbe=zC,Ibe=DB,Rbe=LB,Mbe=o0,$be=1,Dbe=2;function Lbe(e,t){return Tbe(e)&&Ibe(t)?Rbe(Mbe(e),t):function(r){var n=Abe(r,e);return n===void 0&&n===t?Obe(r,e):Ebe(t,n,$be|Dbe)}}var Fbe=Lbe;function Ube(e){return e}var Tf=Ube;function Bbe(e){return function(t){return t==null?void 0:t[e]}}var Vbe=Bbe,qbe=XC;function zbe(e){return function(t){return qbe(t,e)}}var Wbe=zbe,Kbe=Vbe,Hbe=Wbe,Gbe=zC,Qbe=o0;function Ybe(e){return Gbe(e)?Kbe(Qbe(e)):Hbe(e)}var Xbe=Ybe,Jbe=mbe,Zbe=Fbe,e0e=Tf,t0e=gs,r0e=Xbe;function n0e(e){return typeof e=="function"?e:e==null?e0e:typeof e=="object"?t0e(e)?Zbe(e[0],e[1]):Jbe(e):r0e(e)}var hi=n0e;function s0e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var FB=s0e;function a0e(e){return e!==e}var i0e=a0e;function o0e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var l0e=o0e,c0e=FB,u0e=i0e,d0e=l0e;function f0e(e,t,r){return t===t?d0e(e,t,r):c0e(e,u0e,r)}var h0e=f0e,m0e=h0e;function p0e(e,t){var r=e==null?0:e.length;return!!r&&m0e(e,t,0)>-1}var g0e=p0e;function v0e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var x0e=v0e;function y0e(){}var b0e=y0e,pj=RB,w0e=b0e,j0e=o2,N0e=1/0,_0e=pj&&1/j0e(new pj([,-0]))[1]==N0e?function(e){return new pj(e)}:w0e,S0e=_0e,k0e=_B,C0e=g0e,P0e=x0e,E0e=kB,A0e=S0e,O0e=o2,T0e=200;function I0e(e,t,r){var n=-1,a=C0e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=P0e;else if(i>=T0e){var u=t?null:A0e(e);if(u)return O0e(u);o=!1,a=E0e,c=new k0e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var R0e=I0e,M0e=hi,$0e=R0e;function D0e(e,t){return e&&e.length?$0e(e,M0e(t)):[]}var L0e=D0e;const WT=Qt(L0e);function UB(e,t,r){return t===!0?WT(e,r):ft(t)?WT(e,t):e}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}var F0e=["ref"];function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){N0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function B0e(e,t,r){return t&&HT(e.prototype,t),r&&HT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V0e(e,t,r){return t=Yx(t),q0e(e,BB()?Reflect.construct(t,r||[],Yx(e).constructor):t.apply(e,r))}function q0e(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z0e(e)}function z0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(e)}function W0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u_(e,t)}function N0(e,t,r){return t=VB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=K0e(e,"string");return Fd(t)=="symbol"?t:t+""}function K0e(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function H0e(e,t){if(e==null)return{};var r=G0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q0e(e){return e.value}function Y0e(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=H0e(t,F0e);return D.createElement(i2,r)}var GT=1,nc=function(e){function t(){var r;U0e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V0e(this,t,[].concat(a)),N0(r,"lastBoundingBox",{width:-1,height:-1}),r}return W0e(t,e),B0e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>GT||Math.abs(a.height-this.lastBoundingBox.height)>GT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return vi(vi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=vi(vi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Y0e(i,vi(vi({},this.props),{},{payload:UB(d,u,Q0e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=vi(vi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ce(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);N0(nc,"displayName","Legend");N0(nc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QT=Jp,X0e=l2,J0e=gs,YT=QT?QT.isConcatSpreadable:void 0;function Z0e(e){return J0e(e)||X0e(e)||!!(YT&&e&&e[YT])}var ewe=Z0e,twe=PB,rwe=ewe;function qB(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=rwe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?qB(l,t-1,r,n,a):twe(a,l):n||(a[a.length]=l)}return a}var zB=qB;function nwe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var swe=nwe,awe=swe,iwe=awe(),owe=iwe,lwe=owe,cwe=j0;function uwe(e,t){return e&&lwe(e,t,cwe)}var WB=uwe,dwe=tg;function fwe(e,t){return function(r,n){if(r==null)return r;if(!dwe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var hwe=fwe,mwe=WB,pwe=hwe,gwe=pwe(mwe),f2=gwe,vwe=f2,xwe=tg;function ywe(e,t){var r=-1,n=xwe(e)?Array(e.length):[];return vwe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var KB=ywe;function bwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wwe=bwe,XT=Sf;function jwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=XT(e),o=t!==void 0,l=t===null,c=t===t,u=XT(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Nwe=jwe,_we=Nwe;function Swe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=_we(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kwe=Swe,gj=YC,Cwe=XC,Pwe=hi,Ewe=KB,Awe=wwe,Owe=OB,Twe=kwe,Iwe=Tf,Rwe=gs;function Mwe(e,t,r){t.length?t=gj(t,function(i){return Rwe(i)?function(o){return Cwe(o,i.length===1?i[0]:i)}:i}):t=[Iwe];var n=-1;t=gj(t,Owe(Pwe));var a=Ewe(e,function(i,o,l){var c=gj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Awe(a,function(i,o){return Twe(i,o,r)})}var $we=Mwe;function Dwe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Lwe=Dwe,Fwe=Lwe,JT=Math.max;function Uwe(e,t,r){return t=JT(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=JT(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Fwe(e,this,l)}}var Bwe=Uwe;function Vwe(e){return function(){return e}}var qwe=Vwe,zwe=$c,Wwe=function(){try{var e=zwe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),HB=Wwe,Kwe=qwe,ZT=HB,Hwe=Tf,Gwe=ZT?function(e,t){return ZT(e,"toString",{configurable:!0,enumerable:!1,value:Kwe(t),writable:!0})}:Hwe,Qwe=Gwe,Ywe=800,Xwe=16,Jwe=Date.now;function Zwe(e){var t=0,r=0;return function(){var n=Jwe(),a=Xwe-(n-r);if(r=n,a>0){if(++t>=Ywe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eje=Zwe,tje=Qwe,rje=eje,nje=rje(tje),sje=nje,aje=Tf,ije=Bwe,oje=sje;function lje(e,t){return oje(ije(e,t,aje),e+"")}var cje=lje,uje=KC,dje=tg,fje=c2,hje=ul;function mje(e,t,r){if(!hje(r))return!1;var n=typeof t;return(n=="number"?dje(r)&&fje(t,r.length):n=="string"&&t in r)?uje(r[t],e):!1}var _0=mje,pje=zB,gje=$we,vje=cje,eI=_0,xje=vje(function(e,t){if(e==null)return[];var r=t.length;return r>1&&eI(e,t[0],t[1])?t=[]:r>2&&eI(t[0],t[1],t[2])&&(t=[t[0]]),gje(e,pje(t,1),[])}),yje=xje;const h2=Qt(yje);function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(this,arguments)}function bje(e,t){return _je(e)||Nje(e,t)||jje(e,t)||wje()}function wje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jje(e,t){if(e){if(typeof e=="string")return tI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tI(e,t)}}function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _je(e){if(Array.isArray(e))return e}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){Sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sje(e,t,r){return t=kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Cje(e,"string");return $m(t)=="symbol"?t:t+""}function Cje(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pje(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var Eje=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,m=t.label,w=t.labelFormatter,v=t.accessibilityLayer,g=v===void 0?!1:v,y=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?h2(d,h):d).map(function(T,$){if(T.type==="none")return null;var V=vj({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),K=T.formatter||f||Pje,A=T.value,R=T.name,Q=A,J=R;if(K&&Q!=null&&J!=null){var F=K(A,R,T,$,d);if(Array.isArray(F)){var X=bje(F,2);Q=X[0],J=X[1]}else Q=F}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:V},ln(J)?D.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ln(J)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Q),D.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},j=vj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=vj({margin:0},u),N=!kt(m),S=N?m:"",k=xt("recharts-default-tooltip",p),C=xt("recharts-tooltip-label",b);N&&w&&d!==void 0&&d!==null&&(S=w(m,d));var P=g?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",d_({className:k,style:j},P),D.createElement("p",{className:C,style:_},D.isValidElement(S)?S:"".concat(S)),y())};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function Xg(e,t,r){return t=Aje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aje(e){var t=Oje(e,"string");return Dm(t)=="symbol"?t:t+""}function Oje(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sh="recharts-tooltip-wrapper",Tje={visibility:"hidden"};function Ije(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return xt(sh,Xg(Xg(Xg(Xg({},"".concat(sh,"-right"),Ce(r)&&t&&Ce(t.x)&&r>=t.x),"".concat(sh,"-left"),Ce(r)&&t&&Ce(t.x)&&r<t.x),"".concat(sh,"-bottom"),Ce(n)&&t&&Ce(t.y)&&n>=t.y),"".concat(sh,"-top"),Ce(n)&&t&&Ce(t.y)&&n<t.y))}function nI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ce(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var b=f+l,m=c[n]+u;return b>m?Math.max(d,c[n]):Math.max(f,c[n])}function Rje(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Mje(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=nI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=nI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Rje({translateX:d,translateY:f,useTranslate3d:l})):u=Tje,{cssProperties:u,cssClasses:Ije({translateX:d,translateY:f,coordinate:r})}}function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){h_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QB(n.key),n)}}function Lje(e,t,r){return t&&Dje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fje(e,t,r){return t=Xx(t),Uje(e,GB()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function Uje(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(e)}function Bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function Vje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f_(e,t)}function h_(e,t,r){return t=QB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=qje(e,"string");return Ud(t)=="symbol"?t:t+""}function qje(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iI=1,zje=function(e){function t(){var r;$je(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fje(this,t,[].concat(a)),h_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),h_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Vje(t,e),Lje(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iI||Math.abs(n.height-this.state.lastBoundingBox.height)>iI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,b=a.position,m=a.reverseDirection,w=a.useTranslate3d,v=a.viewBox,g=a.wrapperStyle,y=Mje({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:b,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),j=y.cssClasses,_=y.cssProperties,N=aI(aI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return D.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Wje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},If={isSsr:Wje()};function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){m2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XB(n.key),n)}}function Gje(e,t,r){return t&&Hje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qje(e,t,r){return t=Jx(t),Yje(e,YB()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function Yje(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xje(e)}function Xje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function Jje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(e,t)}function m2(e,t,r){return t=XB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XB(e){var t=Zje(e,"string");return Bd(t)=="symbol"?t:t+""}function Zje(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e1e(e){return e.dataKey}function t1e(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(Eje,t)}var _a=function(e){function t(){return Kje(this,t),Qje(this,t,arguments)}return Jje(t,e),Gje(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,b=a.payload,m=a.payloadUniqBy,w=a.position,v=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,j=a.wrapperStyle,_=b??[];f&&_.length&&(_=UB(b.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,e1e));var N=_.length>0;return D.createElement(zje,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:w,reverseDirection:v,useTranslate3d:g,viewBox:y,wrapperStyle:j},t1e(u,lI(lI({},this.props),{},{payload:_})))}}])}(x.PureComponent);m2(_a,"displayName","Tooltip");m2(_a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!If.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var r1e=fi,n1e=function(){return r1e.Date.now()},s1e=n1e,a1e=/\s/;function i1e(e){for(var t=e.length;t--&&a1e.test(e.charAt(t)););return t}var o1e=i1e,l1e=o1e,c1e=/^\s+/;function u1e(e){return e&&e.slice(0,l1e(e)+1).replace(c1e,"")}var d1e=u1e,f1e=d1e,cI=ul,h1e=Sf,uI=NaN,m1e=/^[-+]0x[0-9a-f]+$/i,p1e=/^0b[01]+$/i,g1e=/^0o[0-7]+$/i,v1e=parseInt;function x1e(e){if(typeof e=="number")return e;if(h1e(e))return uI;if(cI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=f1e(e);var r=p1e.test(e);return r||g1e.test(e)?v1e(e.slice(2),r?2:8):m1e.test(e)?uI:+e}var JB=x1e,y1e=ul,xj=s1e,dI=JB,b1e="Expected a function",w1e=Math.max,j1e=Math.min;function N1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(b1e);t=dI(t)||0,y1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?w1e(dI(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function b(N){return u=N,l=setTimeout(v,t),d?p(N):o}function m(N){var S=N-c,k=N-u,C=t-S;return f?j1e(C,i-k):C}function w(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=i}function v(){var N=xj();if(w(N))return g(N);l=setTimeout(v,m(N))}function g(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:g(xj())}function _(){var N=xj(),S=w(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return _.cancel=y,_.flush=j,_}var _1e=N1e,S1e=_1e,k1e=ul,C1e="Expected a function";function P1e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(C1e);return k1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),S1e(e,t,{leading:n,maxWait:t,trailing:a})}var E1e=P1e;const ZB=Qt(E1e);function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){A1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A1e(e,t,r){return t=O1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O1e(e){var t=T1e(e,"string");return Lm(t)=="symbol"?t:t+""}function T1e(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1e(e,t){return D1e(e)||$1e(e,t)||M1e(e,t)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1e(e,t){if(e){if(typeof e=="string")return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function D1e(e){if(Array.isArray(e))return e}var mI=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,m=b===void 0?0:b,w=e.id,v=e.className,g=e.onResize,y=e.style,j=y===void 0?{}:y,_=x.useRef(null),N=x.useRef();N.current=g,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),k=I1e(S,2),C=k[0],P=k[1],E=x.useCallback(function(I,T){P(function($){var V=Math.round(I),K=Math.round(T);return $.containerWidth===V&&$.containerHeight===K?$:{containerWidth:V,containerHeight:K}})},[]);x.useEffect(function(){var I=function(R){var Q,J=R[0].contentRect,F=J.width,X=J.height;E(F,X),(Q=N.current)===null||Q===void 0||Q.call(N,F,X)};m>0&&(I=ZB(I,m,{trailing:!0,leading:!1}));var T=new ResizeObserver(I),$=_.current.getBoundingClientRect(),V=$.width,K=$.height;return E(V,K),T.observe(_.current),function(){T.disconnect()}},[E,m]);var O=x.useMemo(function(){var I=C.containerWidth,T=C.containerHeight;if(I<0||T<0)return null;Ra(Vl(o)||Vl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ra(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=Vl(o)?I:o,V=Vl(c)?T:c;r&&r>0&&($?V=$/r:V&&($=V*r),h&&V>h&&(V=h)),Ra($>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,V,o,c,d,f,r);var K=!Array.isArray(p)&&Mi(p.type).endsWith("Chart");return D.Children.map(p,function(A){return D.isValidElement(A)?x.cloneElement(A,Jg({width:$,height:V},K?{style:Jg({height:"100%",width:"100%",maxHeight:V,maxWidth:$},A.props.style)}:{})):A})},[r,p,c,h,f,d,C,o]);return D.createElement("div",{id:w?"".concat(w):void 0,className:xt("recharts-responsive-container",v),style:Jg(Jg({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},O)}),S0=function(t){return null};S0.displayName="Cell";function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=U1e(e,"string");return Fm(t)=="symbol"?t:t+""}function U1e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var du={widthCache:{},cacheCount:0},B1e=2e3,V1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gI="recharts_measurement_span";function q1e(e){var t=p_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var qh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||If.isSsr)return{width:0,height:0};var n=q1e(r),a=JSON.stringify({text:t,copyStyle:n});if(du.widthCache[a])return du.widthCache[a];try{var i=document.getElementById(gI);i||(i=document.createElement("span"),i.setAttribute("id",gI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=p_(p_({},V1e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return du.widthCache[a]=c,++du.cacheCount>B1e&&(du.cacheCount=0,du.widthCache={}),c}catch{return{width:0,height:0}}},z1e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function Zx(e,t){return G1e(e)||H1e(e,t)||K1e(e,t)||W1e()}function W1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K1e(e,t){if(e){if(typeof e=="string")return vI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(e,t)}}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function G1e(e){if(Array.isArray(e))return e}function Q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X1e(n.key),n)}}function Y1e(e,t,r){return t&&xI(e.prototype,t),r&&xI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X1e(e){var t=J1e(e,"string");return Um(t)=="symbol"?t:t+""}function J1e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tNe=Object.keys(eV),Lu="NaN";function rNe(e,t){return e*eV[t]}var Zg=function(){function e(t,r){Q1e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Z1e.test(r)&&(this.num=NaN,this.unit=""),tNe.includes(r)&&(this.num=rNe(t,r),this.unit="px")}return Y1e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=eNe.exec(r))!==null&&n!==void 0?n:[],i=Zx(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function tV(e){if(e.includes(Lu))return Lu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=yI.exec(t))!==null&&r!==void 0?r:[],a=Zx(n,4),i=a[1],o=a[2],l=a[3],c=Zg.parse(i??""),u=Zg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Lu;t=t.replace(yI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=bI.exec(t))!==null&&f!==void 0?f:[],p=Zx(h,4),b=p[1],m=p[2],w=p[3],v=Zg.parse(b??""),g=Zg.parse(w??""),y=m==="+"?v.add(g):v.subtract(g);if(y.isNaN())return Lu;t=t.replace(bI,y.toString())}return t}var wI=/\(([^()]*)\)/;function nNe(e){for(var t=e;t.includes("(");){var r=wI.exec(t),n=Zx(r,2),a=n[1];t=t.replace(wI,tV(a))}return t}function sNe(e){var t=e.replace(/\s+/g,"");return t=nNe(t),t=tV(t),t}function aNe(e){try{return sNe(e)}catch{return Lu}}function yj(e){var t=aNe(e.slice(5,-1));return t===Lu?"":t}var iNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oNe=["dx","dy","angle","className","breakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}function jI(e,t){if(e==null)return{};var r=lNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NI(e,t){return fNe(e)||dNe(e,t)||uNe(e,t)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uNe(e,t){if(e){if(typeof e=="string")return _I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(e,t)}}function _I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fNe(e){if(Array.isArray(e))return e}var rV=/[ \f\n\r\t\v\u2028\u2029]+/,nV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];kt(r)||(n?i=r.toString().split(""):i=r.toString().split(rV));var o=i.map(function(c){return{word:c,width:qh(c,a).width}}),l=n?0:qh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},hNe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ce(o),f=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(V,K){var A=K.word,R=K.width,Q=V[V.length-1];if(Q&&(a==null||i||Q.width+R+n<Number(a)))Q.words.push(A),Q.width+=R+n;else{var J={words:[A],width:R};V.push(J)}return V},[])},p=h(r),b=function($){return $.reduce(function(V,K){return V.width>K.width?V:K})};if(!d)return p;for(var m="",w=function($){var V=f.slice(0,$),K=nV({breakAll:u,style:c,children:V+m}).wordsWithComputedWidth,A=h(K),R=A.length>o||b(A).width>Number(a);return[R,A]},v=0,g=f.length-1,y=0,j;v<=g&&y<=f.length-1;){var _=Math.floor((v+g)/2),N=_-1,S=w(N),k=NI(S,2),C=k[0],P=k[1],E=w(_),O=NI(E,1),I=O[0];if(!C&&!I&&(v=_+1),C&&I&&(g=_-1),!C&&I){j=P;break}y++}return j||p},SI=function(t){var r=kt(t)?[]:t.toString().split(rV);return[{words:r}]},mNe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!If.isSsr){var c,u,d=nV({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return SI(a);return hNe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return SI(a)},kI="#808080",kc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,m=b===void 0?"end":b,w=t.fill,v=w===void 0?kI:w,g=jI(t,iNe),y=x.useMemo(function(){return mNe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),j=g.dx,_=g.dy,N=g.angle,S=g.className,k=g.breakAll,C=jI(g,oNe);if(!ln(n)||!ln(i))return null;var P=n+(Ce(j)?j:0),E=i+(Ce(_)?_:0),O;switch(m){case"start":O=yj("calc(".concat(u,")"));break;case"middle":O=yj("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=yj("calc(".concat(y.length-1," * -").concat(l,")"));break}var I=[];if(f){var T=y[0].width,$=g.width;I.push("scale(".concat((Ce($)?$/T:1)/T,")"))}return N&&I.push("rotate(".concat(N,", ").concat(P,", ").concat(E,")")),I.length&&(C.transform=I.join(" ")),D.createElement("text",g_({},ut(C,!0),{x:P,y:E,className:xt("recharts-text",S),textAnchor:p,fill:v.includes("url")?kI:v}),y.map(function(V,K){var A=V.words.join(k?"":" ");return D.createElement("tspan",{x:P,dy:K===0?O:l,key:"".concat(A,"-").concat(K)},A)}))};function Wo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function p2(e){let t,r,n;e.length!==2?(t=Wo,r=(l,c)=>Wo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wo||e===pNe?e:gNe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function gNe(){return 0}function sV(e){return e===null?NaN:+e}function*vNe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xNe=p2(Wo),rg=xNe.right;p2(sV).center;class CI extends Map{constructor(t,r=wNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(PI(this,t))}has(t){return super.has(PI(this,t))}set(t,r){return super.set(yNe(this,t),r)}delete(t){return super.delete(bNe(this,t))}}function PI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function yNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bNe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jNe(e=Wo){if(e===Wo)return aV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const NNe=Math.sqrt(50),_Ne=Math.sqrt(10),SNe=Math.sqrt(2);function ey(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=NNe?10:i>=_Ne?5:i>=SNe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ey(e,t,r*2):[l,c,u]}function v_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ey(t,e,r):ey(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function x_(e,t,r){return t=+t,e=+e,r=+r,ey(e,t,r)[2]}function y_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?x_(t,e,r):x_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function EI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function AI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?aV:jNe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),b=Math.min(n,Math.floor(t+(c-u)*f/c+h));iV(e,t,p,b,a)}const i=e[t];let o=r,l=n;for(ah(e,r,t),a(e[n],i)>0&&ah(e,r,n);o<l;){for(ah(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?ah(e,r,l):(++l,ah(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ah(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function kNe(e,t,r){if(e=Float64Array.from(vNe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return AI(e);if(t>=1)return EI(e);var n,a=(n-1)*t,i=Math.floor(a),o=EI(iV(e,i).subarray(0,i+1)),l=AI(e.subarray(i+1));return o+(l-o)*(a-i)}}function CNe(e,t,r=sV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function PNe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function no(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b_=Symbol("implicit");function g2(){var e=new CI,t=[],r=[],n=b_;function a(i){let o=e.get(i);if(o===void 0){if(n!==b_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g2(t,r).unknown(n)},fa.apply(a,arguments),a}function Bm(){var e=g2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,b=p?a:n,m=p?n:a;i=(m-b)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),b+=(m-b-i*(h-c))*d,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var w=PNe(h).map(function(v){return b+i*v});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Bm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},fa.apply(f(),arguments)}function oV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oV(t())},e}function zh(){return oV(Bm.apply(null,arguments).paddingInner(1))}function v2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ng(){}var Vm=.7,ty=1/Vm,Zu="\\s*([+-]?\\d+)\\s*",qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ENe=/^#([0-9a-f]{3,8})$/,ANe=new RegExp(`^rgb\\(${Zu},${Zu},${Zu}\\)$`),ONe=new RegExp(`^rgb\\(${ii},${ii},${ii}\\)$`),TNe=new RegExp(`^rgba\\(${Zu},${Zu},${Zu},${qm}\\)$`),INe=new RegExp(`^rgba\\(${ii},${ii},${ii},${qm}\\)$`),RNe=new RegExp(`^hsl\\(${qm},${ii},${ii}\\)$`),MNe=new RegExp(`^hsla\\(${qm},${ii},${ii},${qm}\\)$`),OI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v2(ng,zm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TI,formatHex:TI,formatHex8:$Ne,formatHsl:DNe,formatRgb:II,toString:II});function TI(){return this.rgb().formatHex()}function $Ne(){return this.rgb().formatHex8()}function DNe(){return cV(this).formatHsl()}function II(){return this.rgb().formatRgb()}function zm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ENe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RI(t):r===3?new cs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ev(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ev(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ANe.exec(e))?new cs(t[1],t[2],t[3],1):(t=ONe.exec(e))?new cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TNe.exec(e))?ev(t[1],t[2],t[3],t[4]):(t=INe.exec(e))?ev(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RNe.exec(e))?DI(t[1],t[2]/100,t[3]/100,1):(t=MNe.exec(e))?DI(t[1],t[2]/100,t[3]/100,t[4]):OI.hasOwnProperty(e)?RI(OI[e]):e==="transparent"?new cs(NaN,NaN,NaN,0):null}function RI(e){return new cs(e>>16&255,e>>8&255,e&255,1)}function ev(e,t,r,n){return n<=0&&(e=t=r=NaN),new cs(e,t,r,n)}function LNe(e){return e instanceof ng||(e=zm(e)),e?(e=e.rgb(),new cs(e.r,e.g,e.b,e.opacity)):new cs}function w_(e,t,r,n){return arguments.length===1?LNe(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}v2(cs,w_,lV(ng,{brighter(e){return e=e==null?ty:Math.pow(ty,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cs(sc(this.r),sc(this.g),sc(this.b),ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MI,formatHex:MI,formatHex8:FNe,formatRgb:$I,toString:$I}));function MI(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function FNe(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function $I(){const e=ry(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function ry(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ql(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function DI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ea(e,t,r,n)}function cV(e){if(e instanceof Ea)return new Ea(e.h,e.s,e.l,e.opacity);if(e instanceof ng||(e=zm(e)),!e)return new Ea;if(e instanceof Ea)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ea(o,l,c,e.opacity)}function UNe(e,t,r,n){return arguments.length===1?cV(e):new Ea(e,t,r,n??1)}function Ea(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}v2(Ea,UNe,lV(ng,{brighter(e){return e=e==null?ty:Math.pow(ty,e),new Ea(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new Ea(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cs(bj(e>=240?e-240:e+120,a,n),bj(e,a,n),bj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ea(LI(this.h),tv(this.s),tv(this.l),ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ry(this.opacity);return`${e===1?"hsl(":"hsla("}${LI(this.h)}, ${tv(this.s)*100}%, ${tv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LI(e){return e=(e||0)%360,e<0?e+360:e}function tv(e){return Math.max(0,Math.min(1,e||0))}function bj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const x2=e=>()=>e;function BNe(e,t){return function(r){return e+r*t}}function VNe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qNe(e){return(e=+e)==1?uV:function(t,r){return r-t?VNe(t,r,e):x2(isNaN(t)?r:t)}}function uV(e,t){var r=t-e;return r?BNe(e,r):x2(isNaN(e)?t:e)}const FI=function e(t){var r=qNe(t);function n(a,i){var o=r((a=w_(a)).r,(i=w_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=uV(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function zNe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function WNe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function KNe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Rf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function HNe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ny(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function GNe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Rf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var j_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wj=new RegExp(j_.source,"g");function QNe(e){return function(){return e}}function YNe(e){return function(t){return e(t)+""}}function XNe(e,t){var r=j_.lastIndex=wj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=j_.exec(e))&&(a=wj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ny(n,a)})),r=wj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?YNe(c[0].x):QNe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Rf(e,t){var r=typeof t,n;return t==null||r==="boolean"?x2(t):(r==="number"?ny:r==="string"?(n=zm(t))?(t=n,FI):XNe:t instanceof zm?FI:t instanceof Date?HNe:WNe(t)?zNe:Array.isArray(t)?KNe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GNe:ny)(e,t)}function y2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function JNe(e,t){t===void 0&&(t=e,e=Rf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ZNe(e){return function(){return e}}function sy(e){return+e}var UI=[0,1];function Qn(e){return e}function N_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ZNe(isNaN(t)?NaN:.5)}function e_e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function t_e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=N_(a,n),i=r(o,i)):(n=N_(n,a),i=r(i,o)),function(l){return i(n(l))}}function r_e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=N_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=rg(e,l,1,n)-1;return i[c](a[c](l))}}function sg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function k0(){var e=UI,t=UI,r=Rf,n,a,i,o=Qn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qn&&(o=e_e(e[0],e[h-1])),l=h>2?r_e:t_e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ny)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=y2,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qn,d()):o!==Qn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function b2(){return k0()(Qn,Qn)}function n_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ay(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vd(e){return e=ay(Math.abs(e)),e?e[1]:NaN}function s_e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function a_e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var i_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wm(e){if(!(t=i_e.exec(e)))throw new Error("invalid format: "+e);var t;return new w2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wm.prototype=w2.prototype;function w2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}w2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o_e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dV;function l_e(e,t){var r=ay(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(dV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ay(e,Math.max(0,t+i-1))[0]}function BI(e,t){var r=ay(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const VI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:n_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BI(e*100,t),r:BI,s:l_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qI(e){return e}var zI=Array.prototype.map,WI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c_e(e){var t=e.grouping===void 0||e.thousands===void 0?qI:s_e(zI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qI:a_e(zI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Wm(f);var h=f.fill,p=f.align,b=f.sign,m=f.symbol,w=f.zero,v=f.width,g=f.comma,y=f.precision,j=f.trim,_=f.type;_==="n"?(g=!0,_="g"):VI[_]||(y===void 0&&(y=12),j=!0,_="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?n:/[%p]/.test(_)?o:"",k=VI[_],C=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function P(E){var O=N,I=S,T,$,V;if(_==="c")I=k(E)+I,E="";else{E=+E;var K=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),y),j&&(E=o_e(E)),K&&+E==0&&b!=="+"&&(K=!1),O=(K?b==="("?b:l:b==="-"||b==="("?"":b)+O,I=(_==="s"?WI[8+dV/3]:"")+I+(K&&b==="("?")":""),C){for(T=-1,$=E.length;++T<$;)if(V=E.charCodeAt(T),48>V||V>57){I=(V===46?a+E.slice(T+1):E.slice(T))+I,E=E.slice(0,T);break}}}g&&!w&&(E=t(E,1/0));var A=O.length+E.length+I.length,R=A<v?new Array(v-A+1).join(h):"";switch(g&&w&&(E=t(R+E,R.length?v-I.length:1/0),R=""),p){case"<":E=O+E+I+R;break;case"=":E=O+R+E+I;break;case"^":E=R.slice(0,A=R.length>>1)+O+E+I+R.slice(A);break;default:E=R+O+E+I;break}return i(E)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Wm(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Vd(h)/3)))*3,m=Math.pow(10,-b),w=WI[8+b/3];return function(v){return p(m*v)+w}}return{format:u,formatPrefix:d}}var rv,j2,fV;u_e({thousands:",",grouping:[3],currency:["$",""]});function u_e(e){return rv=c_e(e),j2=rv.format,fV=rv.formatPrefix,rv}function d_e(e){return Math.max(0,-Vd(Math.abs(e)))}function f_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vd(t)/3)))*3-Vd(Math.abs(e)))}function h_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vd(t)-Vd(e))+1}function hV(e,t,r,n){var a=y_(e,t,r),i;switch(n=Wm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=f_e(a,o))&&(n.precision=i),fV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=h_e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=d_e(a))&&(n.precision=i-(n.type==="%")*2);break}}return j2(n)}function dl(e){var t=e.domain;return e.ticks=function(r){var n=t();return v_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=x_(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function iy(){var e=b2();return e.copy=function(){return sg(e,iy())},fa.apply(e,arguments),dl(e)}function mV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mV(e).unknown(t)},e=arguments.length?Array.from(e,sy):[0,1],dl(r)}function pV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function KI(e){return Math.log(e)}function HI(e){return Math.exp(e)}function m_e(e){return-Math.log(-e)}function p_e(e){return-Math.exp(-e)}function g_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v_e(e){return e===10?g_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x_e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GI(e){return(t,r)=>-e(-t,r)}function N2(e){const t=e(KI,HI),r=t.domain;let n=10,a,i;function o(){return a=x_e(n),i=v_e(n),r()[0]<0?(a=GI(a),i=GI(i),e(m_e,p_e)):e(KI,HI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),b,m;const w=l==null?10:+l;let v=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(b=1;b<n;++b)if(m=h<0?b/i(-h):b*i(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(b=n-1;b>=1;--b)if(m=h>0?b/i(-h):b*i(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<w&&(v=v_(u,d,w))}else v=v_(h,p,Math.min(p-h,w)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wm(c)).precision==null&&(c.trim=!0),c=j2(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pV(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function gV(){const e=N2(k0()).domain([1,10]);return e.copy=()=>sg(e,gV()).base(e.base()),fa.apply(e,arguments),e}function QI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _2(e){var t=1,r=e(QI(t),YI(t));return r.constant=function(n){return arguments.length?e(QI(t=+n),YI(t)):t},dl(r)}function vV(){var e=_2(k0());return e.copy=function(){return sg(e,vV()).constant(e.constant())},fa.apply(e,arguments)}function XI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function y_e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function b_e(e){return e<0?-e*e:e*e}function S2(e){var t=e(Qn,Qn),r=1;function n(){return r===1?e(Qn,Qn):r===.5?e(y_e,b_e):e(XI(r),XI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},dl(t)}function k2(){var e=S2(k0());return e.copy=function(){return sg(e,k2()).exponent(e.exponent())},fa.apply(e,arguments),e}function w_e(){return k2.apply(null,arguments).exponent(.5)}function JI(e){return Math.sign(e)*e*e}function j_e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xV(){var e=b2(),t=[0,1],r=!1,n;function a(i){var o=j_e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(JI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,sy)).map(JI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fa.apply(a,arguments),dl(a)}function yV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=CNe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[rg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return yV().domain(e).range(t).unknown(n)},fa.apply(i,arguments)}function bV(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[rg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return bV().domain([e,t]).range(a).unknown(i)},fa.apply(dl(o),arguments)}function wV(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[rg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return wV().domain(e).range(t).unknown(r)},fa.apply(a,arguments)}const jj=new Date,Nj=new Date;function un(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>un(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(jj.setTime(+i),Nj.setTime(+o),e(jj),e(Nj),Math.floor(r(jj,Nj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const oy=un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?un(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):oy);oy.range;const Ai=1e3,Xs=Ai*60,Oi=Xs*60,Hi=Oi*24,C2=Hi*7,ZI=Hi*30,_j=Hi*365,zl=un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCSeconds());zl.range;const P2=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getMinutes());P2.range;const E2=un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getUTCMinutes());E2.range;const A2=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai-e.getMinutes()*Xs)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getHours());A2.range;const O2=un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCHours());O2.range;const ag=un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xs)/Hi,e=>e.getDate()-1);ag.range;const C0=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hi,e=>e.getUTCDate()-1);C0.range;const jV=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hi,e=>Math.floor(e/Hi));jV.range;function Dc(e){return un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xs)/C2)}const P0=Dc(0),ly=Dc(1),N_e=Dc(2),__e=Dc(3),qd=Dc(4),S_e=Dc(5),k_e=Dc(6);P0.range;ly.range;N_e.range;__e.range;qd.range;S_e.range;k_e.range;function Lc(e){return un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/C2)}const E0=Lc(0),cy=Lc(1),C_e=Lc(2),P_e=Lc(3),zd=Lc(4),E_e=Lc(5),A_e=Lc(6);E0.range;cy.range;C_e.range;P_e.range;zd.range;E_e.range;A_e.range;const T2=un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());T2.range;const I2=un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());I2.range;const Gi=un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gi.range;const Qi=un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qi.range;function NV(e,t,r,n,a,i){const o=[[zl,1,Ai],[zl,5,5*Ai],[zl,15,15*Ai],[zl,30,30*Ai],[i,1,Xs],[i,5,5*Xs],[i,15,15*Xs],[i,30,30*Xs],[a,1,Oi],[a,3,3*Oi],[a,6,6*Oi],[a,12,12*Oi],[n,1,Hi],[n,2,2*Hi],[r,1,C2],[t,1,ZI],[t,3,3*ZI],[e,1,_j]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),b=p?p.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,p=p2(([,,w])=>w).right(o,h);if(p===o.length)return e.every(y_(u/_j,d/_j,f));if(p===0)return oy.every(Math.max(y_(u,d,f),1));const[b,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(m)}return[l,c]}const[O_e,T_e]=NV(Qi,I2,E0,jV,O2,E2),[I_e,R_e]=NV(Gi,T2,P0,ag,A2,P2);function Sj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ih(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function M_e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=oh(a),d=lh(a),f=oh(i),h=lh(i),p=oh(o),b=lh(o),m=oh(l),w=lh(l),v=oh(c),g=lh(c),y={a:K,A,b:R,B:Q,c:null,d:a4,e:a4,f:sSe,g:mSe,G:gSe,H:tSe,I:rSe,j:nSe,L:_V,m:aSe,M:iSe,p:J,q:F,Q:l4,s:c4,S:oSe,u:lSe,U:cSe,V:uSe,w:dSe,W:fSe,x:null,X:null,y:hSe,Y:pSe,Z:vSe,"%":o4},j={a:X,A:H,b:ie,B:ve,c:null,d:i4,e:i4,f:wSe,g:OSe,G:ISe,H:xSe,I:ySe,j:bSe,L:kV,m:jSe,M:NSe,p:ne,q:we,Q:l4,s:c4,S:_Se,u:SSe,U:kSe,V:CSe,w:PSe,W:ESe,x:null,X:null,y:ASe,Y:TSe,Z:RSe,"%":o4},_={a:P,A:E,b:O,B:I,c:T,d:n4,e:n4,f:X_e,g:r4,G:t4,H:s4,I:s4,j:H_e,L:Y_e,m:K_e,M:G_e,p:C,q:W_e,Q:Z_e,s:eSe,S:Q_e,u:U_e,U:B_e,V:V_e,w:F_e,W:q_e,x:$,X:V,y:r4,Y:t4,Z:z_e,"%":J_e};y.x=N(r,y),y.X=N(n,y),y.c=N(t,y),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(oe,L){return function(se){var G=[],U=-1,pe=0,He=oe.length,Ee,mt,sr;for(se instanceof Date||(se=new Date(+se));++U<He;)oe.charCodeAt(U)===37&&(G.push(oe.slice(pe,U)),(mt=e4[Ee=oe.charAt(++U)])!=null?Ee=oe.charAt(++U):mt=Ee==="e"?" ":"0",(sr=L[Ee])&&(Ee=sr(se,mt)),G.push(Ee),pe=U+1);return G.push(oe.slice(pe,U)),G.join("")}}function S(oe,L){return function(se){var G=ih(1900,void 0,1),U=k(G,oe,se+="",0),pe,He;if(U!=se.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(L&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(pe=kj(ih(G.y,0,1)),He=pe.getUTCDay(),pe=He>4||He===0?cy.ceil(pe):cy(pe),pe=C0.offset(pe,(G.V-1)*7),G.y=pe.getUTCFullYear(),G.m=pe.getUTCMonth(),G.d=pe.getUTCDate()+(G.w+6)%7):(pe=Sj(ih(G.y,0,1)),He=pe.getDay(),pe=He>4||He===0?ly.ceil(pe):ly(pe),pe=ag.offset(pe,(G.V-1)*7),G.y=pe.getFullYear(),G.m=pe.getMonth(),G.d=pe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),He="Z"in G?kj(ih(G.y,0,1)).getUTCDay():Sj(ih(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(He+5)%7:G.w+G.U*7-(He+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,kj(G)):Sj(G)}}function k(oe,L,se,G){for(var U=0,pe=L.length,He=se.length,Ee,mt;U<pe;){if(G>=He)return-1;if(Ee=L.charCodeAt(U++),Ee===37){if(Ee=L.charAt(U++),mt=_[Ee in e4?L.charAt(U++):Ee],!mt||(G=mt(oe,se,G))<0)return-1}else if(Ee!=se.charCodeAt(G++))return-1}return G}function C(oe,L,se){var G=u.exec(L.slice(se));return G?(oe.p=d.get(G[0].toLowerCase()),se+G[0].length):-1}function P(oe,L,se){var G=p.exec(L.slice(se));return G?(oe.w=b.get(G[0].toLowerCase()),se+G[0].length):-1}function E(oe,L,se){var G=f.exec(L.slice(se));return G?(oe.w=h.get(G[0].toLowerCase()),se+G[0].length):-1}function O(oe,L,se){var G=v.exec(L.slice(se));return G?(oe.m=g.get(G[0].toLowerCase()),se+G[0].length):-1}function I(oe,L,se){var G=m.exec(L.slice(se));return G?(oe.m=w.get(G[0].toLowerCase()),se+G[0].length):-1}function T(oe,L,se){return k(oe,t,L,se)}function $(oe,L,se){return k(oe,r,L,se)}function V(oe,L,se){return k(oe,n,L,se)}function K(oe){return o[oe.getDay()]}function A(oe){return i[oe.getDay()]}function R(oe){return c[oe.getMonth()]}function Q(oe){return l[oe.getMonth()]}function J(oe){return a[+(oe.getHours()>=12)]}function F(oe){return 1+~~(oe.getMonth()/3)}function X(oe){return o[oe.getUTCDay()]}function H(oe){return i[oe.getUTCDay()]}function ie(oe){return c[oe.getUTCMonth()]}function ve(oe){return l[oe.getUTCMonth()]}function ne(oe){return a[+(oe.getUTCHours()>=12)]}function we(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var L=N(oe+="",y);return L.toString=function(){return oe},L},parse:function(oe){var L=S(oe+="",!1);return L.toString=function(){return oe},L},utcFormat:function(oe){var L=N(oe+="",j);return L.toString=function(){return oe},L},utcParse:function(oe){var L=S(oe+="",!0);return L.toString=function(){return oe},L}}}var e4={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,$_e=/^%/,D_e=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function L_e(e){return e.replace(D_e,"\\$&")}function oh(e){return new RegExp("^(?:"+e.map(L_e).join("|")+")","i")}function lh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function F_e(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function U_e(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function B_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function V_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function q_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function t4(e,t,r){var n=yn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function r4(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function z_e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function W_e(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function K_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function n4(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function H_e(e,t,r){var n=yn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function s4(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function G_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Q_e(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Y_e(e,t,r){var n=yn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function X_e(e,t,r){var n=yn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function J_e(e,t,r){var n=$_e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Z_e(e,t,r){var n=yn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eSe(e,t,r){var n=yn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function a4(e,t){return Ft(e.getDate(),t,2)}function tSe(e,t){return Ft(e.getHours(),t,2)}function rSe(e,t){return Ft(e.getHours()%12||12,t,2)}function nSe(e,t){return Ft(1+ag.count(Gi(e),e),t,3)}function _V(e,t){return Ft(e.getMilliseconds(),t,3)}function sSe(e,t){return _V(e,t)+"000"}function aSe(e,t){return Ft(e.getMonth()+1,t,2)}function iSe(e,t){return Ft(e.getMinutes(),t,2)}function oSe(e,t){return Ft(e.getSeconds(),t,2)}function lSe(e){var t=e.getDay();return t===0?7:t}function cSe(e,t){return Ft(P0.count(Gi(e)-1,e),t,2)}function SV(e){var t=e.getDay();return t>=4||t===0?qd(e):qd.ceil(e)}function uSe(e,t){return e=SV(e),Ft(qd.count(Gi(e),e)+(Gi(e).getDay()===4),t,2)}function dSe(e){return e.getDay()}function fSe(e,t){return Ft(ly.count(Gi(e)-1,e),t,2)}function hSe(e,t){return Ft(e.getFullYear()%100,t,2)}function mSe(e,t){return e=SV(e),Ft(e.getFullYear()%100,t,2)}function pSe(e,t){return Ft(e.getFullYear()%1e4,t,4)}function gSe(e,t){var r=e.getDay();return e=r>=4||r===0?qd(e):qd.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function vSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function i4(e,t){return Ft(e.getUTCDate(),t,2)}function xSe(e,t){return Ft(e.getUTCHours(),t,2)}function ySe(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function bSe(e,t){return Ft(1+C0.count(Qi(e),e),t,3)}function kV(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function wSe(e,t){return kV(e,t)+"000"}function jSe(e,t){return Ft(e.getUTCMonth()+1,t,2)}function NSe(e,t){return Ft(e.getUTCMinutes(),t,2)}function _Se(e,t){return Ft(e.getUTCSeconds(),t,2)}function SSe(e){var t=e.getUTCDay();return t===0?7:t}function kSe(e,t){return Ft(E0.count(Qi(e)-1,e),t,2)}function CV(e){var t=e.getUTCDay();return t>=4||t===0?zd(e):zd.ceil(e)}function CSe(e,t){return e=CV(e),Ft(zd.count(Qi(e),e)+(Qi(e).getUTCDay()===4),t,2)}function PSe(e){return e.getUTCDay()}function ESe(e,t){return Ft(cy.count(Qi(e)-1,e),t,2)}function ASe(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function OSe(e,t){return e=CV(e),Ft(e.getUTCFullYear()%100,t,2)}function TSe(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function ISe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zd(e):zd.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function RSe(){return"+0000"}function o4(){return"%"}function l4(e){return+e}function c4(e){return Math.floor(+e/1e3)}var fu,PV,EV;MSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MSe(e){return fu=M_e(e),PV=fu.format,fu.parse,EV=fu.utcFormat,fu.utcParse,fu}function $Se(e){return new Date(e)}function DSe(e){return e instanceof Date?+e:+new Date(+e)}function R2(e,t,r,n,a,i,o,l,c,u){var d=b2(),f=d.invert,h=d.domain,p=u(".%L"),b=u(":%S"),m=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),g=u("%b %d"),y=u("%B"),j=u("%Y");function _(N){return(c(N)<N?p:l(N)<N?b:o(N)<N?m:i(N)<N?w:n(N)<N?a(N)<N?v:g:r(N)<N?y:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,DSe)):h().map($Se)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(pV(S,N)):d},d.copy=function(){return sg(d,R2(e,t,r,n,a,i,o,l,c,u))},d}function LSe(){return fa.apply(R2(I_e,R_e,Gi,T2,P0,ag,A2,P2,zl,PV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FSe(){return fa.apply(R2(O_e,T_e,Qi,I2,E0,C0,O2,E2,zl,EV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A0(){var e=0,t=1,r,n,a,i,o=Qn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,b;return arguments.length?([p,b]=h,o=f(p,b),u):[o(0),o(1)]}}return u.range=d(Rf),u.rangeRound=d(y2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function fl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AV(){var e=dl(A0()(Qn));return e.copy=function(){return fl(e,AV())},no.apply(e,arguments)}function OV(){var e=N2(A0()).domain([1,10]);return e.copy=function(){return fl(e,OV()).base(e.base())},no.apply(e,arguments)}function TV(){var e=_2(A0());return e.copy=function(){return fl(e,TV()).constant(e.constant())},no.apply(e,arguments)}function M2(){var e=S2(A0());return e.copy=function(){return fl(e,M2()).exponent(e.exponent())},no.apply(e,arguments)}function USe(){return M2.apply(null,arguments).exponent(.5)}function IV(){var e=[],t=Qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((rg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>kNe(e,i/n))},r.copy=function(){return IV(t).domain(e)},no.apply(r,arguments)}function O0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Qn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function b(m){return function(w){var v,g,y;return arguments.length?([v,g,y]=w,u=JNe(m,[v,g,y]),p):[u(0),u(.5),u(1)]}}return p.range=b(Rf),p.rangeRound=b(y2),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function RV(){var e=dl(O0()(Qn));return e.copy=function(){return fl(e,RV())},no.apply(e,arguments)}function MV(){var e=N2(O0()).domain([.1,1,10]);return e.copy=function(){return fl(e,MV()).base(e.base())},no.apply(e,arguments)}function $V(){var e=_2(O0());return e.copy=function(){return fl(e,$V()).constant(e.constant())},no.apply(e,arguments)}function $2(){var e=S2(O0());return e.copy=function(){return fl(e,$2()).exponent(e.exponent())},no.apply(e,arguments)}function BSe(){return $2.apply(null,arguments).exponent(.5)}const u4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bm,scaleDiverging:RV,scaleDivergingLog:MV,scaleDivergingPow:$2,scaleDivergingSqrt:BSe,scaleDivergingSymlog:$V,scaleIdentity:mV,scaleImplicit:b_,scaleLinear:iy,scaleLog:gV,scaleOrdinal:g2,scalePoint:zh,scalePow:k2,scaleQuantile:yV,scaleQuantize:bV,scaleRadial:xV,scaleSequential:AV,scaleSequentialLog:OV,scaleSequentialPow:M2,scaleSequentialQuantile:IV,scaleSequentialSqrt:USe,scaleSequentialSymlog:TV,scaleSqrt:w_e,scaleSymlog:vV,scaleThreshold:wV,scaleTime:LSe,scaleUtc:FSe,tickFormat:hV},Symbol.toStringTag,{value:"Module"}));var VSe=Sf;function qSe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!VSe(o):r(o,l)))var l=o,c=i}return c}var T0=qSe;function zSe(e,t){return e>t}var DV=zSe,WSe=T0,KSe=DV,HSe=Tf;function GSe(e){return e&&e.length?WSe(e,HSe,KSe):void 0}var QSe=GSe;const I0=Qt(QSe);function YSe(e,t){return e<t}var LV=YSe,XSe=T0,JSe=LV,ZSe=Tf;function eke(e){return e&&e.length?XSe(e,ZSe,JSe):void 0}var tke=eke;const R0=Qt(tke);var rke=YC,nke=hi,ske=KB,ake=gs;function ike(e,t){var r=ake(e)?rke:ske;return r(e,nke(t))}var oke=ike,lke=zB,cke=oke;function uke(e,t){return lke(cke(e,t),1)}var dke=uke;const fke=Qt(dke);var hke=d2;function mke(e,t){return hke(e,t)}var pke=mke;const M0=Qt(pke);var Mf=1e9,gke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L2,br=!0,ia="[DecimalError] ",ac=ia+"Invalid argument: ",D2=ia+"Exponent out of range: ",$f=Math.floor,Tl=Math.pow,vke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cs,hn=1e7,vr=7,FV=9007199254740991,uy=$f(FV/vr),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return $i(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return ir($i(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return Xr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cs))throw Error(ia+"NaN");if(r.s<1)throw Error(ia+(r.s?"NaN":"-Infinity"));return r.eq(Cs)?new n(0):(br=!1,t=$i(Km(r,i),Km(e,i),i),br=!0,ir(t,a))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VV(t,e):UV(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ia+"NaN");return r.s?(br=!1,t=$i(r,e,0,1).times(e),br=!0,r.minus(t)):ir(new n(r),a)};Be.naturalExponential=Be.exp=function(){return BV(this)};Be.naturalLogarithm=Be.ln=function(){return Km(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UV(t,e):VV(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ac+e);if(t=Xr(a)+1,n=a.d.length-1,r=n*vr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ia+"NaN")}for(e=Xr(l),br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ei(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$f((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus($i(l,i,o+2)).times(.5),ei(i.d).slice(0,o)===(t=ei(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ir(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return br=!0,ir(n,r)};Be.times=Be.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%hn|0,t=l/hn|0;i[a]=(i[a]+t)%hn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,br?ir(e,f.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ci(e,0,Mf),t===void 0?t=n.rounding:ci(t,0,8),ir(r,e+Xr(r)+1,t))};Be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Cc(n,!0):(ci(e,0,Mf),t===void 0?t=a.rounding:ci(t,0,8),n=ir(new a(n),e+1,t),r=Cc(n,!0,e+1)),r};Be.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Cc(a):(ci(e,0,Mf),t===void 0?t=i.rounding:ci(t,0,8),n=ir(new i(a),e+Xr(a)+1,t),r=Cc(n.abs(),!1,e+Xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return ir(new t(e),Xr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cs);if(l=new c(l),!l.s){if(e.s<1)throw Error(ia+"Infinity");return l}if(l.eq(Cs))return l;if(n=c.precision,e.eq(Cs))return ir(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=FV){for(a=new c(Cs),t=Math.ceil(n/vr+4),br=!1;r%2&&(a=a.times(l),f4(a.d,t)),r=$f(r/2),r!==0;)l=l.times(l),f4(l.d,t);return br=!0,e.s<0?new c(Cs).div(a):ir(a,n)}}else if(i<0)throw Error(ia+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,br=!1,a=e.times(Km(l,n+u)),br=!0,a=BV(a),a.s=i,a};Be.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Xr(a),n=Cc(a,r<=i.toExpNeg||r>=i.toExpPos)):(ci(e,1,Mf),t===void 0?t=i.rounding:ci(t,0,8),a=ir(new i(a),e,t),r=Xr(a),n=Cc(a,e<=r||r<=i.toExpNeg,e)),n};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ci(e,1,Mf),t===void 0?t=n.rounding:ci(t,0,8)),ir(new n(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return Cc(e,t<=r.toExpNeg||t>=r.toExpPos)};function UV(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),br?ir(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/vr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/hn|0,c[i]%=hn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,br?ir(t,f):t}function ci(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ac+e)}function ei(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=vr-n.length,r&&(i+=vo(r)),i+=n;o=e[t],n=o+"",r=vr-n.length,r&&(i+=vo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var $i=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%hn|0,o=i/hn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*hn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,b,m,w,v,g,y,j,_,N,S,k,C=n.constructor,P=n.s==a.s?1:-1,E=n.d,O=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(ia+"Division by zero");for(c=n.e-a.e,S=O.length,_=E.length,p=new C(P),b=p.d=[],u=0;O[u]==(E[u]||0);)++u;if(O[u]>(E[u]||0)&&--c,i==null?g=i=C.precision:o?g=i+(Xr(n)-Xr(a))+1:g=i,g<0)return new C(0);if(g=g/vr+2|0,u=0,S==1)for(d=0,O=O[0],g++;(u<_||d)&&g--;u++)y=d*hn+(E[u]||0),b[u]=y/O|0,d=y%O|0;else{for(d=hn/(O[0]+1)|0,d>1&&(O=e(O,d),E=e(E,d),S=O.length,_=E.length),j=S,m=E.slice(0,S),w=m.length;w<S;)m[w++]=0;k=O.slice(),k.unshift(0),N=O[0],O[1]>=hn/2&&++N;do d=0,l=t(O,m,S,w),l<0?(v=m[0],S!=w&&(v=v*hn+(m[1]||0)),d=v/N|0,d>1?(d>=hn&&(d=hn-1),f=e(O,d),h=f.length,w=m.length,l=t(f,m,h,w),l==1&&(d--,r(f,S<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<w&&f.unshift(0),r(m,f,w),l==-1&&(w=m.length,l=t(O,m,S,w),l<1&&(d++,r(m,S<w?k:O,w))),w=m.length):l===0&&(d++,m=[0]),b[u++]=d,l&&m[0]?m[w++]=E[j]||0:(m=[E[j]],w=1);while((j++<_||m[0]!==void 0)&&g--)}return b[0]||b.shift(),p.e=c,ir(p,o?i+Xr(p)+1:i)}}();function BV(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Xr(e)>16)throw Error(D2+Xr(e));if(!e.s)return new d(Cs);for(br=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Tl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Cs),d.precision=l;;){if(a=ir(a.times(e),l),r=r.times(++c),o=i.plus($i(a,r,l)),ei(o.d).slice(0,l)===ei(i.d).slice(0,l)){for(;u--;)i=ir(i.times(i),l);return d.precision=f,t==null?(br=!0,ir(i,f)):i}i=o}}function Xr(e){for(var t=e.e*vr,r=e.d[0];r>=10;r/=10)t++;return t}function Cj(e,t,r){if(t>e.LN10.sd())throw br=!0,r&&(e.precision=r),Error(ia+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function vo(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,b=p.d,m=p.constructor,w=m.precision;if(p.s<1)throw Error(ia+(p.s?"NaN":"-Infinity"));if(p.eq(Cs))return new m(0);if(t==null?(br=!1,u=w):u=t,p.eq(10))return t==null&&(br=!0),Cj(m,u);if(u+=h,m.precision=u,r=ei(b),n=r.charAt(0),i=Xr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ei(p.d),n=r.charAt(0),f++;i=Xr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Cj(m,u+2,w).times(i+""),p=Km(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=w,t==null?(br=!0,ir(p,w)):p;for(l=o=p=$i(p.minus(Cs),p.plus(Cs),u),d=ir(p.times(p),u),a=3;;){if(o=ir(o.times(d),u),c=l.plus($i(o,new m(a),u)),ei(c.d).slice(0,u)===ei(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Cj(m,u+2,w).times(i+""))),l=$i(l,new m(f),u),m.precision=w,t==null?(br=!0,ir(l,w)):l;l=c,a+=2}}function d4(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$f(r/vr),e.d=[],n=(r+1)%vr,r<0&&(n+=vr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vr;n<a;)e.d.push(+t.slice(n,n+=vr));t=t.slice(n),n=vr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),br&&(e.e>uy||e.e<-uy))throw Error(D2+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=vr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/vr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=vr,a=n-vr+o}if(r!==void 0&&(i=Tl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Tl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Xr(e),f.length=1,t=t-i-1,f[0]=Tl(10,(vr-t%vr)%vr),e.e=$f(-t/vr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Tl(10,vr-n),f[d]=a>0?(u/Tl(10,o-a)%Tl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==hn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=hn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(br&&(e.e>uy||e.e<-uy))throw Error(D2+Xr(e));return e}function VV(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),br?ir(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/vr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=hn-1;--c[i],c[a]+=hn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,br?ir(t,p):t):new h(0)}function Cc(e,t,r){var n,a=Xr(e),i=ei(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+vo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+vo(-a-1)+i,r&&(n=r-o)>0&&(i+=vo(n))):a>=o?(i+=vo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+vo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=vo(n))),e.s<0?"-"+i:i}function f4(e,t){if(e.length>t)return e.length=t,!0}function qV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ac+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return d4(o,i.toString())}else if(typeof i!="string")throw Error(ac+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,vke.test(i))d4(o,i);else throw Error(ac+i)}if(a.prototype=Be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=qV,a.config=a.set=xke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function xke(e){if(!e||typeof e!="object")throw Error(ia+"Object expected");var t,r,n,a=["precision",1,Mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($f(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ac+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ac+r+": "+n);return this}var L2=qV(gke);Cs=new L2(1);const ar=L2;function yke(e){return Nke(e)||jke(e)||wke(e)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wke(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function jke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Nke(e){if(Array.isArray(e))return __(e)}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _ke=function(t){return t},zV={},WV=function(t){return t===zV},h4=function(t){return function r(){return arguments.length===0||arguments.length===1&&WV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ske=function e(t,r){return t===1?r:h4(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==zV}).length;return o>=t?r.apply(void 0,a):e(t-o,h4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return WV(f)?c.shift():f});return r.apply(void 0,yke(d).concat(c))}))})},$0=function(t){return Ske(t.length,t)},S_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},kke=$0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Cke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _ke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},k_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},KV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Pke(e){var t;return e===0?t=1:t=Math.floor(new ar(e).abs().log(10).toNumber())+1,t}function Eke(e,t,r){for(var n=new ar(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Ake=$0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Oke=$0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Tke=$0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const D0={rangeStep:Eke,getDigitCount:Pke,interpolateNumber:Ake,uninterpolateNumber:Oke,uninterpolateTruncation:Tke};function C_(e){return Mke(e)||Rke(e)||HV(e)||Ike()}function Ike(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mke(e){if(Array.isArray(e))return P_(e)}function Hm(e,t){return Lke(e)||Dke(e,t)||HV(e,t)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HV(e,t){if(e){if(typeof e=="string")return P_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P_(e,t)}}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Lke(e){if(Array.isArray(e))return e}function GV(e){var t=Hm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function QV(e,t,r){if(e.lte(0))return new ar(0);var n=D0.getDigitCount(e.toNumber()),a=new ar(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ar(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ar(Math.ceil(c))}function Fke(e,t,r){var n=1,a=new ar(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ar(10).pow(D0.getDigitCount(e)-1),a=new ar(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ar(Math.floor(e)))}else e===0?a=new ar(Math.floor((t-1)/2)):r||(a=new ar(Math.floor(e)));var o=Math.floor((t-1)/2),l=Cke(kke(function(c){return a.add(new ar(c-o).mul(n)).toNumber()}),S_);return l(0,t)}function YV(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var i=QV(new ar(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ar(0):(o=new ar(e).add(t).div(2),o=o.sub(new ar(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ar(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?YV(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ar(l).mul(i)),tickMax:o.add(new ar(c).mul(i))})}function Uke(e){var t=Hm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=GV([r,n]),c=Hm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(C_(S_(0,a-1).map(function(){return 1/0}))):[].concat(C_(S_(0,a-1).map(function(){return-1/0})),[d]);return r>n?k_(f):f}if(u===d)return Fke(u,a,i);var h=YV(u,d,o,i),p=h.step,b=h.tickMin,m=h.tickMax,w=D0.rangeStep(b,m.add(new ar(.1).mul(p)),p);return r>n?k_(w):w}function Bke(e,t){var r=Hm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GV([n,a]),l=Hm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=QV(new ar(u).sub(c).div(d-1),i,0),h=[].concat(C_(D0.rangeStep(new ar(c),new ar(u).sub(new ar(.99).mul(f)),f)),[u]);return n>a?k_(h):h}var Vke=KV(Uke),qke=KV(Bke),zke="Invariant failed";function Pc(e,t){throw new Error(zke)}var Wke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(this,arguments)}function Kke(e,t){return Yke(e)||Qke(e,t)||Gke(e,t)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(e,t){if(e){if(typeof e=="string")return m4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m4(e,t)}}function m4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yke(e){if(Array.isArray(e))return e}function Xke(e,t){if(e==null)return{};var r=Jke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZV(n.key),n)}}function tCe(e,t,r){return t&&eCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rCe(e,t,r){return t=fy(t),nCe(e,XV()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function nCe(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sCe(e)}function sCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(e)}function aCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E_(e,t)}function JV(e,t,r){return t=ZV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=iCe(e,"string");return Wd(t)=="symbol"?t:t+""}function iCe(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var L0=function(e){function t(){return Zke(this,t),rCe(this,t,arguments)}return aCe(t,e),tCe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Xke(n,Wke),p=ut(h,!1);this.props.direction==="x"&&d.type!=="number"&&Pc();var b=c.map(function(m){var w=u(m,l),v=w.x,g=w.y,y=w.value,j=w.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var k=Kke(j,2);N=k[0],S=k[1]}else N=S=j;if(i==="vertical"){var C=d.scale,P=g+a,E=P+o,O=P-o,I=C(y-N),T=C(y+S);_.push({x1:T,y1:E,x2:T,y2:O}),_.push({x1:I,y1:P,x2:T,y2:P}),_.push({x1:I,y1:E,x2:I,y2:O})}else if(i==="horizontal"){var $=f.scale,V=v+a,K=V-o,A=V+o,R=$(y-N),Q=$(y+S);_.push({x1:K,y1:Q,x2:A,y2:Q}),_.push({x1:V,y1:R,x2:V,y2:Q}),_.push({x1:K,y1:R,x2:A,y2:R})}return D.createElement(Jt,dy({className:"recharts-errorBar",key:"bar-".concat(_.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),_.map(function(J){return D.createElement("line",dy({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return D.createElement(Jt,{className:"recharts-errorBars"},b)}}])}(D.Component);JV(L0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JV(L0,"displayName","ErrorBar");function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){oCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oCe(e,t,r){return t=lCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lCe(e){var t=cCe(e,"string");return Gm(t)=="symbol"?t:t+""}function cCe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=bs(r,nc);if(!o)return null;var l=nc.defaultProps,c=l!==void 0?Nl(Nl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return d.concat(b.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Nl(Nl({},h),f.props):{},b=p.dataKey,m=p.name,w=p.legendType,v=p.hide;return{inactive:v,dataKey:b,type:c.iconType||w||"square",color:F2(f),value:m||b,payload:p}}),Nl(Nl(Nl({},c),nc.getWithHeight(o,a)),{},{payload:u,item:o})};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function g4(e){return hCe(e)||fCe(e)||dCe(e)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCe(e,t){if(e){if(typeof e=="string")return A_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A_(e,t)}}function fCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hCe(e){if(Array.isArray(e))return A_(e)}function A_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){ed(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ed(e,t,r){return t=mCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mCe(e){var t=pCe(e,"string");return Qm(t)=="symbol"?t:t+""}function pCe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mn(e,t,r){return kt(e)||kt(t)?r:ln(t)?Ts(e,t,r):ft(t)?t(e):r}function Wh(e,t,r,n){var a=fke(e,function(l){return Mn(l,t)});if(r==="number"){var i=a.filter(function(l){return Ce(l)||parseFloat(l)});return i.length?[R0(i),I0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!kt(l)}):a;return o.map(function(l){return ln(l)||l instanceof Date?l:""})}var gCe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Hn(f-d)!==Hn(h-f)){var b=[];if(Hn(h-f)===Hn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];b[0]=Math.min(m,(m+d)/2),b[1]=Math.max(m,(m+d)/2)}else{p=d;var w=h+c[1]-c[0];b[0]=Math.min(f,(w+f)/2),b[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=b[0]&&t<=b[1]){o=a[u].index;break}}else{var g=Math.min(d,h),y=Math.max(d,h);if(t>(g+f)/2&&t<=(y+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},F2=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},vCe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var b=d[f[h]],m=b.items,w=b.cateAxisId,v=m.filter(function(S){return Mi(S.type).indexOf("Bar")>=0});if(v&&v.length){var g=v[0].type.defaultProps,y=g!==void 0?Rr(Rr({},g),v[0].props):v[0].props,j=y.barSize,_=y[w];o[_]||(o[_]=[]);var N=kt(j)?r:j;o[_].push({item:v[0],stackList:v.slice(1),barSize:kt(N)?void 0:Gn(N,n,0)})}}return o},xCe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Gn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,b=o.reduce(function(j,_){return j+_.barSize||0},0);b+=(c-1)*u,b>=a&&(b-=(c-1)*u,u=0),b>=a&&p>0&&(h=!0,p*=.9,b=c*p);var m=(a-b)/2>>0,w={offset:m-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:w.offset+w.size+u,size:h?p:_.barSize}},S=[].concat(g4(j),[N]);return w=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(k){S.push({item:k,position:w})}),S},f)}else{var v=Gn(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var g=(a-2*v-(c-1)*u)/c;g>1&&(g>>=0);var y=l===+l?Math.min(g,l):g;d=o.reduce(function(j,_,N){var S=[].concat(g4(j),[{item:_.item,position:{offset:v+(g+u)*N+(g-y)/2,size:y}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},yCe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=eq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,b=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&b==="middle")&&p!=="center"&&Ce(t[p]))return Rr(Rr({},t),{},ed({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&b!=="middle"&&Ce(t[b]))return Rr(Rr({},t),{},ed({},b,t[b]+(h||0)))}return t},bCe=function(t,r,n){return kt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},tq=function(t,r,n,a,i){var o=r.props.children,l=ta(o,L0).filter(function(u){return bCe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Mn(d,n);if(kt(f))return u;var h=Array.isArray(f)?[R0(f),I0(f)]:[f,f],p=c.reduce(function(b,m){var w=Mn(d,m,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),g=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,b[0]),Math.max(g,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},wCe=function(t,r,n,a,i){var o=r.map(function(l){return tq(t,l,n,i,a)}).filter(function(l){return!kt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},rq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&tq(t,c,u,a)||Wh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},nq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},sq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ti=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Hn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Zp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Pj=new WeakMap,nv=function(t,r){if(typeof r!="function")return t;Pj.has(t)||Pj.set(t,new WeakMap);var n=Pj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},aq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Bm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:iy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:zh(),realScaleType:"point"}:i==="category"?{scale:Bm(),realScaleType:"band"}:{scale:iy(),realScaleType:"linear"};if(_c(a)){var c="scale".concat(x0(a));return{scale:(u4[c]||zh)(),realScaleType:u4[c]?c:"point"}}return ft(a)?{scale:a}:{scale:zh(),realScaleType:"point"}},x4=1e-4,iq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-x4,o=Math.max(a[0],a[1])+x4,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},jCe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},NCe=function(t,r){if(!r||r.length!==2||!Ce(r[0])||!Ce(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ce(t[0])||t[0]<n)&&(i[0]=n),(!Ce(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},_Ce=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Zp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},SCe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Zp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},kCe={sign:_Ce,expand:Wpe,none:Dd,silhouette:Kpe,wiggle:Hpe,positive:SCe},CCe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=kCe[n],o=zpe().keys(a).value(function(l,c){return+Mn(l,c,0)}).order(t_).offset(i);return o(t)},PCe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Rr(Rr({},h.type.defaultProps),h.props):h.props,m=b.stackId,w=b.hide;if(w)return f;var v=b[n],g=f[v]||{hasStack:!1,stackGroups:{}};if(ln(m)){var y=g.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),g.hasStack=!0,g.stackGroups[m]=y}else g.stackGroups[eg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Rr(Rr({},f),{},ed({},v,g))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,w){var v=p.stackGroups[w];return Rr(Rr({},m),{},ed({},w,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:CCe(t,v.items,i)}))},b)}return Rr(Rr({},f),{},ed({},h,p))},d)},oq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Vke(u,i,l);return t.domain([R0(d),I0(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=qke(f,i,l);return{niceTicks:h}}return null},y4=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Mn(o,r.dataKey,r.domain[l]);return kt(c)?null:r.scale(c)-i/2+a},ECe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},ACe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ln(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},OCe=function(t){return t.reduce(function(r,n){return[R0(n.concat([r[0]]).filter(Ce)),I0(n.concat([r[1]]).filter(Ce))]},[1/0,-1/0])},lq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=OCe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},b4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O_=function(t,r,n){if(ft(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ce(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(b4.test(t[0])){var i=+b4.exec(t[0])[1];a[0]=r[0]-i}else ft(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ce(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(w4.test(t[1])){var o=+w4.exec(t[1])[1];a[1]=r[1]+o}else ft(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},hy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=h2(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},j4=function(t,r,n){return!t||!t.length||M0(t,Ts(n,"type.defaultProps.domain"))?r:t},cq=function(t,r){var n=t.type.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Rr(Rr({},ut(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:F2(t),value:Mn(r,a),type:c,payload:r,chartType:u,hide:d})};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return t=TCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TCe(e){var t=ICe(e,"string");return Ym(t)=="symbol"?t:t+""}function ICe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RCe(e,t){return LCe(e)||DCe(e,t)||$Ce(e,t)||MCe()}function MCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ce(e,t){if(e){if(typeof e=="string")return _4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _4(e,t)}}function _4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LCe(e){if(Array.isArray(e))return e}var my=Math.PI/180,FCe=function(t){return t*180/Math.PI},hr=function(t,r,n,a){return{x:t+Math.cos(-my*a)*n,y:r+Math.sin(-my*a)*n}},dq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UCe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Gn(t.cx,o,o/2),f=Gn(t.cy,l,l/2),h=dq(o,l,n),p=Gn(t.innerRadius,h,0),b=Gn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(w,v){var g=r[v],y=g.domain,j=g.reversed,_;if(kt(g.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[p,b]),j&&(_=[_[1],_[0]]);else{_=g.range;var N=_,S=RCe(N,2);c=S[0],u=S[1]}var k=aq(g,i),C=k.realScaleType,P=k.scale;P.domain(y).range(_),iq(P);var E=oq(P,wi(wi({},g),{},{realScaleType:C})),O=wi(wi(wi({},g),E),{},{range:_,radius:b,realScaleType:C,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:b,startAngle:c,endAngle:u});return wi(wi({},w),{},uq({},v,O))},{})},BCe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},VCe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=BCe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:FCe(u),angleInRadian:u}},qCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},zCe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},S4=function(t,r){var n=t.x,a=t.y,i=VCe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qCe(r),f=d.startAngle,h=d.endAngle,p=l,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?wi(wi({},r),{},{radius:o,angle:zCe(p,r)}):null},fq=function(t){return!x.isValidElement(t)&&!ft(t)&&typeof t!="boolean"?t.className:""};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}var WCe=["offset"];function KCe(e){return YCe(e)||QCe(e)||GCe(e)||HCe()}function HCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GCe(e,t){if(e){if(typeof e=="string")return T_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(e,t)}}function QCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YCe(e){if(Array.isArray(e))return T_(e)}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XCe(e,t){if(e==null)return{};var r=JCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){ZCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t,r){return t=e2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2e(e){var t=t2e(e,"string");return Xm(t)=="symbol"?t:t+""}function t2e(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}var r2e=function(t){var r=t.value,n=t.formatter,a=kt(t.children)?r:t.children;return ft(n)?n(a):a},n2e=function(t,r){var n=Hn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},s2e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,b=c.endAngle,m=c.clockWise,w=(f+h)/2,v=n2e(p,b),g=v>=0?1:-1,y,j;a==="insideStart"?(y=p+g*o,j=m):a==="insideEnd"?(y=b-g*o,j=!m):a==="end"&&(y=b+g*o,j=m),j=v<=0?j:!j;var _=hr(u,d,w,y),N=hr(u,d,w,y+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),k=kt(t.id)?eg("recharts-radial-line-"):t.id;return D.createElement("text",Jm({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:k,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(k)},r))},a2e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=hr(o,l,u+n,h),b=p.x,m=p.y;return{x:b,y:m,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,v=hr(o,l,w,h),g=v.x,y=v.y;return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},i2e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",b=f>0?"start":"end",m=u>=0?1:-1,w=m*a,v=m>0?"end":"start",g=m>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return tn(tn({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return tn(tn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-w,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return tn(tn({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return tn(tn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?tn({x:l+w,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideRight"?tn({x:l+u-w,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):i==="insideTop"?tn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},S):i==="insideBottom"?tn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?tn({x:l+w,y:c+h,textAnchor:g,verticalAnchor:b},S):i==="insideTopRight"?tn({x:l+u-w,y:c+h,textAnchor:v,verticalAnchor:b},S):i==="insideBottomLeft"?tn({x:l+w,y:c+d-h,textAnchor:g,verticalAnchor:p},S):i==="insideBottomRight"?tn({x:l+u-w,y:c+d-h,textAnchor:v,verticalAnchor:p},S):kf(i)&&(Ce(i.x)||Vl(i.x))&&(Ce(i.y)||Vl(i.y))?tn({x:l+Gn(i.x,u),y:c+Gn(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):tn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},o2e=function(t){return"cx"in t&&Ce(t.cx)};function pn(e){var t=e.offset,r=t===void 0?5:t,n=XCe(e,WCe),a=tn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||kt(l)&&kt(c)&&!x.isValidElement(u)&&!ft(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var p;if(ft(u)){if(p=x.createElement(u,a),x.isValidElement(p))return p}else p=r2e(a);var b=o2e(i),m=ut(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return s2e(a,p,m);var w=b?a2e(a):i2e(a);return D.createElement(kc,Jm({className:xt("recharts-label",f)},m,w,{breakAll:h}),p)}pn.displayName="Label";var hq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,b=t.left,m=t.width,w=t.height,v=t.clockWise,g=t.labelViewBox;if(g)return g;if(Ce(m)&&Ce(w)){if(Ce(f)&&Ce(h))return{x:f,y:h,width:m,height:w};if(Ce(p)&&Ce(b))return{x:p,y:b,width:m,height:w}}return Ce(f)&&Ce(h)?{x:f,y:h,width:0,height:0}:Ce(r)&&Ce(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},l2e=function(t,r){return t?t===!0?D.createElement(pn,{key:"label-implicit",viewBox:r}):ln(t)?D.createElement(pn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===pn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(pn,{key:"label-implicit",content:t,viewBox:r}):ft(t)?D.createElement(pn,{key:"label-implicit",content:t,viewBox:r}):kf(t)?D.createElement(pn,Jm({viewBox:r},t,{key:"label-implicit"})):null:null},c2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=hq(t),o=ta(a,pn).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=l2e(t.label,r||i);return[l].concat(KCe(o))};pn.parseViewBox=hq;pn.renderCallByParent=c2e;function u2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var d2e=u2e;const f2e=Qt(d2e);function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}var h2e=["valueAccessor"],m2e=["data","dataKey","clockWise","id","textBreakAll"];function p2e(e){return y2e(e)||x2e(e)||v2e(e)||g2e()}function g2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v2e(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function x2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y2e(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){b2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b2e(e,t,r){return t=w2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w2e(e){var t=j2e(e,"string");return Zm(t)=="symbol"?t:t+""}function j2e(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4(e,t){if(e==null)return{};var r=N2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _2e=function(t){return Array.isArray(t.value)?f2e(t.value):t.value};function Ko(e){var t=e.valueAccessor,r=t===void 0?_2e:t,n=E4(e,h2e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=E4(n,m2e);return!a||!a.length?null:D.createElement(Jt,{className:"recharts-label-list"},a.map(function(d,f){var h=kt(i)?r(d,f):Mn(d&&d.payload,i),p=kt(l)?{}:{id:"".concat(l,"-").concat(f)};return D.createElement(pn,py({},ut(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:pn.parseViewBox(kt(o)?d:P4(P4({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ko.displayName="LabelList";function S2e(e,t){return e?e===!0?D.createElement(Ko,{key:"labelList-implicit",data:t}):D.isValidElement(e)||ft(e)?D.createElement(Ko,{key:"labelList-implicit",data:t,content:e}):kf(e)?D.createElement(Ko,py({data:t},e,{key:"labelList-implicit"})):null:null}function k2e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ta(n,Ko).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=S2e(e.label,t);return[i].concat(p2e(a))}Ko.renderCallByParent=k2e;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){C2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C2e(e,t,r){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=E2e(e,"string");return ep(t)=="symbol"?t:t+""}function E2e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A2e=function(t,r){var n=Hn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},sv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/my,h=u?i:i+o*f,p=hr(r,n,d,h),b=hr(r,n,a,h),m=u?i-o*f:i,w=hr(r,n,d*Math.cos(f*my),m);return{center:p,circleTangency:b,lineTangency:w,theta:f}},mq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=A2e(o,l),u=o+c,d=hr(r,n,i,o),f=hr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=hr(r,n,a,o),b=hr(r,n,a,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},O2e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Hn(d-u),h=sv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,b=h.lineTangency,m=h.theta,w=sv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=w.circleTangency,g=w.lineTangency,y=w.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-y;if(j<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):mq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var N=sv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,P=sv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,O=P.lineTangency,I=P.theta,T=c?Math.abs(u-d):Math.abs(u-d)-C-I;if(T<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},T2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pq=function(t){var r=O4(O4({},T2e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=xt("recharts-sector",h),b=o-i,m=Gn(l,b,0,!0),w;return m>0&&Math.abs(d-f)<360?w=O2e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):w=mq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",R_({},ut(r,!0),{className:p,d:w,role:"img"}))};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){I2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I2e(e,t,r){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2e(e){var t=M2e(e,"string");return tp(t)=="symbol"?t:t+""}function M2e(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R4={curveBasisClosed:Ipe,curveBasisOpen:Rpe,curveBasis:Tpe,curveBumpX:xpe,curveBumpY:ype,curveLinearClosed:Mpe,curveLinear:b0,curveMonotoneX:$pe,curveMonotoneY:Dpe,curveNatural:Lpe,curveStep:Fpe,curveStepAfter:Bpe,curveStepBefore:Upe},av=function(t){return t.x===+t.x&&t.y===+t.y},ch=function(t){return t.x},uh=function(t){return t.y},$2e=function(t,r){if(ft(t))return t;var n="curve".concat(x0(t));return(n==="curveMonotone"||n==="curveBump")&&r?R4["".concat(n).concat(r==="vertical"?"Y":"X")]:R4[n]||b0},D2e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=$2e(n,l),f=u?i.filter(function(m){return av(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return av(m)}):o,b=f.map(function(m,w){return I4(I4({},m),{},{base:p[w]})});return l==="vertical"?h=Qg().y(uh).x1(ch).x0(function(m){return m.base.x}):h=Qg().x(ch).y1(uh).y0(function(m){return m.base.y}),h.defined(av).curve(d),h(b)}return l==="vertical"&&Ce(o)?h=Qg().y(uh).x1(ch).x0(o):Ce(o)?h=Qg().x(ch).y1(uh).y0(o):h=cB().x(ch).y(uh),h.defined(av).curve(d),h(f)},$_=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?D2e(t):a;return x.createElement("path",M_({},ut(t,!1),Ux(t),{className:xt("recharts-curve",r),d:o,ref:i}))},gq={exports:{}},L2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F2e=L2e,U2e=F2e;function vq(){}function xq(){}xq.resetWarningCache=vq;var B2e=function(){function e(n,a,i,o,l,c){if(c!==U2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xq,resetWarningCache:vq};return r.PropTypes=r,r};gq.exports=B2e();var V2e=gq.exports;const qt=Qt(V2e),{getOwnPropertyNames:q2e,getOwnPropertySymbols:z2e}=Object,{hasOwnProperty:W2e}=Object.prototype;function Ej(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function iv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function K2e(e){return e!=null?e[Symbol.toStringTag]:void 0}function M4(e){return q2e(e).concat(z2e(e))}const H2e=Object.hasOwn||((e,t)=>W2e.call(e,t));function Fc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const G2e="__v",Q2e="__o",Y2e="_owner",{getOwnPropertyDescriptor:$4,keys:D4}=Object;function X2e(e,t){return e.byteLength===t.byteLength&&gy(new Uint8Array(e),new Uint8Array(t))}function J2e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Z2e(e,t){return e.byteLength===t.byteLength&&gy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function ePe(e,t){return Fc(e.getTime(),t.getTime())}function tPe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rPe(e,t){return e===t}function L4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const nPe=Fc;function sPe(e,t,r){const n=D4(e);let a=n.length;if(D4(t).length!==a)return!1;for(;a-- >0;)if(!yq(e,t,r,n[a]))return!1;return!0}function dh(e,t,r){const n=M4(e);let a=n.length;if(M4(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!yq(e,t,r,i)||(o=$4(e,i),l=$4(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function aPe(e,t){return Fc(e.valueOf(),t.valueOf())}function iPe(e,t){return e.source===t.source&&e.flags===t.flags}function F4(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function gy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oPe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function yq(e,t,r,n){return(n===Y2e||n===Q2e||n===G2e)&&(e.$$typeof||t.$$typeof)?!0:H2e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const lPe="[object ArrayBuffer]",cPe="[object Arguments]",uPe="[object Boolean]",dPe="[object DataView]",fPe="[object Date]",hPe="[object Error]",mPe="[object Map]",pPe="[object Number]",gPe="[object Object]",vPe="[object RegExp]",xPe="[object Set]",yPe="[object String]",bPe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wPe="[object URL]",jPe=Object.prototype.toString;function NPe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:b}){return function(w,v,g){if(w===v)return!0;if(w==null||v==null)return!1;const y=typeof w;if(y!==typeof v)return!1;if(y!=="object")return y==="number"?l(w,v,g):y==="function"?i(w,v,g):!1;const j=w.constructor;if(j!==v.constructor)return!1;if(j===Object)return c(w,v,g);if(Array.isArray(w))return t(w,v,g);if(j===Date)return n(w,v,g);if(j===RegExp)return d(w,v,g);if(j===Map)return o(w,v,g);if(j===Set)return f(w,v,g);const _=jPe.call(w);if(_===fPe)return n(w,v,g);if(_===vPe)return d(w,v,g);if(_===mPe)return o(w,v,g);if(_===xPe)return f(w,v,g);if(_===gPe)return typeof w.then!="function"&&typeof v.then!="function"&&c(w,v,g);if(_===wPe)return p(w,v,g);if(_===hPe)return a(w,v,g);if(_===cPe)return c(w,v,g);if(bPe[_])return h(w,v,g);if(_===lPe)return e(w,v,g);if(_===dPe)return r(w,v,g);if(_===uPe||_===pPe||_===yPe)return u(w,v,g);if(b){let N=b[_];if(!N){const S=K2e(w);S&&(N=b[S])}if(N)return N(w,v,g)}return!1}}function _Pe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:X2e,areArraysEqual:r?dh:J2e,areDataViewsEqual:Z2e,areDatesEqual:ePe,areErrorsEqual:tPe,areFunctionsEqual:rPe,areMapsEqual:r?Ej(L4,dh):L4,areNumbersEqual:nPe,areObjectsEqual:r?dh:sPe,arePrimitiveWrappersEqual:aPe,areRegExpsEqual:iPe,areSetsEqual:r?Ej(F4,dh):F4,areTypedArraysEqual:r?Ej(gy,dh):gy,areUrlsEqual:oPe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=iv(n.areArraysEqual),i=iv(n.areMapsEqual),o=iv(n.areObjectsEqual),l=iv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function SPe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function kPe({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const CPe=hl();hl({strict:!0});hl({circular:!0});hl({circular:!0,strict:!0});hl({createInternalComparator:()=>Fc});hl({strict:!0,createInternalComparator:()=>Fc});hl({circular:!0,createInternalComparator:()=>Fc});hl({circular:!0,createInternalComparator:()=>Fc,strict:!0});function hl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=_Pe(e),o=NPe(i),l=r?r(o):SPe(o);return kPe({circular:t,comparator:o,createState:n,equals:l,strict:a})}function PPe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function U4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):PPe(a)};requestAnimationFrame(n)}function D_(e){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D_(e)}function EPe(e){return IPe(e)||TPe(e)||OPe(e)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPe(e,t){if(e){if(typeof e=="string")return B4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B4(e,t)}}function B4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IPe(e){if(Array.isArray(e))return e}function RPe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=EPe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){U4(a.bind(null,u),c);return}a(c),U4(a.bind(null,u));return}D_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return t=MPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MPe(e){var t=$Pe(e,"string");return rp(t)==="symbol"?t:String(t)}function $Pe(e,t){if(rp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DPe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},LPe=function(t){return t},FPe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kh=function(t,r){return Object.keys(r).reduce(function(n,a){return q4(q4({},n),{},bq({},a,t(a,r[a])))},{})},z4=function(t,r,n){return t.map(function(a){return"".concat(FPe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function UPe(e,t){return qPe(e)||VPe(e,t)||wq(e,t)||BPe()}function BPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qPe(e){if(Array.isArray(e))return e}function zPe(e){return HPe(e)||KPe(e)||wq(e)||WPe()}function WPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(e,t){if(e){if(typeof e=="string")return L_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(e,t)}}function KPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HPe(e){if(Array.isArray(e))return L_(e)}function L_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vy=1e-4,jq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Nq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},W4=function(t,r){return function(n){var a=jq(t,r);return Nq(a,n)}},GPe=function(t,r){return function(n){var a=jq(t,r),i=[].concat(zPe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Nq(i,n)}},K4=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=UPe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=W4(a,o),h=W4(i,l),p=GPe(a,o),b=function(v){return v>1?1:v<0?0:v},m=function(v){for(var g=v>1?1:v,y=g,j=0;j<8;++j){var _=f(y)-g,N=p(y);if(Math.abs(_-g)<vy||N<vy)return h(y);y=b(y-_/N)}return h(y)};return m.isStepper=!1,m},QPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,b=h*i,m=h+(p-b)*l/1e3,w=h*l/1e3+d;return Math.abs(w-f)<vy&&Math.abs(m)<vy?[f,0]:[w,m]};return c.isStepper=!0,c.dt=l,c},YPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return K4(a);case"spring":return QPe();default:if(a.split("(")[0]==="cubic-bezier")return K4(a)}return typeof a=="function"?a:null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function H4(e){return ZPe(e)||JPe(e)||_q(e)||XPe()}function XPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZPe(e){if(Array.isArray(e))return U_(e)}function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){F_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F_(e,t,r){return t=eEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eEe(e){var t=tEe(e,"string");return np(t)==="symbol"?t:String(t)}function tEe(e,t){if(np(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rEe(e,t){return aEe(e)||sEe(e,t)||_q(e,t)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aEe(e){if(Array.isArray(e))return e}var xy=function(t,r,n){return t+(r-t)*n},B_=function(t){var r=t.from,n=t.to;return r!==n},iEe=function e(t,r,n){var a=Kh(function(i,o){if(B_(o)){var l=t(o.from,o.to,o.velocity),c=rEe(l,2),u=c[0],d=c[1];return jn(jn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Kh(function(i,o){return B_(o)?jn(jn({},o),{},{velocity:xy(o.velocity,a[i].velocity,n),from:xy(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const oEe=function(e,t,r,n,a){var i=DPe(e,t),o=i.reduce(function(w,v){return jn(jn({},w),{},F_({},v,[e[v],t[v]]))},{}),l=i.reduce(function(w,v){return jn(jn({},w),{},F_({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Kh(function(v,g){return g.from},l)},p=function(){return!Object.values(l).filter(B_).length},b=function(v){u||(u=v);var g=v-u,y=g/r.dt;l=iEe(r,l,y),a(jn(jn(jn({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},m=function(v){d||(d=v);var g=(v-d)/n,y=Kh(function(_,N){return xy.apply(void 0,H4(N).concat([r(g)]))},o);if(a(jn(jn(jn({},e),t),y)),g<1)c=requestAnimationFrame(f);else{var j=Kh(function(_,N){return xy.apply(void 0,H4(N).concat([r(1)]))},o);a(jn(jn(jn({},e),t),j))}};return f=r.isStepper?b:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}var lEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cEe(e,t){if(e==null)return{};var r=uEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uEe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Aj(e){return mEe(e)||hEe(e)||fEe(e)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function hEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mEe(e){if(Array.isArray(e))return V_(e)}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kh(e,t,r){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sq(n.key),n)}}function vEe(e,t,r){return t&&gEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sq(e){var t=xEe(e,"string");return Kd(t)==="symbol"?t:String(t)}function xEe(e,t){if(Kd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q_(e,t)}function bEe(e){var t=wEe();return function(){var n=yy(e),a;if(t){var i=yy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return z_(this,a)}}function z_(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_(e)}function W_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}var Yi=function(e){yEe(r,e);var t=bEe(r);function r(n,a){var i;pEe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(W_(i)),i.changeStyle=i.changeStyle.bind(W_(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),z_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},z_(i);i.state={style:c?kh({},c,u):u}}else i.state={style:{}};return i}return vEe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?kh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(CPe(a.to,d)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=b||u?f:a.to;if(this.state&&h){var w={style:c?kh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(w)}this.runAnimation(pa(pa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=oEe(o,l,YPe(u),c,this.changeStyle),b=function(){i.stopJSAnimation=p()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,w,v){if(v===0)return m;var g=w.duration,y=w.easing,j=y===void 0?"ease":y,_=w.style,N=w.properties,S=w.onAnimationEnd,k=v>0?o[v-1]:w,C=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Aj(m),[i.runJSAnimation.bind(i,{from:k.style,to:_,duration:g,easing:j}),g]);var P=z4(C,g,j),E=pa(pa(pa({},k.style),_),{},{transition:P});return[].concat(Aj(m),[E,g,S]).filter(LPe)};return this.manager.start([c].concat(Aj(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=RPe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?kh({},l,c):c,w=z4(Object.keys(m),o,u);b.start([d,i,pa(pa({},m),{},{transition:w}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=cEe(a,lEe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var b=p.props,m=b.style,w=m===void 0?{}:m,v=b.className,g=x.cloneElement(p,pa(pa({},c),{},{style:pa(pa({},w),d),className:v}));return g};return u===1?f(x.Children.only(i)):D.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);Yi.displayName="Animate";Yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yi.propTypes={from:qt.oneOfType([qt.object,qt.string]),to:qt.oneOfType([qt.object,qt.string]),attributeName:qt.string,duration:qt.number,begin:qt.number,easing:qt.oneOfType([qt.string,qt.func]),steps:qt.arrayOf(qt.shape({duration:qt.number.isRequired,style:qt.object.isRequired,easing:qt.oneOfType([qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qt.func]),properties:qt.arrayOf("string"),onAnimationEnd:qt.func})),children:qt.oneOfType([qt.node,qt.func]),isActive:qt.bool,canBegin:qt.bool,onAnimationEnd:qt.func,shouldReAnimate:qt.bool,onAnimationStart:qt.func,onAnimationReStart:qt.func};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(this,arguments)}function jEe(e,t){return kEe(e)||SEe(e,t)||_Ee(e,t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return Y4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y4(e,t)}}function Y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kEe(e){if(Array.isArray(e))return e}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){CEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CEe(e,t,r){return t=PEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PEe(e){var t=EEe(e,"string");return sp(t)=="symbol"?t:t+""}function EEe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-c*b,",").concat(r+a,`
            L `).concat(t+c*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*b," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},AEe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},OEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U2=function(t){var r=J4(J4({},OEe),t),n=x.useRef(),a=x.useState(-1),i=jEe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,b=r.animationEasing,m=r.animationDuration,w=r.animationBegin,v=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=xt("recharts-rectangle",p);return g?D.createElement(Yi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:b,isActive:g},function(j){var _=j.width,N=j.height,S=j.x,k=j.y;return D.createElement(Yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,isActive:v,easing:b},D.createElement("path",by({},ut(r,!0),{className:y,d:Z4(S,k,_,N,h),ref:n})))}):D.createElement("path",by({},ut(r,!0),{className:y,d:Z4(c,u,d,f,h)}))},TEe=["points","className","baseLinePoints","connectNulls"];function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(this,arguments)}function IEe(e,t){if(e==null)return{};var r=REe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function REe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eR(e){return LEe(e)||DEe(e)||$Ee(e)||MEe()}function MEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ee(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function DEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LEe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tR=function(t){return t&&t.x===+t.x&&t.y===+t.y},FEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){tR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Hh=function(t,r){var n=FEe(t);r&&(n=[n.reduce(function(i,o){return[].concat(eR(i),eR(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},UEe=function(t,r,n){var a=Hh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Hh(r.reverse(),n).slice(1))},BEe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=IEe(t,TEe);if(!r||!r.length)return null;var l=xt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=UEe(r,a,i);return D.createElement("g",{className:l},D.createElement("path",Fu({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?D.createElement("path",Fu({},ut(o,!0),{fill:"none",d:Hh(r,i)})):null,c?D.createElement("path",Fu({},ut(o,!0),{fill:"none",d:Hh(a,i)})):null)}var d=Hh(r,i);return D.createElement("path",Fu({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(this,arguments)}var B2=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=xt("recharts-dot",i);return r===+r&&n===+n&&a===+a?x.createElement("circle",H_({},ut(t,!1),Ux(t),{className:o,cx:r,cy:n,r:a})):null};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var VEe=["x","y","top","left","width","height","className"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G_.apply(this,arguments)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){zEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zEe(e,t,r){return t=WEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WEe(e){var t=KEe(e,"string");return ap(t)=="symbol"?t:t+""}function KEe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HEe(e,t){if(e==null)return{};var r=GEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QEe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},YEe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,b=t.className,m=HEe(t,VEe),w=qEe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Ce(n)||!Ce(i)||!Ce(f)||!Ce(p)||!Ce(l)||!Ce(u)?null:D.createElement("path",G_({},ut(w,!0),{className:xt("recharts-cross",b),d:QEe(n,i,f,p,l,u)}))},XEe=T0,JEe=DV,ZEe=hi;function eAe(e,t){return e&&e.length?XEe(e,ZEe(t),JEe):void 0}var tAe=eAe;const rAe=Qt(tAe);var nAe=T0,sAe=hi,aAe=LV;function iAe(e,t){return e&&e.length?nAe(e,sAe(t),aAe):void 0}var oAe=iAe;const lAe=Qt(oAe);var cAe=["cx","cy","angle","ticks","axisLine"],uAe=["ticks","tick","angle","tickFormatter","stroke"];function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){F0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sR(e,t){if(e==null)return{};var r=dAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function hAe(e,t,r){return t&&aR(e.prototype,t),r&&aR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mAe(e,t,r){return t=wy(t),pAe(e,kq()?Reflect.construct(t,r||[],wy(e).constructor):t.apply(e,r))}function pAe(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(e)}function gAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(e)}function vAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q_(e,t)}function F0(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=xAe(e,"string");return Hd(t)=="symbol"?t:t+""}function xAe(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U0=function(e){function t(){return fAe(this,t),mAe(this,t,arguments)}return vAe(t,e),hAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return hr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=rAe(l,function(d){return d.coordinate||0}),u=lAe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=sR(n,cAe),d=l.reduce(function(b,m){return[Math.min(b[0],m.coordinate),Math.max(b[1],m.coordinate)]},[1/0,-1/0]),f=hr(a,i,d[0],o),h=hr(a,i,d[1],o),p=_l(_l(_l({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",Gh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=sR(a,uAe),f=this.getTickTextAnchor(),h=ut(d,!1),p=ut(o,!1),b=i.map(function(m,w){var v=n.getTickValueCoord(m),g=_l(_l(_l(_l({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},v),{},{payload:m});return D.createElement(Jt,Gh({className:xt("recharts-polar-radius-axis-tick",fq(o)),key:"tick-".concat(m.coordinate)},Sc(n.props,m,w)),t.renderTickItem(o,g,c?c(m.value,w):m.value))});return D.createElement(Jt,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:D.createElement(Jt,{className:xt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):ft(n)?o=n(a):o=D.createElement(kc,Gh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(x.PureComponent);F0(U0,"displayName","PolarRadiusAxis");F0(U0,"axisType","radiusAxis");F0(U0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){B0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eq(n.key),n)}}function bAe(e,t,r){return t&&oR(e.prototype,t),r&&oR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e,t,r){return t=jy(t),jAe(e,Pq()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function jAe(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NAe(e)}function NAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function _Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y_(e,t)}function B0(e,t,r){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=SAe(e,"string");return Gd(t)=="symbol"?t:t+""}function SAe(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kAe=Math.PI/180,lR=1e-5,V0=function(e){function t(){return yAe(this,t),wAe(this,t,arguments)}return _Ae(t,e),bAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=hr(i,o,l,n.coordinate),h=hr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*kAe),o;return i>lR?o=a==="outer"?"start":"end":i<-lR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Sl(Sl({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return D.createElement(B2,Ml({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return hr(a,i,o,h.coordinate)});return D.createElement(BEe,Ml({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ut(this.props,!1),f=ut(o,!1),h=Sl(Sl({},d),{},{fill:"none"},ut(l,!1)),p=i.map(function(b,m){var w=n.getTickLineCoord(b),v=n.getTickTextAnchor(b),g=Sl(Sl(Sl({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:b,x:w.x2,y:w.y2});return D.createElement(Jt,Ml({className:xt("recharts-polar-angle-axis-tick",fq(o)),key:"tick-".concat(b.coordinate)},Sc(n.props,b,m)),l&&D.createElement("line",Ml({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&t.renderTickItem(o,g,c?c(b.value,m):b.value))});return D.createElement(Jt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:D.createElement(Jt,{className:xt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,a):ft(n)?o=n(a):o=D.createElement(kc,Ml({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(x.PureComponent);B0(V0,"displayName","PolarAngleAxis");B0(V0,"axisType","angleAxis");B0(V0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var CAe=IB,PAe=CAe(Object.getPrototypeOf,Object),EAe=PAe,AAe=to,OAe=EAe,TAe=ro,IAe="[object Object]",RAe=Function.prototype,MAe=Object.prototype,Aq=RAe.toString,$Ae=MAe.hasOwnProperty,DAe=Aq.call(Object);function LAe(e){if(!TAe(e)||AAe(e)!=IAe)return!1;var t=OAe(e);if(t===null)return!0;var r=$Ae.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Aq.call(r)==DAe}var FAe=LAe;const UAe=Qt(FAe);var BAe=to,VAe=ro,qAe="[object Boolean]";function zAe(e){return e===!0||e===!1||VAe(e)&&BAe(e)==qAe}var WAe=zAe;const KAe=Qt(WAe);function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function HAe(e,t){return XAe(e)||YAe(e,t)||QAe(e,t)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(e,t){if(e){if(typeof e=="string")return cR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(e,t)}}function cR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XAe(e){if(Array.isArray(e))return e}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){JAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JAe(e,t,r){return t=ZAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZAe(e){var t=eOe(e,"string");return ip(t)=="symbol"?t:t+""}function eOe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},tOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rOe=function(t){var r=dR(dR({},tOe),t),n=x.useRef(),a=x.useState(-1),i=HAe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,b=r.animationEasing,m=r.animationDuration,w=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=xt("recharts-trapezoid",p);return v?D.createElement(Yi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:b,isActive:v},function(y){var j=y.upperWidth,_=y.lowerWidth,N=y.height,S=y.x,k=y.y;return D.createElement(Yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:m,easing:b},D.createElement("path",Ny({},ut(r,!0),{className:g,d:fR(S,k,j,_,N),ref:n})))}):D.createElement("g",null,D.createElement("path",Ny({},ut(r,!0),{className:g,d:fR(c,u,d,f,h)})))},nOe=["option","shapeType","propTransformer","activeClassName","isActive"];function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function sOe(e,t){if(e==null)return{};var r=aOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){iOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iOe(e,t,r){return t=oOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oOe(e){var t=lOe(e,"string");return op(t)=="symbol"?t:t+""}function lOe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cOe(e,t){return _y(_y({},t),e)}function uOe(e,t){return e==="symbols"}function mR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(U2,r);case"trapezoid":return D.createElement(rOe,r);case"sector":return D.createElement(pq,r);case"symbols":if(uOe(t))return D.createElement(a2,r);break;default:return null}}function dOe(e){return x.isValidElement(e)?e.props:e}function Oq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?cOe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=sOe(e,nOe),u;if(x.isValidElement(t))u=x.cloneElement(t,_y(_y({},c),dOe(t)));else if(ft(t))u=t(c);else if(UAe(t)&&!KAe(t)){var d=a(t,c);u=D.createElement(mR,{shapeType:r,elementProps:d})}else{var f=c;u=D.createElement(mR,{shapeType:r,elementProps:f})}return l?D.createElement(Jt,{className:o},u):u}function q0(e,t){return t!=null&&"trapezoids"in e.props}function z0(e,t){return t!=null&&"sectors"in e.props}function lp(e,t){return t!=null&&"points"in e.props}function fOe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function hOe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mOe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function pOe(e,t){var r;return q0(e,t)?r=fOe:z0(e,t)?r=hOe:lp(e,t)&&(r=mOe),r}function gOe(e,t){var r;return q0(e,t)?r="trapezoids":z0(e,t)?r="sectors":lp(e,t)&&(r="points"),r}function vOe(e,t){if(q0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(z0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return lp(e,t)?t.payload:{}}function xOe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=gOe(r,t),i=vOe(r,t),o=n.filter(function(c,u){var d=M0(i,c),f=r.props[a].filter(function(b){var m=pOe(r,t);return m(b,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Av;function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function bOe(e,t,r){return t&&gR(e.prototype,t),r&&gR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wOe(e,t,r){return t=Sy(t),jOe(e,Tq()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function jOe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NOe(e)}function NOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tq=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function _Oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X_(e,t)}function Qs(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=SOe(e,"string");return Qd(t)=="symbol"?t:t+""}function SOe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var so=function(e){function t(r){var n;return yOe(this,t),n=wOe(this,t,[r]),Qs(n,"pieRef",null),Qs(n,"sectorRefs",[]),Qs(n,"id",eg("recharts-pie-")),Qs(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(a)&&a()}),Qs(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return _Oe(t,e),bOe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ut(this.props,!1),f=ut(o,!1),h=ut(l,!1),p=o&&o.offsetRadius||20,b=n.map(function(m,w){var v=(m.startAngle+m.endAngle)/2,g=hr(m.cx,m.cy,m.outerRadius+p,v),y=ur(ur(ur(ur({},d),m),{},{stroke:"none"},f),{},{index:w,textAnchor:t.getTextAnchor(g.x,m.cx)},g),j=ur(ur(ur(ur({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:w,points:[hr(m.cx,m.cy,m.outerRadius,v),g]}),_=c;return kt(c)&&kt(u)?_="value":kt(c)&&(_=u),D.createElement(Jt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,y,Mn(m,_)))});return D.createElement(Jt,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,b=ur(ur({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return D.createElement(Jt,Uu({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Sc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(Oq,Uu({option:p,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return D.createElement(Yi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var m=b.t,w=[],v=i&&i[0],g=v.startAngle;return i.forEach(function(y,j){var _=h&&h[j],N=j>0?Ts(y,"paddingAngle",0):0;if(_){var S=go(_.endAngle-_.startAngle,y.endAngle-y.startAngle),k=ur(ur({},y),{},{startAngle:g+N,endAngle:g+S(m)+N});w.push(k),g=k.endAngle}else{var C=y.endAngle,P=y.startAngle,E=go(0,C-P),O=E(m),I=ur(ur({},y),{},{startAngle:g+N,endAngle:g+O+N});w.push(I),g=I.endAngle}}),D.createElement(Jt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!M0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!Ce(u)||!Ce(d)||!Ce(f)||!Ce(h))return null;var m=xt("recharts-pie",l);return D.createElement(Jt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),pn.renderCallByParent(this.props,null,!1),(!p||b)&&Ko.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);if(ft(n))return n(a);var o=xt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement($_,Uu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(D.isValidElement(n))return D.cloneElement(n,a);var o=i;if(ft(n)&&(o=n(a),D.isValidElement(o)))return o;var l=xt("recharts-pie-label-text",typeof n!="boolean"&&!ft(n)?n.className:"");return D.createElement(kc,Uu({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Av=so;Qs(so,"displayName","Pie");Qs(so,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!If.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qs(so,"parseDeltaAngle",function(e,t){var r=Hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qs(so,"getRealPieData",function(e){var t=e.data,r=e.children,n=ut(e,!1),a=ta(r,S0);return t&&t.length?t.map(function(i,o){return ur(ur(ur({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ur(ur({},n),i.props)}):[]});Qs(so,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=dq(a,i),l=n+Gn(e.cx,a,a/2),c=r+Gn(e.cy,i,i/2),u=Gn(e.innerRadius,o,0),d=Gn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Qs(so,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ur(ur({},t.type.defaultProps),t.props):t.props,a=Av.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),b=Av.parseCoordinateOfPie(n,r),m=Av.parseDeltaAngle(o,l),w=Math.abs(m),v=u;kt(u)&&kt(f)?(Ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):kt(u)&&(Ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var g=a.filter(function(k){return Mn(k,v,0)!==0}).length,y=(w>=360?g:g-1)*c,j=w-g*p-y,_=a.reduce(function(k,C){var P=Mn(C,v,0);return k+(Ce(P)?P:0)},0),N;if(_>0){var S;N=a.map(function(k,C){var P=Mn(k,v,0),E=Mn(k,d,C),O=(Ce(P)?P:0)/_,I;C?I=S.endAngle+Hn(m)*c*(P!==0?1:0):I=o;var T=I+Hn(m)*((P!==0?p:0)+O*j),$=(I+T)/2,V=(b.innerRadius+b.outerRadius)/2,K=[{name:E,value:P,payload:k,dataKey:v,type:h}],A=hr(b.cx,b.cy,V,$);return S=ur(ur(ur({percent:O,cornerRadius:i,name:E,tooltipPayload:K,midAngle:$,middleRadius:V,tooltipPosition:A},k),b),{},{value:Mn(k,v),startAngle:I,endAngle:T,payload:k,paddingAngle:Hn(m)*c}),S})}return ur(ur({},b),{},{sectors:N,data:a})});var kOe=Math.ceil,COe=Math.max;function POe(e,t,r,n){for(var a=-1,i=COe(kOe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var EOe=POe,AOe=JB,vR=1/0,OOe=17976931348623157e292;function TOe(e){if(!e)return e===0?e:0;if(e=AOe(e),e===vR||e===-vR){var t=e<0?-1:1;return t*OOe}return e===e?e:0}var Rq=TOe,IOe=EOe,ROe=_0,Oj=Rq;function MOe(e){return function(t,r,n){return n&&typeof n!="number"&&ROe(t,r,n)&&(r=n=void 0),t=Oj(t),r===void 0?(r=t,t=0):r=Oj(r),n=n===void 0?t<r?1:-1:Oj(n),IOe(t,r,n,e)}}var $Oe=MOe,DOe=$Oe,LOe=DOe(),FOe=LOe;const ky=Qt(FOe);function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return t=UOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UOe(e){var t=BOe(e,"string");return cp(t)=="symbol"?t:t+""}function BOe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VOe=["Webkit","Moz","O","ms"],qOe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=VOe.reduce(function(i,o){return yR(yR({},i),{},Mq({},o+n,r))},{});return a[t]=r,a};function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dq(n.key),n)}}function WOe(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KOe(e,t,r){return t=Py(t),HOe(e,$q()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function HOe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GOe(e)}function GOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function QOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J_(e,t)}function xs(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=YOe(e,"string");return Yd(t)=="symbol"?t:t+""}function YOe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XOe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=zh().domain(ky(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},jR=function(t){return t.changedTouches&&!!t.changedTouches.length},Xd=function(e){function t(r){var n;return zOe(this,t),n=KOe(this,t,[r]),xs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),xs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),xs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),xs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xs(n,"handleSlideDragStart",function(a){var i=jR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return QOe(t,e),WOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),b=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Mn(i[n],l,n);return ft(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,b=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var w=this.getIndex({startX:o+m,endX:l+m});(w.startIndex!==h||w.endIndex!==p)&&b&&b(w),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=jR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,b=d.onChange,m=d.gap,w=d.data,v={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),v[o]=u+g;var y=this.getIndex(v),j=y.startIndex,_=y.endIndex,N=function(){var k=w.length-1;return o==="startX"&&(l>c?j%m===0:_%m===0)||l<c&&_===k||o==="endX"&&(l>c?_%m===0:j%m===0)||l>c&&_===k};this.setState(xs(xs({},o,u+g),"brushMoveStartX",n.pageX),function(){b&&N()&&b(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(xs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?D.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,b=c.data,m=c.startIndex,w=c.endIndex,v=Math.max(n,this.props.x),g=Tj(Tj({},ut(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=b[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return D.createElement(Jt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,b={pointerEvents:"none",fill:u};return D.createElement(Jt,{className:"recharts-brush-texts"},D.createElement(kc,Cy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},b),this.getTextOfTick(a)),D.createElement(kc,Cy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,b=h.endX,m=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!Ce(l)||!Ce(c)||!Ce(u)||!Ce(d)||u<=0||d<=0)return null;var y=xt("recharts-brush",i),j=D.Children.count(o)===1,_=qOe("userSelect","none");return D.createElement(Jt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(m||w||v||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return D.isValidElement(n)?i=D.cloneElement(n,a):ft(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Tj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?XOe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);xs(Xd,"displayName","Brush");xs(Xd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var JOe=f2;function ZOe(e,t){var r;return JOe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var eTe=ZOe,tTe=SB,rTe=hi,nTe=eTe,sTe=gs,aTe=_0;function iTe(e,t,r){var n=sTe(e)?tTe:nTe;return r&&aTe(e,t,r)&&(t=void 0),n(e,rTe(t))}var oTe=iTe;const lTe=Qt(oTe);var oi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},NR=HB;function cTe(e,t,r){t=="__proto__"&&NR?NR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var uTe=cTe,dTe=uTe,fTe=WB,hTe=hi;function mTe(e,t){var r={};return t=hTe(t),fTe(e,function(n,a,i){dTe(r,a,t(n,a,i))}),r}var pTe=mTe;const gTe=Qt(pTe);function vTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var xTe=vTe,yTe=f2;function bTe(e,t){var r=!0;return yTe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var wTe=bTe,jTe=xTe,NTe=wTe,_Te=hi,STe=gs,kTe=_0;function CTe(e,t,r){var n=STe(e)?jTe:NTe;return r&&kTe(e,t,r)&&(t=void 0),n(e,_Te(t))}var PTe=CTe;const Lq=Qt(PTe);var ETe=["x","y"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z_.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){ATe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ATe(e,t,r){return t=OTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OTe(e){var t=TTe(e,"string");return up(t)=="symbol"?t:t+""}function TTe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ITe(e,t){if(e==null)return{};var r=RTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MTe(e,t){var r=e.x,n=e.y,a=ITe(e,ETe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return fh(fh(fh(fh(fh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function SR(e){return D.createElement(Oq,Z_({shapeType:"rectangle",propTransformer:MTe,activeClassName:"recharts-active-bar"},e))}var $Te=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ce(n)||sme(n);return i?t(n,a):(i||Pc(),r)}},DTe=["value","background"],Fq;function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function LTe(e,t){if(e==null)return{};var r=FTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){Io(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bq(n.key),n)}}function BTe(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VTe(e,t,r){return t=Ay(t),qTe(e,Uq()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function qTe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zTe(e)}function zTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function WTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eS(e,t)}function Io(e,t,r){return t=Bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=KTe(e,"string");return Jd(t)=="symbol"?t:t+""}function KTe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uc=function(e){function t(){var r;UTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=VTe(this,t,[].concat(a)),Io(r,"state",{isAnimationFinished:!1}),Io(r,"id",eg("recharts-bar-")),Io(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Io(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return WTe(t,e),BTe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ut(this.props,!1);return n&&n.map(function(f,h){var p=h===c,b=p?u:o,m=zr(zr(zr({},d),f),{},{isActive:p,option:b,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Jt,Ey({className:"recharts-bar-rectangle"},Sc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(SR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return D.createElement(Yi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,m=i.map(function(w,v){var g=h&&h[v];if(g){var y=go(g.x,w.x),j=go(g.y,w.y),_=go(g.width,w.width),N=go(g.height,w.height);return zr(zr({},w),{},{x:y(b),y:j(b),width:_(b),height:N(b)})}if(o==="horizontal"){var S=go(0,w.height),k=S(b);return zr(zr({},w),{},{y:w.y+w.height-k,height:k})}var C=go(0,w.width),P=C(b);return zr(zr({},w),{},{width:P})});return D.createElement(Jt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!M0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ut(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=LTe(u,DTe);if(!f)return null;var p=zr(zr(zr(zr(zr({},h),{},{fill:"#eee"},f),c),Sc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(SR,Ey({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ta(d,L0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,v){var g=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:g,errorVal:Mn(w,v)}},b={clipPath:n?"url(#clipPath-".concat(a,")"):null};return D.createElement(Jt,b,f.map(function(m){return D.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,b=n.background,m=n.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,v=xt("recharts-bar",o),g=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,j=g||y,_=kt(m)?this.id:m;return D.createElement(Jt,{className:v},g||y?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:g?u:u-f/2,y:y?d:d-h/2,width:g?f:f*2,height:y?h:h*2}))):null,D.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||w)&&Ko.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);Fq=Uc;Io(Uc,"displayName","Bar");Io(Uc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!If.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Io(Uc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=jCe(n,r);if(!p)return null;var b=t.layout,m=r.type.defaultProps,w=m!==void 0?zr(zr({},m),r.props):r.props,v=w.dataKey,g=w.children,y=w.minPointSize,j=b==="horizontal"?o:i,_=u?j.scale.domain():null,N=ECe({numericAxis:j}),S=ta(g,S0),k=f.map(function(C,P){var E,O,I,T,$,V;u?E=NCe(u[d+P],_):(E=Mn(C,v),Array.isArray(E)||(E=[N,E]));var K=$Te(y,Fq.defaultProps.minPointSize)(E[1],P);if(b==="horizontal"){var A,R=[o.scale(E[0]),o.scale(E[1])],Q=R[0],J=R[1];O=y4({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:C,index:P}),I=(A=J??Q)!==null&&A!==void 0?A:void 0,T=p.size;var F=Q-J;if($=Number.isNaN(F)?0:F,V={x:O,y:o.y,width:T,height:o.height},Math.abs(K)>0&&Math.abs($)<Math.abs(K)){var X=Hn($||K)*(Math.abs(K)-Math.abs($));I-=X,$+=X}}else{var H=[i.scale(E[0]),i.scale(E[1])],ie=H[0],ve=H[1];if(O=ie,I=y4({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:C,index:P}),T=ve-ie,$=p.size,V={x:i.x,y:I,width:i.width,height:$},Math.abs(K)>0&&Math.abs(T)<Math.abs(K)){var ne=Hn(T||K)*(Math.abs(K)-Math.abs(T));T+=ne}}return zr(zr(zr({},C),{},{x:O,y:I,width:T,height:$,value:u?E:E[1],payload:C,background:V},S&&S[P]&&S[P].props),{},{tooltipPayload:[cq(r,C)],tooltipPosition:{x:O+T/2,y:I+$/2}})});return zr({data:k,layout:b},h)});function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function HTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function GTe(e,t,r){return t&&PR(e.prototype,t),r&&PR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){W0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W0(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=QTe(e,"string");return dp(t)=="symbol"?t:t+""}function QTe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YTe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!bs(u,Uc);return d.reduce(function(p,b){var m=r[b],w=m.orientation,v=m.domain,g=m.padding,y=g===void 0?{}:g,j=m.mirror,_=m.reversed,N="".concat(w).concat(j?"Mirror":""),S,k,C,P,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=v[1]-v[0],I=1/0,T=m.categoricalDomain.sort(ome);if(T.forEach(function(H,ie){ie>0&&(I=Math.min((H||0)-(T[ie-1]||0),I))}),Number.isFinite(I)){var $=I/O,V=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=$*V/2),m.padding==="no-gap"){var K=Gn(t.barCategoryGap,$*V),A=$*V/2;S=A-K-(A-K)/V*K}}}a==="xAxis"?k=[n.left+(y.left||0)+(S||0),n.left+n.width-(y.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(S||0),n.top+n.height-(y.bottom||0)-(S||0)]:k=m.range,_&&(k=[k[1],k[0]]);var R=aq(m,i,h),Q=R.scale,J=R.realScaleType;Q.domain(v).range(k),iq(Q);var F=oq(Q,Sa(Sa({},m),{},{realScaleType:J}));a==="xAxis"?(E=w==="top"&&!j||w==="bottom"&&j,C=n.left,P=f[N]-E*m.height):a==="yAxis"&&(E=w==="left"&&!j||w==="right"&&j,C=f[N]-E*m.width,P=n.top);var X=Sa(Sa(Sa({},m),F),{},{realScaleType:J,x:C,y:P,scale:Q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return X.bandSize=hy(X,F),!m.hide&&a==="xAxis"?f[N]+=(E?-1:1)*X.height:m.hide||(f[N]+=(E?-1:1)*X.width),Sa(Sa({},p),{},W0({},b,X))},{})},qq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},XTe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return qq({x:r,y:n},{x:a,y:i})},zq=function(){function e(t){HTe(this,e),this.scale=t}return GTe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();W0(zq,"EPS",1e-4);var V2=function(t){var r=Object.keys(t).reduce(function(n,a){return Sa(Sa({},n),{},W0({},a,zq.create(t[a])))},{});return Sa(Sa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return gTe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Lq(a,function(i,o){return r[o].isInRange(i)})}})};function JTe(e){return(e%180+180)%180}var ZTe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=JTe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},eIe=hi,tIe=tg,rIe=j0;function nIe(e){return function(t,r,n){var a=Object(t);if(!tIe(t)){var i=eIe(r);t=rIe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var sIe=nIe,aIe=Rq;function iIe(e){var t=aIe(e),r=t%1;return t===t?r?t-r:t:0}var oIe=iIe,lIe=FB,cIe=hi,uIe=oIe,dIe=Math.max;function fIe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:uIe(r);return a<0&&(a=dIe(n+a,0)),lIe(e,cIe(t),a)}var hIe=fIe,mIe=sIe,pIe=hIe,gIe=mIe(pIe),vIe=gIe;const xIe=Qt(vIe);var yIe=uhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),q2=x.createContext(void 0),z2=x.createContext(void 0),Wq=x.createContext(void 0),Kq=x.createContext({}),Hq=x.createContext(void 0),Gq=x.createContext(0),Qq=x.createContext(0),AR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=yIe(i);return D.createElement(q2.Provider,{value:n},D.createElement(z2.Provider,{value:a},D.createElement(Kq.Provider,{value:i},D.createElement(Wq.Provider,{value:d},D.createElement(Hq.Provider,{value:o},D.createElement(Gq.Provider,{value:u},D.createElement(Qq.Provider,{value:c},l)))))))},bIe=function(){return x.useContext(Hq)},Yq=function(t){var r=x.useContext(q2);r==null&&Pc();var n=r[t];return n==null&&Pc(),n},wIe=function(){var t=x.useContext(q2);return wo(t)},jIe=function(){var t=x.useContext(z2),r=xIe(t,function(n){return Lq(n.domain,Number.isFinite)});return r||wo(t)},Xq=function(t){var r=x.useContext(z2);r==null&&Pc();var n=r[t];return n==null&&Pc(),n},NIe=function(){var t=x.useContext(Wq);return t},_Ie=function(){return x.useContext(Kq)},W2=function(){return x.useContext(Qq)},K2=function(){return x.useContext(Gq)};function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function SIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function CIe(e,t,r){return t&&kIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PIe(e,t,r){return t=Oy(t),EIe(e,Jq()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function EIe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AIe(e)}function AIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function OIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tS(e,t)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){H2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H2(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=TIe(e,"string");return Zd(t)=="symbol"?t:t+""}function TIe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IIe(e,t){return DIe(e)||$Ie(e,t)||MIe(e,t)||RIe()}function RIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MIe(e,t){if(e){if(typeof e=="string")return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Ie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DIe(e){if(Array.isArray(e))return e}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}var LIe=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):ft(t)?n=t(r):n=D.createElement("line",rS({},r,{className:"recharts-reference-line-line"})),n},FIe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var b=u.y,m=t.y.apply(b,{position:o});if(oi(u,"discard")&&!t.y.isInRange(m))return null;var w=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?w.reverse():w}if(r){var v=u.x,g=t.x.apply(v,{position:o});if(oi(u,"discard")&&!t.x.isInRange(g))return null;var y=[{x:g,y:f+p},{x:g,y:f}];return l==="top"?y.reverse():y}if(a){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return oi(u,"discard")&&lTe(_,function(N){return!t.isInRange(N)})?null:_}return null};function UIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=bIe(),d=Yq(a),f=Xq(i),h=NIe();if(!u||!h)return null;Ra(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=V2({x:d.scale,y:f.scale}),b=ln(t),m=ln(r),w=n&&n.length===2,v=FIe(p,b,m,w,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var g=IIe(v,2),y=g[0],j=y.x,_=y.y,N=g[1],S=N.x,k=N.y,C=oi(e,"hidden")?"url(#".concat(u,")"):void 0,P=TR(TR({clipPath:C},ut(e,!0)),{},{x1:j,y1:_,x2:S,y2:k});return D.createElement(Jt,{className:xt("recharts-reference-line",l)},LIe(o,P),pn.renderCallByParent(e,XTe({x1:j,y1:_,x2:S,y2:k})))}var G2=function(e){function t(){return SIe(this,t),PIe(this,t,arguments)}return OIe(t,e),CIe(t,[{key:"render",value:function(){return D.createElement(UIe,this.props)}}])}(D.Component);H2(G2,"displayName","ReferenceLine");H2(G2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nS.apply(this,arguments)}function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t9(n.key),n)}}function qIe(e,t,r){return t&&VIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zIe(e,t,r){return t=Ty(t),WIe(e,e9()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function WIe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(e)}function KIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}function HIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sS(e,t)}function K0(e,t,r){return t=t9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=GIe(e,"string");return ef(t)=="symbol"?t:t+""}function GIe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QIe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=V2({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return oi(t,"discard")&&!o.isInRange(l)?null:l},H0=function(e){function t(){return BIe(this,t),zIe(this,t,arguments)}return HIe(t,e),qIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ln(a),d=ln(i);if(Ra(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=QIe(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,m=b.shape,w=b.className,v=oi(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=MR(MR({clipPath:v},ut(this.props,!0)),{},{cx:h,cy:p});return D.createElement(Jt,{className:xt("recharts-reference-dot",w)},t.renderDot(m,g),pn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);K0(H0,"displayName","ReferenceDot");K0(H0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});K0(H0,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):ft(e)?r=e(t):r=D.createElement(B2,nS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n9(n.key),n)}}function JIe(e,t,r){return t&&XIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZIe(e,t,r){return t=Iy(t),e4e(e,r9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function e4e(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t4e(e)}function t4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function r4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iS(e,t)}function G0(e,t,r){return t=n9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=n4e(e,"string");return tf(t)=="symbol"?t:t+""}function n4e(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s4e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=V2({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return oi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:qq(p,b)},Q0=function(e){function t(){return YIe(this,t),ZIe(this,t,arguments)}return r4e(t,e),JIe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ra(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ln(a),h=ln(i),p=ln(o),b=ln(l),m=this.props.shape;if(!f&&!h&&!p&&!b&&!m)return null;var w=s4e(f,h,p,b,this.props);if(!w&&!m)return null;var v=oi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(Jt,{className:xt("recharts-reference-area",c)},t.renderRect(m,DR(DR({clipPath:v},ut(this.props,!0)),w)),pn.renderCallByParent(this.props,w))}}])}(D.Component);G0(Q0,"displayName","ReferenceArea");G0(Q0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});G0(Q0,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):ft(e)?r=e(t):r=D.createElement(U2,aS({},t,{className:"recharts-reference-area-rect"})),r});function s9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function a4e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ZTe(n,r)}function i4e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ry(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function o4e(e,t){return s9(e,t+1)}function l4e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:s9(n,u)};var m=c,w,v=function(){return w===void 0&&(w=r(b,m)),w},g=b.coordinate,y=c===0||Ry(e,g,v,d,l);y||(c=0,d=o,u+=1),y&&(d=g+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){c4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c4e(e,t,r){return t=u4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u4e(e){var t=d4e(e,"string");return fp(t)=="symbol"?t:t+""}function d4e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f4e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],b,m=function(){return b===void 0&&(b=r(p,h)),b};if(h===o-1){var w=e*(p.coordinate+e*m()/2-c);i[h]=p=Tn(Tn({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[h]=p=Tn(Tn({},p),{},{tickCoord:p.coordinate});var v=Ry(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+a),i[h]=Tn(Tn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function h4e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Tn(Tn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ry(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Tn(Tn({},d),{},{isShow:!0}))}for(var b=i?l-1:l,m=function(g){var y=o[g],j,_=function(){return j===void 0&&(j=r(y,g)),j};if(g===0){var N=e*(y.coordinate-e*_()/2-c);o[g]=y=Tn(Tn({},y),{},{tickCoord:N<0?y.coordinate-N*e:y.coordinate})}else o[g]=y=Tn(Tn({},y),{},{tickCoord:y.coordinate});var S=Ry(e,y.tickCoord,_,c,u);S&&(c=y.tickCoord+e*(_()/2+a),o[g]=Tn(Tn({},y),{},{isShow:!0}))},w=0;w<b;w++)m(w);return o}function Q2(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ce(c)||If.isSsr)return o4e(a,typeof c=="number"&&Ce(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",b=d&&p==="width"?qh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(y,j){var _=ft(u)?u(y.value,j):y.value;return p==="width"?a4e(qh(_,{fontSize:t,letterSpacing:r}),b,f):qh(_,{fontSize:t,letterSpacing:r})[p]},w=a.length>=2?Hn(a[1].coordinate-a[0].coordinate):1,v=i4e(i,w,p);return c==="equidistantPreserveStart"?l4e(w,v,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=h4e(w,v,m,a,o,c==="preserveStartEnd"):h=f4e(w,v,m,a,o),h.filter(function(g){return g.isShow}))}var m4e=["viewBox"],p4e=["viewBox"],g4e=["ticks"];function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){Y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ij(e,t){if(e==null)return{};var r=v4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i9(n.key),n)}}function y4e(e,t,r){return t&&UR(e.prototype,t),r&&UR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b4e(e,t,r){return t=My(t),w4e(e,a9()?Reflect.construct(t,r||[],My(e).constructor):t.apply(e,r))}function w4e(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j4e(e)}function j4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},My(e)}function N4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oS(e,t)}function Y2(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=_4e(e,"string");return rf(t)=="symbol"?t:t+""}function _4e(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Df=function(e){function t(r){var n;return x4e(this,t),n=b4e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return N4e(t,e),y4e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Ij(n,m4e),l=this.props,c=l.viewBox,u=Ij(l,p4e);return!Ju(i,c)||!Ju(o,u)||!Ju(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,b,m,w,v,g,y=f?-1:1,j=n.tickSize||d,_=Ce(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=b=n.coordinate,w=o+ +!f*c,m=w-y*j,g=m-y*h,v=_;break;case"left":m=w=n.coordinate,b=i+ +!f*l,p=b-y*j,v=p-y*h,g=_;break;case"right":m=w=n.coordinate,b=i+ +f*l,p=b+y*j,v=p+y*h,g=_;break;default:p=b=n.coordinate,w=o+ +f*c,m=w+y*j,g=m+y*h,v=_;break}return{line:{x1:p,y1:m,x2:b,y2:w},tick:{x:v,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=en(en(en({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=en(en({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=en(en({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return D.createElement("line",Bu({},f,{className:xt("recharts-cartesian-axis-line",Ts(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=Q2(en(en({},this.props),{},{ticks:n}),a,i),b=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),w=ut(this.props,!1),v=ut(d,!1),g=en(en({},w),{},{fill:"none"},ut(c,!1)),y=p.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,k=N.tick,C=en(en(en(en({textAnchor:b,verticalAnchor:m},w),{},{stroke:"none",fill:u},v),k),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(Jt,Bu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Sc(o.props,j,_)),c&&D.createElement("line",Bu({},g,S,{className:xt("recharts-cartesian-axis-tick-line",Ts(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(ft(f)?f(j.value,_):j.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Ij(f,g4e),b=h;return ft(c)&&(b=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!b||!b.length?null:D.createElement(Jt,{className:xt("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=xt(a.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,en(en({},a),{},{className:l})):ft(n)?o=n(en(en({},a),{},{className:l})):o=D.createElement(kc,Bu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);Y2(Df,"displayName","CartesianAxis");Y2(Df,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var S4e=["x1","y1","x2","y2","key"],k4e=["offset"];function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){C4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C4e(e,t,r){return t=P4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4e(e){var t=E4e(e,"string");return Ec(t)=="symbol"?t:t+""}function E4e(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function VR(e,t){if(e==null)return{};var r=A4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var O4e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return D.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function o9(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(ft(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=VR(t,S4e),u=ut(c,!1);u.offset;var d=VR(u,k4e);r=D.createElement("line",Wl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function T4e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rn(Rn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return o9(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function I4e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Rn(Rn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return o9(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function R4e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var b=!d[p+1],m=b?a+o-h:d[p+1]-h;if(m<=0)return null;var w=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function M4e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var b=!d[p+1],m=b?i+l-h:d[p+1]-h;if(m<=0)return null;var w=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var $4e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return sq(Q2(Rn(Rn(Rn({},Df.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},D4e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return sq(Q2(Rn(Rn(Rn({},Df.defaultProps),n),{},{ticks:Ti(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},hu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function l9(e){var t,r,n,a,i,o,l=W2(),c=K2(),u=_Ie(),d=Rn(Rn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:hu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:hu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:hu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:hu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:hu.verticalFill,x:Ce(e.x)?e.x:u.left,y:Ce(e.y)?e.y:u.top,width:Ce(e.width)?e.width:u.width,height:Ce(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,b=d.height,m=d.syncWithTicks,w=d.horizontalValues,v=d.verticalValues,g=wIe(),y=jIe();if(!Ce(p)||p<=0||!Ce(b)||b<=0||!Ce(f)||f!==+f||!Ce(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||$4e,_=d.horizontalCoordinatesGenerator||D4e,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&ft(_)){var k=w&&w.length,C=_({yAxis:y?Rn(Rn({},y),{},{ticks:k?w:y.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);Ra(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ec(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&ft(j)){var P=v&&v.length,E=j({xAxis:g?Rn(Rn({},g),{},{ticks:P?v:g.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);Ra(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ec(E),"]")),Array.isArray(E)&&(S=E)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(O4e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(T4e,Wl({},d,{offset:u,horizontalPoints:N,xAxis:g,yAxis:y})),D.createElement(I4e,Wl({},d,{offset:u,verticalPoints:S,xAxis:g,yAxis:y})),D.createElement(R4e,Wl({},d,{horizontalPoints:N})),D.createElement(M4e,Wl({},d,{verticalPoints:S})))}l9.displayName="CartesianGrid";function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function L4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d9(n.key),n)}}function U4e(e,t,r){return t&&F4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B4e(e,t,r){return t=$y(t),V4e(e,c9()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function V4e(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4e(e)}function q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function z4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lS(e,t)}function u9(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=W4e(e,"string");return nf(t)=="symbol"?t:t+""}function W4e(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function K4e(e){var t=e.xAxisId,r=W2(),n=K2(),a=Yq(t);return a==null?null:x.createElement(Df,cS({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ti(o,!0)}}))}var Y0=function(e){function t(){return L4e(this,t),B4e(this,t,arguments)}return z4e(t,e),U4e(t,[{key:"render",value:function(){return x.createElement(K4e,this.props)}}])}(x.Component);u9(Y0,"displayName","XAxis");u9(Y0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function H4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m9(n.key),n)}}function Q4e(e,t,r){return t&&G4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y4e(e,t,r){return t=Dy(t),X4e(e,f9()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function X4e(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(e)}function J4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function Z4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(e,t)}function h9(e,t,r){return t=m9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=eRe(e,"string");return sf(t)=="symbol"?t:t+""}function eRe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}var tRe=function(t){var r=t.yAxisId,n=W2(),a=K2(),i=Xq(r);return i==null?null:x.createElement(Df,dS({},i,{className:xt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ti(l,!0)}}))},X0=function(e){function t(){return H4e(this,t),Y4e(this,t,arguments)}return Z4e(t,e),Q4e(t,[{key:"render",value:function(){return x.createElement(tRe,this.props)}}])}(x.Component);h9(X0,"displayName","YAxis");h9(X0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qR(e){return aRe(e)||sRe(e)||nRe(e)||rRe()}function rRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nRe(e,t){if(e){if(typeof e=="string")return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(e,t)}}function sRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aRe(e){if(Array.isArray(e))return fS(e)}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hS=function(t,r,n,a,i){var o=ta(t,G2),l=ta(t,H0),c=[].concat(qR(o),qR(l)),u=ta(t,Q0),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,w){if(w.props[d]===n&&oi(w.props,"extendDomain")&&Ce(w.props[f])){var v=w.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(m,w){if(w.props[d]===n&&oi(w.props,"extendDomain")&&Ce(w.props[p])&&Ce(w.props[b])){var v=w.props[p],g=w.props[b];return[Math.min(m[0],v,g),Math.max(m[1],v,g)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,w){return Ce(w)?[Math.min(m[0],w),Math.max(m[1],w)]:m},h)),h},p9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,b){var m=r?r+u:u;if(!this._events[m])return!1;var w=this._events[m],v=arguments.length,g,y;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,p),!0;case 6:return w.fn.call(w.context,d,f,h,p,b),!0}for(y=1,g=new Array(v-1);y<v;y++)g[y-1]=arguments[y];w.fn.apply(w.context,g)}else{var j=w.length,_;for(y=0;y<j;y++)switch(w[y].once&&this.removeListener(u,w[y].fn,void 0,!0),v){case 1:w[y].fn.call(w[y].context);break;case 2:w[y].fn.call(w[y].context,d);break;case 3:w[y].fn.call(w[y].context,d,f);break;case 4:w[y].fn.call(w[y].context,d,f,h);break;default:if(!g)for(_=1,g=new Array(v-1);_<v;_++)g[_-1]=arguments[_];w[y].fn.apply(w[y].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var m=0,w=[],v=b.length;m<v;m++)(b[m].fn!==d||h&&!b[m].once||f&&b[m].context!==f)&&w.push(b[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(p9);var iRe=p9.exports;const oRe=Qt(iRe);var Rj=new oRe,Mj="recharts.syncMouseEvents";function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function lRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g9(n.key),n)}}function uRe(e,t,r){return t&&cRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $j(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=dRe(e,"string");return hp(t)=="symbol"?t:t+""}function dRe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fRe=function(){function e(){lRe(this,e),$j(this,"activeIndex",0),$j(this,"coordinateList",[]),$j(this,"layout","horizontal")}return uRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function hRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ce(n)&&Ce(a))return!0}return!1}function mRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function v9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=hr(t,r,n,a),l=hr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function pRe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=hr(l,c,u,f),p=hr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return v9(t);return[{x:n,y:a},{x:i,y:o}]}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){gRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gRe(e,t,r){return t=vRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vRe(e){var t=xRe(e,"string");return mp(t)=="symbol"?t:t+""}function xRe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var b,m=$_;if(h==="ScatterChart")b=o,m=YEe;else if(h==="BarChart")b=mRe(f,o,c,d),m=U2;else if(f==="radial"){var w=v9(o),v=w.cx,g=w.cy,y=w.radius,j=w.startAngle,_=w.endAngle;b={cx:v,cy:g,startAngle:j,endAngle:_,innerRadius:y,outerRadius:y},m=pq}else b={points:pRe(f,o,c)},m=$_;var N=ov(ov(ov(ov({stroke:"#ccc",pointerEvents:"none"},c),b),ut(p,!1)),{},{payload:l,payloadIndex:u,className:xt("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,N):x.createElement(m,N)}var bRe=["item"],wRe=["children","className","width","height","style","compact","title","desc"];function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(this,arguments)}function WR(e,t){return _Re(e)||NRe(e,t)||y9(e,t)||jRe()}function jRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Re(e){if(Array.isArray(e))return e}function KR(e,t){if(e==null)return{};var r=SRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function PRe(e,t,r){return t&&CRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ERe(e,t,r){return t=Ly(t),ARe(e,x9()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function ARe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ORe(e)}function ORe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x9=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function TRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function of(e){return MRe(e)||RRe(e)||y9(e)||IRe()}function IRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function RRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MRe(e){if(Array.isArray(e))return pS(e)}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){at(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function at(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=$Re(e,"string");return af(t)=="symbol"?t:t+""}function $Re(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DRe={xAxis:["bottom","top"],yAxis:["left","right"]},LRe={width:"100%",height:"100%"},w9={x:0,y:0};function lv(e){return e}var FRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},URe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ce(ce(ce({},a),hr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ce(ce(ce({},a),hr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return w9},J0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(of(l),of(u)):l},[]);return o.length>0?o:t&&t.length&&Ce(a)&&Ce(i)?t.slice(a,i+1):[]};function j9(e){return e==="number"?[0,"auto"]:void 0}var gS=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=J0(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=zN(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(of(c),[cq(u,h)]):c},[])},GR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=FRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=gCe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=gS(t,r,d,f),p=URe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},BRe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=nq(d,i);return n.reduce(function(b,m){var w,v=m.type.defaultProps!==void 0?ce(ce({},m.type.defaultProps),m.props):m.props,g=v.type,y=v.dataKey,j=v.allowDataOverflow,_=v.allowDuplicatedCategory,N=v.scale,S=v.ticks,k=v.includeHidden,C=v[o];if(b[C])return b;var P=J0(t.data,{graphicalItems:a.filter(function(F){var X,H=o in F.props?F.props[o]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[o];return H===C}),dataStartIndex:c,dataEndIndex:u}),E=P.length,O,I,T;hRe(v.domain,j,g)&&(O=O_(v.domain,null,j),p&&(g==="number"||N!=="auto")&&(T=Wh(P,y,"category")));var $=j9(g);if(!O||O.length===0){var V,K=(V=v.domain)!==null&&V!==void 0?V:$;if(y){if(O=Wh(P,y,g),g==="category"&&p){var A=ime(O);_&&A?(I=O,O=ky(0,E)):_||(O=j4(K,O,m).reduce(function(F,X){return F.indexOf(X)>=0?F:[].concat(of(F),[X])},[]))}else if(g==="category")_?O=O.filter(function(F){return F!==""&&!kt(F)}):O=j4(K,O,m).reduce(function(F,X){return F.indexOf(X)>=0||X===""||kt(X)?F:[].concat(of(F),[X])},[]);else if(g==="number"){var R=wCe(P,a.filter(function(F){var X,H,ie=o in F.props?F.props[o]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[o],ve="hide"in F.props?F.props.hide:(H=F.type.defaultProps)===null||H===void 0?void 0:H.hide;return ie===C&&(k||!ve)}),y,i,d);R&&(O=R)}p&&(g==="number"||N!=="auto")&&(T=Wh(P,y,"category"))}else p?O=ky(0,E):l&&l[C]&&l[C].hasStack&&g==="number"?O=h==="expand"?[0,1]:lq(l[C].stackGroups,c,u):O=rq(P,a.filter(function(F){var X=o in F.props?F.props[o]:F.type.defaultProps[o],H="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return X===C&&(k||!H)}),g,d,!0);if(g==="number")O=hS(f,O,C,i,S),K&&(O=O_(K,O,j));else if(g==="category"&&K){var Q=K,J=O.every(function(F){return Q.indexOf(F)>=0});J&&(O=Q)}}return ce(ce({},b),{},at({},C,ce(ce({},v),{},{axisType:i,domain:O,categoricalDomain:T,duplicateDomain:I,originalDomain:(w=v.domain)!==null&&w!==void 0?w:$,isCategorical:p,layout:d})))},{})},VRe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=J0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,b=nq(d,i),m=-1;return n.reduce(function(w,v){var g=v.type.defaultProps!==void 0?ce(ce({},v.type.defaultProps),v.props):v.props,y=g[o],j=j9("number");if(!w[y]){m++;var _;return b?_=ky(0,p):l&&l[y]&&l[y].hasStack?(_=lq(l[y].stackGroups,c,u),_=hS(f,_,y,i)):(_=O_(j,rq(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],P="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===y&&!P}),"number",d),a.defaultProps.allowDataOverflow),_=hS(f,_,y,i)),ce(ce({},w),{},at({},y,ce(ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ts(DRe,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:j,isCategorical:b,layout:d})))}return w},{})},qRe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ta(d,i),p={};return h&&h.length?p=BRe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=VRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},zRe=function(t){var r=wo(t),n=Ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:h2(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hy(r,n)}},QR=function(t){var r=t.children,n=t.defaultShowTooltip,a=bs(r,Xd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},WRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mi(r&&r.type);return n&&n.indexOf("Bar")>=0})},YR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KRe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=bs(f,Xd),b=bs(f,nc),m=Object.keys(c).reduce(function(_,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?ce(ce({},_),{},at({},k,_[k]+S.width)):_},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(_,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?ce(ce({},_),{},at({},k,Ts(_,"".concat(k))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),v=ce(ce({},w),m),g=v.bottom;p&&(v.bottom+=p.props.height||Xd.defaultProps.height),b&&r&&(v=yCe(v,a,n,r));var y=u-v.left-v.right,j=d-v.top-v.bottom;return ce(ce({brushBottom:g},v),{},{width:Math.max(y,0),height:Math.max(j,0)})},HRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},N9=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,g){var y=g.graphicalItems,j=g.stackGroups,_=g.offset,N=g.updateId,S=g.dataStartIndex,k=g.dataEndIndex,C=v.barSize,P=v.layout,E=v.barGap,O=v.barCategoryGap,I=v.maxBarSize,T=YR(P),$=T.numericAxisName,V=T.cateAxisName,K=WRe(y),A=[];return y.forEach(function(R,Q){var J=J0(v.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:k}),F=R.type.defaultProps!==void 0?ce(ce({},R.type.defaultProps),R.props):R.props,X=F.dataKey,H=F.maxBarSize,ie=F["".concat($,"Id")],ve=F["".concat(V,"Id")],ne={},we=c.reduce(function(q,Z){var ae=g["".concat(Z.axisType,"Map")],Oe=F["".concat(Z.axisType,"Id")];ae&&ae[Oe]||Z.axisType==="zAxis"||Pc();var Pe=ae[Oe];return ce(ce({},q),{},at(at({},Z.axisType,Pe),"".concat(Z.axisType,"Ticks"),Ti(Pe)))},ne),oe=we[V],L=we["".concat(V,"Ticks")],se=j&&j[ie]&&j[ie].hasStack&&ACe(R,j[ie].stackGroups),G=Mi(R.type).indexOf("Bar")>=0,U=hy(oe,L),pe=[],He=K&&vCe({barSize:C,stackGroups:j,totalSize:HRe(we,V)});if(G){var Ee,mt,sr=kt(H)?I:H,Ut=(Ee=(mt=hy(oe,L,!0))!==null&&mt!==void 0?mt:sr)!==null&&Ee!==void 0?Ee:0;pe=xCe({barGap:E,barCategoryGap:O,bandSize:Ut!==U?Ut:U,sizeList:He[ve],maxBarSize:sr}),Ut!==U&&(pe=pe.map(function(q){return ce(ce({},q),{},{position:ce(ce({},q.position),{},{offset:q.position.offset-Ut/2})})}))}var or=R&&R.type&&R.type.getComposedData;or&&A.push({props:ce(ce({},or(ce(ce({},we),{},{displayedData:J,props:v,dataKey:X,item:R,bandSize:U,barPosition:pe,offset:_,stackedData:se,layout:P,dataStartIndex:S,dataEndIndex:k}))),{},at(at(at({key:R.key||"item-".concat(Q)},$,we[$]),V,we[V]),"animationId",N)),childIndex:xme(R,v.children),item:R})}),A},p=function(v,g){var y=v.props,j=v.dataStartIndex,_=v.dataEndIndex,N=v.updateId;if(!pT({props:y}))return null;var S=y.children,k=y.layout,C=y.stackOffset,P=y.data,E=y.reverseStackOrder,O=YR(k),I=O.numericAxisName,T=O.cateAxisName,$=ta(S,n),V=PCe(P,$,"".concat(I,"Id"),"".concat(T,"Id"),C,E),K=c.reduce(function(F,X){var H="".concat(X.axisType,"Map");return ce(ce({},F),{},at({},H,qRe(y,ce(ce({},X),{},{graphicalItems:$,stackGroups:X.axisType===I&&V,dataStartIndex:j,dataEndIndex:_}))))},{}),A=KRe(ce(ce({},K),{},{props:y,graphicalItems:$}),g==null?void 0:g.legendBBox);Object.keys(K).forEach(function(F){K[F]=d(y,K[F],A,F.replace("Map",""),r)});var R=K["".concat(T,"Map")],Q=zRe(R),J=h(y,ce(ce({},K),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:$,stackGroups:V,offset:A}));return ce(ce({formattedGraphicalItems:J,graphicalItems:$,offset:A,stackGroups:V},Q),K)},b=function(w){function v(g){var y,j,_;return kRe(this,v),_=ERe(this,v,[g]),at(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(_,"accessibilityManager",new fRe),at(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,k=S.dataStartIndex,C=S.dataEndIndex,P=S.updateId;_.setState(ce({legendBBox:N},p({props:_.props,dataStartIndex:k,dataEndIndex:C,updateId:P},ce(ce({},_.state),{},{legendBBox:N}))))}}),at(_,"handleReceiveSyncEvent",function(N,S,k){if(_.props.syncId===N){if(k===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),at(_,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==_.state.dataStartIndex||k!==_.state.dataEndIndex){var C=_.state.updateId;_.setState(function(){return ce({dataStartIndex:S,dataEndIndex:k},p({props:_.props,dataStartIndex:S,dataEndIndex:k,updateId:C},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),at(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var k=ce(ce({},S),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var C=_.props.onMouseEnter;ft(C)&&C(k,N)}}),at(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),k=S?ce(ce({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var C=_.props.onMouseMove;ft(C)&&C(k,N)}),at(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),at(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),at(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),at(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var k=_.props.onMouseLeave;ft(k)&&k(S,N)}),at(_,"handleOuterEvent",function(N){var S=vme(N),k=Ts(_.props,"".concat(S));if(S&&ft(k)){var C,P;/.*touch.*/i.test(S)?P=_.getMouseInfo(N.changedTouches[0]):P=_.getMouseInfo(N),k((C=P)!==null&&C!==void 0?C:{},N)}}),at(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var k=ce(ce({},S),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var C=_.props.onClick;ft(C)&&C(k,N)}}),at(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(ft(S)){var k=_.getMouseInfo(N);S(k,N)}}),at(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(ft(S)){var k=_.getMouseInfo(N);S(k,N)}}),at(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),at(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),at(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),at(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if(ft(S)){var k=_.getMouseInfo(N);S(k,N)}}),at(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if(ft(S)){var k=_.getMouseInfo(N);S(k,N)}}),at(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&Rj.emit(Mj,_.props.syncId,N,_.eventEmitterSymbol)}),at(_,"applySyncEvent",function(N){var S=_.props,k=S.layout,C=S.syncMethod,P=_.state.updateId,E=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(ce({dataStartIndex:E,dataEndIndex:O},p({props:_.props,dataStartIndex:E,dataEndIndex:O,updateId:P},_.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,T=N.chartY,$=N.activeTooltipIndex,V=_.state,K=V.offset,A=V.tooltipTicks;if(!K)return;if(typeof C=="function")$=C(A,N);else if(C==="value"){$=-1;for(var R=0;R<A.length;R++)if(A[R].value===N.activeLabel){$=R;break}}var Q=ce(ce({},K),{},{x:K.left,y:K.top}),J=Math.min(I,Q.x+Q.width),F=Math.min(T,Q.y+Q.height),X=A[$]&&A[$].value,H=gS(_.state,_.props.data,$),ie=A[$]?{x:k==="horizontal"?A[$].coordinate:J,y:k==="horizontal"?F:A[$].coordinate}:w9;_.setState(ce(ce({},N),{},{activeLabel:X,activeCoordinate:ie,activePayload:H,activeTooltipIndex:$}))}else _.setState(N)}),at(_,"renderCursor",function(N){var S,k=_.state,C=k.isTooltipActive,P=k.activeCoordinate,E=k.activePayload,O=k.offset,I=k.activeTooltipIndex,T=k.tooltipAxisBandSize,$=_.getTooltipEventType(),V=(S=N.props.active)!==null&&S!==void 0?S:C,K=_.props.layout,A=N.key||"_recharts-cursor";return D.createElement(yRe,{key:A,activeCoordinate:P,activePayload:E,activeTooltipIndex:I,chartName:r,element:N,isActive:V,layout:K,offset:O,tooltipAxisBandSize:T,tooltipEventType:$})}),at(_,"renderPolarAxis",function(N,S,k){var C=Ts(N,"type.axisType"),P=Ts(_.state,"".concat(C,"Map")),E=N.type.defaultProps,O=E!==void 0?ce(ce({},E),N.props):N.props,I=P&&P[O["".concat(C,"Id")]];return x.cloneElement(N,ce(ce({},I),{},{className:xt(C,I.className),key:N.key||"".concat(S,"-").concat(k),ticks:Ti(I,!0)}))}),at(_,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,P=S.polarRadius,E=_.state,O=E.radiusAxisMap,I=E.angleAxisMap,T=wo(O),$=wo(I),V=$.cx,K=$.cy,A=$.innerRadius,R=$.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Ti($,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(P)?P:Ti(T,!0).map(function(Q){return Q.coordinate}),cx:V,cy:K,innerRadius:A,outerRadius:R,key:N.key||"polar-grid",radialLines:k})}),at(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,k=S.children,C=S.width,P=S.height,E=_.props.margin||{},O=C-(E.left||0)-(E.right||0),I=eq({children:k,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!I)return null;var T=I.item,$=KR(I,bRe);return x.cloneElement(T,ce(ce({},$),{},{chartWidth:C,chartHeight:P,margin:E,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),at(_,"renderTooltip",function(){var N,S=_.props,k=S.children,C=S.accessibilityLayer,P=bs(k,_a);if(!P)return null;var E=_.state,O=E.isTooltipActive,I=E.activeCoordinate,T=E.activePayload,$=E.activeLabel,V=E.offset,K=(N=P.props.active)!==null&&N!==void 0?N:O;return x.cloneElement(P,{viewBox:ce(ce({},V),{},{x:V.left,y:V.top}),active:K,label:$,payload:K?T:[],coordinate:I,accessibilityLayer:C})}),at(_,"renderBrush",function(N){var S=_.props,k=S.margin,C=S.data,P=_.state,E=P.offset,O=P.dataStartIndex,I=P.dataEndIndex,T=P.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:nv(_.handleBrushChange,N.props.onChange),data:C,x:Ce(N.props.x)?N.props.x:E.left,y:Ce(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(k.bottom||0),width:Ce(N.props.width)?N.props.width:E.width,startIndex:O,endIndex:I,updateId:"brush-".concat(T)})}),at(_,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=_,P=C.clipPathId,E=_.state,O=E.xAxisMap,I=E.yAxisMap,T=E.offset,$=N.type.defaultProps||{},V=N.props,K=V.xAxisId,A=K===void 0?$.xAxisId:K,R=V.yAxisId,Q=R===void 0?$.yAxisId:R;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:O[A],yAxis:I[Q],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:P})}),at(_,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,P=N.childIndex,E=N.isRange,O=[],I=S.props.key,T=S.item.type.defaultProps!==void 0?ce(ce({},S.item.type.defaultProps),S.item.props):S.item.props,$=T.activeDot,V=T.dataKey,K=ce(ce({index:P,dataKey:V,cx:k.x,cy:k.y,r:4,fill:F2(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ut($,!1)),Ux($));return O.push(v.renderActiveDot($,K,"".concat(I,"-activePoint-").concat(P))),C?O.push(v.renderActiveDot($,ce(ce({},K),{},{cx:C.x,cy:C.y}),"".concat(I,"-basePoint-").concat(P))):E&&O.push(null),O}),at(_,"renderGraphicChild",function(N,S,k){var C=_.filterFormatItem(N,S,k);if(!C)return null;var P=_.getTooltipEventType(),E=_.state,O=E.isTooltipActive,I=E.tooltipAxis,T=E.activeTooltipIndex,$=E.activeLabel,V=_.props.children,K=bs(V,_a),A=C.props,R=A.points,Q=A.isRange,J=A.baseLine,F=C.item.type.defaultProps!==void 0?ce(ce({},C.item.type.defaultProps),C.item.props):C.item.props,X=F.activeDot,H=F.hide,ie=F.activeBar,ve=F.activeShape,ne=!!(!H&&O&&K&&(X||ie||ve)),we={};P!=="axis"&&K&&K.props.trigger==="click"?we={onClick:nv(_.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(we={onMouseLeave:nv(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:nv(_.handleItemMouseEnter,N.props.onMouseEnter)});var oe=x.cloneElement(N,ce(ce({},C.props),we));function L(Z){return typeof I.dataKey=="function"?I.dataKey(Z.payload):null}if(ne)if(T>=0){var se,G;if(I.dataKey&&!I.allowDuplicatedCategory){var U=typeof I.dataKey=="function"?L:"payload.".concat(I.dataKey.toString());se=zN(R,U,$),G=Q&&J&&zN(J,U,$)}else se=R==null?void 0:R[T],G=Q&&J&&J[T];if(ve||ie){var pe=N.props.activeIndex!==void 0?N.props.activeIndex:T;return[x.cloneElement(N,ce(ce(ce({},C.props),we),{},{activeIndex:pe})),null,null]}if(!kt(se))return[oe].concat(of(_.renderActivePoints({item:C,activePoint:se,basePoint:G,childIndex:T,isRange:Q})))}else{var He,Ee=(He=_.getItemByXY(_.state.activeCoordinate))!==null&&He!==void 0?He:{graphicalItem:oe},mt=Ee.graphicalItem,sr=mt.item,Ut=sr===void 0?N:sr,or=mt.childIndex,q=ce(ce(ce({},C.props),we),{},{activeIndex:or});return[x.cloneElement(Ut,q),null,null]}return Q?[oe,null,null]:[oe,null]}),at(_,"renderCustomized",function(N,S,k){return x.cloneElement(N,ce(ce({key:"recharts-customized-".concat(k)},_.props),_.state))}),at(_,"renderMap",{CartesianGrid:{handler:lv,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:lv},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:lv},YAxis:{handler:lv},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((y=g.id)!==null&&y!==void 0?y:eg("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=ZB(_.triggeredAfterMouseMove,(j=g.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return TRe(v,w),PRe(v,[{key:"componentDidMount",value:function(){var y,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,j=y.children,_=y.data,N=y.height,S=y.layout,k=bs(j,_a);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,E=gS(this.state,_,C,P),O=this.state.tooltipTicks[C].coordinate,I=(this.state.offset.top+N)/2,T=S==="horizontal",$=T?{x:O,y:I}:{y:O,x:I},V=this.state.formattedGraphicalItems.find(function(A){var R=A.item;return R.type.name==="Scatter"});V&&($=ce(ce({},$),V.props.points[C].tooltipPosition),E=V.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:E,activeCoordinate:$};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){KN([bs(y.children,_a)],[bs(this.props.children,_a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=bs(this.props.children,_a);if(y&&typeof y.props.shared=="boolean"){var j=y.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=z1e(_),S={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},k=_.width/j.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var P=this.state,E=P.xAxisMap,O=P.yAxisMap,I=this.getTooltipEventType(),T=GR(this.state,this.props.data,this.props.layout,C);if(I!=="axis"&&E&&O){var $=wo(E).scale,V=wo(O).scale,K=$&&$.invert?$.invert(S.chartX):null,A=V&&V.invert?V.invert(S.chartY):null;return ce(ce({},S),{},{xValue:K,yValue:A},T)}return T?ce(ce({},S),T):null}},{key:"inRange",value:function(y,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=y/_,k=j/_;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,P=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:S,y:k}:null}var E=this.state,O=E.angleAxisMap,I=E.radiusAxisMap;if(O&&I){var T=wo(O);return S4({x:S,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,j=this.getTooltipEventType(),_=bs(y,_a),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ux(this.props,this.handleOuterEvent);return ce(ce({},S),N)}},{key:"addListener",value:function(){Rj.on(Mj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rj.removeListener(Mj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,j,_){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===y||C.props.key===y.key||j===Mi(C.item.type)&&_===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,k=j.width;return D.createElement("defs",null,D.createElement("clipPath",{id:y},D.createElement("rect",{x:_,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(j,_){var N=WR(_,2),S=N[0],k=N[1];return ce(ce({},j),{},at({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(j,_){var N=WR(_,2),S=N[0],k=N[1];return ce(ce({},j),{},at({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(y){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(y){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,k=_.length;S<k;S++){var C=_[S],P=C.props,E=C.item,O=E.type.defaultProps!==void 0?ce(ce({},E.type.defaultProps),E.props):E.props,I=Mi(E.type);if(I==="Bar"){var T=(P.data||[]).find(function(A){return AEe(y,A)});if(T)return{graphicalItem:C,payload:T}}else if(I==="RadialBar"){var $=(P.data||[]).find(function(A){return S4(y,A)});if($)return{graphicalItem:C,payload:$}}else if(q0(C,N)||z0(C,N)||lp(C,N)){var V=xOe({graphicalItem:C,activeTooltipItem:N,itemData:O.data}),K=O.activeIndex===void 0?V:O.activeIndex;return{graphicalItem:ce(ce({},C),{},{childIndex:K}),payload:lp(C,N)?O.data[V]:C.props.data[V]}}}return null}},{key:"render",value:function(){var y=this;if(!pT(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,k=j.height,C=j.style,P=j.compact,E=j.title,O=j.desc,I=KR(j,wRe),T=ut(I,!1);if(P)return D.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(GN,Vu({},T,{width:S,height:k,title:E,desc:O}),this.renderClipPath(),vT(_,this.renderMap)));if(this.props.accessibilityLayer){var $,V;T.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,T.role=(V=this.props.role)!==null&&V!==void 0?V:"application",T.onKeyDown=function(A){y.accessibilityManager.keyboardEvent(A)},T.onFocus=function(){y.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return D.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Vu({className:xt("recharts-wrapper",N),style:ce({position:"relative",cursor:"default",width:S,height:k},C)},K,{ref:function(R){y.container=R}}),D.createElement(GN,Vu({},T,{width:S,height:k,title:E,desc:O,style:LRe}),this.renderClipPath(),vT(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);at(b,"displayName",r),at(b,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),at(b,"getDerivedStateFromProps",function(w,v){var g=w.dataKey,y=w.data,j=w.children,_=w.width,N=w.height,S=w.layout,k=w.stackOffset,C=w.margin,P=v.dataStartIndex,E=v.dataEndIndex;if(v.updateId===void 0){var O=QR(w);return ce(ce(ce({},O),{},{updateId:0},p(ce(ce({props:w},O),{},{updateId:0}),v)),{},{prevDataKey:g,prevData:y,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(g!==v.prevDataKey||y!==v.prevData||_!==v.prevWidth||N!==v.prevHeight||S!==v.prevLayout||k!==v.prevStackOffset||!Ju(C,v.prevMargin)){var I=QR(w),T={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=ce(ce({},GR(v,y,S)),{},{updateId:v.updateId+1}),V=ce(ce(ce({},I),T),$);return ce(ce(ce({},V),p(ce({props:w},V),v)),{},{prevDataKey:g,prevData:y,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:j})}if(!KN(j,v.prevChildren)){var K,A,R,Q,J=bs(j,Xd),F=J&&(K=(A=J.props)===null||A===void 0?void 0:A.startIndex)!==null&&K!==void 0?K:P,X=J&&(R=(Q=J.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&R!==void 0?R:E,H=F!==P||X!==E,ie=!kt(y),ve=ie&&!H?v.updateId:v.updateId+1;return ce(ce({updateId:ve},p(ce(ce({props:w},v),{},{updateId:ve,dataStartIndex:F,dataEndIndex:X}),v)),{},{prevChildren:j,dataStartIndex:F,dataEndIndex:X})}return null}),at(b,"renderActiveDot",function(w,v,g){var y;return x.isValidElement(w)?y=x.cloneElement(w,v):ft(w)?y=w(v):y=D.createElement(B2,v),D.createElement(Jt,{className:"recharts-active-dot",key:g},y)});var m=x.forwardRef(function(v,g){return D.createElement(b,Vu({},v,{ref:g}))});return m.displayName=b.displayName,m},GRe=N9({chartName:"BarChart",GraphicalChild:Uc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Y0},{axisType:"yAxis",AxisComp:X0}],formatAxisMap:YTe}),QRe=N9({chartName:"PieChart",GraphicalChild:so,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:V0},{axisType:"radiusAxis",AxisComp:U0}],formatAxisMap:UCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const cv={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function YRe(){const{adminPath:e}=Mp(),t=`/${e}`,{data:r}=de({queryKey:["/api/admin/facilities"]}),{data:n}=de({queryKey:["/api/admin/announcements"]}),{data:a}=de({queryKey:["/api/admin/gallery"]}),{data:i}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=de({queryKey:["/api/admin/careers"]}),{data:l}=de({queryKey:["/api/admin/rules"]}),{data:c}=de({queryKey:["/api/admin/bookings"]}),{data:u}=de({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(_=>_.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").reduce((_,N)=>_+(N.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").length)||0,color:cv.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_VERIFICATION").length)||0,color:cv.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="PENDING_PAYMENT").length)||0,color:cv.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(_=>_.paymentStatus==="REJECTED").length)||0,color:cv.REJECTED}].filter(_=>_.value>0),b=(r==null?void 0:r.map(_=>({name:_.name.length>15?_.name.slice(0,12)+"...":_.name,fullName:_.name,bookings:(c==null?void 0:c.filter(N=>N.facilityId===_.id).length)||0,revenue:(c==null?void 0:c.filter(N=>N.facilityId===_.id&&N.paymentStatus==="VERIFIED").reduce((N,S)=>N+(S.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((_,N)=>{const S=new Date(`${_.date} ${_.startTime}`);return new Date(`${N.date} ${N.startTime}`).getTime()-S.getTime()}).slice(0,5))||[],w=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:wr,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:Gt,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:X1,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(_=>_.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:jr,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(_=>_.role==="ADMIN"||_.role==="SUPER_ADMIN").length)||0} admins`}],v=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:vn,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:X1,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:jd,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:hm,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:As,color:"text-red-500"},{label:"Gallery Images",value:(a==null?void 0:a.length)||0,icon:Ta,color:"text-indigo-500"}],g=_=>{switch(_){case"VERIFIED":return s.jsx(ue,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ue,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});default:return s.jsx(ue,{variant:"secondary",children:"Awaiting"})}},y=(_,N)=>_==="CONFIRMED"&&N==="VERIFIED"?s.jsx(ue,{className:"bg-green-600",children:"Confirmed"}):_==="CANCELLED"?s.jsx(ue,{variant:"destructive",children:"Cancelled"}):s.jsx(ue,{variant:"secondary",children:"Tentative"}),j=_=>{if(!_||!r)return"Unknown";const N=r.find(S=>S.id===_);return(N==null?void 0:N.name)||"Unknown"};return s.jsx(rt,{title:"Dashboard",children:s.jsxs("div",{className:"space-y-6",children:[d>0&&s.jsx(ee,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:s.jsxs(te,{className:"flex flex-wrap items-center gap-4 p-4",children:[s.jsx(Kn,{className:"h-5 w-5 text-amber-600 shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),s.jsx(he,{href:`${t}/bookings`,children:s.jsxs(M,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",s.jsx(sa,{className:"w-4 h-4 ml-1"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(_=>{const N=_.icon;return s.jsx(ee,{"data-testid":`card-stat-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:_.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:_.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(xG,{className:"w-3 h-3"}),_.trend]})]}),s.jsx("div",{className:`p-3 rounded-full ${_.bgColor}`,children:s.jsx(N,{className:`w-6 h-6 ${_.color}`})})]})})},_.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsx(ze,{className:"text-lg",children:"Bookings by Facility"}),s.jsx(Et,{children:"Total bookings and revenue per facility"})]}),s.jsx(te,{children:b.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(mI,{width:"100%",height:"100%",children:s.jsxs(GRe,{data:b,margin:{top:10,right:10,left:-10,bottom:0},children:[s.jsx(l9,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Y0,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(X0,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(_a,{formatter:(_,N)=>[N==="revenue"?`PKR ${_.toLocaleString()}`:_,N==="revenue"?"Revenue":"Bookings"],labelFormatter:_=>{const N=b.find(S=>S.name===_);return(N==null?void 0:N.fullName)||_},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Uc,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsx(ze,{className:"text-lg",children:"Payment Status Distribution"}),s.jsx(Et,{children:"Overview of payment statuses across all bookings"})]}),s.jsx(te,{children:p.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(mI,{width:"100%",height:"100%",children:s.jsxs(QRe,{children:[s.jsx(so,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((_,N)=>s.jsx(S0,{fill:_.color},`cell-${N}`))}),s.jsx(_a,{formatter:_=>[_,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(nc,{})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs(ee,{children:[s.jsxs(Fe,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ze,{className:"text-lg",children:"Recent Bookings"}),s.jsx(Et,{children:"Latest booking activity"})]}),s.jsx(he,{href:`${t}/bookings`,children:s.jsxs(M,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",s.jsx(sa,{className:"w-4 h-4 ml-1"})]})})]}),s.jsx(te,{children:m.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Booking ID"}),s.jsx(fe,{children:"Date / Time"}),s.jsx(fe,{children:"Facility"}),s.jsx(fe,{children:"Amount"}),s.jsx(fe,{children:"Payment"}),s.jsx(fe,{children:"Status"})]})}),s.jsx(Vr,{children:m.map(_=>{var N;return s.jsxs(st,{"data-testid":`row-recent-booking-${_.id}`,children:[s.jsxs(le,{className:"font-mono text-xs",children:[_.id.slice(0,8),"..."]}),s.jsxs(le,{children:[s.jsx("div",{className:"text-sm font-medium",children:_.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.startTime," - ",_.endTime]})]}),s.jsxs(le,{children:[s.jsx("div",{className:"text-sm",children:j(_.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",_.resourceId]})]}),s.jsx(le,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((N=_.totalPrice)==null?void 0:N.toLocaleString())||0]})}),s.jsx(le,{children:g(_.paymentStatus)}),s.jsx(le,{children:y(_.status,_.paymentStatus)})]},_.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsx(ze,{className:"text-lg",children:"Content Overview"}),s.jsx(Et,{children:"Quick stats on website content managed through the admin panel"})]}),s.jsx(te,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:v.map(_=>{const N=_.icon;return s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(N,{className:`w-8 h-8 mx-auto mb-2 ${_.color}`}),s.jsx("p",{className:"text-2xl font-bold",children:_.value}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.label})]},_.label)})})})]})]})})}var Z0="Switch",[XRe]=Pn(Z0),[JRe,ZRe]=XRe(Z0),_9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),b=dt(t,y=>p(y)),m=x.useRef(!1),w=h?d||!!h.closest("form"):!0,[v,g]=hs({prop:a,defaultProp:i??!1,onChange:u,caller:Z0});return s.jsxs(JRe,{scope:r,checked:v,disabled:l,children:[s.jsx($e.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":P9(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Ne(e.onClick,y=>{g(j=>!j),w&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),w&&s.jsx(C9,{control:h,bubbles:!m.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});_9.displayName=Z0;var S9="SwitchThumb",k9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=ZRe(S9,r);return s.jsx($e.span,{"data-state":P9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});k9.displayName=S9;var eMe="SwitchBubbleInput",C9=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),l=dt(o,i),c=$C(r),u=Rk(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});C9.displayName=eMe;function P9(e){return e?"checked":"unchecked"}var E9=_9,tMe=k9;const Ht=x.forwardRef(({className:e,...t},r)=>s.jsx(E9,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(tMe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ht.displayName=E9.displayName;const Dj={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"},{key:"hero_status_active",label:"Status Badge 1",type:"text",placeholder:"Construction Active"},{key:"hero_status_updates",label:"Status Badge 2",type:"text",placeholder:"Transparent progress updates"},{key:"hero_status_booking",label:"Status Badge 3",type:"text",placeholder:"Early booking & waitlists planned"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_tags",label:"Keyword Tags (comma-separated)",type:"text",placeholder:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"},{key:"about_team_credits",label:"Team Credits (pipe-separated)",type:"textarea",placeholder:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]},visibility:{title:"Section Visibility & Order",description:"Control which sections are displayed on the homepage and their display order.",fields:[]}},rMe=[{key:"section_about_visible",orderKey:"section_about_order",label:"About Section",description:"Vision, philosophy and team info",defaultOrder:1},{key:"section_facilities_visible",orderKey:"section_facilities_order",label:"Facilities Section",description:"Sports facility cards",defaultOrder:2},{key:"section_updates_visible",orderKey:"section_updates_order",label:"Construction Updates",description:"Progress timeline and milestones",defaultOrder:3},{key:"section_gallery_visible",orderKey:"section_gallery_order",label:"Gallery Section",description:"Photo gallery preview",defaultOrder:4},{key:"section_membership_visible",orderKey:"section_membership_order",label:"Membership Section",description:"Membership tiers and pricing",defaultOrder:5},{key:"section_rules_visible",orderKey:"section_rules_order",label:"Rules Section",description:"Club rules and safety",defaultOrder:6},{key:"section_careers_visible",orderKey:"section_careers_order",label:"Careers Section",description:"Job openings preview",defaultOrder:7}];function nMe(){const{toast:e}=ht(),[t,r]=x.useState({}),[n,a]=x.useState(new Set),[i,o]=x.useState(new Set),{data:l,isLoading:c}=de({queryKey:["/api/admin/cms"]});x.useEffect(()=>{if(l){const g={};l.forEach(y=>{g[y.key]=y.content||""}),r(y=>({...g,...y}))}},[l]);const u=ye({mutationFn:async g=>await xe("POST","/api/admin/cms",{key:g.key,title:g.title,content:g.content}),onSuccess:(g,y)=>{re.invalidateQueries({queryKey:["/api/admin/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),a(j=>{const _=new Set(j);return _.delete(y.key),_}),o(j=>new Set(j).add(y.key)),setTimeout(()=>{o(j=>{const _=new Set(j);return _.delete(y.key),_})},2e3),e({title:"Content saved successfully"})},onError:(g,y)=>{a(j=>{const _=new Set(j);return _.delete(y.key),_}),e({title:"Failed to save content",variant:"destructive"})}}),d=g=>{const y=l==null?void 0:l.find(j=>j.key===g);return(y==null?void 0:y.content)??void 0},f=g=>Ae[g]||"",h=g=>{const y=d(g);return y!==void 0&&y!==""},p=g=>{const y=d(g)||"",j=t[g];return j!==void 0&&j!==y},b=(g,y)=>{r(j=>({...j,[g]:y}))},m=(g,y)=>{const j=t[g]??d(g)??"";a(_=>new Set(_).add(g)),u.mutate({key:g,content:j,title:y})},w=g=>{Dj[g].fields.forEach(j=>{((t[j.key]??d(j.key)??"")||p(j.key))&&m(j.key,j.label)})},v=g=>{const y=f(g);r(j=>({...j,[g]:y}))};return c?s.jsx(rt,{title:"Site Content",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(rt,{title:"Site Content",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Edit Site Content"})}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(UE,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Saved in database"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-sm",children:"Using default value"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),s.jsxs(aa,{defaultValue:"hero",className:"w-full",children:[s.jsx(Ms,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(Dj).map(([g,y])=>s.jsx(Bt,{value:g,className:"text-xs","data-testid":`tab-${g}`,children:y.title},g))}),Object.entries(Dj).map(([g,y])=>s.jsxs(Vt,{value:g,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:y.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),g!=="visibility"&&s.jsxs(M,{variant:"outline",onClick:()=>w(g),"data-testid":`button-save-all-${g}`,children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),g==="visibility"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Toggle sections on or off and set their display order on the homepage. Lower numbers appear first. Changes are saved automatically."}),rMe.slice().sort((j,_)=>{const N=parseInt(t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder),10),S=parseInt(t[_.orderKey]??d(_.orderKey)??String(_.defaultOrder),10);return N-S}).map(j=>{const _=d(j.key),N=(t[j.key]??_??"true").toLowerCase()==="true",S=n.has(j.key)||n.has(j.orderKey),k=i.has(j.key)||i.has(j.orderKey),C=t[j.orderKey]??d(j.orderKey)??String(j.defaultOrder);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[N?s.jsx(Rs,{className:"w-5 h-5 text-green-600 shrink-0"}):s.jsx(Vi,{className:"w-5 h-5 text-muted-foreground shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(B,{htmlFor:j.key,className:"font-medium cursor-pointer",children:j.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{htmlFor:j.orderKey,className:"text-xs text-muted-foreground whitespace-nowrap",children:"Order:"}),s.jsx(Y,{id:j.orderKey,type:"number",min:"1",max:"10",className:"w-16 text-center",value:C,onChange:P=>{const E=P.target.value;r(O=>({...O,[j.orderKey]:E}))},onBlur:()=>{const P=t[j.orderKey]??String(j.defaultOrder);a(E=>new Set(E).add(j.orderKey)),u.mutate({key:j.orderKey,content:P,title:`${j.label} Order`})},"data-testid":`input-${j.orderKey}`})]}),k&&s.jsxs(ue,{className:"bg-green-500 text-xs",children:[s.jsx(mm,{className:"w-3 h-3 mr-1"}),"Saved"]}),S&&s.jsx(Re,{className:"w-4 h-4 animate-spin"}),s.jsx(Ht,{id:j.key,checked:N,onCheckedChange:P=>{const E=P?"true":"false";r(O=>({...O,[j.key]:E})),a(O=>new Set(O).add(j.key)),u.mutate({key:j.key,content:E,title:j.label})},disabled:S,"data-testid":`toggle-${j.key}`})]})]},j.key)})]}):s.jsx("div",{className:"space-y-6",children:y.fields.map(j=>{const _=d(j.key),N=f(j.key),S=t[j.key]??_??"",k=h(j.key),C=p(j.key);return s.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{htmlFor:j.key,className:"font-medium",children:j.label}),i.has(j.key)?s.jsxs(ue,{className:"bg-green-500 text-xs",children:[s.jsx(mm,{className:"w-3 h-3 mr-1"}),"Saved"]}):C?s.jsxs(ue,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[s.jsx(Kn,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):k?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[s.jsx(UE,{className:"w-3 h-3 mr-1"}),"Database"]}):N?s.jsxs(ue,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[s.jsx(As,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),s.jsxs("div",{className:"flex items-center gap-1",children:[N&&!k&&s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>v(j.key),className:"text-xs",title:"Use default value",children:"Reset"}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>m(j.key,j.label),disabled:n.has(j.key),"data-testid":`button-save-${j.key}`,children:n.has(j.key)?s.jsx(Re,{className:"w-4 h-4 animate-spin"}):s.jsx(rr,{className:"w-4 h-4"})})]})]}),N&&!k&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[s.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),s.jsx("span",{className:"italic",children:N.length>150?N.substring(0,150)+"...":N})]}),j.type==="textarea"?s.jsx(lt,{id:j.key,value:S,onChange:P=>b(j.key,P.target.value),placeholder:j.placeholder||N||"Enter content...",rows:4,className:C?"border-blue-500":"","data-testid":`input-${j.key}`}):s.jsx(Y,{id:j.key,type:j.type==="date"?"date":j.type==="email"?"email":"text",value:S,onChange:P=>b(j.key,P.target.value),placeholder:j.placeholder||N||"Enter content...",className:C?"border-blue-500":"","data-testid":`input-${j.key}`})]},j.key)})})]},g))]})]})]})})})}const XR=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ae.hero_eyebrow||"Target Launch: Q4 2025"}];function sMe(){const{toast:e}=ht(),[t,r]=x.useState({}),[n,a]=x.useState(new Set),{data:i,isLoading:o}=de({queryKey:["/api/cms"]}),{data:l,isLoading:c}=de({queryKey:["/api/admin/site-settings"]});x.useEffect(()=>{if(!o&&!c){const v={};XR.forEach(g=>{const y=i==null?void 0:i.find(_=>_.key===g.key),j=l==null?void 0:l.find(_=>_.key===g.key);v[g.key]=(y==null?void 0:y.content)||(j==null?void 0:j.value)||g.defaultValue}),r(v)}},[i,l,o,c]);const u=ye({mutationFn:async({key:v,value:g})=>await xe("POST","/api/admin/cms",{key:v,content:g}),onSuccess:(v,g)=>{re.invalidateQueries({queryKey:["/api/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(y=>{const j=new Set(y);return j.delete(g.key),j}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(v,g)=>{r(y=>({...y,[v]:g})),a(y=>new Set(y).add(v))},f=v=>{u.mutate({key:v,value:t[v]})},h=async()=>{const v=Array.from(n).map(g=>xe("POST","/api/admin/cms",{key:g,content:t[g]}));try{await Promise.all(v),re.invalidateQueries({queryKey:["/api/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=v=>{if(n.has(v))return"edited";const g=i==null?void 0:i.find(j=>j.key===v),y=l==null?void 0:l.find(j=>j.key===v);return g||y?"database":"default"},b=v=>{switch(v){case"database":return s.jsx(ue,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return s.jsx(ue,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),w=Rte(m,new Date);return o||c?s.jsx(rt,{title:"Coming Soon Page",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Coming Soon Page",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),s.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Rs,{className:"w-3 h-3"})," View Coming Soon Page",s.jsx(mc,{className:"w-3 h-3"})]})]}),n.size>0&&s.jsxs(M,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),s.jsxs(ee,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"w-5 h-5"}),"Countdown Status"]}),s.jsx(Et,{children:"Current countdown configuration"})]}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:w}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:Xn(m,"MMMM d, yyyy")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:w>0?"Counting Down":"Launched!"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),s.jsx("div",{className:"grid gap-6",children:XR.map(v=>{const g=p(v.key);return s.jsxs(ee,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs(ze,{className:"text-base flex items-center gap-2",children:[v.label,b(g)]}),s.jsx(Et,{className:"mt-1",children:v.description})]}),s.jsxs("a",{href:v.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",s.jsx(mc,{className:"w-3 h-3"})]})]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex gap-3",children:[v.type==="textarea"?s.jsx(lt,{value:t[v.key]||"",onChange:y=>d(v.key,y.target.value),rows:3,className:"flex-1","data-testid":`input-${v.key}`}):v.type==="date"?s.jsx(Y,{type:"date",value:t[v.key]||"",onChange:y=>d(v.key,y.target.value),className:"flex-1","data-testid":`input-${v.key}`}):s.jsx(Y,{value:t[v.key]||"",onChange:y=>d(v.key,y.target.value),className:"flex-1","data-testid":`input-${v.key}`}),s.jsx(M,{variant:"outline",onClick:()=>f(v.key),disabled:!n.has(v.key)||u.isPending,"data-testid":`button-save-${v.key}`,children:s.jsx(rr,{className:"w-4 h-4"})})]}),v.key==="coming_soon_launch_date"&&t[v.key]&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",Xn(new Date(t[v.key]),"EEEE, MMMM d, yyyy")]})]})]},v.key)})})]})})}function aMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState("details"),[l,c]=x.useState(!1),[u,d]=x.useState(null),f=x.useRef(null),[h,p]=x.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),[b,m]=x.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[w,v]=x.useState({label:"",price:0,icon:""}),[g,y]=x.useState(null),{data:j,isLoading:_}=de({queryKey:["/api/admin/facilities"]}),{data:N}=de({queryKey:["/api/admin/venues"]}),{data:S,refetch:k}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const U=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch");return U.json()},enabled:!!(t!=null&&t.id)}),{data:C,refetch:P}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const U=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch");return U.json()},enabled:!!(t!=null&&t.id)}),E=ye({mutationFn:async U=>await xe("POST","/api/admin/facilities",U),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),a(!1),Q()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),O=ye({mutationFn:async({id:U,data:pe})=>await xe("PATCH",`/api/admin/facilities/${U}`,pe),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),a(!1),r(null),Q()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),I=ye({mutationFn:async U=>await xe("DELETE",`/api/admin/facilities/${U}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),T=ye({mutationFn:async U=>await xe("POST",`/api/admin/facilities/${U.facilityId}/venues`,U),onSuccess:()=>{k(),e({title:"Venue added to facility"}),F()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),$=ye({mutationFn:async({id:U,data:pe})=>await xe("PATCH",`/api/admin/facility-venues/${U}`,pe),onSuccess:()=>{k(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),V=ye({mutationFn:async U=>await xe("DELETE",`/api/admin/facility-venues/${U}`),onSuccess:()=>{k(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),K=ye({mutationFn:async U=>await xe("POST",`/api/admin/facilities/${U.facilityId}/addons`,U),onSuccess:()=>{P(),e({title:"Add-on created successfully"}),X()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),A=ye({mutationFn:async({id:U,data:pe})=>await xe("PATCH",`/api/admin/facility-addons/${U}`,pe),onSuccess:()=>{P(),e({title:"Add-on updated successfully"}),X()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),R=ye({mutationFn:async U=>await xe("DELETE",`/api/admin/facility-addons/${U}`),onSuccess:()=>{P(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),Q=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),o("details"),d(null),f.current&&(f.current.value="")},J=async U=>{var He;const pe=(He=U.target.files)==null?void 0:He[0];if(pe){if(!["image/jpeg","image/png","image/webp"].includes(pe.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(pe.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const Ee=new FormData;Ee.append("image",pe);const mt=await fetch("/api/admin/upload",{method:"POST",body:Ee,credentials:"include"});if(!mt.ok){let Ut="Upload failed";try{Ut=(await mt.json()).message||Ut}catch{Ut=mt.statusText||Ut}throw new Error(Ut)}const sr=await mt.json();d({name:pe.name,url:sr.imageUrl}),p(Ut=>({...Ut,imageUrl:sr.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(Ee){e({title:"Upload failed",description:Ee.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},F=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},X=()=>{v({label:"",price:0,icon:""}),y(null)},H=()=>{t&&(g?A.mutate({id:g.id,data:w}):K.mutate({facilityId:t.id,...w}))},ie=U=>{y(U),v({label:U.label,price:U.price,icon:U.icon||""})},ve=U=>{r(U),p({slug:U.slug,name:U.name,description:U.description||"",category:U.category||"",basePrice:U.basePrice,minPlayers:U.minPlayers||1,resourceCount:U.resourceCount||1,requiresCertification:U.requiresCertification||!1,isRestricted:U.isRestricted||!1,isHidden:U.isHidden||!1,status:U.status||"PLANNED",imageUrl:U.imageUrl||"",aboutContent:U.aboutContent||"",features:U.features||[],amenities:U.amenities||[],keywords:U.keywords||[],quickInfo:typeof U.quickInfo=="object"&&!Array.isArray(U.quickInfo)?U.quickInfo:{},pricingNotes:U.pricingNotes||"",certificationInfo:U.certificationInfo||"",galleryImages:U.galleryImages||[],howToPlayContent:U.howToPlayContent||"",scoringRulesContent:U.scoringRulesContent||"",winningCriteriaContent:U.winningCriteriaContent||"",pointsSystemContent:U.pointsSystemContent||""}),o("details"),a(!0)},ne=()=>{t?O.mutate({id:t.id,data:h}):E.mutate(h)},we=()=>{!t||!b.venueId||T.mutate({facilityId:t.id,venueId:b.venueId,status:b.status,resourceCount:b.resourceCount,priceOverride:b.priceOverride?parseInt(b.priceOverride):null})},oe=U=>{switch(U){case"ACTIVE":return s.jsx(ue,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return s.jsx(ue,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return s.jsx(ue,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return s.jsx(ue,{variant:"secondary",children:"Planned"})}},L=U=>{const pe=N==null?void 0:N.find(He=>He.id===U);return(pe==null?void 0:pe.name)||"Unknown Venue"},se=(S==null?void 0:S.map(U=>U.venueId))||[],G=(N==null?void 0:N.filter(U=>!se.includes(U.id)))||[];return _?s.jsx(rt,{title:"Facilities",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Facilities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),s.jsxs(At,{open:n,onOpenChange:U=>{a(U),U||(r(null),Q())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-facility",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),s.jsxs(Ct,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Facility":"Add New Facility"})}),s.jsxs(aa,{value:i,onValueChange:o,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-4",children:[s.jsxs(Bt,{value:"details",className:"flex items-center gap-2",children:[s.jsx(GH,{className:"w-4 h-4"}),"Details"]}),s.jsxs(Bt,{value:"content",className:"flex items-center gap-2",children:[s.jsx(As,{className:"w-4 h-4"}),"Content"]}),s.jsxs(Bt,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(ms,{className:"w-4 h-4"}),"Venues",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),s.jsxs(Bt,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(uG,{className:"w-4 h-4"}),"Add-ons",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),s.jsxs(Vt,{value:"details",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"name",children:"Name"}),s.jsx(Y,{id:"name",value:h.name,onChange:U=>p({...h,name:U.target.value}),"data-testid":"input-facility-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Y,{id:"slug",value:h.slug,onChange:U=>p({...h,slug:U.target.value}),"data-testid":"input-facility-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:h.description,onChange:U=>p({...h,description:U.target.value}),rows:3,"data-testid":"input-facility-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:h.category,onChange:U=>p({...h,category:U.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"status",children:"Default Status"}),s.jsxs(_t,{value:h.status,onValueChange:U=>p({...h,status:U}),children:[s.jsx(wt,{"data-testid":"select-facility-status",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"PLANNED",children:"Planned"}),s.jsx(ke,{value:"OPENING_SOON",children:"Opening Soon"}),s.jsx(ke,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"basePrice",children:"Base Price (PKR)"}),s.jsx(Y,{id:"basePrice",type:"number",value:h.basePrice,onChange:U=>p({...h,basePrice:parseInt(U.target.value)||0}),"data-testid":"input-facility-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"minPlayers",children:"Min Players"}),s.jsx(Y,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:U=>p({...h,minPlayers:parseInt(U.target.value)||1}),"data-testid":"input-facility-min-players"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"resourceCount",children:"Default Resource Count"}),s.jsx(Y,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:U=>p({...h,resourceCount:parseInt(U.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Facility Image"}),s.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:J,className:"hidden","data-testid":"input-facility-image-file"}),s.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:()=>{var U;return(U=f.current)==null?void 0:U.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Upload"]})}),s.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),s.jsx(Y,{id:"imageUrl",value:h.imageUrl,onChange:U=>p({...h,imageUrl:U.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(xn,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:U=>{U.target.style.display="none"}})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:U=>p({...h,requiresCertification:U})}),s.jsx(B,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:U=>p({...h,isRestricted:U})}),s.jsx(B,{htmlFor:"isRestricted",children:"Restricted Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isHidden",checked:h.isHidden,onCheckedChange:U=>p({...h,isHidden:U}),"data-testid":"switch-is-hidden"}),s.jsx(B,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:ne,disabled:E.isPending||O.isPending,"data-testid":"button-save-facility",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsxs(Vt,{value:"content",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"aboutContent",children:"About / Extended Description"}),s.jsx(lt,{id:"aboutContent",value:h.aboutContent,onChange:U=>p({...h,aboutContent:U.target.value}),placeholder:"Detailed information about the facility...",rows:4,"data-testid":"input-about-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Features (one per line)"}),s.jsx(lt,{value:h.features.join(`
`),onChange:U=>p({...h,features:U.target.value.split(`
`).filter(pe=>pe.trim())}),placeholder:`Professional lighting
Climate controlled
Premium equipment`,rows:4,"data-testid":"input-features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each feature on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Amenities (one per line)"}),s.jsx(lt,{value:h.amenities.join(`
`),onChange:U=>p({...h,amenities:U.target.value.split(`
`).filter(pe=>pe.trim())}),placeholder:`Changing rooms
Shower facilities
Equipment rental`,rows:4,"data-testid":"input-amenities"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each amenity on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Keywords (comma-separated)"}),s.jsx(Y,{value:h.keywords.join(", "),onChange:U=>p({...h,keywords:U.target.value.split(",").map(pe=>pe.trim()).filter(pe=>pe)}),placeholder:"padel, tennis, racquet sports, indoor","data-testid":"input-keywords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for SEO and search"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Quick Info (key: value pairs, one per line)"}),s.jsx(lt,{value:Object.entries(h.quickInfo).map(([U,pe])=>`${U}: ${pe}`).join(`
`),onChange:U=>{const pe={};U.target.value.split(`
`).forEach(He=>{const Ee=He.indexOf(":");if(Ee>0){const mt=He.substring(0,Ee).trim(),sr=He.substring(Ee+1).trim();mt&&(pe[mt]=sr)}}),p({...h,quickInfo:pe})},placeholder:`Hours: 6AM - 11PM
Courts: 4
Surface: Artificial Turf`,rows:4,"data-testid":"input-quick-info"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Key: Value (one per line). These appear in the Quick Info sidebar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"pricingNotes",children:"Pricing Notes"}),s.jsx(lt,{id:"pricingNotes",value:h.pricingNotes,onChange:U=>p({...h,pricingNotes:U.target.value}),placeholder:"Special pricing conditions, discounts, or package information...",rows:3,"data-testid":"input-pricing-notes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"certificationInfo",children:"Certification Requirements"}),s.jsx(lt,{id:"certificationInfo",value:h.certificationInfo,onChange:U=>p({...h,certificationInfo:U.target.value}),placeholder:"Required certifications, safety training, or prerequisites...",rows:3,"data-testid":"input-certification-info"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Gallery Images (URLs, one per line)"}),s.jsx(lt,{value:h.galleryImages.join(`
`),onChange:U=>p({...h,galleryImages:U.target.value.split(`
`).filter(pe=>pe.trim())}),placeholder:`/uploads/facility1.jpg
/uploads/facility2.jpg`,rows:3,"data-testid":"input-gallery-images"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Educational Content"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Help players understand the sport with detailed guides."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"howToPlayContent",children:"How To Play"}),s.jsx(lt,{id:"howToPlayContent",value:h.howToPlayContent,onChange:U=>p({...h,howToPlayContent:U.target.value}),placeholder:"Explain how the sport/game is played, basic rules, court layout, equipment needed...",rows:5,"data-testid":"input-how-to-play"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the basics of how to play this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scoringRulesContent",children:"Scoring Rules"}),s.jsx(lt,{id:"scoringRulesContent",value:h.scoringRulesContent,onChange:U=>p({...h,scoringRulesContent:U.target.value}),placeholder:"Explain how points are scored, game structure (sets, games), point values...",rows:5,"data-testid":"input-scoring-rules"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how scoring works in this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"winningCriteriaContent",children:"Winning Criteria"}),s.jsx(lt,{id:"winningCriteriaContent",value:h.winningCriteriaContent,onChange:U=>p({...h,winningCriteriaContent:U.target.value}),placeholder:"Explain how to determine the winner, tiebreakers, match formats...",rows:5,"data-testid":"input-winning-criteria"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how winners are determined."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"pointsSystemContent",children:"Points & Ranking System"}),s.jsx(lt,{id:"pointsSystemContent",value:h.pointsSystemContent,onChange:U=>p({...h,pointsSystemContent:U.target.value}),placeholder:"Explain how leaderboard points are awarded, ranking system, tournament points...",rows:5,"data-testid":"input-points-system"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the points and ranking system at The Quarterdeck."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:ne,disabled:E.isPending||O.isPending,"data-testid":"button-save-facility-content",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsx(Vt,{value:"venues",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Venue"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Venue"}),s.jsxs(_t,{value:b.venueId,onValueChange:U=>m({...b,venueId:U}),children:[s.jsx(wt,{"data-testid":"select-venue",children:s.jsx(St,{placeholder:"Select venue..."})}),s.jsx(jt,{children:G.length===0?s.jsx(ke,{value:"none",disabled:!0,children:"No venues available"}):G.map(U=>s.jsxs(ke,{value:U.id,children:[U.name," (",U.city,")"]},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Status at Venue"}),s.jsxs(_t,{value:b.status,onValueChange:U=>m({...b,status:U}),children:[s.jsx(wt,{"data-testid":"select-venue-status",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"PLANNED",children:"Planned"}),s.jsx(ke,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(ke,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Resource Count at Venue"}),s.jsx(Y,{type:"number",value:b.resourceCount,onChange:U=>m({...b,resourceCount:parseInt(U.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Price Override (PKR)"}),s.jsx(Y,{type:"number",value:b.priceOverride,onChange:U=>m({...b,priceOverride:U.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),s.jsxs(M,{onClick:we,disabled:!b.venueId||T.isPending,"data-testid":"button-add-venue",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!S||S.length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Venue"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{children:"Resources"}),s.jsx(fe,{children:"Price"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:S.map(U=>s.jsxs(st,{"data-testid":`row-venue-${U.id}`,children:[s.jsx(le,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4 text-muted-foreground"}),L(U.venueId)]})}),s.jsx(le,{children:s.jsxs(_t,{value:U.status||"PLANNED",onValueChange:pe=>$.mutate({id:U.id,data:{status:pe}}),children:[s.jsx(wt,{className:"w-32","data-testid":`select-fv-status-${U.id}`,children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"PLANNED",children:"Planned"}),s.jsx(ke,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(ke,{value:"ACTIVE",children:"Active"})]})]})}),s.jsx(le,{children:s.jsx(Y,{type:"number",className:"w-20",value:U.resourceCount||1,onChange:pe=>$.mutate({id:U.id,data:{resourceCount:parseInt(pe.target.value)||1}}),"data-testid":`input-fv-resources-${U.id}`})}),s.jsx(le,{children:s.jsx(Y,{type:"number",className:"w-28",value:U.priceOverride||"",placeholder:h.basePrice.toString(),onChange:pe=>$.mutate({id:U.id,data:{priceOverride:pe.target.value?parseInt(pe.target.value):null}}),"data-testid":`input-fv-price-${U.id}`})}),s.jsx(le,{className:"text-right",children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&V.mutate(U.id)},"data-testid":`button-remove-venue-${U.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})})]},U.id))})]})]})]})}),s.jsx(Vt,{value:"addons",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:g?"Edit Add-on":"Add New Add-on"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Label"}),s.jsx(Y,{value:w.label,onChange:U=>v({...w,label:U.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Price (PKR)"}),s.jsx(Y,{type:"number",value:w.price,onChange:U=>v({...w,price:parseInt(U.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Icon (optional)"}),s.jsx(Y,{value:w.icon,onChange:U=>v({...w,icon:U.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{onClick:H,disabled:!w.label||K.isPending||A.isPending,"data-testid":"button-save-addon",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),g?"Update Add-on":"Add Add-on"]}),g&&s.jsx(M,{variant:"outline",onClick:X,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded-lg border",children:[s.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!C||C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Label"}),s.jsx(fe,{children:"Price"}),s.jsx(fe,{children:"Icon"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:C.map(U=>s.jsxs(st,{"data-testid":`row-addon-${U.id}`,children:[s.jsx(le,{className:"font-medium",children:U.label}),s.jsxs(le,{children:["PKR ",U.price.toLocaleString()]}),s.jsx(le,{children:U.icon||"-"}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>ie(U),"data-testid":`button-edit-addon-${U.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&R.mutate(U.id)},"data-testid":`button-delete-addon-${U.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},U.id))})]})]})]})})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Name"}),s.jsx(fe,{children:"Category"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{children:"Base Price"}),s.jsx(fe,{children:"Courts/Resources"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[j==null?void 0:j.map(U=>s.jsxs(st,{"data-testid":`row-facility-${U.id}`,children:[s.jsx(le,{className:"font-medium",children:U.name}),s.jsx(le,{children:U.category||"-"}),s.jsx(le,{children:oe(U.status)}),s.jsxs(le,{children:["PKR ",U.basePrice.toLocaleString()]}),s.jsx(le,{children:U.resourceCount}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>ve(U),"data-testid":`button-edit-facility-${U.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&I.mutate(U.id)},"data-testid":`button-delete-facility-${U.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},U.id)),(!j||j.length===0)&&s.jsx(st,{children:s.jsx(le,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function iMe(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...b}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,w=x.useMemo(()=>b,Object.values(b));return s.jsx(m.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,b=x.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,oMe(a,...t)]}function oMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var lMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A9=lMe.reduce((e,t)=>{const r=Sb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),X2="Progress",J2=100,[cMe]=iMe(X2),[uMe,dMe]=cMe(X2),O9=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=fMe,...o}=e;(a||a===0)&&!JR(a)&&console.error(hMe(`${a}`,"Progress"));const l=JR(a)?a:J2;n!==null&&!ZR(n,l)&&console.error(mMe(`${n}`,"Progress"));const c=ZR(n,l)?n:null,u=Fy(c)?i(c,l):void 0;return s.jsx(uMe,{scope:r,value:c,max:l,children:s.jsx(A9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Fy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":R9(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});O9.displayName=X2;var T9="ProgressIndicator",I9=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=dMe(T9,r);return s.jsx(A9.div,{"data-state":R9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});I9.displayName=T9;function fMe(e,t){return`${Math.round(e/t*100)}%`}function R9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Fy(e){return typeof e=="number"}function JR(e){return Fy(e)&&!isNaN(e)&&e>0}function ZR(e,t){return Fy(e)&&!isNaN(e)&&e<=t&&e>=0}function hMe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${J2}\`.`}function mMe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${J2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var M9=O9,pMe=I9;const vS=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(M9,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(pMe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));vS.displayName=M9.displayName;function gMe(){const{toast:e}=ht(),[t,r]=x.useState(new Set),[n,a]=x.useState(null),[i,o]=x.useState({}),{data:l,isLoading:c}=de({queryKey:["/api/admin/construction-phases"]});x.useEffect(()=>{if(l){const m={};l.forEach(w=>{m[w.id]={...w}}),o(m)}},[l]);const u=ye({mutationFn:async({id:m,data:w})=>{const v={...w,progress:w.progress!==void 0?Number(w.progress):void 0,isActive:w.status==="IN_PROGRESS",isComplete:w.status==="COMPLETE"||w.progress===100};return await xe("PATCH",`/api/admin/construction-phases/${m}`,v)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),a(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,w,v)=>{o(g=>({...g,[m]:{...g[m],[w]:v}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return s.jsx(xn,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return s.jsx(M5,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Gt,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return s.jsx(ue,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return s.jsx(ue,{className:"bg-amber-500",children:"In Progress"});default:return s.jsx(ue,{variant:"secondary",children:"Not Started"})}},b=()=>{if(!l||l.length===0)return 0;const m=l.reduce((w,v)=>w+(v.progress||0),0);return Math.round(m/l.length)};return c?s.jsx(rt,{title:"Construction Status",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Construction Status",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),s.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(Rs,{className:"w-3 h-3"})," View Public Roadmap",s.jsx(mc,{className:"w-3 h-3"})]})]})}),s.jsxs(ee,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Fe,{children:[s.jsx(ze,{children:"Overall Project Progress"}),s.jsx(Et,{children:"Combined progress across all construction phases"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[b(),"%"]}),s.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),s.jsx(vS,{value:b(),className:"h-3"})]})})]}),s.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,w)=>(m.sortOrder||0)-(w.sortOrder||0)).map(m=>{const w=i[m.id]||m,v=n===m.id;return s.jsxs(ee,{className:`transition-all ${v?"ring-2 ring-primary":""}`,children:[s.jsxs(Fe,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(w.status),s.jsxs("div",{children:[s.jsxs(ze,{className:"text-lg flex items-center gap-2",children:[w.label,": ",w.title,p(w.status)]}),s.jsx(Et,{children:w.timeframe||"No timeframe set"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-semibold",children:[w.progress||0,"%"]}),s.jsx(M,{variant:v?"default":"outline",size:"sm",onClick:()=>a(v?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:v?"Cancel":"Edit"}),v&&s.jsxs(M,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[s.jsx(rr,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),s.jsx(vS,{value:w.progress||0,className:"mt-3"})]}),v&&s.jsxs(te,{className:"border-t pt-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Phase Label"}),s.jsx(Y,{value:w.label||"",onChange:g=>d(m.id,"label",g.target.value),"data-testid":`input-phase-label-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Phase Title"}),s.jsx(Y,{value:w.title||"",onChange:g=>d(m.id,"title",g.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Status"}),s.jsxs(_t,{value:w.status,onValueChange:g=>{const y=g==="COMPLETE"?100:g==="NOT_STARTED"?0:w.progress;d(m.id,"status",g),d(m.id,"progress",y),d(m.id,"isComplete",g==="COMPLETE"),d(m.id,"isActive",g==="IN_PROGRESS")},children:[s.jsx(wt,{"data-testid":`select-phase-status-${m.id}`,children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"NOT_STARTED",children:"Not Started"}),s.jsx(ke,{value:"IN_PROGRESS",children:"In Progress"}),s.jsx(ke,{value:"COMPLETE",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Progress (%)"}),s.jsx(Y,{type:"number",min:"0",max:"100",value:w.progress||0,onChange:g=>{const y=Math.min(100,Math.max(0,parseInt(g.target.value)||0));d(m.id,"progress",y),y===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):y>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Timeframe"}),s.jsx(Y,{value:w.timeframe||"",onChange:g=>d(m.id,"timeframe",g.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Milestones (one per line)"}),s.jsx(lt,{value:(w.milestones||[]).join(`
`),onChange:g=>d(m.id,"milestones",g.target.value.split(`
`).filter(y=>y.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Highlights (one per line)"}),s.jsx(lt,{value:(w.highlights||[]).join(`
`),onChange:g=>d(m.id,"highlights",g.target.value.split(`
`).filter(y=>y.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!v&&s.jsx(te,{className:"pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),s.jsxs("ul",{className:"space-y-1",children:[(w.milestones||[]).slice(0,4).map((g,y)=>s.jsxs("li",{className:"text-sm flex items-center gap-2",children:[s.jsx(xn,{className:`w-3 h-3 ${g.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{className:g.startsWith("[x]")?"line-through text-muted-foreground":"",children:g.replace(/^\[(x| )\] /,"")})]},y)),(w.milestones||[]).length>4&&s.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",w.milestones.length-4," more..."]})]})]}),(w.highlights||[]).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),s.jsx("ul",{className:"space-y-1",children:(w.highlights||[]).map((g,y)=>s.jsx("li",{className:"text-sm text-muted-foreground",children:g},y))})]})]})})]},m.id)})}),s.jsx(ee,{className:"border-dashed",children:s.jsxs(te,{className:"py-6 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function vMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:h,isLoading:p}=de({queryKey:["/api/admin/events"]}),{data:b}=de({queryKey:["/api/admin/facilities"]}),m=ye({mutationFn:async k=>await xe("POST","/api/admin/events",k),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),a(!1),g()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),w=ye({mutationFn:async({id:k,data:C})=>await xe("PATCH",`/api/admin/events/${k}`,C),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),a(!1),r(null),g()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),v=ye({mutationFn:async k=>await xe("DELETE",`/api/admin/events/${k}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),g=()=>{var k;f({facilityId:((k=b==null?void 0:b[0])==null?void 0:k.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},y=async k=>{var P;const C=(P=k.target.files)==null?void 0:P[0];if(C){if(!["image/jpeg","image/png","image/webp"].includes(C.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(C.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const E=new FormData;E.append("image",C);const O=await fetch("/api/admin/upload",{method:"POST",body:E,credentials:"include"});if(!O.ok){let T="Upload failed";try{T=(await O.json()).message||T}catch{T=O.statusText||T}throw new Error(T)}const I=await O.json();c({name:C.name,url:I.imageUrl}),f(T=>({...T,imageUrl:I.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(E){e({title:"Upload failed",description:E.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},j=k=>{r(k),f({facilityId:k.facilityId,title:k.title,description:k.description||"",type:k.type,instructor:k.instructor||"",scheduleDay:k.scheduleDay||"",scheduleTime:k.scheduleTime||"",scheduleDatetime:k.scheduleDatetime?Xn(new Date(k.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:k.price||0,capacity:k.capacity||20,enrollmentDeadline:k.enrollmentDeadline?Xn(new Date(k.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:k.imageUrl||"",slug:k.slug||"",isActive:k.isActive??!0}),a(!0)},_=()=>{if(!d.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?w.mutate({id:t.id,data:d}):m.mutate(d)},N=k=>{switch(k){case"ACADEMY":return s.jsx(ue,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return s.jsx(ue,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return s.jsx(ue,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return s.jsx(ue,{className:"bg-green-500",children:"Social"});default:return s.jsx(ue,{variant:"secondary",children:k})}},S=k=>{var C;return((C=b==null?void 0:b.find(P=>P.id===k))==null?void 0:C.name)||"Unknown"};return p?s.jsx(rt,{title:"Events & Academies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Events & Academies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),s.jsxs(At,{open:n,onOpenChange:k=>{a(k),k||(r(null),g())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-event",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Event"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Event":"Add New Event"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Event Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:k=>f({...d,title:k.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"type",children:"Event Type"}),s.jsxs(_t,{value:d.type,onValueChange:k=>f({...d,type:k}),children:[s.jsx(wt,{"data-testid":"select-event-type",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),s.jsx(ke,{value:"TOURNAMENT",children:"Tournament"}),s.jsx(ke,{value:"CLASS",children:"Class (One-time)"}),s.jsx(ke,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"facilityId",children:"Facility"}),s.jsxs(_t,{value:d.facilityId,onValueChange:k=>f({...d,facilityId:k}),children:[s.jsx(wt,{"data-testid":"select-event-facility",children:s.jsx(St,{placeholder:"Select facility"})}),s.jsx(jt,{children:b==null?void 0:b.map(k=>s.jsx(ke,{value:k.id,children:k.name},k.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"instructor",children:"Instructor/Host"}),s.jsx(Y,{id:"instructor",value:d.instructor,onChange:k=>f({...d,instructor:k.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:k=>f({...d,description:k.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scheduleDay",children:"Schedule Day"}),s.jsx(Y,{id:"scheduleDay",value:d.scheduleDay,onChange:k=>f({...d,scheduleDay:k.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scheduleTime",children:"Schedule Time"}),s.jsx(Y,{id:"scheduleTime",value:d.scheduleTime,onChange:k=>f({...d,scheduleTime:k.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),s.jsx(Y,{id:"scheduleDatetime",type:"datetime-local",value:d.scheduleDatetime,onChange:k=>f({...d,scheduleDatetime:k.target.value}),"data-testid":"input-event-datetime"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Y,{id:"price",type:"number",value:d.price,onChange:k=>f({...d,price:parseInt(k.target.value)||0}),"data-testid":"input-event-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"capacity",children:"Capacity"}),s.jsx(Y,{id:"capacity",type:"number",value:d.capacity,onChange:k=>f({...d,capacity:parseInt(k.target.value)||20}),"data-testid":"input-event-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),s.jsx(Y,{id:"enrollmentDeadline",type:"date",value:d.enrollmentDeadline,onChange:k=>f({...d,enrollmentDeadline:k.target.value}),"data-testid":"input-event-deadline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Event Image"}),s.jsxs(aa,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"upload",className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-4 h-4"}),"Upload"]}),s.jsxs(Bt,{value:"url",className:"flex items-center gap-2",children:[s.jsx(kk,{className:"w-4 h-4"}),"URL"]})]}),s.jsxs(Vt,{value:"upload",className:"space-y-3",children:[s.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:y,className:"hidden","data-testid":"input-event-image-file"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(xn,{className:"w-4 h-4"}),l.name]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),s.jsx(Vt,{value:"url",className:"space-y-3",children:s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:k=>f({...d,imageUrl:k.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),d.imageUrl&&s.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:k=>{k.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Y,{id:"slug",value:d.slug,onChange:k=>f({...d,slug:k.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx(Ht,{id:"isActive",checked:d.isActive,onCheckedChange:k=>f({...d,isActive:k})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:_,disabled:m.isPending||w.isPending,"data-testid":"button-save-event",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Event"}),s.jsx(fe,{children:"Type"}),s.jsx(fe,{children:"Facility"}),s.jsx(fe,{children:"Schedule"}),s.jsx(fe,{children:"Capacity"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[h==null?void 0:h.map(k=>s.jsxs(st,{"data-testid":`row-event-${k.id}`,children:[s.jsx(le,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:k.title}),k.instructor&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",k.instructor]})]})}),s.jsx(le,{children:N(k.type)}),s.jsx(le,{children:S(k.facilityId)}),s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[k.scheduleDay&&s.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[s.jsx(wr,{className:"w-3 h-3"}),k.scheduleDay]}),k.scheduleTime&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Gt,{className:"w-3 h-3"}),k.scheduleTime]})]})}),s.jsx(le,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"}),k.enrolledCount||0,"/",k.capacity]})}),s.jsx(le,{children:k.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>j(k),"data-testid":`button-edit-event-${k.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&v.mutate(k.id)},"data-testid":`button-delete-event-${k.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},k.id)),(!h||h.length===0)&&s.jsx(st,{children:s.jsx(le,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})})]})})}function xMe(){const{toast:e}=ht(),{adminPath:t}=Mp(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=x.useState(""),{data:d,isLoading:f}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=de({queryKey:["/api/admin/membership-tiers"]}),p=()=>{re.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),re.invalidateQueries({queryKey:["/api/pricing-tiers"]})},b=ye({mutationFn:async S=>await xe("POST","/api/admin/pricing-tiers",S),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),v()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=ye({mutationFn:async({id:S,data:k})=>await xe("PATCH",`/api/admin/pricing-tiers/${S}`,k),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),v()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),w=ye({mutationFn:async S=>await xe("DELETE",`/api/admin/pricing-tiers/${S}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),v=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},g=S=>{n(S),l({name:S.name,tier:S.tier,price:S.price,billingPeriod:S.billingPeriod||"yearly",benefits:S.benefits||[],isPopular:S.isPopular||!1,sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),i(!0)},y=()=>{r?m.mutate({id:r.id,data:o}):b.mutate(o)},j=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},_=S=>{l({...o,benefits:o.benefits.filter((k,C)=>C!==S)})},N=S=>{switch(S){case"FOUNDING":return s.jsx(ue,{className:"bg-amber-600",children:"Founding"});case"GOLD":return s.jsx(ue,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return s.jsx(ue,{className:"bg-gray-400",children:"Silver"});default:return s.jsx(ue,{variant:"secondary",children:"Guest"})}};return f?s.jsx(rt,{title:"Pricing Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Pricing Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),s.jsx(he,{href:`/${t}/membership-tiers`,children:s.jsxs(M,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[s.jsx(pm,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),s.jsxs(At,{open:a,onOpenChange:S=>{i(S),S||(n(null),v())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-pricing-tier",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"name",children:"Display Name"}),s.jsx(Y,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"tier",children:"Tier Level"}),s.jsxs(_t,{value:o.tier,onValueChange:S=>l({...o,tier:S}),children:[s.jsx(wt,{"data-testid":"select-tier-level",children:s.jsx(St,{})}),s.jsxs(jt,{children:[h==null?void 0:h.filter(S=>S.isActive).map(S=>s.jsx(ke,{value:S.slug.toUpperCase(),"data-testid":`select-tier-${S.slug}`,children:S.displayName},S.id)),(!h||h.length===0)&&s.jsxs(s.Fragment,{children:[s.jsx(ke,{value:"FOUNDING",children:"Founding"}),s.jsx(ke,{value:"GOLD",children:"Gold"}),s.jsx(ke,{value:"SILVER",children:"Silver"}),s.jsx(ke,{value:"GUEST",children:"Guest"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(Y,{id:"price",type:"number",value:o.price,onChange:S=>l({...o,price:parseInt(S.target.value)||0}),"data-testid":"input-tier-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"billingPeriod",children:"Billing Period"}),s.jsxs(_t,{value:o.billingPeriod,onValueChange:S=>l({...o,billingPeriod:S}),children:[s.jsx(wt,{"data-testid":"select-billing-period",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"monthly",children:"Monthly"}),s.jsx(ke,{value:"yearly",children:"Yearly"}),s.jsx(ke,{value:"lifetime",children:"Lifetime"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:c,onChange:S=>u(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),j()),"data-testid":"input-benefit"}),s.jsx(M,{type:"button",onClick:j,variant:"secondary",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((S,k)=>s.jsxs(ue,{variant:"secondary",className:"px-2 py-1",children:[S,s.jsx("button",{type:"button",onClick:()=>_(k),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},k))})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:S=>l({...o,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isPopular",checked:o.isPopular,onCheckedChange:S=>l({...o,isPopular:S})}),s.jsx(B,{htmlFor:"isPopular",children:"Mark as Popular"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isActive",checked:o.isActive,onCheckedChange:S=>l({...o,isActive:S})}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs(M,{onClick:y,disabled:b.isPending||m.isPending,"data-testid":"button-save-tier",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Name"}),s.jsx(fe,{children:"Tier"}),s.jsx(fe,{children:"Price"}),s.jsx(fe,{children:"Billing"}),s.jsx(fe,{children:"Benefits"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[d==null?void 0:d.map(S=>{var k;return s.jsxs(st,{"data-testid":`row-tier-${S.id}`,children:[s.jsxs(le,{className:"font-medium",children:[S.name,S.isPopular&&s.jsx(oa,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),s.jsx(le,{children:N(S.tier)}),s.jsxs(le,{children:["PKR ",S.price.toLocaleString()]}),s.jsx(le,{className:"capitalize",children:S.billingPeriod}),s.jsxs(le,{children:[((k=S.benefits)==null?void 0:k.length)||0," benefits"]}),s.jsx(le,{children:S.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>g(S),"data-testid":`button-edit-tier-${S.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&w.mutate(S.id)},"data-testid":`button-delete-tier-${S.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},S.id)}),(!d||d.length===0)&&s.jsx(st,{children:s.jsx(le,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function yMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=x.useState(""),{data:u,isLoading:d}=de({queryKey:["/api/admin/membership-tiers"]}),f=()=>{re.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),re.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=ye({mutationFn:async N=>await xe("POST","/api/admin/membership-tiers",N),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=ye({mutationFn:async({id:N,data:S})=>await xe("PATCH",`/api/admin/membership-tiers/${N}`,S),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),b=ye({mutationFn:async N=>await xe("DELETE",`/api/admin/membership-tiers/${N}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},w=N=>{r(N),o({slug:N.slug,displayName:N.displayName,description:N.description||"",color:N.color||"#6B7280",discountPercent:N.discountPercent||0,guestPassesIncluded:N.guestPassesIncluded||0,benefits:N.benefits||[],sortOrder:N.sortOrder||0,isActive:N.isActive??!0}),a(!0)},v=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},g=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},y=N=>{o({...i,benefits:i.benefits.filter((S,k)=>k!==N)})},j=N=>N.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return s.jsx(rt,{title:"Membership Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const _=[...u||[]].sort((N,S)=>(N.sortOrder||0)-(S.sortOrder||0));return s.jsx(rt,{title:"Membership Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),s.jsxs(At,{open:n,onOpenChange:N=>{a(N),N||(r(null),m())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-tier",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"displayName",children:"Display Name"}),s.jsx(Y,{id:"displayName",value:i.displayName,onChange:N=>{const S=N.target.value;o({...i,displayName:S,slug:i.slug||j(S)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(Y,{id:"slug",value:i.slug,onChange:N=>o({...i,slug:j(N.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:i.description,onChange:N=>o({...i,description:N.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"color",children:"Tier Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"color",type:"color",value:i.color,onChange:N=>o({...i,color:N.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),s.jsx(Y,{value:i.color,onChange:N=>o({...i,color:N.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),s.jsx(Y,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:N=>o({...i,discountPercent:parseInt(N.target.value)||0}),"data-testid":"input-discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),s.jsx(Y,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:N=>o({...i,guestPassesIncluded:parseInt(N.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:l,onChange:N=>c(N.target.value),placeholder:"Add a benefit",onKeyDown:N=>N.key==="Enter"&&(N.preventDefault(),g()),"data-testid":"input-benefit"}),s.jsx(M,{type:"button",onClick:g,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((N,S)=>s.jsxs(ue,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${S}`,children:[N,s.jsx("button",{type:"button",onClick:()=>y(S),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${S}`,children:"x"})]},S))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:N=>o({...i,sortOrder:parseInt(N.target.value)||0}),"data-testid":"input-sort-order"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Ht,{id:"isActive",checked:i.isActive,onCheckedChange:N=>o({...i,isActive:N}),"data-testid":"switch-is-active"}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsx(M,{onClick:v,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsx(ze,{children:"Membership Tier Definitions"}),s.jsx(Et,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),s.jsx(te,{children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{className:"w-12",children:"Order"}),s.jsx(fe,{children:"Name"}),s.jsx(fe,{children:"Slug"}),s.jsx(fe,{children:"Color"}),s.jsx(fe,{children:"Discount"}),s.jsx(fe,{children:"Guest Passes"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[_.map(N=>s.jsxs(st,{"data-testid":`row-tier-${N.id}`,children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ep,{className:"w-4 h-4"}),N.sortOrder]})}),s.jsx(le,{className:"font-medium","data-testid":`text-tier-name-${N.id}`,children:N.displayName}),s.jsx(le,{children:s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${N.id}`,children:N.slug})}),s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:N.color||"#6B7280"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:N.color})]})}),s.jsxs(le,{children:[N.discountPercent,"%"]}),s.jsx(le,{children:N.guestPassesIncluded}),s.jsx(le,{children:s.jsx(ue,{variant:N.isActive?"default":"secondary","data-testid":`badge-status-${N.id}`,children:N.isActive?"Active":"Inactive"})}),s.jsx(le,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>w(N),"data-testid":`button-edit-tier-${N.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&b.mutate(N.id)},disabled:b.isPending,"data-testid":`button-delete-tier-${N.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},N.id)),_.length===0&&s.jsx(st,{children:s.jsx(le,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function bMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/announcements"]}),u=ye({mutationFn:async m=>await xe("POST","/api/admin/announcements",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await xe("PATCH",`/api/admin/announcements/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=ye({mutationFn:async m=>await xe("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),a(!0)},b=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(rt,{title:"Announcements",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Announcements",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),s.jsxs(At,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-announcement",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),s.jsxs(Ct,{className:"max-w-2xl",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Announcement":"Add New Announcement"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:b,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Title"}),s.jsx(fe,{children:"Category"}),s.jsx(fe,{children:"Published"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[l==null?void 0:l.map(m=>s.jsxs(st,{"data-testid":`row-announcement-${m.id}`,children:[s.jsx(le,{className:"font-medium",children:m.title}),s.jsx(le,{children:m.category||"-"}),s.jsx(le,{children:m.publishedAt?Xn(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),s.jsx(le,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(st,{children:s.jsx(le,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function wMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/careers"]}),u=ye({mutationFn:async m=>await xe("POST","/api/admin/careers",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await xe("PATCH",`/api/admin/careers/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=ye({mutationFn:async m=>await xe("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),a(!0)},b=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(rt,{title:"Careers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Careers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),s.jsxs(At,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-career",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Job Listing":"Add New Job Listing"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Job Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"department",children:"Department"}),s.jsx(Y,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"location",children:"Location"}),s.jsx(Y,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"type",children:"Employment Type"}),s.jsxs(_t,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[s.jsx(wt,{"data-testid":"select-career-type",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"Full-time",children:"Full-time"}),s.jsx(ke,{value:"Part-time",children:"Part-time"}),s.jsx(ke,{value:"Contract",children:"Contract"}),s.jsx(ke,{value:"Internship",children:"Internship"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"salary",children:"Salary Range"}),s.jsx(Y,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Job Description"}),s.jsx(lt,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"requirements",children:"Requirements"}),s.jsx(lt,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:b,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Title"}),s.jsx(fe,{children:"Department"}),s.jsx(fe,{children:"Location"}),s.jsx(fe,{children:"Type"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[l==null?void 0:l.map(m=>s.jsxs(st,{"data-testid":`row-career-${m.id}`,children:[s.jsx(le,{className:"font-medium",children:m.title}),s.jsx(le,{children:m.department||"-"}),s.jsx(le,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ms,{className:"w-3 h-3"}),m.location]})}),s.jsx(le,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(hm,{className:"w-3 h-3"}),m.type]})}),s.jsx(le,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(st,{children:s.jsx(le,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function jMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/rules"]}),u=ye({mutationFn:async m=>await xe("POST","/api/admin/rules",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=ye({mutationFn:async({id:m,data:w})=>await xe("PATCH",`/api/admin/rules/${m}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=ye({mutationFn:async m=>await xe("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),a(!0)},b=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(rt,{title:"Rules & Policies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Rules & Policies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),s.jsxs(At,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-rule",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Rule":"Add New Rule"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(M,{onClick:b,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{className:"w-12",children:"Order"}),s.jsx(fe,{children:"Title"}),s.jsx(fe,{children:"Category"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[l==null?void 0:l.map(m=>s.jsxs(st,{"data-testid":`row-rule-${m.id}`,children:[s.jsx(le,{children:s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ep,{className:"w-4 h-4"}),m.sortOrder]})}),s.jsx(le,{className:"font-medium",children:m.title}),s.jsx(le,{children:m.category?s.jsx(ue,{variant:"outline",children:m.category}):"-"}),s.jsx(le,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(le,{className:"text-right",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(st,{children:s.jsx(le,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const eM=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],tM=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function NMe(){const{toast:e}=ht(),[t,r]=x.useState("privacy"),[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!1),{data:u,isLoading:d}=de({queryKey:["/api/cms/bulk"]});x.useEffect(()=>{if(u){const _=u.find(S=>S.key==="privacy_policy"),N=u.find(S=>S.key==="terms_conditions");try{_!=null&&_.content?a(JSON.parse(_.content)):a(eM)}catch{a(eM)}try{N!=null&&N.content?o(JSON.parse(N.content)):o(tM)}catch{o(tM)}}},[u]);const f=ye({mutationFn:async({key:_,content:N})=>xe("POST","/api/admin/cms",{key:_,title:_==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:N,isActive:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},b=(_,N,S,k)=>{(_==="privacy"?a:o)(P=>P.map((E,O)=>O===N?{...E,[S]:k}:E))},m=_=>{const N={section:`${_==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};_==="privacy"?a([...n,N]):o([...i,N])},w=(_,N)=>{_==="privacy"?a(S=>S.filter((k,C)=>C!==N)):o(S=>S.filter((k,C)=>C!==N))},v=(_,N,S,k)=>{(_==="privacy"?a:o)(P=>P.map((E,O)=>{if(O!==N)return E;const I=[...E.items];return I[S]=k,{...E,items:I}}))},g=(_,N)=>{(_==="privacy"?a:o)(k=>k.map((C,P)=>P!==N?C:{...C,items:[...C.items,""]}))},y=(_,N,S)=>{(_==="privacy"?a:o)(C=>C.map((P,E)=>E!==N?P:{...P,items:P.items.filter((O,I)=>I!==S)}))},j=(_,N)=>s.jsxs("div",{className:"space-y-6",children:[N.map((S,k)=>s.jsxs(ee,{className:"relative",children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ep,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Section Title"}),s.jsx(Y,{value:S.section,onChange:C=>b(_,k,"section",C.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${k}`})]}),s.jsxs("div",{children:[s.jsx(B,{children:"Content"}),s.jsx(lt,{value:S.content,onChange:C=>b(_,k,"content",C.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${k}`})]})]}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>w(_,k),"data-testid":`button-remove-section-${k}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{className:"text-sm",children:"Bullet Points"}),s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>g(_,k),"data-testid":`button-add-item-${k}`,children:[s.jsx(tr,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),S.items.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):s.jsx("div",{className:"space-y-2",children:S.items.map((C,P)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:C,onChange:E=>v(_,k,P,E.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${k}-${P}`}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>y(_,k,P),"data-testid":`button-remove-item-${k}-${P}`,children:s.jsx(mr,{className:"w-4 h-4"})})]},P))})]})})]},k)),s.jsxs(M,{variant:"outline",className:"w-full",onClick:()=>m(_),"data-testid":`button-add-section-${_}`,children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?s.jsx(rt,{title:"Policy Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(rt,{title:"Policy Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),s.jsxs(aa,{value:t,onValueChange:r,children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(Bt,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[s.jsx(_d,{className:"w-4 h-4"}),"Privacy Policy"]}),s.jsxs(Bt,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[s.jsx(As,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),s.jsxs(Vt,{value:"privacy",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),s.jsxs(M,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),j("privacy",n)]}),s.jsxs(Vt,{value:"terms",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),s.jsxs(M,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),j("terms",i)]})]})]})})}const mu={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function _Me(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async E=>{var I;const O=(I=E.target.files)==null?void 0:I[0];if(O){if(!["image/jpeg","image/png","image/webp"].includes(O.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(O.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const T=new FormData;T.append("image",O);const $=await fetch("/api/admin/upload",{method:"POST",body:T,credentials:"include"});if(!$.ok){let K="Upload failed";try{K=(await $.json()).message||K}catch{K=$.statusText||K}throw new Error(K)}const V=await $.json();c({name:O.name,url:V.imageUrl}),f(K=>({...K,imageUrl:V.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(T){e({title:"Upload failed",description:T.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:b}=de({queryKey:["/api/admin/gallery"]}),m=ye({mutationFn:async E=>await xe("POST","/api/admin/gallery",E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),a(!1),g()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),w=ye({mutationFn:async({id:E,data:O})=>await xe("PATCH",`/api/admin/gallery/${E}`,O),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),a(!1),r(null),g()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),v=ye({mutationFn:async E=>await xe("DELETE",`/api/admin/gallery/${E}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),g=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},y=E=>{r(E),f({imageUrl:E.imageUrl,title:E.title||"",description:E.description||"",category:E.category||"Construction",sortOrder:E.sortOrder||0,isActive:E.isActive??!0}),a(!0)},j=()=>{t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=E=>{switch(E){case"Renders":return s.jsx(ue,{className:"bg-purple-500",children:"Renders"});case"Construction":return s.jsx(ue,{className:"bg-orange-500",children:"Construction"});case"Facilities":return s.jsx(ue,{className:"bg-blue-500",children:"Facilities"});default:return s.jsx(ue,{variant:"secondary",children:E||"Other"})}};if(b)return s.jsx(rt,{title:"Gallery",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const N=(p==null?void 0:p.filter(E=>E.category==="Renders").length)||0,S=(p==null?void 0:p.filter(E=>E.category==="Construction").length)||0,k=(p==null?void 0:p.filter(E=>E.category==="Facilities").length)||0,C=(p==null?void 0:p.filter(E=>E.isActive).length)||0,P=(p==null?void 0:p.filter(E=>!E.isActive).length)||0;return s.jsx(rt,{title:"Gallery",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-sm",children:[N," Renders"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-sm",children:[S," Construction"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-sm",children:[k," Facilities"]})]}),s.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[C," Active"]}),P>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",P," Hidden"]})]})]})]}),s.jsxs(At,{open:n,onOpenChange:E=>{a(E),E||(r(null),g())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-gallery-image",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Image"]})}),s.jsxs(Ct,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Image":"Add New Image"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(db,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Recommended:"}),s.jsx("p",{className:"text-xs",children:mu.dimensions.recommended})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Formats:"}),s.jsx("p",{className:"text-xs",children:mu.formats.join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Size:"}),s.jsx("p",{className:"text-xs",children:mu.maxFileSize})]})]})]})]})}),s.jsxs(aa,{defaultValue:"url",className:"w-full",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[s.jsx(kk,{className:"w-4 h-4"})," URL"]}),s.jsxs(Bt,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[s.jsx(kn,{className:"w-4 h-4"})," Upload (Testing)"]})]}),s.jsx(Vt,{value:"url",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"imageUrl",children:"Image URL"}),s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:E=>f({...d,imageUrl:E.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),s.jsxs(Vt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var E;return!i&&((E=u.current)==null?void 0:E.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(xn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx(M,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),c(null),f(O=>({...O,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:E=>f({...d,title:E.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsxs(tX,{children:[s.jsx(rX,{asChild:!0,children:s.jsx(Zs,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),s.jsx($3,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Renders:"})," ",mu.categories.Renders]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Construction:"})," ",mu.categories.Construction]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Facilities:"})," ",mu.categories.Facilities]})]})})]})]}),s.jsxs(_t,{value:d.category,onValueChange:E=>f({...d,category:E}),children:[s.jsx(wt,{"data-testid":"select-gallery-category",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"Renders",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),s.jsx(ke,{value:"Construction",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),s.jsx(ke,{value:"Facilities",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:E=>f({...d,description:E.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:E=>f({...d,sortOrder:parseInt(E.target.value)||0}),"data-testid":"input-gallery-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isActive",checked:d.isActive,onCheckedChange:E=>f({...d,isActive:E})}),s.jsx(B,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx(M,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-gallery-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(E=>s.jsxs(ee,{className:"overflow-hidden","data-testid":`card-gallery-${E.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[E.imageUrl?s.jsx("img",{src:E.imageUrl,alt:E.title||"Gallery image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Ta,{className:"w-12 h-12 text-muted-foreground"})}),!E.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ue,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium truncate",children:E.title||"Untitled"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.description||"No description"})]}),_(E.category)]}),s.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>y(E),"data-testid":`button-edit-gallery-${E.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&v.mutate(E.id)},"data-testid":`button-delete-gallery-${E.id}`,children:s.jsx(mr,{className:"w-4 h-4 text-destructive"})})]})]})]},E.id)),(!p||p.length===0)&&s.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[s.jsx(Ta,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const rM=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],nM={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function SMe(){var C,P,E,O;const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async I=>{var $;const T=($=I.target.files)==null?void 0:$[0];if(T){if(!["image/jpeg","image/png","image/webp"].includes(T.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(T.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const V=new FormData;V.append("image",T);const K=await fetch("/api/admin/upload",{method:"POST",body:V,credentials:"include"});if(!K.ok){let R="Upload failed";try{R=(await K.json()).message||R}catch{R=K.statusText||R}throw new Error(R)}const A=await K.json();c({name:T.name,url:A.imageUrl}),f(R=>({...R,imageUrl:A.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(V){e({title:"Upload failed",description:V.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:b}=de({queryKey:["/api/admin/site-images"]}),m=ye({mutationFn:I=>xe("POST","/api/admin/site-images",I),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),g(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),w=ye({mutationFn:({id:I,data:T})=>xe("PATCH",`/api/admin/site-images/${I}`,T),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),g(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),v=ye({mutationFn:I=>xe("DELETE",`/api/admin/site-images/${I}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),g=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},y=I=>{r(I),f({key:I.key,imageUrl:I.imageUrl,alt:I.alt||"",title:I.title||"",description:I.description||"",page:I.page,section:I.section||"",dimensions:I.dimensions||"",isActive:I.isActive??!0,sortOrder:I.sortOrder||0}),a(!0)},j=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?w.mutate({id:t.id,data:d}):m.mutate(d)},_=I=>{f(T=>({...T,page:I,section:""}))},N=I=>{var $;const T=($=nM[d.page])==null?void 0:$.find(V=>V.value===I);f(V=>({...V,section:I,dimensions:(T==null?void 0:T.dimensions)||"",key:t?V.key:`${d.page}_${I}`}))},S=I=>{const T=rM.find(V=>V.value===I),$={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return s.jsx(ue,{className:$[I]||"bg-gray-500",children:(T==null?void 0:T.label)||I})};if(b)return s.jsx(rt,{title:"Site Images",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const k=(p==null?void 0:p.reduce((I,T)=>{const $=T.page||"other";return I[$]||(I[$]=[]),I[$].push(T),I},{}))||{};return s.jsx(rt,{title:"Site Images",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((C=k.landing)==null?void 0:C.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((P=k.facilities)==null?void 0:P.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((E=k["coming-soon"])==null?void 0:E.length)||0]})]})]}),s.jsxs(At,{open:n,onOpenChange:I=>{a(I),I||g()},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-site-image",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Site Image":"Add New Site Image"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"page",children:"Page *"}),s.jsxs(_t,{value:d.page,onValueChange:_,children:[s.jsx(wt,{"data-testid":"select-site-image-page",children:s.jsx(St,{placeholder:"Select page"})}),s.jsx(jt,{children:rM.map(I=>s.jsx(ke,{value:I.value,children:I.label},I.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"section",children:"Section"}),s.jsxs(_t,{value:d.section,onValueChange:N,children:[s.jsx(wt,{"data-testid":"select-site-image-section",children:s.jsx(St,{placeholder:"Select section"})}),s.jsx(jt,{children:(O=nM[d.page])==null?void 0:O.map(I=>s.jsxs(ke,{value:I.value,children:[I.label," (",I.dimensions,")"]},I.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"key",children:"Unique Key *"}),s.jsx(Y,{id:"key",value:d.key,onChange:I=>f({...d,key:I.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),s.jsxs(aa,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2",children:[s.jsx(Bt,{value:"upload",children:"Upload File"}),s.jsx(Bt,{value:"url",children:"Use URL"})]}),s.jsxs(Vt,{value:"url",className:"space-y-2 mt-4",children:[s.jsx(B,{htmlFor:"imageUrl",children:"Image URL *"}),s.jsx(Y,{id:"imageUrl",value:d.imageUrl,onChange:I=>f({...d,imageUrl:I.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),s.jsxs(Vt,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var I;return!i&&((I=u.current)==null?void 0:I.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(xn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx(M,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),c(null),f(T=>({...T,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:I=>{I.target.style.display="none"}})})]}),d.dimensions&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[s.jsx(db,{className:"w-4 h-4 text-blue-500"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",s.jsx("strong",{children:d.dimensions})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:d.title,onChange:I=>f({...d,title:I.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"alt",children:"Alt Text"}),s.jsx(Y,{id:"alt",value:d.alt,onChange:I=>f({...d,alt:I.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(lt,{id:"description",value:d.description,onChange:I=>f({...d,description:I.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:I=>f({...d,sortOrder:parseInt(I.target.value)||0}),"data-testid":"input-site-image-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Ht,{id:"isActive",checked:d.isActive,onCheckedChange:I=>f({...d,isActive:I})}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx(M,{onClick:j,disabled:i||m.isPending||w.isPending,"data-testid":"button-save-site-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(k).length===0?s.jsx(ee,{className:"border-dashed",children:s.jsxs(te,{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Ta,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),s.jsxs(M,{onClick:()=>a(!0),"data-testid":"button-add-first-image",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8",children:[s.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[s.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),s.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[s.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),s.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),s.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),s.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[s.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),s.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[s.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),s.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),s.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),s.jsx("span",{children:"Upload your image or paste a URL"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),s.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(k).map(([I,T])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S(I),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",T.length," images)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:T.map($=>s.jsxs(ee,{className:"overflow-hidden","data-testid":`card-site-image-${$.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[$.imageUrl?s.jsx("img",{src:$.imageUrl,alt:$.alt||$.title||"Site image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Ta,{className:"w-12 h-12 text-muted-foreground"})}),!$.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ue,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(te,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:$.title||$.key}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:$.key}),$.section&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:$.section}),$.dimensions&&s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:$.dimensions})]})}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>y($),"data-testid":`button-edit-site-image-${$.id}`,children:[s.jsx(Jr,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx(M,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>v.mutate($.id),"data-testid":`button-delete-site-image-${$.id}`,children:s.jsx(mr,{className:"w-3 h-3"})})]})]})]},$.id))})]},I))]})})}function kMe(){var V,K;const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,b]=x.useState(""),[m,w]=x.useState("all"),[v,g]=x.useState("all"),{data:y,isLoading:j}=de({queryKey:["/api/admin/bookings"]}),{data:_}=de({queryKey:["/api/admin/facilities"]}),N=A=>{if(!A||!_)return"Unknown";const R=_.find(Q=>Q.id===A);return(R==null?void 0:R.name)||"Unknown"},S=ye({mutationFn:async({id:A,data:R})=>await xe("PATCH",`/api/admin/bookings/${A}/payment`,R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),a(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),k=ye({mutationFn:async({id:A,status:R,cancelReason:Q})=>await xe("PATCH",`/api/admin/bookings/${A}/status`,{status:R,cancelReason:Q}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),C=()=>{t&&k.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},P=()=>{t&&S.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},E=()=>{t&&S.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},O=A=>{switch(A){case"VERIFIED":return s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ue,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return s.jsx(ue,{variant:"secondary",children:"Awaiting Payment"})}},I=(A,R)=>A==="CONFIRMED"&&R==="VERIFIED"?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Confirmed"}):A==="CANCELLED"?s.jsx(ue,{variant:"destructive",children:"Cancelled"}):R==="VERIFIED"&&A!=="CONFIRMED"?s.jsx(ue,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):R==="PENDING_VERIFICATION"?s.jsx(ue,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):s.jsx(ue,{variant:"secondary",children:"Tentative - Awaiting Payment"}),T=y==null?void 0:y.filter(A=>{var X;const R=N(A.facilityId),Q=A.id.toLowerCase().includes(p.toLowerCase())||R.toLowerCase().includes(p.toLowerCase())||((X=A.userId)==null?void 0:X.toLowerCase().includes(p.toLowerCase())),J=m==="all"||A.paymentStatus===m,F=v==="all"||A.status===v;return Q&&J&&F}),$=(y==null?void 0:y.filter(A=>A.paymentStatus==="PENDING_VERIFICATION").length)||0;return j?s.jsx(rt,{title:"Bookings Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Bookings Management",children:s.jsxs("div",{className:"space-y-6",children:[$>0&&s.jsx(ee,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsxs(te,{className:"flex items-center gap-3 p-4",children:[s.jsx(Kn,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[$," booking",$>1?"s":""," pending payment verification"]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>w("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"h-5 w-5"}),"All Bookings (",(y==null?void 0:y.length)||0,")"]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ap,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Search by ID, facility, or user...",value:p,onChange:A=>b(A.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),s.jsxs(_t,{value:m,onValueChange:w,children:[s.jsxs(wt,{className:"w-[180px]","data-testid":"select-payment-filter",children:[s.jsx(R5,{className:"h-4 w-4 mr-2"}),s.jsx(St,{placeholder:"Payment Status"})]}),s.jsxs(jt,{children:[s.jsx(ke,{value:"all",children:"All Payments"}),s.jsx(ke,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),s.jsx(ke,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),s.jsx(ke,{value:"VERIFIED",children:"Verified"}),s.jsx(ke,{value:"REJECTED",children:"Rejected"})]})]}),s.jsxs(_t,{value:v,onValueChange:g,children:[s.jsx(wt,{className:"w-[160px]","data-testid":"select-status-filter",children:s.jsx(St,{placeholder:"Status"})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"all",children:"All Status"}),s.jsx(ke,{value:"PENDING",children:"Pending"}),s.jsx(ke,{value:"CONFIRMED",children:"Confirmed"}),s.jsx(ke,{value:"CANCELLED",children:"Cancelled"})]})]})]}),T&&T.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Booking ID"}),s.jsx(fe,{children:"Date / Time"}),s.jsx(fe,{children:"Facility"}),s.jsx(fe,{children:"Amount"}),s.jsx(fe,{children:"Payment"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{children:"Actions"})]})}),s.jsx(Vr,{children:T.map(A=>{var R;return s.jsxs(st,{"data-testid":`row-booking-${A.id}`,children:[s.jsxs(le,{className:"font-mono text-xs",children:[A.id.slice(0,8),"..."]}),s.jsxs(le,{children:[s.jsx("div",{className:"text-sm font-medium",children:A.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[A.startTime," - ",A.endTime]})]}),s.jsxs(le,{children:[s.jsx("div",{className:"text-sm",children:N(A.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",A.resourceId]})]}),s.jsx(le,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((R=A.totalPrice)==null?void 0:R.toLocaleString())||0]})}),s.jsx(le,{children:O(A.paymentStatus)}),s.jsx(le,{children:I(A.status,A.paymentStatus)}),s.jsx(le,{children:s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{r(A),c(A.paymentNotes||""),d(A.paymentProofUrl||""),a(!0)},"data-testid":`button-view-${A.id}`,children:s.jsx(Rs,{className:"h-4 w-4"})})})]},A.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),s.jsx(At,{open:n,onOpenChange:a,children:s.jsxs(Ct,{className:"max-w-2xl",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Booking Details"})}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Booking ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.id})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"User ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Time"}),s.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Facility"}),s.jsx("p",{className:"font-medium",children:N(t.facilityId)})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Resource"}),s.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((V=t.totalPrice)==null?void 0:V.toLocaleString())||0]})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium capitalize",children:((K=t.paymentMethod)==null?void 0:K.replace("_"," "))||"N/A"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Payment Status"}),s.jsx("div",{className:"mt-1",children:O(t.paymentStatus)})]}),s.jsxs("div",{children:[s.jsx(B,{className:"text-xs text-muted-foreground",children:"Booking Status"}),s.jsx("div",{className:"mt-1",children:I(t.status,t.paymentStatus)})]})]}),s.jsxs("div",{className:"mb-4 space-y-2",children:[s.jsx(B,{htmlFor:"paymentProofUrl",children:"Payment Proof URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"paymentProofUrl",value:u,onChange:A=>d(A.target.value),placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),(t.paymentProofUrl||u)&&s.jsx(M,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl,"_blank"),title:"View proof document","data-testid":"button-view-proof",children:s.jsx(mc,{className:"h-4 w-4"})})]}),t.paymentProofUrl&&!u&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",s.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&s.jsxs(s.Fragment,{children:[" on ",Xn(new Date(t.paymentVerifiedAt),"PPp")]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"paymentNotes",children:"Admin Notes"}),s.jsx(lt,{id:"paymentNotes",value:l,onChange:A=>c(A.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(M,{onClick:P,disabled:S.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[s.jsx(kr,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),s.jsxs(M,{onClick:E,disabled:S.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&s.jsx("div",{className:"flex gap-3 pt-4 border-t",children:s.jsxs(M,{onClick:()=>{o(!0)},disabled:k.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),s.jsx(At,{open:i,onOpenChange:o,children:s.jsxs(Ct,{children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Cancel Booking"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),s.jsx(lt,{id:"cancelReason",value:f,onChange:A=>h(A.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(M,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),s.jsx(M,{variant:"destructive",onClick:C,disabled:k.isPending,"data-testid":"button-confirm-cancel",children:k.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function CMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,b]=x.useState(""),[m,w]=x.useState(""),[v,g]=x.useState(null),y=async(A,R,Q)=>{g(Q);try{const J=new FormData;J.append("image",A);const F=await fetch("/api/admin/upload",{method:"POST",body:J,credentials:"include"});if(!F.ok){const H=await F.json();throw new Error(H.message||"Upload failed")}const X=await F.json();X.imageUrl&&(R(X.imageUrl),e({title:"Image uploaded successfully"}))}catch(J){e({title:"Upload failed",description:J.message||"Failed to upload image",variant:"destructive"})}finally{g(null)}},{data:j,isLoading:_,dataUpdatedAt:N}=de({queryKey:["/api/admin/site-settings"]}),{data:S,isLoading:k}=de({queryKey:["/api/admin/navbar-items"]}),C=A=>{var R;return((R=j==null?void 0:j.find(Q=>Q.key===A))==null?void 0:R.value)||""};x.useEffect(()=>{j&&!_&&(c(C("logo_main_url")),d(C("logo_dark_url")),h(C("favicon_url")),b(C("site_name")||"The Quarterdeck"),w(C("site_tagline")||"Sports & Recreation Complex"))},[j,_,N]);const P=ye({mutationFn:async A=>{for(const R of A)await xe("POST","/api/admin/site-settings",R)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),E=ye({mutationFn:async A=>await xe("POST","/api/admin/navbar-items",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),a(!1),T()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),O=ye({mutationFn:async({id:A,data:R})=>await xe("PATCH",`/api/admin/navbar-items/${A}`,R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),a(!1),r(null),T()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),I=ye({mutationFn:async A=>await xe("DELETE",`/api/admin/navbar-items/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),T=()=>{o({label:"",href:"",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},$=A=>{r(A),o({label:A.label,href:A.href,sortOrder:A.sortOrder,isVisible:A.isVisible,target:A.target||"_self",requiresAuth:A.requiresAuth||!1,icon:A.icon||""}),a(!0)},V=()=>{t?O.mutate({id:t.id,data:i}):E.mutate(i)},K=()=>{const A=[{key:"logo_main_url",value:l,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:u,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:f,label:"Favicon URL",category:"branding"},{key:"site_name",value:p,label:"Site Name",category:"branding"},{key:"site_tagline",value:m,label:"Site Tagline",category:"branding"}];P.mutate(A)};return _||k?s.jsx(rt,{title:"Branding & Navigation",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Branding & Navigation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Ta,{className:"h-5 w-5"}),"Site Branding"]}),s.jsx(Et,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"siteName",children:"Site Name"}),s.jsx(Y,{id:"siteName",value:p,onChange:A=>b(A.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"siteTagline",children:"Site Tagline"}),s.jsx(Y,{id:"siteTagline",value:m,onChange:A=>w(A.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"logoUrl",children:"Main Logo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"logoUrl",value:l,onChange:A=>c(A.target.value),placeholder:"https://example.com/logo.png or upload","data-testid":"input-logo-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:v==="logo",onClick:()=>{var A;return(A=document.getElementById("logo-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo",children:v==="logo"?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var Q;const R=(Q=A.target.files)==null?void 0:Q[0];R&&y(R,c,"logo"),A.target.value=""}})]}),l&&s.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),s.jsx("img",{src:l,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"logoDarkUrl",value:u,onChange:A=>d(A.target.value),placeholder:"https://example.com/logo-dark.png or upload","data-testid":"input-logo-dark-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:v==="logoDark",onClick:()=>{var A;return(A=document.getElementById("logo-dark-upload"))==null?void 0:A.click()},"data-testid":"button-upload-logo-dark",children:v==="logoDark"?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-dark-upload",type:"file",accept:"image/*",className:"hidden",onChange:A=>{var Q;const R=(Q=A.target.files)==null?void 0:Q[0];R&&y(R,d,"logoDark"),A.target.value=""}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"faviconUrl",children:"Favicon"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{id:"faviconUrl",value:f,onChange:A=>h(A.target.value),placeholder:"https://example.com/favicon.ico or upload","data-testid":"input-favicon-url",className:"flex-1"}),s.jsx(M,{variant:"outline",size:"icon",disabled:v==="favicon",onClick:()=>{var A;return(A=document.getElementById("favicon-upload"))==null?void 0:A.click()},"data-testid":"button-upload-favicon",children:v==="favicon"?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"})}),s.jsx("input",{id:"favicon-upload",type:"file",accept:"image/*,.ico",className:"hidden",onChange:A=>{var Q;const R=(Q=A.target.files)==null?void 0:Q[0];R&&y(R,h,"favicon"),A.target.value=""}})]})]}),s.jsxs(M,{onClick:K,disabled:P.isPending,"data-testid":"button-save-branding",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),P.isPending?"Saving...":"Save Branding Settings"]})]})]}),s.jsxs(ee,{children:[s.jsxs(Fe,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(cG,{className:"h-5 w-5"}),"Navigation Items"]}),s.jsx(Et,{children:"Manage the navigation links that appear in the header."})]}),s.jsxs(M,{onClick:()=>{T(),r(null),a(!0)},"data-testid":"button-add-nav-item",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx(te,{children:S&&S.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{className:"w-[50px]",children:"Order"}),s.jsx(fe,{children:"Label"}),s.jsx(fe,{children:"Link"}),s.jsx(fe,{children:"Visibility"}),s.jsx(fe,{children:"Actions"})]})}),s.jsx(Vr,{children:S.map(A=>s.jsxs(st,{"data-testid":`row-nav-${A.id}`,children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:A.sortOrder})]})}),s.jsx(le,{className:"font-medium",children:A.label}),s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[A.href,A.target==="_blank"&&s.jsx(mc,{className:"h-3 w-3"})]})}),s.jsx(le,{children:A.isVisible?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Visible"}):s.jsx(ue,{variant:"secondary",children:"Hidden"})}),s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>$(A),"data-testid":`button-edit-nav-${A.id}`,children:s.jsx(Jr,{className:"h-4 w-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>I.mutate(A.id),"data-testid":`button-delete-nav-${A.id}`,children:s.jsx(mr,{className:"h-4 w-4"})})]})})]},A.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No navigation items configured. Click "Add Item" to create one.'})})]}),s.jsx(At,{open:n,onOpenChange:a,children:s.jsxs(Ct,{children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navLabel",children:"Label"}),s.jsx(Y,{id:"navLabel",value:i.label,onChange:A=>o({...i,label:A.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navHref",children:"Link URL"}),s.jsx(Y,{id:"navHref",value:i.href,onChange:A=>o({...i,href:A.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navOrder",children:"Sort Order"}),s.jsx(Y,{id:"navOrder",type:"number",value:i.sortOrder,onChange:A=>o({...i,sortOrder:parseInt(A.target.value)||0}),"data-testid":"input-nav-order"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"navTarget",children:"Link Target"}),s.jsxs(_t,{value:i.target,onValueChange:A=>o({...i,target:A}),children:[s.jsx(wt,{"data-testid":"select-nav-target",children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"_self",children:"Same Window"}),s.jsx(ke,{value:"_blank",children:"New Window"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{htmlFor:"navVisible",children:"Visible"}),s.jsx(Ht,{id:"navVisible",checked:i.isVisible,onCheckedChange:A=>o({...i,isVisible:A}),"data-testid":"switch-nav-visible"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{htmlFor:"navAuth",children:"Requires Authentication"}),s.jsx(Ht,{id:"navAuth",checked:i.requiresAuth,onCheckedChange:A=>o({...i,requiresAuth:A}),"data-testid":"switch-nav-auth"})]}),s.jsxs(M,{className:"w-full",onClick:V,disabled:E.isPending||O.isPending,"data-testid":"button-save-nav-item",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var PMe=Symbol("radix.slottable");function EMe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=PMe,t}var $9="AlertDialog",[AMe]=Pn($9,[U6]),ao=U6(),D9=e=>{const{__scopeAlertDialog:t,...r}=e,n=ao(t);return s.jsx(SC,{...n,...r,modal:!0})};D9.displayName=$9;var OMe="AlertDialogTrigger",L9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ao(r);return s.jsx(r8,{...a,...n,ref:t})});L9.displayName=OMe;var TMe="AlertDialogPortal",F9=e=>{const{__scopeAlertDialog:t,...r}=e,n=ao(t);return s.jsx(kC,{...n,...r})};F9.displayName=TMe;var IMe="AlertDialogOverlay",U9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ao(r);return s.jsx(Kb,{...a,...n,ref:t})});U9.displayName=IMe;var td="AlertDialogContent",[RMe,MMe]=AMe(td),$Me=EMe("AlertDialogContent"),B9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=ao(r),o=x.useRef(null),l=dt(t,o),c=x.useRef(null);return s.jsx(uoe,{contentName:td,titleName:V9,docsSlug:"alert-dialog",children:s.jsx(RMe,{scope:r,cancelRef:c,children:s.jsxs(Hb,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx($Me,{children:n}),s.jsx(LMe,{contentRef:o})]})})})});B9.displayName=td;var V9="AlertDialogTitle",q9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ao(r);return s.jsx(CC,{...a,...n,ref:t})});q9.displayName=V9;var z9="AlertDialogDescription",W9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ao(r);return s.jsx(PC,{...a,...n,ref:t})});W9.displayName=z9;var DMe="AlertDialogAction",K9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ao(r);return s.jsx(EC,{...a,...n,ref:t})});K9.displayName=DMe;var H9="AlertDialogCancel",G9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=MMe(H9,r),i=ao(r),o=dt(t,a);return s.jsx(EC,{...i,...n,ref:o})});G9.displayName=H9;var LMe=({contentRef:e})=>{const t=`\`${td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${td}\` by passing a \`${z9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},FMe=D9,UMe=L9,BMe=F9,Q9=U9,Y9=B9,X9=K9,J9=G9,Z9=q9,e7=W9;const Lf=FMe,Z2=UMe,VMe=BMe,t7=x.forwardRef(({className:e,...t},r)=>s.jsx(Q9,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));t7.displayName=Q9.displayName;const Bc=x.forwardRef(({className:e,...t},r)=>s.jsxs(VMe,{children:[s.jsx(t7,{}),s.jsx(Y9,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bc.displayName=Y9.displayName;const Vc=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vc.displayName="AlertDialogHeader";const qc=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qc.displayName="AlertDialogFooter";const zc=x.forwardRef(({className:e,...t},r)=>s.jsx(Z9,{ref:r,className:be("text-lg font-semibold",e),...t}));zc.displayName=Z9.displayName;const Wc=x.forwardRef(({className:e,...t},r)=>s.jsx(e7,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Wc.displayName=e7.displayName;const Kc=x.forwardRef(({className:e,...t},r)=>s.jsx(X9,{ref:r,className:be(zk(),e),...t}));Kc.displayName=X9.displayName;const Hc=x.forwardRef(({className:e,...t},r)=>s.jsx(J9,{ref:r,className:be(zk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Hc.displayName=J9.displayName;const qMe=ua({title:vt().min(1,"Title is required"),icon:vt().optional(),sortOrder:zb.number().default(0),isActive:wC().default(!0)}),zMe=ua({categoryId:vt().min(1,"Category is required"),question:vt().min(1,"Question is required"),answer:vt().min(1,"Answer is required"),sortOrder:zb.number().default(0),isActive:wC().default(!0)}),WMe=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function KMe(){const{toast:e}=ht(),[t,r]=x.useState(!1),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,b]=x.useState(new Set),{data:m=[],isLoading:w}=de({queryKey:["/api/admin/faq/categories"]}),{data:v=[],isLoading:g}=de({queryKey:["/api/admin/faq/items"]}),y=$s({resolver:Ds(qMe),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),j=$s({resolver:Ds(zMe),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),_=ye({mutationFn:async A=>await xe("POST","/api/admin/faq/categories",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),y.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),N=ye({mutationFn:async({id:A,data:R})=>await xe("PATCH",`/api/admin/faq/categories/${A}`,R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),y.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),S=ye({mutationFn:async A=>await xe("DELETE",`/api/admin/faq/categories/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),k=ye({mutationFn:async A=>await xe("POST","/api/admin/faq/items",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),a(!1),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),C=ye({mutationFn:async({id:A,data:R})=>await xe("PATCH",`/api/admin/faq/items/${A}`,R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),a(!1),c(null),j.reset()},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),P=ye({mutationFn:async A=>await xe("DELETE",`/api/admin/faq/items/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:A=>{e({title:"Error",description:A.message,variant:"destructive"})}}),E=A=>{o(A),y.reset({title:A.title,icon:A.icon||"help-circle",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),r(!0)},O=A=>{c(A),j.reset({categoryId:A.categoryId,question:A.question,answer:A.answer,sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),a(!0)},I=A=>{i?N.mutate({id:i.id,data:A}):_.mutate(A)},T=A=>{l?C.mutate({id:l.id,data:A}):k.mutate(A)},$=()=>{f&&(f.type==="category"?S.mutate(f.id):P.mutate(f.id),d(!1),h(null))},V=A=>{b(R=>{const Q=new Set(R);return Q.has(A)?Q.delete(A):Q.add(A),Q})},K=A=>v.filter(R=>R.categoryId===A).sort((R,Q)=>(R.sortOrder||0)-(Q.sortOrder||0));return w||g?s.jsx(rt,{title:"FAQ Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(rt,{title:"FAQ Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(At,{open:t,onOpenChange:A=>{r(A),A||(o(null),y.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{variant:"outline","data-testid":"button-add-category",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsxs(Ct,{children:[s.jsx(Ot,{children:s.jsx(Tt,{children:i?"Edit Category":"Add Category"})}),s.jsx(Fs,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(I),className:"space-y-4",children:[s.jsx(tt,{control:y.control,name:"title",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Title"}),s.jsx(et,{children:s.jsx(Y,{...A,"data-testid":"input-category-title"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:y.control,name:"icon",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Icon"}),s.jsxs(_t,{onValueChange:A.onChange,value:A.value,children:[s.jsx(et,{children:s.jsx(wt,{"data-testid":"select-category-icon",children:s.jsx(St,{placeholder:"Select an icon"})})}),s.jsx(jt,{children:WMe.map(R=>s.jsx(ke,{value:R.value,children:R.label},R.value))})]}),s.jsx(nt,{})]})}),s.jsx(tt,{control:y.control,name:"sortOrder",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...A,"data-testid":"input-category-sort-order"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:y.control,name:"isActive",render:({field:A})=>s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(et,{children:s.jsx(Ht,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-category-active"})}),s.jsx(B,{children:"Active"})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:_.isPending||N.isPending,"data-testid":"button-save-category",children:[(_.isPending||N.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),s.jsxs(At,{open:n,onOpenChange:A=>{a(A),A||(c(null),j.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-faq-item",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),s.jsxs(Ct,{className:"max-w-2xl",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),s.jsx(Fs,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(T),className:"space-y-4",children:[s.jsx(tt,{control:j.control,name:"categoryId",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Category"}),s.jsxs(_t,{onValueChange:A.onChange,value:A.value,children:[s.jsx(et,{children:s.jsx(wt,{"data-testid":"select-item-category",children:s.jsx(St,{placeholder:"Select a category"})})}),s.jsx(jt,{children:m.map(R=>s.jsx(ke,{value:R.id,children:R.title},R.id))})]}),s.jsx(nt,{})]})}),s.jsx(tt,{control:j.control,name:"question",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Question"}),s.jsx(et,{children:s.jsx(Y,{...A,"data-testid":"input-item-question"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:j.control,name:"answer",render:({field:A})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Answer"}),s.jsx(et,{children:s.jsx(lt,{...A,rows:4,"data-testid":"input-item-answer"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(tt,{control:j.control,name:"sortOrder",render:({field:A})=>s.jsxs(Xe,{className:"flex-1",children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...A,"data-testid":"input-item-sort-order"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:j.control,name:"isActive",render:({field:A})=>s.jsxs(Xe,{className:"flex items-center gap-2 pt-8",children:[s.jsx(et,{children:s.jsx(Ht,{checked:A.value,onCheckedChange:A.onChange,"data-testid":"switch-item-active"})}),s.jsx(B,{children:"Active"})]})})]}),s.jsxs(M,{type:"submit",className:"w-full",disabled:k.isPending||C.isPending,"data-testid":"button-save-item",children:[(k.isPending||C.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(Zs,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):s.jsx("div",{className:"space-y-4",children:m.sort((A,R)=>(A.sortOrder||0)-(R.sortOrder||0)).map(A=>s.jsxs(ee,{className:"overflow-visible","data-testid":`card-category-${A.id}`,children:[s.jsx(Fe,{className:"cursor-pointer",onClick:()=>V(A.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p.has(A.id)?s.jsx(hc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx($a,{className:"w-5 h-5 text-muted-foreground"}),s.jsx(ze,{className:"text-lg",children:A.title}),!A.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",K(A.id).length," items)"]})]}),s.jsxs("div",{className:"flex gap-2",onClick:R=>R.stopPropagation(),children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>E(A),"data-testid":`button-edit-category-${A.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:A.id}),d(!0)},"data-testid":`button-delete-category-${A.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})]})}),p.has(A.id)&&s.jsx(te,{className:"pt-0",children:K(A.id).length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):s.jsx("div",{className:"space-y-2",children:K(A.id).map(R=>s.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${R.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:R.question}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:R.answer}),!R.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>O(R),"data-testid":`button-edit-item-${R.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:R.id}),d(!0)},"data-testid":`button-delete-item-${R.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})]},R.id))})})]},A.id))}),s.jsx(Lf,{open:u,onOpenChange:d,children:s.jsxs(Bc,{children:[s.jsxs(Vc,{children:[s.jsx(zc,{children:"Are you sure?"}),s.jsx(Wc,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),s.jsxs(qc,{children:[s.jsx(Hc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Kc,{onClick:$,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const hh={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function HMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,d]=x.useState(null),f=x.useRef(null),[h,p]=x.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:b,isLoading:m}=de({queryKey:["/api/admin/users"]}),{data:w}=de({queryKey:["/api/auth/user"]}),v=(w==null?void 0:w.role)==="SUPER_ADMIN",g=ye({mutationFn:async({id:P,data:E})=>await xe("PATCH",`/api/admin/users/${P}`,E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),a(!1),r(null),y()},onError:P=>{e({title:"Failed to update member",description:P.message||"An error occurred",variant:"destructive"})}}),y=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},j=async P=>{var O;const E=(O=P.target.files)==null?void 0:O[0];if(E){if(!["image/jpeg","image/png","image/webp"].includes(E.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(E.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const I=new FormData;I.append("image",E);const T=await fetch("/api/admin/upload",{method:"POST",body:I,credentials:"include"});if(!T.ok){let V="Upload failed";try{V=(await T.json()).message||V}catch{V=T.statusText||V}throw new Error(V)}const $=await T.json();d({name:E.name,url:$.imageUrl}),p(V=>({...V,profileImageUrl:$.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(I){e({title:"Upload failed",description:I.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},_=P=>{r(P),p({firstName:P.firstName||"",lastName:P.lastName||"",phone:P.phone||"",profileImageUrl:P.profileImageUrl||"",role:P.role,isSafetyCertified:P.isSafetyCertified||!1,hasSignedWaiver:P.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),a(!0)},N=()=>{t&&g.mutate({id:t.id,data:h})},S=b==null?void 0:b.filter(P=>{var I,T;if(!i)return!0;const E=i.toLowerCase();return`${P.firstName||""} ${P.lastName||""}`.toLowerCase().includes(E)||((I=P.email)==null?void 0:I.toLowerCase().includes(E))||((T=P.phone)==null?void 0:T.toLowerCase().includes(E))}),k=P=>{switch(P){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},C=P=>{var I,T,$;const E=((I=P.firstName)==null?void 0:I.charAt(0))||"",O=((T=P.lastName)==null?void 0:T.charAt(0))||"";return(E+O).toUpperCase()||(($=P.email)==null?void 0:$.charAt(0).toUpperCase())||"?"};return s.jsx(rt,{title:"Members Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),s.jsxs(ee,{children:[s.jsxs(Fe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"w-5 h-5"}),"All Members (",(S==null?void 0:S.length)||0,")"]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Ap,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Y,{placeholder:"Search by name, email, phone...",value:i,onChange:P=>o(P.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),s.jsx(te,{children:m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{className:"w-16",children:"Photo"}),s.jsx(fe,{children:"Name"}),s.jsx(fe,{children:"Email"}),s.jsx(fe,{children:"Phone"}),s.jsx(fe,{children:"Role"}),s.jsx(fe,{children:"Certifications"}),s.jsx(fe,{className:"w-20",children:"Actions"})]})}),s.jsxs(Vr,{children:[S==null?void 0:S.map(P=>s.jsxs(st,{"data-testid":`row-member-${P.id}`,children:[s.jsx(le,{children:s.jsxs(Ed,{className:"w-10 h-10",children:[s.jsx(Ad,{src:P.profileImageUrl||void 0,alt:`${P.firstName} ${P.lastName}`}),s.jsx(Od,{children:C(P)})]})}),s.jsx(le,{className:"font-medium",children:P.firstName||P.lastName?`${P.firstName||""} ${P.lastName||""}`.trim():s.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),s.jsx(le,{children:P.email||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(le,{children:P.phone||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(le,{children:s.jsx(ue,{variant:k(P.role),children:P.role})}),s.jsx(le,{children:s.jsxs("div",{className:"flex gap-1",children:[P.isSafetyCertified&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Safety"}),P.hasSignedWaiver&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Waiver"}),!P.isSafetyCertified&&!P.hasSignedWaiver&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),s.jsx(le,{children:s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>_(P),"data-testid":`button-edit-member-${P.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})})})]},P.id)),(S==null?void 0:S.length)===0&&s.jsx(st,{children:s.jsx(le,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),s.jsx(At,{open:n,onOpenChange:P=>{a(P),P||(r(null),y())},children:s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Edit Member Profile"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(B,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(T5,{className:"w-4 h-4"}),"Profile Photo"]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Ed,{className:"w-20 h-20",children:[s.jsx(Ad,{src:h.profileImageUrl||void 0}),s.jsx(Od,{className:"text-xl",children:t?C(t):"?"})]}),s.jsx("div",{className:"flex-1 space-y-3",children:s.jsxs(aa,{defaultValue:"upload",className:"w-full",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-2",children:[s.jsxs(Bt,{value:"upload","data-testid":"tab-upload",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Upload"]}),s.jsxs(Bt,{value:"url","data-testid":"tab-url",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"URL"]})]}),s.jsxs(Vt,{value:"upload",className:"space-y-3 mt-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:j,className:"hidden","data-testid":"input-member-image-file"}),s.jsx(M,{type:"button",variant:"outline",onClick:()=>{var P;return(P=f.current)==null?void 0:P.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(xn,{className:"w-4 h-4"}),u.name]})]}),s.jsx(Vt,{value:"url",className:"space-y-3 mt-3",children:s.jsx(Y,{value:h.profileImageUrl,onChange:P=>p({...h,profileImageUrl:P.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(db,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),s.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[s.jsxs("li",{children:["Dimensions: ",hh.dimensions.recommended]}),s.jsxs("li",{children:["Formats: ",hh.formats.join(", ")]}),s.jsxs("li",{children:["Max size: ",hh.maxFileSize]}),s.jsxs("li",{children:["DPI: ",hh.dpi]})]}),s.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),s.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:hh.tips.map((P,E)=>s.jsx("li",{children:P},E))})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"firstName",children:"First Name"}),s.jsx(Y,{id:"firstName",value:h.firstName,onChange:P=>p({...h,firstName:P.target.value}),"data-testid":"input-member-firstname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Y,{id:"lastName",value:h.lastName,onChange:P=>p({...h,lastName:P.target.value}),"data-testid":"input-member-lastname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Y,{id:"phone",value:h.phone,onChange:P=>p({...h,phone:P.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),v?s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"role",children:"Role"}),s.jsxs(_t,{value:h.role,onValueChange:P=>p({...h,role:P}),children:[s.jsx(wt,{"data-testid":"select-member-role",children:s.jsx(St,{placeholder:"Select role..."})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"USER",children:"User"}),s.jsx(ke,{value:"ADMIN",children:"Admin"}),s.jsx(ke,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Role"}),s.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[s.jsx(ue,{variant:k(h.role),children:h.role}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(B,{className:"text-base font-medium",children:"Certifications"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),s.jsx(Ht,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:P=>p({...h,isSafetyCertified:P}),"data-testid":"switch-safety-certified"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),s.jsx(Ht,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:P=>p({...h,hasSignedWaiver:P}),"data-testid":"switch-signed-waiver"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(M,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsxs(M,{onClick:N,disabled:g.isPending,"data-testid":"button-save-member",children:[g.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}const Lj=[{key:"instagram",label:"Instagram",icon:jce,placeholder:"https://instagram.com/yourpage"},{key:"facebook",label:"Facebook",icon:mU,placeholder:"https://facebook.com/yourpage"},{key:"youtube",label:"YouTube",icon:Sce,placeholder:"https://youtube.com/@yourchannel"},{key:"twitter",label:"Twitter/X",icon:pU,placeholder:"https://twitter.com/yourhandle"},{key:"linkedin",label:"LinkedIn",icon:Nce,placeholder:"https://linkedin.com/company/yourcompany"}];function GMe(){const{toast:e}=ht(),[t,r]=x.useState(""),[n,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState({}),[f,h]=x.useState(""),[p,b]=x.useState(!1),[m,w]=x.useState(""),{data:v,isLoading:g}=de({queryKey:["/api/admin/site-settings"]}),y=C=>{var P;return((P=v==null?void 0:v.find(E=>E.key===C))==null?void 0:P.value)||""};x.useEffect(()=>{if(v&&!g){r(y("email")),a(y("phone")),o(y("address")),c(y("operating_hours"));const C={};Lj.forEach(P=>{C[P.key]=y(P.key)}),d(C),h(y("whatsapp_phone")),b(y("whatsapp_button_visible")==="true"),w(y("whatsapp_message"))}},[v,g]);const j=ye({mutationFn:async C=>{for(const P of C)await xe("POST","/api/admin/site-settings",P)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Settings saved successfully"})},onError:()=>{e({title:"Failed to save settings",variant:"destructive"})}}),_=()=>{j.mutate([{key:"email",value:t,label:"Contact Email",category:"contact"},{key:"phone",value:n,label:"Contact Phone",category:"contact"},{key:"address",value:i,label:"Contact Address",category:"contact"},{key:"operating_hours",value:l,label:"Operating Hours",category:"contact"}])},N=()=>{const C=Lj.map(P=>({key:P.key,value:u[P.key]||"",label:`${P.label} URL`,category:"social"}));j.mutate(C)},S=()=>{j.mutate([{key:"whatsapp_phone",value:f,label:"WhatsApp Phone",category:"whatsapp"},{key:"whatsapp_button_visible",value:p?"true":"false",label:"WhatsApp Button Visible",category:"whatsapp"},{key:"whatsapp_message",value:m,label:"WhatsApp Default Message",category:"whatsapp"}])},k=(C,P)=>{d(E=>({...E,[C]:P}))};return g?s.jsx(rt,{title:"Site Settings",children:s.jsx("div",{className:"p-6",children:"Loading..."})}):s.jsx(rt,{title:"Site Settings",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Site Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage contact information, social media links, and WhatsApp settings"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(J1,{className:"h-5 w-5"}),"Contact Information"]}),s.jsx(Et,{children:"Update your business contact details displayed on the Contact page and footer"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(mf,{className:"h-4 w-4"}),"Email Address"]}),s.jsx(Y,{id:"email",type:"email",value:t,onChange:C=>r(C.target.value),placeholder:"info@thequarterdeck.pk","data-testid":"input-contact-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(ax,{className:"h-4 w-4"}),"Phone Number"]}),s.jsx(Y,{id:"phone",value:n,onChange:C=>a(C.target.value),placeholder:"+92 51 1234567","data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"address",className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-4 w-4"}),"Address"]}),s.jsx(lt,{id:"address",value:i,onChange:C=>o(C.target.value),placeholder:"Sector F-7, Islamabad, Pakistan",rows:2,"data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"hours",className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"h-4 w-4"}),"Operating Hours"]}),s.jsx(lt,{id:"hours",value:l,onChange:C=>c(C.target.value),placeholder:"Mon-Fri: 6:00 AM - 11:00 PM | Sat-Sun: 7:00 AM - 10:00 PM",rows:2,"data-testid":"input-operating-hours"})]}),s.jsxs(M,{onClick:_,disabled:j.isPending,className:"w-full","data-testid":"button-save-contact",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Save Contact Info"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(J1,{className:"h-5 w-5"}),"Social Media Links"]}),s.jsx(Et,{children:"Manage your social media URLs shown in the footer and Contact page"})]}),s.jsxs(te,{className:"space-y-4",children:[Lj.map(C=>{const P=C.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:C.key,className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-4 w-4"}),C.label]}),s.jsx(Y,{id:C.key,value:u[C.key]||"",onChange:E=>k(C.key,E.target.value),placeholder:C.placeholder,"data-testid":`input-${C.key}`})]},C.key)}),s.jsxs(M,{onClick:N,disabled:j.isPending,className:"w-full","data-testid":"button-save-social",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Save Social Links"]})]})]}),s.jsxs(ee,{children:[s.jsxs(Fe,{children:[s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(_ce,{className:"h-5 w-5 text-green-500"}),"WhatsApp Button"]}),s.jsx(Et,{children:"Configure the floating WhatsApp button for quick customer contact"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{htmlFor:"whatsapp-visible",className:"flex items-center gap-2",children:"Show WhatsApp Button"}),s.jsx(Ht,{id:"whatsapp-visible",checked:p,onCheckedChange:b,"data-testid":"switch-whatsapp-visible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"whatsapp-phone",className:"flex items-center gap-2",children:[s.jsx(ax,{className:"h-4 w-4"}),"WhatsApp Phone Number"]}),s.jsx(Y,{id:"whatsapp-phone",value:f,onChange:C=>h(C.target.value),placeholder:"+92 300 1234567 (include country code)","data-testid":"input-whatsapp-phone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Include country code, e.g., +92 for Pakistan"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{htmlFor:"whatsapp-message",className:"flex items-center gap-2",children:[s.jsx(U5,{className:"h-4 w-4"}),"Default Message (Optional)"]}),s.jsx(lt,{id:"whatsapp-message",value:m,onChange:C=>w(C.target.value),placeholder:"Hello! I'd like to inquire about...",rows:2,"data-testid":"input-whatsapp-message"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pre-filled message when users click the WhatsApp button"})]}),s.jsxs(M,{onClick:S,disabled:j.isPending,className:"w-full","data-testid":"button-save-whatsapp",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Save WhatsApp Settings"]})]})]})]})]})]})})}const QMe={landing:"Landing Page",facilities:"Facilities",membership:"Membership",events:"Events",contact:"Contact",careers:"Careers",gallery:"Gallery",roadmap:"Roadmap",faq:"FAQ",rules:"Rules",leaderboard:"Leaderboard"};function YMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(null),{data:l,isLoading:c}=de({queryKey:["/api/admin/hero-sections"]});x.useEffect(()=>{if(l){const b={};l.forEach(m=>{b[m.id]={...m}}),a(b)}},[l]);const u=ye({mutationFn:async({id:b,data:m})=>await xe("PATCH",`/api/admin/hero-sections/${b}`,m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/hero-sections"]}),re.invalidateQueries({queryKey:["/api/hero-sections"]}),e({title:"Hero section updated successfully"})},onError:()=>{e({title:"Failed to update hero section",variant:"destructive"})}}),d=async(b,m)=>{o(b);try{const w=new FormData;w.append("image",m);const v=await fetch("/api/admin/upload",{method:"POST",body:w,credentials:"include"});if(!v.ok){const y=await v.json();throw new Error(y.message||"Upload failed")}const g=await v.json();g.imageUrl&&(a(y=>({...y,[b]:{...y[b],backgroundImageUrl:g.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(w){e({title:"Upload failed",description:w.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},f=(b,m,w)=>{a(v=>({...v,[b]:{...v[b],[m]:w}}))},h=b=>{const m=n[b];m&&u.mutate({id:b,data:m})},p=b=>{var w;const m=((w=n[b])==null?void 0:w.isActive)??!0;u.mutate({id:b,data:{isActive:!m}})};return c?s.jsx(rt,{title:"Hero Sections",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Re,{className:"h-6 w-6 animate-spin"})})}):s.jsx(rt,{title:"Hero Sections",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Hero Sections"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage hero banners for each page. Toggle visibility, update content, and customize appearance."})]}),s.jsxs("div",{className:"space-y-4",children:[l==null?void 0:l.map(b=>{const m=t===b.id,w=n[b.id]||b,v=w.isActive??!0;return s.jsxs(ee,{className:v?"":"opacity-60",children:[s.jsx(Fe,{className:"cursor-pointer",onClick:()=>r(m?null:b.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ta,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx(ze,{className:"text-lg",children:QMe[b.page]||b.page}),s.jsx(Et,{children:b.title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:v?"default":"secondary",children:v?"Visible":"Hidden"}),s.jsx(M,{variant:"ghost",size:"icon",onClick:g=>{g.stopPropagation(),p(b.id)},"data-testid":`button-toggle-hero-${b.page}`,children:v?s.jsx(Rs,{className:"h-4 w-4"}):s.jsx(Vi,{className:"h-4 w-4"})}),m?s.jsx(hc,{className:"h-4 w-4"}):s.jsx($a,{className:"h-4 w-4"})]})]})}),m&&s.jsxs(te,{className:"space-y-4 pt-0",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Title"}),s.jsx(Y,{value:w.title||"",onChange:g=>f(b.id,"title",g.target.value),placeholder:"Hero title","data-testid":`input-hero-title-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Subtitle"}),s.jsx(Y,{value:w.subtitle||"",onChange:g=>f(b.id,"subtitle",g.target.value),placeholder:"Hero subtitle","data-testid":`input-hero-subtitle-${b.page}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Description"}),s.jsx(lt,{value:w.description||"",onChange:g=>f(b.id,"description",g.target.value),placeholder:"Optional description text",rows:2,"data-testid":`input-hero-description-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Background Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:w.backgroundImageUrl||"",onChange:g=>f(b.id,"backgroundImageUrl",g.target.value),placeholder:"https://example.com/image.jpg or upload",className:"flex-1","data-testid":`input-hero-image-${b.page}`}),s.jsx(M,{variant:"outline",size:"icon",disabled:i===b.id,onClick:()=>{var g;return(g=document.getElementById(`hero-upload-${b.id}`))==null?void 0:g.click()},"data-testid":`button-upload-hero-${b.page}`,children:i===b.id?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"})}),s.jsx("input",{id:`hero-upload-${b.id}`,type:"file",accept:"image/*",className:"hidden",onChange:g=>{var j;const y=(j=g.target.files)==null?void 0:j[0];y&&d(b.id,y),g.target.value=""}})]}),w.backgroundImageUrl&&s.jsx("div",{className:"mt-2 rounded-lg overflow-hidden h-32 bg-muted",children:s.jsx("img",{src:w.backgroundImageUrl,alt:"Preview",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary CTA Text"}),s.jsx(Y,{value:w.ctaText||"",onChange:g=>f(b.id,"ctaText",g.target.value),placeholder:"Explore Now","data-testid":`input-hero-cta-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary CTA Link"}),s.jsx(Y,{value:w.ctaLink||"",onChange:g=>f(b.id,"ctaLink",g.target.value),placeholder:"/facilities","data-testid":`input-hero-cta-link-${b.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary CTA Text"}),s.jsx(Y,{value:w.ctaSecondaryText||"",onChange:g=>f(b.id,"ctaSecondaryText",g.target.value),placeholder:"Learn More","data-testid":`input-hero-cta2-${b.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary CTA Link"}),s.jsx(Y,{value:w.ctaSecondaryLink||"",onChange:g=>f(b.id,"ctaSecondaryLink",g.target.value),placeholder:"/about","data-testid":`input-hero-cta2-link-${b.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Alignment"}),s.jsxs(_t,{value:w.alignment||"center",onValueChange:g=>f(b.id,"alignment",g),children:[s.jsx(wt,{"data-testid":`select-hero-alignment-${b.page}`,children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"left",children:"Left"}),s.jsx(ke,{value:"center",children:"Center"}),s.jsx(ke,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Height"}),s.jsxs(_t,{value:w.height||"large",onValueChange:g=>f(b.id,"height",g),children:[s.jsx(wt,{"data-testid":`select-hero-height-${b.page}`,children:s.jsx(St,{})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"small",children:"Small"}),s.jsx(ke,{value:"medium",children:"Medium"}),s.jsx(ke,{value:"large",children:"Large"}),s.jsx(ke,{value:"full",children:"Full Screen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(B,{children:["Overlay Opacity (",w.overlayOpacity||50,"%)"]}),s.jsx(Y,{type:"range",min:"0",max:"100",value:w.overlayOpacity||50,onChange:g=>f(b.id,"overlayOpacity",parseInt(g.target.value)),className:"h-9","data-testid":`input-hero-overlay-${b.page}`})]})]}),s.jsxs(M,{onClick:()=>h(b.id),disabled:u.isPending,className:"w-full","data-testid":`button-save-hero-${b.page}`,children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]},b.id)}),(!l||l.length===0)&&s.jsx(ee,{children:s.jsx(te,{className:"p-8 text-center text-muted-foreground",children:"No hero sections found. Hero sections are created automatically when pages are first accessed."})})]})]})})}const sM=[{value:"default",label:"Default"},{value:"gradient",label:"Gradient"},{value:"image",label:"With Image"},{value:"minimal",label:"Minimal"}],Fj=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"membership",label:"Membership"},{value:"events",label:"Events"},{value:"contact",label:"Contact"},{value:"footer",label:"Footer"},{value:"global",label:"Global (All Pages)"}];function XMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),{data:f,isLoading:h}=de({queryKey:["/api/admin/ctas"]});x.useEffect(()=>{if(f){const j={};f.forEach(_=>{j[_.id]={..._}}),a(j)}},[f]);const p=ye({mutationFn:async({id:j,data:_})=>await xe("PATCH",`/api/admin/ctas/${j}`,_),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),re.invalidateQueries({queryKey:["/api/ctas"]}),e({title:"CTA updated successfully"})},onError:()=>{e({title:"Failed to update CTA",variant:"destructive"})}}),b=ye({mutationFn:async j=>await xe("POST","/api/admin/ctas",j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),c(!1),d({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),e({title:"CTA created successfully"})},onError:()=>{e({title:"Failed to create CTA",variant:"destructive"})}}),m=ye({mutationFn:async j=>await xe("DELETE",`/api/admin/ctas/${j}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),e({title:"CTA deleted successfully"})},onError:()=>{e({title:"Failed to delete CTA",variant:"destructive"})}}),w=async(j,_)=>{o(j);try{const N=new FormData;N.append("image",_);const S=await fetch("/api/admin/upload",{method:"POST",body:N,credentials:"include"});if(!S.ok){const C=await S.json();throw new Error(C.message||"Upload failed")}const k=await S.json();k.imageUrl&&(a(C=>({...C,[j]:{...C[j],backgroundImageUrl:k.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(N){e({title:"Upload failed",description:N.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},v=(j,_,N)=>{a(S=>({...S,[j]:{...S[j],[_]:N}}))},g=j=>{const _=n[j];_&&p.mutate({id:j,data:_})},y=j=>{var N;const _=((N=n[j])==null?void 0:N.isActive)??!0;p.mutate({id:j,data:{isActive:!_}})};return h?s.jsx(rt,{title:"CTAs",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Re,{className:"h-6 w-6 animate-spin"})})}):s.jsx(rt,{title:"CTAs",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Call-to-Action Buttons"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage CTA buttons and links throughout the site. Edit button text, URLs, and styling."})]}),s.jsxs(At,{open:l,onOpenChange:c,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-cta",children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Add CTA"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Create New CTA"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Key (unique identifier)"}),s.jsx(Y,{value:u.key,onChange:j=>d({...u,key:j.target.value}),placeholder:"e.g., landing-membership","data-testid":"input-new-cta-key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Page"}),s.jsxs(_t,{value:u.page,onValueChange:j=>d({...u,page:j}),children:[s.jsx(wt,{"data-testid":"select-new-cta-page",children:s.jsx(St,{})}),s.jsx(jt,{children:Fj.map(j=>s.jsx(ke,{value:j.value,children:j.label},j.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Title"}),s.jsx(Y,{value:u.title,onChange:j=>d({...u,title:j.target.value}),placeholder:"CTA Title","data-testid":"input-new-cta-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Subtitle"}),s.jsx(Y,{value:u.subtitle,onChange:j=>d({...u,subtitle:j.target.value}),placeholder:"Optional subtitle","data-testid":"input-new-cta-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Text"}),s.jsx(Y,{value:u.buttonText,onChange:j=>d({...u,buttonText:j.target.value}),placeholder:"Get Started","data-testid":"input-new-cta-button-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Link"}),s.jsx(Y,{value:u.buttonLink,onChange:j=>d({...u,buttonLink:j.target.value}),placeholder:"/membership","data-testid":"input-new-cta-button-link"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Text"}),s.jsx(Y,{value:u.secondaryButtonText,onChange:j=>d({...u,secondaryButtonText:j.target.value}),placeholder:"Learn More","data-testid":"input-new-cta-secondary-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Link"}),s.jsx(Y,{value:u.secondaryButtonLink,onChange:j=>d({...u,secondaryButtonLink:j.target.value}),placeholder:"/about","data-testid":"input-new-cta-secondary-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Style"}),s.jsxs(_t,{value:u.style,onValueChange:j=>d({...u,style:j}),children:[s.jsx(wt,{"data-testid":"select-new-cta-style",children:s.jsx(St,{})}),s.jsx(jt,{children:sM.map(j=>s.jsx(ke,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs(M,{onClick:()=>b.mutate(u),disabled:!u.key||!u.title||b.isPending,className:"w-full","data-testid":"button-create-cta",children:[b.isPending?s.jsx(Re,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create CTA"]})]})]})]})]}),(!f||f.length===0)&&s.jsx(ee,{children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx(zE,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CTAs Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first call-to-action button to get started."}),s.jsxs(M,{onClick:()=>c(!0),children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Add CTA"]})]})}),s.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(j=>{var k;const _=t===j.id,N=n[j.id]||j,S=N.isActive??!0;return s.jsxs(ee,{className:S?"":"opacity-60",children:[s.jsx(Fe,{className:"cursor-pointer",onClick:()=>r(_?null:j.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zE,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs(ze,{className:"text-lg flex items-center gap-2",children:[j.title,s.jsx(ue,{variant:"outline",className:"font-mono text-xs",children:j.key})]}),s.jsxs(Et,{className:"flex items-center gap-2",children:[s.jsx("span",{children:((k=Fj.find(C=>C.value===j.page))==null?void 0:k.label)||j.page}),j.buttonLink&&s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(kk,{className:"h-3 w-3"}),j.buttonLink]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:S?"default":"secondary",children:S?"Active":"Inactive"}),s.jsx(M,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),y(j.id)},"data-testid":`button-toggle-cta-${j.key}`,children:S?s.jsx(Rs,{className:"h-4 w-4"}):s.jsx(Vi,{className:"h-4 w-4"})}),s.jsx(M,{variant:"ghost",size:"icon",onClick:C=>{C.stopPropagation(),confirm("Are you sure you want to delete this CTA?")&&m.mutate(j.id)},"data-testid":`button-delete-cta-${j.key}`,children:s.jsx(mr,{className:"h-4 w-4 text-destructive"})}),_?s.jsx(hc,{className:"h-4 w-4"}):s.jsx($a,{className:"h-4 w-4"})]})]})}),_&&s.jsxs(te,{className:"space-y-6 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Title"}),s.jsx(Y,{value:N.title||"",onChange:C=>v(j.id,"title",C.target.value),"data-testid":`input-cta-title-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Subtitle"}),s.jsx(Y,{value:N.subtitle||"",onChange:C=>v(j.id,"subtitle",C.target.value),"data-testid":`input-cta-subtitle-${j.key}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Description"}),s.jsx(lt,{value:N.description||"",onChange:C=>v(j.id,"description",C.target.value),"data-testid":`textarea-cta-description-${j.key}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Text"}),s.jsx(Y,{value:N.buttonText||"",onChange:C=>v(j.id,"buttonText",C.target.value),placeholder:"e.g., Get Started","data-testid":`input-cta-button-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Primary Button Link"}),s.jsx(Y,{value:N.buttonLink||"",onChange:C=>v(j.id,"buttonLink",C.target.value),placeholder:"e.g., /membership","data-testid":`input-cta-button-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Text"}),s.jsx(Y,{value:N.secondaryButtonText||"",onChange:C=>v(j.id,"secondaryButtonText",C.target.value),placeholder:"e.g., Learn More","data-testid":`input-cta-secondary-text-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Secondary Button Link"}),s.jsx(Y,{value:N.secondaryButtonLink||"",onChange:C=>v(j.id,"secondaryButtonLink",C.target.value),placeholder:"e.g., /about","data-testid":`input-cta-secondary-link-${j.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Page"}),s.jsxs(_t,{value:N.page||"landing",onValueChange:C=>v(j.id,"page",C),children:[s.jsx(wt,{"data-testid":`select-cta-page-${j.key}`,children:s.jsx(St,{})}),s.jsx(jt,{children:Fj.map(C=>s.jsx(ke,{value:C.value,children:C.label},C.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Section"}),s.jsx(Y,{value:N.section||"",onChange:C=>v(j.id,"section",C.target.value),placeholder:"e.g., header, footer","data-testid":`input-cta-section-${j.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Style"}),s.jsxs(_t,{value:N.style||"default",onValueChange:C=>v(j.id,"style",C),children:[s.jsx(wt,{"data-testid":`select-cta-style-${j.key}`,children:s.jsx(St,{})}),s.jsx(jt,{children:sM.map(C=>s.jsx(ke,{value:C.value,children:C.label},C.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Background Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{value:N.backgroundImageUrl||"",onChange:C=>v(j.id,"backgroundImageUrl",C.target.value),placeholder:"Image URL",className:"flex-1","data-testid":`input-cta-bg-image-${j.key}`}),s.jsxs("label",{children:[s.jsx(M,{variant:"outline",size:"icon",disabled:i===j.id,asChild:!0,children:s.jsx("span",{children:i===j.id?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(kn,{className:"h-4 w-4"})})}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:C=>{var E;const P=(E=C.target.files)==null?void 0:E[0];P&&w(j.id,P)}})]})]}),N.backgroundImageUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:N.backgroundImageUrl,alt:"CTA Background",className:"h-24 w-48 object-cover rounded-md border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{children:"Background Color"}),s.jsx(Y,{value:N.backgroundColor||"",onChange:C=>v(j.id,"backgroundColor",C.target.value),placeholder:"e.g., #1a1a1a or gradient","data-testid":`input-cta-bg-color-${j.key}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{checked:S,onCheckedChange:C=>v(j.id,"isActive",C),"data-testid":`switch-cta-active-${j.key}`}),s.jsx(B,{children:"Active"})]}),s.jsxs(M,{onClick:()=>g(j.id),disabled:p.isPending,"data-testid":`button-save-cta-${j.key}`,children:[p.isPending?s.jsx(Re,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]},j.id)})})]})})}const aM=[{value:"ACTIVE",label:"Active"},{value:"COMING_SOON",label:"Coming Soon"},{value:"PLANNED",label:"Planned"}];function JMe(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(!1),[l,c]=x.useState({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/venues"]});x.useEffect(()=>{if(u){const v={};u.forEach(g=>{v[g.id]={...g}}),a(v)}},[u]);const f=ye({mutationFn:async({id:v,data:g})=>await xe("PATCH",`/api/admin/venues/${v}`,g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue updated successfully"})},onError:()=>{e({title:"Failed to update venue",variant:"destructive"})}}),h=ye({mutationFn:async v=>await xe("POST","/api/admin/venues",v),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),o(!1),c({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),e({title:"Venue created successfully"})},onError:()=>{e({title:"Failed to create venue",variant:"destructive"})}}),p=ye({mutationFn:async v=>await xe("DELETE",`/api/admin/venues/${v}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue deleted successfully"})},onError:()=>{e({title:"Failed to delete venue",variant:"destructive"})}}),b=(v,g,y)=>{a(j=>({...j,[v]:{...j[v],[g]:y}}))},m=v=>{const g=n[v];if(g){const{id:y,createdAt:j,updatedAt:_,...N}=g;f.mutate({id:v,data:N})}},w=v=>v.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return d?s.jsx(rt,{title:"Venues Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(rt,{title:"Venues Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-venues-title",children:"Venue Locations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage multi-location venues (Islamabad, Lahore, Karachi, etc.)"})]}),s.jsxs(At,{open:i,onOpenChange:o,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-venue",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Venue"]})}),s.jsxs(Ct,{className:"sm:max-w-[500px]",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Add New Venue"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-name",children:"Venue Name"}),s.jsx(Y,{id:"new-name",value:l.name,onChange:v=>{c({...l,name:v.target.value,slug:w(v.target.value)})},placeholder:"The Quarterdeck Lahore","data-testid":"input-new-venue-name"})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-slug",children:"Slug"}),s.jsx(Y,{id:"new-slug",value:l.slug,onChange:v=>c({...l,slug:v.target.value}),placeholder:"lahore","data-testid":"input-new-venue-slug"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-city",children:"City"}),s.jsx(Y,{id:"new-city",value:l.city,onChange:v=>c({...l,city:v.target.value}),placeholder:"Lahore","data-testid":"input-new-venue-city"})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-country",children:"Country"}),s.jsx(Y,{id:"new-country",value:l.country,onChange:v=>c({...l,country:v.target.value}),placeholder:"Pakistan","data-testid":"input-new-venue-country"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-status",children:"Status"}),s.jsxs(_t,{value:l.status,onValueChange:v=>c({...l,status:v}),children:[s.jsx(wt,{"data-testid":"select-new-venue-status",children:s.jsx(St,{})}),s.jsx(jt,{children:aM.map(v=>s.jsx(ke,{value:v.value,children:v.label},v.value))})]})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"new-sort",children:"Sort Order"}),s.jsx(Y,{id:"new-sort",type:"number",value:l.sortOrder,onChange:v=>c({...l,sortOrder:parseInt(v.target.value)||0}),"data-testid":"input-new-venue-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{checked:l.isDefault,onCheckedChange:v=>c({...l,isDefault:v}),"data-testid":"switch-new-venue-default"}),s.jsx(B,{children:"Default venue (selected by default in booking system)"})]}),s.jsxs(M,{onClick:()=>h.mutate(l),disabled:!l.name||!l.city||!l.slug||h.isPending,className:"w-full","data-testid":"button-create-venue",children:[h.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Create Venue"]})]})]})]})]}),u!=null&&u.length?s.jsx("div",{className:"grid gap-4",children:u.map(v=>{const g=t===v.id,y=n[v.id]||v;return s.jsxs(ee,{className:"overflow-hidden",children:[s.jsx(Fe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(g?null:v.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(vn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(ze,{className:"text-lg flex items-center gap-2",children:[v.name,v.isDefault&&s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Default"})]}),s.jsxs(Et,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"w-3 h-3"}),v.city,", ",v.country||"Pakistan"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:v.status==="ACTIVE"?"default":v.status==="COMING_SOON"?"secondary":"outline",children:v.status==="ACTIVE"?"Active":v.status==="COMING_SOON"?"Coming Soon":"Planned"}),g?s.jsx(hc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx($a,{className:"w-5 h-5 text-muted-foreground"})]})]})}),g&&s.jsx(te,{className:"border-t pt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:`name-${v.id}`,children:"Venue Name"}),s.jsx(Y,{id:`name-${v.id}`,value:y.name||"",onChange:j=>b(v.id,"name",j.target.value),"data-testid":`input-venue-name-${v.id}`})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:`slug-${v.id}`,children:"Slug"}),s.jsx(Y,{id:`slug-${v.id}`,value:y.slug||"",onChange:j=>b(v.id,"slug",j.target.value),"data-testid":`input-venue-slug-${v.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:`city-${v.id}`,children:"City"}),s.jsx(Y,{id:`city-${v.id}`,value:y.city||"",onChange:j=>b(v.id,"city",j.target.value),"data-testid":`input-venue-city-${v.id}`})]}),s.jsxs("div",{children:[s.jsxs(B,{htmlFor:`country-${v.id}`,className:"flex items-center gap-1",children:[s.jsx(J1,{className:"w-3 h-3"})," Country"]}),s.jsx(Y,{id:`country-${v.id}`,value:y.country||"Pakistan",onChange:j=>b(v.id,"country",j.target.value),"data-testid":`input-venue-country-${v.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:`status-${v.id}`,children:"Status"}),s.jsxs(_t,{value:y.status||"PLANNED",onValueChange:j=>b(v.id,"status",j),children:[s.jsx(wt,{"data-testid":`select-venue-status-${v.id}`,children:s.jsx(St,{})}),s.jsx(jt,{children:aM.map(j=>s.jsx(ke,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:`sort-${v.id}`,children:"Sort Order"}),s.jsx(Y,{id:`sort-${v.id}`,type:"number",value:y.sortOrder??0,onChange:j=>b(v.id,"sortOrder",parseInt(j.target.value)||0),"data-testid":`input-venue-sort-${v.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{checked:y.isDefault??!1,onCheckedChange:j=>b(v.id,"isDefault",j),"data-testid":`switch-venue-default-${v.id}`}),s.jsx(B,{children:"Default venue (auto-selected in booking system)"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs(Lf,{children:[s.jsx(Z2,{asChild:!0,children:s.jsxs(M,{variant:"destructive",size:"sm","data-testid":`button-delete-venue-${v.id}`,children:[s.jsx(mr,{className:"w-4 h-4 mr-2"})," Delete Venue"]})}),s.jsxs(Bc,{children:[s.jsxs(Vc,{children:[s.jsx(zc,{children:"Delete Venue?"}),s.jsxs(Wc,{children:['This will permanently delete "',v.name,'" and all associated data. This action cannot be undone.']})]}),s.jsxs(qc,{children:[s.jsx(Hc,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Kc,{onClick:()=>p.mutate(v.id),className:"bg-destructive text-destructive-foreground","data-testid":"button-confirm-delete",children:"Delete"})]})]})]}),s.jsxs(M,{onClick:()=>m(v.id),disabled:f.isPending,"data-testid":`button-save-venue-${v.id}`,children:[f.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]},v.id)})}):s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(ms,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Venues Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first venue location to get started"}),s.jsxs(M,{onClick:()=>o(!0),"data-testid":"button-add-first-venue",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add First Venue"]})]})})]})})}function ZMe(){var C,P,E;const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState("pending"),{data:p,isLoading:b}=de({queryKey:["/api/admin/membership-applications","PENDING"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=PENDING",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),{data:m,isLoading:w}=de({queryKey:["/api/admin/membership-applications","APPROVED"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=APPROVED",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),{data:v,isLoading:g}=de({queryKey:["/api/admin/membership-applications","REJECTED"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=REJECTED",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),y=ye({mutationFn:async({id:O,notes:I})=>await xe("POST",`/api/admin/membership-applications/${O}/approve`,{notes:I}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application approved",description:"Membership has been activated and user notified."}),o(!1),r(null),d("")},onError:O=>{e({title:"Failed to approve application",description:O.message||"An error occurred",variant:"destructive"})}}),j=ye({mutationFn:async({id:O,notes:I})=>await xe("POST",`/api/admin/membership-applications/${O}/reject`,{notes:I}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application rejected",description:"User has been notified."}),c(!1),r(null),d("")},onError:O=>{e({title:"Failed to reject application",description:O.message||"An error occurred",variant:"destructive"})}}),_=async O=>{try{const I=await fetch(`/api/admin/membership-applications/${O.id}`,{credentials:"include"});if(I.ok){const T=await I.json();r(T),a(!0)}}catch{e({title:"Failed to load application details",variant:"destructive"})}},N=O=>{switch(O){case"PENDING":return s.jsxs(ue,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"APPROVED":return s.jsxs(ue,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ue,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(sx,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ue,{variant:"secondary",children:O})}},S=O=>O==null?"N/A":`PKR ${O.toLocaleString()}`,k=(O,I)=>I?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Re,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):!O||O.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No applications found"}):s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Applicant"}),s.jsx(fe,{children:"Tier Requested"}),s.jsx(fe,{children:"Amount"}),s.jsx(fe,{children:"Payment Method"}),s.jsx(fe,{children:"Payment Proof"}),s.jsx(fe,{children:"Submitted"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:O.map(T=>{var $,V,K;return s.jsxs(st,{"data-testid":`row-application-${T.id}`,children:[s.jsxs(le,{className:"font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[(($=T.user)==null?void 0:$.firstName)||""," ",((V=T.user)==null?void 0:V.lastName)||""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(K=T.user)==null?void 0:K.email})]}),s.jsx(le,{children:s.jsx(ue,{variant:"secondary",children:T.tierDesired})}),s.jsx(le,{children:S(T.paymentAmount)}),s.jsx(le,{children:T.paymentMethod||"N/A"}),s.jsx(le,{children:T.paymentProofUrl?s.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>T.paymentProofUrl&&window.open(T.paymentProofUrl,"_blank"),"data-testid":`button-view-proof-${T.id}`,children:[s.jsx(As,{className:"w-4 h-4 mr-1"}),"View",s.jsx(mc,{className:"w-3 h-3 ml-1"})]}):s.jsxs("span",{className:"text-muted-foreground text-sm flex items-center gap-1",children:[s.jsx(Op,{className:"w-3 h-3"}),"No proof"]})}),s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(wr,{className:"w-3 h-3 text-muted-foreground"}),T.createdAt?Xn(new Date(T.createdAt),"MMM d, yyyy"):"N/A"]})}),s.jsx(le,{children:N(T.status||"PENDING")}),s.jsx(le,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>_(T),"data-testid":`button-view-application-${T.id}`,children:s.jsx(Rs,{className:"w-4 h-4"})}),T.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"ghost",size:"icon",className:"text-green-600",onClick:()=>{r(T),o(!0)},"data-testid":`button-approve-${T.id}`,children:s.jsx(xn,{className:"w-4 h-4"})}),s.jsx(M,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{r(T),c(!0)},"data-testid":`button-reject-${T.id}`,children:s.jsx(sx,{className:"w-4 h-4"})})]})]})})]},T.id)})})]});return s.jsxs(rt,{title:"Membership Applications",children:[s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(Nd,{className:"w-5 h-5"}),"Membership Applications"]})}),s.jsx(te,{children:s.jsxs(aa,{value:f,onValueChange:h,children:[s.jsxs(Ms,{className:"mb-4",children:[s.jsxs(Bt,{value:"pending","data-testid":"tab-pending",children:["Pending",p&&p.length>0&&s.jsx(ue,{variant:"secondary",className:"ml-2",children:p.length})]}),s.jsx(Bt,{value:"approved","data-testid":"tab-approved",children:"Approved"}),s.jsx(Bt,{value:"rejected","data-testid":"tab-rejected",children:"Rejected"})]}),s.jsx(Vt,{value:"pending",children:k(p,b)}),s.jsx(Vt,{value:"approved",children:k(m,w)}),s.jsx(Vt,{value:"rejected",children:k(v,g)})]})})]}),s.jsx(At,{open:n,onOpenChange:a,children:s.jsxs(Ct,{className:"max-w-2xl",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Application Details"})}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Applicant"}),s.jsxs("p",{className:"font-medium",children:[(C=t.user)==null?void 0:C.firstName," ",(P=t.user)==null?void 0:P.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(E=t.user)==null?void 0:E.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:N(t.status||"PENDING")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Requested Tier"}),s.jsx("p",{className:"font-medium",children:t.tierDesired})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Amount"}),s.jsx("p",{className:"font-medium",children:S(t.paymentAmount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Reference"}),s.jsx("p",{className:"font-medium",children:t.paymentReference||"N/A"})]})]}),t.paymentProofUrl&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Proof"}),s.jsx("div",{className:"mt-2",children:s.jsxs(M,{variant:"outline",onClick:()=>t.paymentProofUrl&&window.open(t.paymentProofUrl,"_blank"),"data-testid":"button-view-proof-detail",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"View Payment Proof",s.jsx(mc,{className:"w-3 h-3 ml-2"})]})})]}),t.adminNotes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Admin Notes"}),s.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:t.adminNotes})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("label",{className:"font-medium",children:"Submitted"}),s.jsx("p",{children:t.createdAt?Xn(new Date(t.createdAt),"PPpp"):"N/A"})]})]})]})}),s.jsx(At,{open:i,onOpenChange:o,children:s.jsxs(Ct,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Approve Application"}),s.jsxs(Fa,{children:["This will activate a ",t==null?void 0:t.tierDesired," membership for this user."]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes (optional)"}),s.jsx(lt,{value:u,onChange:O=>d(O.target.value),placeholder:"Add any notes about this approval...",className:"mt-1","data-testid":"input-approve-notes"})]})}),s.jsxs(Dx,{children:[s.jsx(M,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(M,{onClick:()=>t&&y.mutate({id:t.id,notes:u}),disabled:y.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approve",children:[y.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Approve Application"]})]})]})}),s.jsx(At,{open:l,onOpenChange:c,children:s.jsxs(Ct,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Reject Application"}),s.jsx(Fa,{children:"Please provide a reason for rejection. The user will be notified."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reason for Rejection"}),s.jsx(lt,{value:u,onChange:O=>d(O.target.value),placeholder:"Explain why this application is being rejected...",className:"mt-1","data-testid":"input-reject-reason"})]})}),s.jsxs(Dx,{children:[s.jsx(M,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs(M,{variant:"destructive",onClick:()=>t&&j.mutate({id:t.id,notes:u}),disabled:j.isPending,"data-testid":"button-confirm-reject",children:[j.isPending&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"Reject Application"]})]})]})})]})}function e$e(){const{toast:e}=ht(),[t,r]=x.useState("certifications"),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0}),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,b]=x.useState({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0}),[m,w]=x.useState(!1),[v,g]=x.useState({userId:"",certificationId:"",notes:""}),{data:y=[],isLoading:j}=de({queryKey:["/api/admin/certifications"]}),{data:_=[]}=de({queryKey:["/api/admin/facilities"]}),{data:N=[],isLoading:S}=de({queryKey:["/api/admin/certification-classes"]}),{data:k=[],isLoading:C}=de({queryKey:["/api/admin/user-certifications"]}),{data:P=[]}=de({queryKey:["/api/admin/users"]}),E=ye({mutationFn:async L=>await xe("POST","/api/admin/certifications",L),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification created successfully"}),o(!1),R()},onError:()=>{e({title:"Failed to create certification",variant:"destructive"})}}),O=ye({mutationFn:async({id:L,data:se})=>await xe("PATCH",`/api/admin/certifications/${L}`,se),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification updated successfully"}),o(!1),a(null),R()},onError:()=>{e({title:"Failed to update certification",variant:"destructive"})}}),I=ye({mutationFn:async L=>await xe("DELETE",`/api/admin/certifications/${L}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification deleted successfully"})},onError:()=>{e({title:"Failed to delete certification",variant:"destructive"})}}),T=ye({mutationFn:async L=>await xe("POST","/api/admin/certification-classes",L),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class created successfully"}),h(!1),Q()},onError:()=>{e({title:"Failed to create class",variant:"destructive"})}}),$=ye({mutationFn:async({id:L,data:se})=>await xe("PATCH",`/api/admin/certification-classes/${L}`,se),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class updated successfully"}),h(!1),d(null),Q()},onError:()=>{e({title:"Failed to update class",variant:"destructive"})}}),V=ye({mutationFn:async L=>await xe("DELETE",`/api/admin/certification-classes/${L}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class deleted successfully"})},onError:()=>{e({title:"Failed to delete class",variant:"destructive"})}}),K=ye({mutationFn:async L=>await xe("POST","/api/admin/user-certifications",L),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification issued successfully"}),w(!1),J()},onError:()=>{e({title:"Failed to issue certification",variant:"destructive"})}}),A=ye({mutationFn:async({id:L,notes:se})=>await xe("POST",`/api/admin/user-certifications/${L}/revoke`,{notes:se}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification revoked successfully"})},onError:()=>{e({title:"Failed to revoke certification",variant:"destructive"})}}),R=()=>{c({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0})},Q=()=>{b({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0})},J=()=>{g({userId:"",certificationId:"",notes:""})},F=L=>{a(L),c({slug:L.slug,name:L.name,description:L.description||"",facilityId:L.facilityId||"",validityMonths:L.validityMonths||12,requirements:L.requirements||"",icon:L.icon||"",isActive:L.isActive??!0,sortOrder:L.sortOrder||0}),o(!0)},X=L=>{d(L),b({certificationId:L.certificationId,title:L.title,description:L.description||"",instructor:L.instructor||"",scheduledDate:L.scheduledDate?new Date(L.scheduledDate).toISOString().slice(0,16):"",duration:L.duration||60,capacity:L.capacity||10,price:L.price||0,location:L.location||"",isActive:L.isActive??!0}),h(!0)},H=()=>{n?O.mutate({id:n.id,data:l}):E.mutate(l)},ie=()=>{const L={...p,scheduledDate:p.scheduledDate?new Date(p.scheduledDate).toISOString():""};u?$.mutate({id:u.id,data:L}):T.mutate(L)},ve=L=>{var se;return((se=y.find(G=>G.id===L))==null?void 0:se.name)||"Unknown"},ne=L=>{var se;return L?((se=_.find(G=>G.id===L))==null?void 0:se.name)||"Unknown":"-"},we=L=>{const se=P.find(G=>G.id===L);return se?`${se.firstName||""} ${se.lastName||""}`.trim()||se.email:"Unknown"};return j||S||C?s.jsx(rt,{title:"Certifications",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Certifications",children:s.jsxs(aa,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(Ms,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsxs(Bt,{value:"certifications",className:"gap-2",children:[s.jsx(ni,{className:"w-4 h-4"}),"Types"]}),s.jsxs(Bt,{value:"classes",className:"gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Classes"]}),s.jsxs(Bt,{value:"user-certs",className:"gap-2",children:[s.jsx(jr,{className:"w-4 h-4"}),"Issued"]})]}),s.jsxs(Vt,{value:"certifications",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define certification types for restricted facilities like the Air Rifle Range."}),s.jsxs(At,{open:i,onOpenChange:L=>{o(L),L||(a(null),R())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-certification",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Certification"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:n?"Edit Certification":"Add New Certification"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-name",children:"Name"}),s.jsx(Y,{id:"cert-name",value:l.name,onChange:L=>c({...l,name:L.target.value}),placeholder:"Air Rifle Safety Certification","data-testid":"input-cert-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-slug",children:"Slug"}),s.jsx(Y,{id:"cert-slug",value:l.slug,onChange:L=>c({...l,slug:L.target.value}),placeholder:"air-rifle-safety","data-testid":"input-cert-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-description",children:"Description"}),s.jsx(lt,{id:"cert-description",value:l.description,onChange:L=>c({...l,description:L.target.value}),rows:3,"data-testid":"input-cert-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-facility",children:"Linked Facility"}),s.jsxs(_t,{value:l.facilityId,onValueChange:L=>c({...l,facilityId:L}),children:[s.jsx(wt,{"data-testid":"select-cert-facility",children:s.jsx(St,{placeholder:"Select facility"})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"none",children:"None"}),_.map(L=>s.jsx(ke,{value:L.id,children:L.name},L.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-validity",children:"Validity (months)"}),s.jsx(Y,{id:"cert-validity",type:"number",value:l.validityMonths,onChange:L=>c({...l,validityMonths:parseInt(L.target.value)||12}),"data-testid":"input-cert-validity"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-requirements",children:"Requirements"}),s.jsx(lt,{id:"cert-requirements",value:l.requirements,onChange:L=>c({...l,requirements:L.target.value}),placeholder:"Must complete safety course, pass written exam, demonstrate proper handling...",rows:3,"data-testid":"input-cert-requirements"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-icon",children:"Icon (lucide icon name)"}),s.jsx(Y,{id:"cert-icon",value:l.icon,onChange:L=>c({...l,icon:L.target.value}),placeholder:"shield-check","data-testid":"input-cert-icon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"cert-sort",children:"Sort Order"}),s.jsx(Y,{id:"cert-sort",type:"number",value:l.sortOrder,onChange:L=>c({...l,sortOrder:parseInt(L.target.value)||0}),"data-testid":"input-cert-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"cert-active",checked:l.isActive,onCheckedChange:L=>c({...l,isActive:L}),"data-testid":"switch-cert-active"}),s.jsx(B,{htmlFor:"cert-active",children:"Active"})]}),s.jsxs(M,{onClick:H,disabled:E.isPending||O.isPending,"data-testid":"button-submit-cert",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),n?"Update":"Create"," Certification"]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Name"}),s.jsx(fe,{children:"Facility"}),s.jsx(fe,{children:"Validity"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:y.length===0?s.jsx(st,{children:s.jsx(le,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No certifications defined yet"})}):y.map(L=>s.jsxs(st,{children:[s.jsx(le,{className:"font-medium",children:L.name}),s.jsx(le,{children:ne(L.facilityId)}),s.jsxs(le,{children:[L.validityMonths," months"]}),s.jsx(le,{children:s.jsx(ue,{variant:L.isActive?"default":"secondary",children:L.isActive?"Active":"Inactive"})}),s.jsx(le,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>F(L),"data-testid":`button-edit-cert-${L.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>I.mutate(L.id),"data-testid":`button-delete-cert-${L.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},L.id))})]})})})]}),s.jsxs(Vt,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Schedule certification classes and training sessions."}),s.jsxs(At,{open:f,onOpenChange:L=>{h(L),L||(d(null),Q())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-class",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Schedule Class"]})}),s.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:u?"Edit Class":"Schedule New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-cert",children:"Certification Type"}),s.jsxs(_t,{value:p.certificationId,onValueChange:L=>b({...p,certificationId:L}),children:[s.jsx(wt,{"data-testid":"select-class-cert",children:s.jsx(St,{placeholder:"Select certification"})}),s.jsx(jt,{children:y.map(L=>s.jsx(ke,{value:L.id,children:L.name},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-title",children:"Class Title"}),s.jsx(Y,{id:"class-title",value:p.title,onChange:L=>b({...p,title:L.target.value}),placeholder:"Air Rifle Safety Fundamentals","data-testid":"input-class-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-date",children:"Scheduled Date/Time"}),s.jsx(Y,{id:"class-date",type:"datetime-local",value:p.scheduledDate,onChange:L=>b({...p,scheduledDate:L.target.value}),"data-testid":"input-class-date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-duration",children:"Duration (minutes)"}),s.jsx(Y,{id:"class-duration",type:"number",value:p.duration,onChange:L=>b({...p,duration:parseInt(L.target.value)||60}),"data-testid":"input-class-duration"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-instructor",children:"Instructor"}),s.jsx(Y,{id:"class-instructor",value:p.instructor,onChange:L=>b({...p,instructor:L.target.value}),"data-testid":"input-class-instructor"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-location",children:"Location"}),s.jsx(Y,{id:"class-location",value:p.location,onChange:L=>b({...p,location:L.target.value}),placeholder:"Range Training Room","data-testid":"input-class-location"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-capacity",children:"Capacity"}),s.jsx(Y,{id:"class-capacity",type:"number",value:p.capacity,onChange:L=>b({...p,capacity:parseInt(L.target.value)||10}),"data-testid":"input-class-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-price",children:"Price (PKR)"}),s.jsx(Y,{id:"class-price",type:"number",value:p.price,onChange:L=>b({...p,price:parseInt(L.target.value)||0}),"data-testid":"input-class-price"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"class-description",children:"Description"}),s.jsx(lt,{id:"class-description",value:p.description,onChange:L=>b({...p,description:L.target.value}),rows:2,"data-testid":"input-class-description"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"class-active",checked:p.isActive,onCheckedChange:L=>b({...p,isActive:L}),"data-testid":"switch-class-active"}),s.jsx(B,{htmlFor:"class-active",children:"Active"})]}),s.jsxs(M,{onClick:ie,disabled:T.isPending||$.isPending,"data-testid":"button-submit-class",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),u?"Update":"Schedule"," Class"]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Title"}),s.jsx(fe,{children:"Certification"}),s.jsx(fe,{children:"Date"}),s.jsx(fe,{children:"Instructor"}),s.jsx(fe,{children:"Capacity"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:N.length===0?s.jsx(st,{children:s.jsx(le,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No classes scheduled yet"})}):N.map(L=>s.jsxs(st,{children:[s.jsx(le,{className:"font-medium",children:L.title}),s.jsx(le,{children:ve(L.certificationId)}),s.jsx(le,{children:L.scheduledDate?new Date(L.scheduledDate).toLocaleString():"-"}),s.jsx(le,{children:L.instructor||"-"}),s.jsxs(le,{children:[L.enrolledCount,"/",L.capacity]}),s.jsx(le,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>X(L),"data-testid":`button-edit-class-${L.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>V.mutate(L.id),"data-testid":`button-delete-class-${L.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},L.id))})]})})})]}),s.jsxs(Vt,{value:"user-certs",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"View and manage issued user certifications."}),s.jsxs(At,{open:m,onOpenChange:w,children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-issue-cert",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Issue Certification"]})}),s.jsxs(Ct,{children:[s.jsx(Ot,{children:s.jsx(Tt,{children:"Issue Certification to User"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"issue-user",children:"User"}),s.jsxs(_t,{value:v.userId,onValueChange:L=>g({...v,userId:L}),children:[s.jsx(wt,{"data-testid":"select-issue-user",children:s.jsx(St,{placeholder:"Select user"})}),s.jsx(jt,{children:P.map(L=>s.jsxs(ke,{value:L.id,children:[L.firstName," ",L.lastName," (",L.email,")"]},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"issue-cert",children:"Certification"}),s.jsxs(_t,{value:v.certificationId,onValueChange:L=>g({...v,certificationId:L}),children:[s.jsx(wt,{"data-testid":"select-issue-cert",children:s.jsx(St,{placeholder:"Select certification"})}),s.jsx(jt,{children:y.map(L=>s.jsx(ke,{value:L.id,children:L.name},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"issue-notes",children:"Notes"}),s.jsx(lt,{id:"issue-notes",value:v.notes,onChange:L=>g({...v,notes:L.target.value}),placeholder:"Optional notes about this certification","data-testid":"input-issue-notes"})]}),s.jsxs(M,{onClick:()=>K.mutate(v),disabled:K.isPending||!v.userId||!v.certificationId,"data-testid":"button-submit-issue",children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Issue Certification"]})]})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"User"}),s.jsx(fe,{children:"Certification"}),s.jsx(fe,{children:"Certificate #"}),s.jsx(fe,{children:"Issued"}),s.jsx(fe,{children:"Expires"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:k.length===0?s.jsx(st,{children:s.jsx(le,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No certifications issued yet"})}):k.map(L=>s.jsxs(st,{children:[s.jsx(le,{className:"font-medium",children:we(L.userId)}),s.jsx(le,{children:ve(L.certificationId)}),s.jsx(le,{className:"font-mono text-sm",children:L.certificateNumber||"-"}),s.jsx(le,{children:L.issuedAt?new Date(L.issuedAt).toLocaleDateString():"-"}),s.jsx(le,{children:L.expiresAt?new Date(L.expiresAt).toLocaleDateString():"Never"}),s.jsx(le,{children:s.jsx(ue,{variant:L.status==="ACTIVE"?"default":L.status==="REVOKED"?"destructive":"secondary",children:L.status})}),s.jsx(le,{className:"text-right",children:L.status==="ACTIVE"&&s.jsxs(M,{size:"sm",variant:"ghost",onClick:()=>A.mutate({id:L.id}),"data-testid":`button-revoke-${L.id}`,children:[s.jsx(sx,{className:"w-4 h-4 mr-1"}),"Revoke"]})})]},L.id))})]})})})]})]})})}const t$e=ua({feature:vt().min(1,"Feature name is required"),foundingValue:vt().optional(),goldValue:vt().optional(),silverValue:vt().optional(),guestValue:vt().optional(),sortOrder:zb.number().default(0)});function r$e(){const{toast:e}=ht(),[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/comparison-features"]}),f=$s({resolver:Ds(t$e),defaultValues:{feature:"",foundingValue:"",goldValue:"",silverValue:"",guestValue:"",sortOrder:0}}),h=ye({mutationFn:async y=>await xe("POST","/api/admin/comparison-features",y),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature created successfully"}),r(!1),f.reset()},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),p=ye({mutationFn:async({id:y,data:j})=>await xe("PATCH",`/api/admin/comparison-features/${y}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature updated successfully"}),r(!1),a(null),f.reset()},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),b=ye({mutationFn:async y=>await xe("DELETE",`/api/admin/comparison-features/${y}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature deleted successfully"}),o(!1),c(null)},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),m=y=>{a(y),f.reset({feature:y.feature,foundingValue:y.foundingValue||"",goldValue:y.goldValue||"",silverValue:y.silverValue||"",guestValue:y.guestValue||"",sortOrder:y.sortOrder||0}),r(!0)},w=y=>{n?p.mutate({id:n.id,data:y}):h.mutate(y)},v=()=>{l&&b.mutate(l)};if(d)return s.jsx(rt,{title:"Comparison Features",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const g=[...u].sort((y,j)=>(y.sortOrder||0)-(j.sortOrder||0));return s.jsx(rt,{title:"Comparison Features",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-comparison-features-title",children:"Comparison Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership tier comparison table features"})]}),s.jsxs(At,{open:t,onOpenChange:y=>{r(y),y||(a(null),f.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-feature",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add Feature"]})}),s.jsxs(Ct,{className:"max-w-2xl",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:n?"Edit Feature":"Add Feature"})}),s.jsx(Fs,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(tt,{control:f.control,name:"feature",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Feature Name"}),s.jsx(et,{children:s.jsx(Y,{...y,placeholder:"e.g., Advance Booking Window","data-testid":"input-feature-name"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(tt,{control:f.control,name:"foundingValue",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Founding Member Value"}),s.jsx(et,{children:s.jsx(Y,{...y,placeholder:"e.g., 14 days","data-testid":"input-founding-value"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:f.control,name:"goldValue",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Gold Member Value"}),s.jsx(et,{children:s.jsx(Y,{...y,placeholder:"e.g., 7 days","data-testid":"input-gold-value"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:f.control,name:"silverValue",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Silver Member Value"}),s.jsx(et,{children:s.jsx(Y,{...y,placeholder:"e.g., 5 days","data-testid":"input-silver-value"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:f.control,name:"guestValue",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Guest Value"}),s.jsx(et,{children:s.jsx(Y,{...y,placeholder:"e.g., 2 days","data-testid":"input-guest-value"})}),s.jsx(nt,{})]})})]}),s.jsx(tt,{control:f.control,name:"sortOrder",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...y,"data-testid":"input-sort-order"})}),s.jsx(nt,{})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-feature",children:[(h.isPending||p.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Feature"]})]})})]})]})]}),g.length===0?s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(L5,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Comparison Features"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add features to display in the membership comparison table."})]})}):s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Features List"})}),s.jsx(te,{children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{className:"w-8"}),s.jsx(fe,{children:"Feature"}),s.jsx(fe,{className:"text-center",children:"Founding"}),s.jsx(fe,{className:"text-center",children:"Gold"}),s.jsx(fe,{className:"text-center",children:"Silver"}),s.jsx(fe,{className:"text-center",children:"Guest"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:g.map(y=>s.jsxs(st,{"data-testid":`row-feature-${y.id}`,children:[s.jsx(le,{children:s.jsx(Ep,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(le,{className:"font-medium",children:y.feature}),s.jsx(le,{className:"text-center",children:y.foundingValue||"-"}),s.jsx(le,{className:"text-center",children:y.goldValue||"-"}),s.jsx(le,{className:"text-center",children:y.silverValue||"-"}),s.jsx(le,{className:"text-center",children:y.guestValue||"-"}),s.jsx(le,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(y),"data-testid":`button-edit-feature-${y.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{c(y.id),o(!0)},"data-testid":`button-delete-feature-${y.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})})]},y.id))})]})})]}),s.jsx(Lf,{open:i,onOpenChange:o,children:s.jsxs(Bc,{children:[s.jsxs(Vc,{children:[s.jsx(zc,{children:"Are you sure?"}),s.jsx(Wc,{children:"This will delete the comparison feature. This action cannot be undone."})]}),s.jsxs(qc,{children:[s.jsx(Hc,{disabled:b.isPending,children:"Cancel"}),s.jsxs(Kc,{onClick:v,disabled:b.isPending,"data-testid":"button-confirm-delete",children:[b.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}const r7=[{value:"clock",label:"Clock",icon:Gt},{value:"gift",label:"Gift",icon:cb},{value:"award",label:"Award",icon:ni},{value:"shield",label:"Shield",icon:qi},{value:"target",label:"Target",icon:Ri},{value:"zap",label:"Zap",icon:q5},{value:"heart",label:"Heart",icon:ub},{value:"ticket",label:"Ticket",icon:ox},{value:"calendar",label:"Calendar",icon:wr},{value:"trophy",label:"Trophy",icon:Ns},{value:"star",label:"Star",icon:oa},{value:"crown",label:"Crown",icon:lb},{value:"users",label:"Users",icon:jr},{value:"check",label:"Check",icon:kr}],n$e=e=>{const t=r7.find(r=>r.value===e.toLowerCase());return(t==null?void 0:t.icon)||Zs},s$e=ua({icon:vt().min(1,"Icon is required"),title:vt().min(1,"Title is required"),description:vt().optional(),sortOrder:zb.number().default(0)});function a$e(){const{toast:e}=ht(),[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/member-benefits"]}),f=$s({resolver:Ds(s$e),defaultValues:{icon:"gift",title:"",description:"",sortOrder:0}}),h=ye({mutationFn:async y=>await xe("POST","/api/admin/member-benefits",y),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit created successfully"}),r(!1),f.reset()},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),p=ye({mutationFn:async({id:y,data:j})=>await xe("PATCH",`/api/admin/member-benefits/${y}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit updated successfully"}),r(!1),a(null),f.reset()},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),b=ye({mutationFn:async y=>await xe("DELETE",`/api/admin/member-benefits/${y}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit deleted successfully"}),o(!1),c(null)},onError:y=>{e({title:"Error",description:y.message,variant:"destructive"})}}),m=y=>{a(y),f.reset({icon:y.icon||"gift",title:y.title,description:y.description||"",sortOrder:y.sortOrder||0}),r(!0)},w=y=>{n?p.mutate({id:n.id,data:y}):h.mutate(y)},v=()=>{l&&b.mutate(l)};if(d)return s.jsx(rt,{title:"Member Benefits",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Re,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const g=[...u].sort((y,j)=>(y.sortOrder||0)-(j.sortOrder||0));return s.jsx(rt,{title:"Member Benefits",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-member-benefits-title",children:"Member Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership benefit cards displayed on the membership page"})]}),s.jsxs(At,{open:t,onOpenChange:y=>{r(y),y||(a(null),f.reset())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-benefit",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Add Benefit"]})}),s.jsxs(Ct,{children:[s.jsx(Ot,{children:s.jsx(Tt,{children:n?"Edit Benefit":"Add Benefit"})}),s.jsx(Fs,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-4",children:[s.jsx(tt,{control:f.control,name:"icon",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Icon"}),s.jsxs(_t,{onValueChange:y.onChange,value:y.value,children:[s.jsx(et,{children:s.jsx(wt,{"data-testid":"select-benefit-icon",children:s.jsx(St,{placeholder:"Select an icon"})})}),s.jsx(jt,{children:r7.map(j=>{const _=j.icon;return s.jsx(ke,{value:j.value,"data-testid":`select-icon-${j.value}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{className:"w-4 h-4"}),s.jsx("span",{children:j.label})]})},j.value)})})]}),s.jsx(nt,{})]})}),s.jsx(tt,{control:f.control,name:"title",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Title"}),s.jsx(et,{children:s.jsx(Y,{...y,placeholder:"e.g., Priority Booking","data-testid":"input-benefit-title"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:f.control,name:"description",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Description"}),s.jsx(et,{children:s.jsx(lt,{...y,placeholder:"Brief description of this benefit",rows:3,"data-testid":"input-benefit-description"})}),s.jsx(nt,{})]})}),s.jsx(tt,{control:f.control,name:"sortOrder",render:({field:y})=>s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Sort Order"}),s.jsx(et,{children:s.jsx(Y,{type:"number",...y,"data-testid":"input-benefit-sort-order"})}),s.jsx(nt,{})]})}),s.jsxs(M,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-benefit",children:[(h.isPending||p.isPending)&&s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Benefit"]})]})})]})]})]}),g.length===0?s.jsx(ee,{children:s.jsxs(te,{className:"py-12 text-center",children:[s.jsx(cb,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Member Benefits"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add benefits to display on the membership page."})]})}):s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(y=>{const j=n$e(y.icon);return s.jsxs(ee,{"data-testid":`card-benefit-${y.id}`,children:[s.jsx(Fe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(y),"data-testid":`button-edit-benefit-${y.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{c(y.id),o(!0)},"data-testid":`button-delete-benefit-${y.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})]})]})}),s.jsxs(te,{children:[s.jsx(ze,{className:"text-base mb-1",children:y.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Sort: ",y.sortOrder||0]})]})]},y.id)})}),s.jsx(Lf,{open:i,onOpenChange:o,children:s.jsxs(Bc,{children:[s.jsxs(Vc,{children:[s.jsx(zc,{children:"Are you sure?"}),s.jsx(Wc,{children:"This will delete the member benefit. This action cannot be undone."})]}),s.jsxs(qc,{children:[s.jsx(Hc,{disabled:b.isPending,children:"Cancel"}),s.jsxs(Kc,{onClick:v,disabled:b.isPending,"data-testid":"button-confirm-delete",children:[b.isPending?s.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}function i$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/blogs"]}),f=ye({mutationFn:async g=>await xe("POST","/api/admin/blogs",g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post created successfully"}),a(!1),b()},onError:()=>{e({title:"Failed to create blog post",variant:"destructive"})}}),h=ye({mutationFn:async({id:g,data:y})=>await xe("PATCH",`/api/admin/blogs/${g}`,y),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post updated successfully"}),a(!1),r(null),b()},onError:()=>{e({title:"Failed to update blog post",variant:"destructive"})}}),p=ye({mutationFn:async g=>await xe("DELETE",`/api/admin/blogs/${g}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete blog post",variant:"destructive"})}}),b=()=>{c({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0})},m=g=>{var y;r(g),c({title:g.title,slug:g.slug,excerpt:g.excerpt||"",content:g.content||"",featuredImageUrl:g.featuredImageUrl||"",author:g.author||"",category:g.category||"",tags:((y=g.tags)==null?void 0:y.join(", "))||"",readTimeMinutes:g.readTimeMinutes||5,isPublished:g.isPublished??!1,isFeatured:g.isFeatured??!1,sortOrder:g.sortOrder||0}),a(!0)},w=()=>{const g={...l,tags:l.tags?l.tags.split(",").map(y=>y.trim()).filter(Boolean):[],publishedAt:l.isPublished?new Date().toISOString():null};t?h.mutate({id:t.id,data:g}):f.mutate(g)},v=g=>g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return d?s.jsx(rt,{title:"Blog Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Blog Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Create and manage blog posts and news articles."}),s.jsxs(At,{open:n,onOpenChange:g=>{a(g),g||(r(null),b())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-blog",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Blog Post"]})}),s.jsxs(Ct,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Blog Post":"Add New Blog Post"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title"}),s.jsx(Y,{id:"title",value:l.title,onChange:g=>{c({...l,title:g.target.value,slug:t?l.slug:v(g.target.value)})},"data-testid":"input-blog-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"slug",children:"URL Slug"}),s.jsx(Y,{id:"slug",value:l.slug,onChange:g=>c({...l,slug:g.target.value}),"data-testid":"input-blog-slug"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(B,{htmlFor:"excerpt",children:"Excerpt (Short Description)"}),s.jsx(lt,{id:"excerpt",value:l.excerpt,onChange:g=>c({...l,excerpt:g.target.value}),rows:2,"data-testid":"input-blog-excerpt"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(B,{htmlFor:"content",children:"Content"}),s.jsx(lt,{id:"content",value:l.content,onChange:g=>c({...l,content:g.target.value}),rows:10,"data-testid":"input-blog-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"featuredImageUrl",children:"Featured Image URL"}),s.jsx(Y,{id:"featuredImageUrl",value:l.featuredImageUrl,onChange:g=>c({...l,featuredImageUrl:g.target.value}),"data-testid":"input-blog-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"author",children:"Author"}),s.jsx(Y,{id:"author",value:l.author,onChange:g=>c({...l,author:g.target.value}),"data-testid":"input-blog-author"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"category",children:"Category"}),s.jsx(Y,{id:"category",value:l.category,onChange:g=>c({...l,category:g.target.value}),placeholder:"e.g., News, Events, Tips","data-testid":"input-blog-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(Y,{id:"tags",value:l.tags,onChange:g=>c({...l,tags:g.target.value}),placeholder:"e.g., padel, tournament, tips","data-testid":"input-blog-tags"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"readTime",children:"Read Time (minutes)"}),s.jsx(Y,{id:"readTime",type:"number",value:l.readTimeMinutes,onChange:g=>c({...l,readTimeMinutes:parseInt(g.target.value)||5}),"data-testid":"input-blog-readtime"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:g=>c({...l,sortOrder:parseInt(g.target.value)||0}),"data-testid":"input-blog-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isPublished",checked:l.isPublished,onCheckedChange:g=>c({...l,isPublished:g}),"data-testid":"switch-blog-published"}),s.jsx(B,{htmlFor:"isPublished",children:"Published"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:g=>c({...l,isFeatured:g}),"data-testid":"switch-blog-featured"}),s.jsx(B,{htmlFor:"isFeatured",children:"Featured"})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs(M,{onClick:w,disabled:f.isPending||h.isPending,"data-testid":"button-save-blog",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Blog Post"]})})]})]})]}),s.jsx(ee,{children:s.jsx(te,{className:"p-0",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"Title"}),s.jsx(fe,{children:"Author"}),s.jsx(fe,{children:"Category"}),s.jsx(fe,{children:"Status"}),s.jsx(fe,{children:"Created"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsxs(Vr,{children:[u==null?void 0:u.map(g=>s.jsxs(st,{"data-testid":`row-blog-${g.id}`,children:[s.jsx(le,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[g.title,g.isFeatured&&s.jsx(oa,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})}),s.jsx(le,{children:g.author||"-"}),s.jsx(le,{children:g.category||"-"}),s.jsx(le,{children:g.isPublished?s.jsxs(ue,{variant:"default",className:"gap-1",children:[s.jsx(Rs,{className:"w-3 h-3"})," Published"]}):s.jsxs(ue,{variant:"secondary",className:"gap-1",children:[s.jsx(Vi,{className:"w-3 h-3"})," Draft"]})}),s.jsx(le,{children:g.createdAt?Xn(new Date(g.createdAt),"MMM d, yyyy"):"-"}),s.jsx(le,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>m(g),"data-testid":`button-edit-blog-${g.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(Lf,{open:i===g.id,onOpenChange:y=>!y&&o(null),children:[s.jsx(Z2,{asChild:!0,children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>o(g.id),"data-testid":`button-delete-blog-${g.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})}),s.jsxs(Bc,{children:[s.jsxs(Vc,{children:[s.jsx(zc,{children:"Delete Blog Post"}),s.jsxs(Wc,{children:['Are you sure you want to delete "',g.title,'"? This action cannot be undone.']})]}),s.jsxs(qc,{children:[s.jsx(Hc,{disabled:p.isPending,children:"Cancel"}),s.jsx(Kc,{onClick:()=>p.mutate(g.id),disabled:p.isPending,"data-testid":"button-confirm-delete-blog",children:p.isPending?"Deleting...":"Delete"})]})]})]})]})})]},g.id)),!(u!=null&&u.length)&&s.jsx(st,{children:s.jsx(le,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'No blog posts yet. Click "Add Blog Post" to create your first one.'})})]})]})})})]})})}function o$e(){const{toast:e}=ht(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/testimonials"]}),{data:f}=de({queryKey:["/api/facilities"]}),h=ye({mutationFn:async y=>await xe("POST","/api/admin/testimonials",y),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create testimonial",variant:"destructive"})}}),p=ye({mutationFn:async({id:y,data:j})=>await xe("PATCH",`/api/admin/testimonials/${y}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update testimonial",variant:"destructive"})}}),b=ye({mutationFn:async y=>await xe("DELETE",`/api/admin/testimonials/${y}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete testimonial",variant:"destructive"})}}),m=()=>{c({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0})},w=y=>{r(y),c({name:y.name,title:y.title||"",company:y.company||"",avatarUrl:y.avatarUrl||"",quote:y.quote,rating:y.rating||5,facilityId:y.facilityId||"",isFeatured:y.isFeatured??!1,isActive:y.isActive??!0,sortOrder:y.sortOrder||0}),a(!0)},v=()=>{const y={...l,facilityId:l.facilityId||null};t?p.mutate({id:t.id,data:y}):h.mutate(y)},g=y=>Array.from({length:5}).map((j,_)=>s.jsx(oa,{className:`w-4 h-4 ${_<y?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},_));return d?s.jsx(rt,{title:"Testimonials Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(rt,{title:"Testimonials Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage customer testimonials and reviews displayed on the website."}),s.jsxs(At,{open:n,onOpenChange:y=>{a(y),y||(r(null),m())},children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(M,{"data-testid":"button-add-testimonial",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"})," Add Testimonial"]})}),s.jsxs(Ct,{className:"max-w-2xl",children:[s.jsx(Ot,{children:s.jsx(Tt,{children:t?"Edit Testimonial":"Add New Testimonial"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"name",children:"Name"}),s.jsx(Y,{id:"name",value:l.name,onChange:y=>c({...l,name:y.target.value}),"data-testid":"input-testimonial-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"title",children:"Title/Role"}),s.jsx(Y,{id:"title",value:l.title,onChange:y=>c({...l,title:y.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-testimonial-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"company",children:"Company (Optional)"}),s.jsx(Y,{id:"company",value:l.company,onChange:y=>c({...l,company:y.target.value}),"data-testid":"input-testimonial-company"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"avatarUrl",children:"Avatar URL (Optional)"}),s.jsx(Y,{id:"avatarUrl",value:l.avatarUrl,onChange:y=>c({...l,avatarUrl:y.target.value}),"data-testid":"input-testimonial-avatar"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(B,{htmlFor:"quote",children:"Quote"}),s.jsx(lt,{id:"quote",value:l.quote,onChange:y=>c({...l,quote:y.target.value}),rows:4,"data-testid":"input-testimonial-quote"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"rating",children:"Rating (1-5)"}),s.jsxs(_t,{value:l.rating.toString(),onValueChange:y=>c({...l,rating:parseInt(y)}),children:[s.jsx(wt,{"data-testid":"select-testimonial-rating",children:s.jsx(St,{})}),s.jsx(jt,{children:[1,2,3,4,5].map(y=>s.jsxs(ke,{value:y.toString(),"data-testid":`select-rating-${y}`,children:[y," Star",y!==1?"s":""]},y))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"facilityId",children:"Associated Facility (Optional)"}),s.jsxs(_t,{value:l.facilityId,onValueChange:y=>c({...l,facilityId:y==="none"?"":y}),children:[s.jsx(wt,{"data-testid":"select-testimonial-facility",children:s.jsx(St,{placeholder:"Select facility"})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"none","data-testid":"select-facility-none",children:"None"}),f==null?void 0:f.map(y=>s.jsx(ke,{value:y.id,"data-testid":`select-facility-${y.id}`,children:y.name},y.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(Y,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:y=>c({...l,sortOrder:parseInt(y.target.value)||0}),"data-testid":"input-testimonial-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isActive",checked:l.isActive,onCheckedChange:y=>c({...l,isActive:y}),"data-testid":"switch-testimonial-active"}),s.jsx(B,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:y=>c({...l,isFeatured:y}),"data-testid":"switch-testimonial-featured"}),s.jsx(B,{htmlFor:"isFeatured",children:"Featured"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs(M,{onClick:v,disabled:h.isPending||p.isPending,"data-testid":"button-save-testimonial",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Testimonial"]})})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u==null?void 0:u.map(y=>s.jsx(ee,{"data-testid":`card-testimonial-${y.id}`,children:s.jsxs(te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Ed,{className:"h-12 w-12",children:[s.jsx(Ad,{src:y.avatarUrl||void 0,alt:y.name}),s.jsx(Od,{children:y.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:y.name}),y.isFeatured&&s.jsx(ue,{variant:"default",className:"text-xs",children:"Featured"}),!y.isActive&&s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),(y.title||y.company)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.title,y.title&&y.company?" at ":"",y.company]}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:g(y.rating||5)})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>w(y),"data-testid":`button-edit-testimonial-${y.id}`,children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsxs(Lf,{open:i===y.id,onOpenChange:j=>!j&&o(null),children:[s.jsx(Z2,{asChild:!0,children:s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>o(y.id),"data-testid":`button-delete-testimonial-${y.id}`,children:s.jsx(mr,{className:"w-4 h-4"})})}),s.jsxs(Bc,{children:[s.jsxs(Vc,{children:[s.jsx(zc,{children:"Delete Testimonial"}),s.jsxs(Wc,{children:['Are you sure you want to delete the testimonial from "',y.name,'"? This action cannot be undone.']})]}),s.jsxs(qc,{children:[s.jsx(Hc,{disabled:b.isPending,children:"Cancel"}),s.jsx(Kc,{onClick:()=>b.mutate(y.id),disabled:b.isPending,"data-testid":"button-confirm-delete-testimonial",children:b.isPending?"Deleting...":"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"mt-4 relative pl-4 border-l-2 border-muted",children:[s.jsx(B5,{className:"absolute -left-2.5 -top-1 w-4 h-4 text-muted-foreground bg-card"}),s.jsx("p",{className:"text-sm italic text-muted-foreground",children:y.quote})]})]})},y.id)),!(u!=null&&u.length)&&s.jsx(ee,{className:"col-span-2",children:s.jsx(te,{className:"py-12 text-center text-muted-foreground",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})})]})]})})}const l$e={USER:"User",EDITOR:"Editor (Reception)",ADMIN:"Admin",SUPER_ADMIN:"Super Admin"},c$e={USER:"outline",EDITOR:"secondary",ADMIN:"default",SUPER_ADMIN:"destructive"};function u$e(){const{toast:e}=ht(),[t,r]=x.useState(""),[n,a]=x.useState("all"),[i,o]=x.useState(null),[l,c]=x.useState(""),[u,d]=x.useState(!1),{data:f,isLoading:h}=de({queryKey:["/api/admin/users"]}),{data:p}=de({queryKey:["/api/auth/user"]}),b=ye({mutationFn:async({userId:y,role:j})=>await xe("PATCH",`/api/admin/users/${y}`,{role:j}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Role Updated",description:"User role has been updated successfully."}),d(!1),o(null),c("")},onError:y=>{e({title:"Error",description:y.message||"Failed to update user role.",variant:"destructive"})}}),m=(f==null?void 0:f.filter(y=>{var N,S,k;const j=((N=y.email)==null?void 0:N.toLowerCase().includes(t.toLowerCase()))||((S=y.firstName)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))||((k=y.lastName)==null?void 0:k.toLowerCase().includes(t.toLowerCase())),_=n==="all"||y.role===n;return j&&_}))??[],w=y=>{o(y),c(y.role),d(!0)},v=()=>{i&&l&&b.mutate({userId:i.id,role:l})};return(p==null?void 0:p.role)==="SUPER_ADMIN"?s.jsxs(rt,{title:"User Role Management",children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx(bG,{className:"w-5 h-5"}),"Manage User Roles"]})}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Y,{placeholder:"Search by name or email...",value:t,onChange:y=>r(y.target.value),className:"pl-9","data-testid":"input-user-search"})]}),s.jsxs(_t,{value:n,onValueChange:a,children:[s.jsx(wt,{className:"w-[180px]","data-testid":"select-role-filter",children:s.jsx(St,{placeholder:"Filter by role"})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"all",children:"All Roles"}),s.jsx(ke,{value:"USER",children:"Users"}),s.jsx(ke,{value:"EDITOR",children:"Editors"}),s.jsx(ke,{value:"ADMIN",children:"Admins"}),s.jsx(ke,{value:"SUPER_ADMIN",children:"Super Admins"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)??0})]}),s.jsx(jr,{className:"w-8 h-8 text-muted-foreground"})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Editors"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(y=>y.role==="EDITOR").length)??0})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(y=>y.role==="ADMIN").length)??0})]})})}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Super Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(y=>y.role==="SUPER_ADMIN").length)??0})]})})})]}),h?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ur,{children:[s.jsx(Br,{children:s.jsxs(st,{children:[s.jsx(fe,{children:"User"}),s.jsx(fe,{children:"Email"}),s.jsx(fe,{children:"Current Role"}),s.jsx(fe,{className:"text-right",children:"Actions"})]})}),s.jsx(Vr,{children:m.length===0?s.jsx(st,{children:s.jsx(le,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):m.map(y=>{var j,_;return s.jsxs(st,{"data-testid":`row-user-${y.id}`,children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:y.profileImageUrl?s.jsx("img",{src:y.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(j=y.firstName)==null?void 0:j[0],(_=y.lastName)==null?void 0:_[0]]})}),s.jsxs("span",{className:"font-medium",children:[y.firstName," ",y.lastName]})]})}),s.jsx(le,{className:"text-muted-foreground",children:y.email}),s.jsx(le,{children:s.jsx(ue,{variant:c$e[y.role]||"outline",children:l$e[y.role]||y.role})}),s.jsx(le,{className:"text-right",children:s.jsx(M,{variant:"outline",size:"sm",onClick:()=>w(y),disabled:y.id===(p==null?void 0:p.id),"data-testid":`button-edit-role-${y.id}`,children:"Change Role"})})]},y.id)})})]})})]})]}),s.jsxs(ee,{children:[s.jsx(Fe,{children:s.jsx(ze,{children:"Role Permissions"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"outline",children:"USER"}),s.jsx("span",{className:"font-medium",children:"Regular User"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can make bookings, register for events, and manage their own profile."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"secondary",children:"EDITOR"}),s.jsx("span",{className:"font-medium",children:"Editor (Reception Staff)"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can view and manage bookings, process membership applications, view members, and manage certifications. Cannot edit site content, CMS, or settings."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"default",children:"ADMIN"}),s.jsx("span",{className:"font-medium",children:"Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full access to all admin features including CMS, site settings, facilities, events, and content management."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"destructive",children:"SUPER_ADMIN"}),s.jsx("span",{className:"font-medium",children:"Super Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All admin permissions plus ability to manage user roles and promote/demote other users."})]})]})})]})]}),s.jsx(At,{open:u,onOpenChange:d,children:s.jsxs(Ct,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Change User Role"}),s.jsxs(Fa,{children:["Update the role for ",i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]})]}),s.jsx("div",{className:"py-4",children:s.jsxs(_t,{value:l,onValueChange:y=>c(y),children:[s.jsx(wt,{"data-testid":"select-new-role",children:s.jsx(St,{placeholder:"Select new role"})}),s.jsxs(jt,{children:[s.jsx(ke,{value:"USER",children:"User"}),s.jsx(ke,{value:"EDITOR",children:"Editor (Reception)"}),s.jsx(ke,{value:"ADMIN",children:"Admin"}),s.jsx(ke,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})}),s.jsxs(Dx,{children:[s.jsx(M,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(M,{onClick:v,disabled:b.isPending||!l,"data-testid":"button-confirm-role-change",children:b.isPending?"Updating...":"Update Role"})]})]})})]}):s.jsx(rt,{title:"User Management",children:s.jsx("div",{className:"p-6",children:s.jsx(ee,{children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx(qi,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"Only Super Admins can manage user roles."})]})})})})}function d$e(){const{data:e,isLoading:t}=de({queryKey:["/api/blogs"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs(s.Fragment,{children:[s.jsx(Wt,{}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("section",{className:"relative py-20 bg-gradient-to-b from-primary/10 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-blog-title",children:"News & Updates"}),s.jsx("p",{className:"text-lg text-muted-foreground","data-testid":"text-blog-subtitle",children:"Stay updated with the latest news, tips, and happenings at The Quarterdeck"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsxs(ee,{children:[s.jsx(De,{className:"h-48 w-full rounded-t-lg"}),s.jsxs(Fe,{children:[s.jsx(De,{className:"h-6 w-3/4"}),s.jsx(De,{className:"h-4 w-1/2 mt-2"})]}),s.jsxs(te,{children:[s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-5/6 mt-2"})]})]},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're working on bringing you exciting content. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(oa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Posts"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(iM,{blog:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Latest Posts"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(iM,{blog:a},a.id))})]})]})})]}),s.jsx(Kt,{})]})}function iM({blog:e,featured:t=!1}){return s.jsxs(ee,{className:`overflow-hidden hover-elevate transition-all ${t?"md:col-span-1":""}`,"data-testid":`card-blog-${e.id}`,children:[e.featuredImageUrl&&s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.featuredImageUrl,alt:e.title,className:"w-full h-full object-cover"}),e.category&&s.jsx(ue,{className:"absolute top-3 left-3",variant:"secondary",children:e.category})]}),s.jsxs(Fe,{className:"pb-2",children:[s.jsx(he,{href:`/blog/${e.slug}`,children:s.jsx("h3",{className:"text-xl font-semibold hover:text-primary transition-colors line-clamp-2 cursor-pointer",children:e.title})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wr,{className:"w-3.5 h-3.5"}),Xn(new Date(e.publishedAt),"MMM d, yyyy")]}),e.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Gt,{className:"w-3.5 h-3.5"}),e.readTimeMinutes," min read"]})]})]}),s.jsx(te,{className:"pb-2",children:e.excerpt&&s.jsx("p",{className:"text-muted-foreground line-clamp-3",children:e.excerpt})}),s.jsx(Cx,{className:"pt-2",children:s.jsx(he,{href:`/blog/${e.slug}`,children:s.jsxs(M,{variant:"ghost",className:"gap-2 p-0 h-auto","data-testid":`button-read-blog-${e.id}`,children:["Read More ",s.jsx(ob,{className:"w-4 h-4"})]})})})]})}function f$e(){var a;const{slug:e}=nb(),{data:t,isLoading:r,error:n}=de({queryKey:["/api/blogs",e]});return r?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx(De,{className:"h-8 w-1/3 mb-4"}),s.jsx(De,{className:"h-12 w-3/4 mb-4"}),s.jsx(De,{className:"h-6 w-1/2 mb-8"}),s.jsx(De,{className:"h-64 w-full mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-5/6"}),s.jsx(De,{className:"h-4 w-full"}),s.jsx(De,{className:"h-4 w-4/5"})]})]}),s.jsx(Kt,{})]}):n||!t?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{}),s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist or has been removed."}),s.jsx(he,{href:"/blog",children:s.jsxs(M,{children:[s.jsx(_n,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})]}),s.jsx(Kt,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(Wt,{}),s.jsx("article",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(he,{href:"/blog",children:s.jsxs(M,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-blog",children:[s.jsx(_n,{className:"w-4 h-4"}),"Back to Blog"]})}),s.jsxs("header",{className:"mb-8",children:[t.category&&s.jsx(ue,{className:"mb-4",variant:"secondary",children:t.category}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4","data-testid":"text-blogpost-title",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[t.author&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(ls,{className:"w-4 h-4"}),t.author]}),t.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(wr,{className:"w-4 h-4"}),Xn(new Date(t.publishedAt),"MMMM d, yyyy")]}),t.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Gt,{className:"w-4 h-4"}),t.readTimeMinutes," min read"]})]})]}),t.featuredImageUrl&&s.jsx("div",{className:"relative mb-8 rounded-lg overflow-hidden",children:s.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-auto max-h-[500px] object-cover","data-testid":"img-blogpost-featured"})}),t.excerpt&&s.jsx("p",{className:"text-xl text-muted-foreground mb-8 font-medium border-l-4 border-primary pl-4",children:t.excerpt}),s.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none","data-testid":"content-blogpost",children:(a=t.content)==null?void 0:a.split(`
`).map((i,o)=>i.trim()&&s.jsx("p",{children:i},o))}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"mt-12 pt-8 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((i,o)=>s.jsx(ue,{variant:"outline",children:i},o))})]})]})}),s.jsx(Kt,{})]})}function h$e(){Lr({title:"Testimonials",description:"Read what our members say about The Quarterdeck. Discover why we're Islamabad's premier sports and recreation complex."});const{data:e,isLoading:t}=de({queryKey:["/api/testimonials"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(Wt,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Ln,{title:"What Our Members Say",subtitle:"Hear from our community about their experience at The Quarterdeck",testId:"text-testimonials-title"}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsx(ee,{children:s.jsxs(te,{className:"p-6",children:[s.jsx(De,{className:"h-4 w-full mb-2"}),s.jsx(De,{className:"h-4 w-5/6 mb-4"}),s.jsx(De,{className:"h-4 w-3/4"}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx(De,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsx(De,{className:"h-4 w-24"}),s.jsx(De,{className:"h-3 w-16 mt-1"})]})]})]})},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're collecting feedback from our members. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(oa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Reviews"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(oM,{testimonial:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Member Reviews"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(oM,{testimonial:a},a.id))})]})]})})]}),s.jsx(Kt,{})]})}function oM({testimonial:e,featured:t=!1}){var n;const r=a=>{const i=a||5;return Array.from({length:5}).map((o,l)=>s.jsx(oa,{className:`w-4 h-4 ${l<i?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},l))};return s.jsx(ee,{className:`overflow-hidden hover-elevate transition-all ${t?"border-primary/20":""}`,"data-testid":`card-testimonial-${e.id}`,children:s.jsxs(te,{className:"p-6",children:[s.jsx(B5,{className:"w-8 h-8 text-primary/20 mb-4"}),s.jsxs("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:['"',e.quote,'"']}),s.jsx("div",{className:"flex items-center gap-1 mb-4",children:r(e.rating)}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:((n=e.name)==null?void 0:n.charAt(0))||"M"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.name}),e.title&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e.title})]})]})]})})}function m$e(){const{adminPath:e,isAuthorized:t,isLoading:r}=Mp();if(r||!t)return null;const n=`/${e}`;return s.jsxs(WD,{children:[s.jsx(Ge,{path:`${n}/homepage`,component:nMe}),s.jsx(Ge,{path:`${n}/coming-soon`,component:sMe}),s.jsx(Ge,{path:`${n}/venues`,component:JMe}),s.jsx(Ge,{path:`${n}/facilities`,component:aMe}),s.jsx(Ge,{path:`${n}/roadmap`,component:gMe}),s.jsx(Ge,{path:`${n}/events`,component:vMe}),s.jsx(Ge,{path:`${n}/pricing`,component:xMe}),s.jsx(Ge,{path:`${n}/membership-tiers`,component:yMe}),s.jsx(Ge,{path:`${n}/announcements`,component:bMe}),s.jsx(Ge,{path:`${n}/careers`,component:wMe}),s.jsx(Ge,{path:`${n}/rules`,component:jMe}),s.jsx(Ge,{path:`${n}/policies`,component:NMe}),s.jsx(Ge,{path:`${n}/gallery`,component:_Me}),s.jsx(Ge,{path:`${n}/site-images`,component:SMe}),s.jsx(Ge,{path:`${n}/hero-sections`,component:YMe}),s.jsx(Ge,{path:`${n}/ctas`,component:XMe}),s.jsx(Ge,{path:`${n}/bookings`,component:kMe}),s.jsx(Ge,{path:`${n}/branding`,component:CMe}),s.jsx(Ge,{path:`${n}/faq`,component:KMe}),s.jsx(Ge,{path:`${n}/members`,component:HMe}),s.jsx(Ge,{path:`${n}/membership-applications`,component:ZMe}),s.jsx(Ge,{path:`${n}/certifications`,component:e$e}),s.jsx(Ge,{path:`${n}/comparison-features`,component:r$e}),s.jsx(Ge,{path:`${n}/member-benefits`,component:a$e}),s.jsx(Ge,{path:`${n}/blogs`,component:i$e}),s.jsx(Ge,{path:`${n}/testimonials`,component:o$e}),s.jsx(Ge,{path:`${n}/user-management`,component:u$e}),s.jsx(Ge,{path:`${n}/site-settings`,component:GMe}),s.jsx(Ge,{path:n,component:YRe})]})}function p$e(){const{adminPath:e,isAuthorized:t}=Mp(),[r]=Dn();return t&&e&&r.startsWith(`/${e}`)?null:s.jsxs(WD,{children:[s.jsx(Ge,{path:"/booking",component:qae}),s.jsx(Ge,{path:"/profile",component:tie}),s.jsx(Ge,{path:"/events/:slug",component:Soe}),s.jsx(Ge,{path:"/events",component:joe}),s.jsx(Ge,{path:"/leaderboard",component:Coe}),s.jsx(Ge,{path:"/gallery",component:Poe}),s.jsx(Ge,{path:"/vision",component:Eoe}),s.jsx(Ge,{path:"/facilities/:slug",component:qoe}),s.jsx(Ge,{path:"/facilities",component:Moe}),s.jsx(Ge,{path:"/roadmap",component:Woe}),s.jsx(Ge,{path:"/rules",component:fle}),s.jsx(Ge,{path:"/careers",component:gle}),s.jsx(Ge,{path:"/terms",component:vle}),s.jsx(Ge,{path:"/privacy",component:xle}),s.jsx(Ge,{path:"/coming-soon",component:ble}),s.jsx(Ge,{path:"/contact",component:jle}),s.jsx(Ge,{path:"/faq",component:Sle}),s.jsx(Ge,{path:"/membership",component:pce}),s.jsx(Ge,{path:"/blog/:slug",component:f$e}),s.jsx(Ge,{path:"/blog",component:d$e}),s.jsx(Ge,{path:"/testimonials",component:h$e}),s.jsx(Ge,{path:"/certifications",component:gce}),s.jsx(Ge,{path:"/updates",component:vce}),s.jsx(Ge,{path:"/login",component:Dce}),s.jsx(Ge,{path:"/signup",component:qce}),s.jsx(Ge,{path:"/forgot-password",component:Wce}),s.jsx(Ge,{path:"/verify-email",component:Gce}),s.jsx(Ge,{path:"/auth/callback",component:Qce}),s.jsx(Ge,{path:"/auth/reset-password",component:Hce}),s.jsx(Ge,{path:"/",component:Mae}),s.jsx(Ge,{component:xce})]})}function g$e(){return eee(),s.jsxs(s.Fragment,{children:[s.jsx(m$e,{}),s.jsx(p$e,{})]})}function v$e(){const[e,t]=x.useState(!1),r=x.useCallback(()=>{t(!0)},[]);return x.useEffect(()=>{},[]),s.jsx(AK,{client:re,children:s.jsx(eX,{children:s.jsx(VZ,{children:s.jsxs(iX,{children:[!e&&s.jsx(ZZ,{onLoaded:r,minDisplayTime:800}),s.jsx(fQ,{}),s.jsx(JZ,{}),s.jsx(g$e,{}),s.jsx(qZ,{}),s.jsx(XZ,{})]})})})})}OD(document.getElementById("root")).render(s.jsx(v$e,{}));
