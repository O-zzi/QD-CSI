var LP=e=>{throw TypeError(e)};var Sj=(e,t,r)=>t.has(e)||LP("Cannot "+r);var H=(e,t,r)=>(Sj(e,t,"read from private field"),r?r.call(e):t.get(e)),rt=(e,t,r)=>t.has(e)?LP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Me=(e,t,r,n)=>(Sj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),St=(e,t,r)=>(Sj(e,t,"access private method"),r);var Ng=(e,t,r,n)=>({set _(a){Me(e,t,a,r)},get _(){return H(e,t,n)}});function gz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var _g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e$={exports:{}},Jy={},t$={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=Symbol.for("react.element"),xz=Symbol.for("react.portal"),vz=Symbol.for("react.fragment"),yz=Symbol.for("react.strict_mode"),bz=Symbol.for("react.profiler"),jz=Symbol.for("react.provider"),wz=Symbol.for("react.context"),Nz=Symbol.for("react.forward_ref"),_z=Symbol.for("react.suspense"),Sz=Symbol.for("react.memo"),kz=Symbol.for("react.lazy"),FP=Symbol.iterator;function Cz(e){return e===null||typeof e!="object"?null:(e=FP&&e[FP]||e["@@iterator"],typeof e=="function"?e:null)}var r$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n$=Object.assign,s$={};function Nf(e,t,r){this.props=e,this.context=t,this.refs=s$,this.updater=r||r$}Nf.prototype.isReactComponent={};Nf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function a$(){}a$.prototype=Nf.prototype;function qS(e,t,r){this.props=e,this.context=t,this.refs=s$,this.updater=r||r$}var zS=qS.prototype=new a$;zS.constructor=qS;n$(zS,Nf.prototype);zS.isPureReactComponent=!0;var UP=Array.isArray,i$=Object.prototype.hasOwnProperty,WS={current:null},o$={key:!0,ref:!0,__self:!0,__source:!0};function l$(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)i$.call(t,n)&&!o$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Fp,type:e,key:i,ref:o,props:a,_owner:WS.current}}function Pz(e,t){return{$$typeof:Fp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function KS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fp}function Ez(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BP=/\/+/g;function kj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ez(""+e.key):t.toString(36)}function _x(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fp:case xz:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+kj(o,0):n,UP(a)?(r="",e!=null&&(r=e.replace(BP,"$&/")+"/"),_x(a,t,r,"",function(u){return u})):a!=null&&(KS(a)&&(a=Pz(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(BP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",UP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+kj(i,l);o+=_x(i,t,r,c,a)}else if(c=Cz(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+kj(i,l++),o+=_x(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sg(e,t,r){if(e==null)return e;var n=[],a=0;return _x(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Az(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var is={current:null},Sx={transition:null},Oz={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:Sx,ReactCurrentOwner:WS};function c$(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:Sg,forEach:function(e,t,r){Sg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sg(e,function(){t++}),t},toArray:function(e){return Sg(e,function(t){return t})||[]},only:function(e){if(!KS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=Nf;Tt.Fragment=vz;Tt.Profiler=bz;Tt.PureComponent=qS;Tt.StrictMode=yz;Tt.Suspense=_z;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oz;Tt.act=c$;Tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=n$({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=WS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)i$.call(t,c)&&!o$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fp,type:e.type,key:a,ref:i,props:n,_owner:o}};Tt.createContext=function(e){return e={$$typeof:wz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jz,_context:e},e.Consumer=e};Tt.createElement=l$;Tt.createFactory=function(e){var t=l$.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:Nz,render:e}};Tt.isValidElement=KS;Tt.lazy=function(e){return{$$typeof:kz,_payload:{_status:-1,_result:e},_init:Az}};Tt.memo=function(e,t){return{$$typeof:Sz,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=Sx.transition;Sx.transition={};try{e()}finally{Sx.transition=t}};Tt.unstable_act=c$;Tt.useCallback=function(e,t){return is.current.useCallback(e,t)};Tt.useContext=function(e){return is.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return is.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return is.current.useEffect(e,t)};Tt.useId=function(){return is.current.useId()};Tt.useImperativeHandle=function(e,t,r){return is.current.useImperativeHandle(e,t,r)};Tt.useInsertionEffect=function(e,t){return is.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return is.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return is.current.useMemo(e,t)};Tt.useReducer=function(e,t,r){return is.current.useReducer(e,t,r)};Tt.useRef=function(e){return is.current.useRef(e)};Tt.useState=function(e){return is.current.useState(e)};Tt.useSyncExternalStore=function(e,t,r){return is.current.useSyncExternalStore(e,t,r)};Tt.useTransition=function(){return is.current.useTransition()};Tt.version="18.3.1";t$.exports=Tt;var x=t$.exports;const F=Yt(x),Zy=gz({__proto__:null,default:F},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tz=x,Iz=Symbol.for("react.element"),Rz=Symbol.for("react.fragment"),Mz=Object.prototype.hasOwnProperty,$z=Tz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dz={key:!0,ref:!0,__self:!0,__source:!0};function u$(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Mz.call(t,n)&&!Dz.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Iz,type:e,key:i,ref:o,props:a,_owner:$z.current}}Jy.Fragment=Rz;Jy.jsx=u$;Jy.jsxs=u$;e$.exports=Jy;var s=e$.exports,d$={exports:{}},Hs={},f$={exports:{}},h$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,D){var G=E.length;E.push(D);e:for(;0<G;){var J=G-1>>>1,I=E[J];if(0<a(I,D))E[J]=D,E[G]=I,G=J;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var D=E[0],G=E.pop();if(G!==D){E[0]=G;e:for(var J=0,I=E.length,Y=I>>>1;J<Y;){var V=2*(J+1)-1,ee=E[V],pe=V+1,te=E[pe];if(0>a(ee,G))pe<I&&0>a(te,ee)?(E[J]=te,E[pe]=G,J=pe):(E[J]=ee,E[V]=G,J=V);else if(pe<I&&0>a(te,G))E[J]=te,E[pe]=G,J=pe;else break e}}return D}function a(E,D){var G=E.sortIndex-D.sortIndex;return G!==0?G:E.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,j=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=E)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function w(E){if(m=!1,g(E),!y)if(r(c)!==null)y=!0,T(N);else{var D=r(u);D!==null&&W(w,D.startTime-E)}}function N(E,D){y=!1,m&&(m=!1,b(C),C=-1),p=!0;var G=h;try{for(g(D),f=r(c);f!==null&&(!(f.expirationTime>D)||E&&!A());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var I=J(f.expirationTime<=D);D=e.unstable_now(),typeof I=="function"?f.callback=I:f===r(c)&&n(c),g(D)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var V=r(u);V!==null&&W(w,V.startTime-D),Y=!1}return Y}finally{f=null,h=G,p=!1}}var _=!1,S=null,C=-1,P=5,k=-1;function A(){return!(e.unstable_now()-k<P)}function O(){if(S!==null){var E=e.unstable_now();k=E;var D=!0;try{D=S(!0,E)}finally{D?R():(_=!1,S=null)}}else _=!1}var R;if(typeof v=="function")R=function(){v(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=O,R=function(){L.postMessage(null)}}else R=function(){j(O,0)};function T(E){S=E,_||(_=!0,R())}function W(E,D){C=j(function(){E(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var G=h;h=D;try{return E()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,D){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var G=h;h=E;try{return D()}finally{h=G}},e.unstable_scheduleCallback=function(E,D,G){var J=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,E){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=G+I,E={id:d++,callback:D,priorityLevel:E,startTime:G,expirationTime:I,sortIndex:-1},G>J?(E.sortIndex=G,t(u,E),r(c)===null&&E===r(u)&&(m?(b(C),C=-1):m=!0,W(w,G-J))):(E.sortIndex=I,t(c,E),y||p||(y=!0,T(N))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var D=h;return function(){var G=h;h=D;try{return E.apply(this,arguments)}finally{h=G}}}})(h$);f$.exports=h$;var Lz=f$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz=x,Bs=Lz;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m$=new Set,hm={};function qc(e,t){Ad(e,t),Ad(e+"Capture",t)}function Ad(e,t){for(hm[e]=t,e=0;e<t.length;e++)m$.add(t[e])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c1=Object.prototype.hasOwnProperty,Uz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VP={},qP={};function Bz(e){return c1.call(qP,e)?!0:c1.call(VP,e)?!1:Uz.test(e)?qP[e]=!0:(VP[e]=!0,!1)}function Vz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qz(e,t,r,n){if(t===null||typeof t>"u"||Vz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function os(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rn[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rn[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rn[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rn[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rn[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rn[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rn[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rn[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rn[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var HS=/[\-:]([a-z])/g;function GS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(HS,GS);Rn[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(HS,GS);Rn[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(HS,GS);Rn[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rn[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rn[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});function QS(e,t,r,n){var a=Rn.hasOwnProperty(t)?Rn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qz(t,r,a,n)&&(r=null),n||a===null?Bz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var lo=Fz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kg=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),YS=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),p$=Symbol.for("react.provider"),g$=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),JS=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),x$=Symbol.for("react.offscreen"),zP=Symbol.iterator;function oh(e){return e===null||typeof e!="object"?null:(e=zP&&e[zP]||e["@@iterator"],typeof e=="function"?e:null)}var Ir=Object.assign,Cj;function Oh(e){if(Cj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cj=t&&t[1]||""}return`
`+Cj+e}var Pj=!1;function Ej(e,t){if(!e||Pj)return"";Pj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Oh(e):""}function zz(e){switch(e.tag){case 5:return Oh(e.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return e=Ej(e.type,!1),e;case 11:return e=Ej(e.type.render,!1),e;case 1:return e=Ej(e.type,!0),e;default:return""}}function h1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Lu:return"Portal";case u1:return"Profiler";case YS:return"StrictMode";case d1:return"Suspense";case f1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g$:return(e.displayName||"Context")+".Consumer";case p$:return(e._context.displayName||"Context")+".Provider";case XS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case JS:return t=e.displayName||null,t!==null?t:h1(e.type)||"Memo";case So:t=e._payload,e=e._init;try{return h1(e(t))}catch{}}return null}function Wz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h1(t);case 8:return t===YS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function il(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kz(e){var t=v$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cg(e){e._valueTracker||(e._valueTracker=Kz(e))}function y$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=v$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function m1(e,t){var r=t.checked;return Ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function WP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=il(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function b$(e,t){t=t.checked,t!=null&&QS(e,"checked",t,!1)}function p1(e,t){b$(e,t);var r=il(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?g1(e,t.type,r):t.hasOwnProperty("defaultValue")&&g1(e,t.type,il(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function g1(e,t,r){(t!=="number"||zx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Th=Array.isArray;function ad(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+il(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function x1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(Th(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:il(r)}}function j$(e,t){var r=il(t.value),n=il(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function GP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function w$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?w$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pg,N$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hz=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(e){Hz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wh[t]=Wh[e]})});function _$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wh.hasOwnProperty(e)&&Wh[e]?(""+t).trim():t+"px"}function S$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=_$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Gz=Ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y1(e,t){if(t){if(Gz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function b1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j1=null;function ZS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w1=null,id=null,od=null;function QP(e){if(e=Vp(e)){if(typeof w1!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=sb(t),w1(e.stateNode,e.type,t))}}function k$(e){id?od?od.push(e):od=[e]:id=e}function C$(){if(id){var e=id,t=od;if(od=id=null,QP(e),t)for(e=0;e<t.length;e++)QP(t[e])}}function P$(e,t){return e(t)}function E$(){}var Aj=!1;function A$(e,t,r){if(Aj)return e(t,r);Aj=!0;try{return P$(e,t,r)}finally{Aj=!1,(id!==null||od!==null)&&(E$(),C$())}}function pm(e,t){var r=e.stateNode;if(r===null)return null;var n=sb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var N1=!1;if(Qi)try{var lh={};Object.defineProperty(lh,"passive",{get:function(){N1=!0}}),window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{N1=!1}function Qz(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Kh=!1,Wx=null,Kx=!1,_1=null,Yz={onError:function(e){Kh=!0,Wx=e}};function Xz(e,t,r,n,a,i,o,l,c){Kh=!1,Wx=null,Qz.apply(Yz,arguments)}function Jz(e,t,r,n,a,i,o,l,c){if(Xz.apply(this,arguments),Kh){if(Kh){var u=Wx;Kh=!1,Wx=null}else throw Error(_e(198));Kx||(Kx=!0,_1=u)}}function zc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function O$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YP(e){if(zc(e)!==e)throw Error(_e(188))}function Zz(e){var t=e.alternate;if(!t){if(t=zc(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return YP(a),e;if(i===n)return YP(a),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function T$(e){return e=Zz(e),e!==null?I$(e):null}function I$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=I$(e);if(t!==null)return t;e=e.sibling}return null}var R$=Bs.unstable_scheduleCallback,XP=Bs.unstable_cancelCallback,eW=Bs.unstable_shouldYield,tW=Bs.unstable_requestPaint,zr=Bs.unstable_now,rW=Bs.unstable_getCurrentPriorityLevel,ek=Bs.unstable_ImmediatePriority,M$=Bs.unstable_UserBlockingPriority,Hx=Bs.unstable_NormalPriority,nW=Bs.unstable_LowPriority,$$=Bs.unstable_IdlePriority,eb=null,ci=null;function sW(e){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(eb,e,void 0,(e.current.flags&128)===128)}catch{}}var Ua=Math.clz32?Math.clz32:oW,aW=Math.log,iW=Math.LN2;function oW(e){return e>>>=0,e===0?32:31-(aW(e)/iW|0)|0}var Eg=64,Ag=4194304;function Ih(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ih(l):(i&=o,i!==0&&(n=Ih(i)))}else o=r&~a,o!==0?n=Ih(o):i!==0&&(n=Ih(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ua(t),a=1<<r,n|=e[r],t&=~a;return n}function lW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cW(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ua(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=lW(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function S1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D$(){var e=Eg;return Eg<<=1,!(Eg&4194240)&&(Eg=64),e}function Oj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Up(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ua(t),e[t]=r}function uW(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ua(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function tk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ua(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tr=0;function L$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F$,rk,U$,B$,V$,k1=!1,Og=[],Ho=null,Go=null,Qo=null,gm=new Map,xm=new Map,Oo=[],dW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JP(e,t){switch(e){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":gm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xm.delete(t.pointerId)}}function ch(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Vp(t),t!==null&&rk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fW(e,t,r,n,a){switch(t){case"focusin":return Ho=ch(Ho,e,t,r,n,a),!0;case"dragenter":return Go=ch(Go,e,t,r,n,a),!0;case"mouseover":return Qo=ch(Qo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return gm.set(i,ch(gm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,xm.set(i,ch(xm.get(i)||null,e,t,r,n,a)),!0}return!1}function q$(e){var t=Kl(e.target);if(t!==null){var r=zc(t);if(r!==null){if(t=r.tag,t===13){if(t=O$(r),t!==null){e.blockedOn=t,V$(e.priority,function(){U$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);j1=n,r.target.dispatchEvent(n),j1=null}else return t=Vp(r),t!==null&&rk(t),e.blockedOn=r,!1;t.shift()}return!0}function ZP(e,t,r){kx(e)&&r.delete(t)}function hW(){k1=!1,Ho!==null&&kx(Ho)&&(Ho=null),Go!==null&&kx(Go)&&(Go=null),Qo!==null&&kx(Qo)&&(Qo=null),gm.forEach(ZP),xm.forEach(ZP)}function uh(e,t){e.blockedOn===t&&(e.blockedOn=null,k1||(k1=!0,Bs.unstable_scheduleCallback(Bs.unstable_NormalPriority,hW)))}function vm(e){function t(a){return uh(a,e)}if(0<Og.length){uh(Og[0],e);for(var r=1;r<Og.length;r++){var n=Og[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ho!==null&&uh(Ho,e),Go!==null&&uh(Go,e),Qo!==null&&uh(Qo,e),gm.forEach(t),xm.forEach(t),r=0;r<Oo.length;r++)n=Oo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Oo.length&&(r=Oo[0],r.blockedOn===null);)q$(r),r.blockedOn===null&&Oo.shift()}var ld=lo.ReactCurrentBatchConfig,Qx=!0;function mW(e,t,r,n){var a=tr,i=ld.transition;ld.transition=null;try{tr=1,nk(e,t,r,n)}finally{tr=a,ld.transition=i}}function pW(e,t,r,n){var a=tr,i=ld.transition;ld.transition=null;try{tr=4,nk(e,t,r,n)}finally{tr=a,ld.transition=i}}function nk(e,t,r,n){if(Qx){var a=C1(e,t,r,n);if(a===null)Bj(e,t,n,Yx,r),JP(e,n);else if(fW(a,e,t,r,n))n.stopPropagation();else if(JP(e,n),t&4&&-1<dW.indexOf(e)){for(;a!==null;){var i=Vp(a);if(i!==null&&F$(i),i=C1(e,t,r,n),i===null&&Bj(e,t,n,Yx,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Bj(e,t,n,null,r)}}var Yx=null;function C1(e,t,r,n){if(Yx=null,e=ZS(n),e=Kl(e),e!==null)if(t=zc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=O$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yx=e,null}function z$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rW()){case ek:return 1;case M$:return 4;case Hx:case nW:return 16;case $$:return 536870912;default:return 16}default:return 16}}var zo=null,sk=null,Cx=null;function W$(){if(Cx)return Cx;var e,t=sk,r=t.length,n,a="value"in zo?zo.value:zo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Cx=a.slice(e,1<n?1-n:void 0)}function Px(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tg(){return!0}function eE(){return!1}function Gs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tg:eE,this.isPropagationStopped=eE,this}return Ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tg)},persist:function(){},isPersistent:Tg}),t}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ak=Gs(_f),Bp=Ir({},_f,{view:0,detail:0}),gW=Gs(Bp),Tj,Ij,dh,tb=Ir({},Bp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ik,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dh&&(dh&&e.type==="mousemove"?(Tj=e.screenX-dh.screenX,Ij=e.screenY-dh.screenY):Ij=Tj=0,dh=e),Tj)},movementY:function(e){return"movementY"in e?e.movementY:Ij}}),tE=Gs(tb),xW=Ir({},tb,{dataTransfer:0}),vW=Gs(xW),yW=Ir({},Bp,{relatedTarget:0}),Rj=Gs(yW),bW=Ir({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),jW=Gs(bW),wW=Ir({},_f,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NW=Gs(wW),_W=Ir({},_f,{data:0}),rE=Gs(_W),SW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CW[e])?!!t[e]:!1}function ik(){return PW}var EW=Ir({},Bp,{key:function(e){if(e.key){var t=SW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Px(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ik,charCode:function(e){return e.type==="keypress"?Px(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Px(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AW=Gs(EW),OW=Ir({},tb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nE=Gs(OW),TW=Ir({},Bp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ik}),IW=Gs(TW),RW=Ir({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),MW=Gs(RW),$W=Ir({},tb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DW=Gs($W),LW=[9,13,27,32],ok=Qi&&"CompositionEvent"in window,Hh=null;Qi&&"documentMode"in document&&(Hh=document.documentMode);var FW=Qi&&"TextEvent"in window&&!Hh,K$=Qi&&(!ok||Hh&&8<Hh&&11>=Hh),sE=" ",aE=!1;function H$(e,t){switch(e){case"keyup":return LW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uu=!1;function UW(e,t){switch(e){case"compositionend":return G$(t);case"keypress":return t.which!==32?null:(aE=!0,sE);case"textInput":return e=t.data,e===sE&&aE?null:e;default:return null}}function BW(e,t){if(Uu)return e==="compositionend"||!ok&&H$(e,t)?(e=W$(),Cx=sk=zo=null,Uu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K$&&t.locale!=="ko"?null:t.data;default:return null}}var VW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VW[e.type]:t==="textarea"}function Q$(e,t,r,n){k$(n),t=Xx(t,"onChange"),0<t.length&&(r=new ak("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gh=null,ym=null;function qW(e){iD(e,0)}function rb(e){var t=qu(e);if(y$(t))return e}function zW(e,t){if(e==="change")return t}var Y$=!1;if(Qi){var Mj;if(Qi){var $j="oninput"in document;if(!$j){var oE=document.createElement("div");oE.setAttribute("oninput","return;"),$j=typeof oE.oninput=="function"}Mj=$j}else Mj=!1;Y$=Mj&&(!document.documentMode||9<document.documentMode)}function lE(){Gh&&(Gh.detachEvent("onpropertychange",X$),ym=Gh=null)}function X$(e){if(e.propertyName==="value"&&rb(ym)){var t=[];Q$(t,ym,e,ZS(e)),A$(qW,t)}}function WW(e,t,r){e==="focusin"?(lE(),Gh=t,ym=r,Gh.attachEvent("onpropertychange",X$)):e==="focusout"&&lE()}function KW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rb(ym)}function HW(e,t){if(e==="click")return rb(t)}function GW(e,t){if(e==="input"||e==="change")return rb(t)}function QW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var za=typeof Object.is=="function"?Object.is:QW;function bm(e,t){if(za(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!c1.call(t,a)||!za(e[a],t[a]))return!1}return!0}function cE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uE(e,t){var r=cE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cE(r)}}function J$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?J$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z$(){for(var e=window,t=zx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zx(e.document)}return t}function lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YW(e){var t=Z$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&J$(r.ownerDocument.documentElement,r)){if(n!==null&&lk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=uE(r,i);var o=uE(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XW=Qi&&"documentMode"in document&&11>=document.documentMode,Bu=null,P1=null,Qh=null,E1=!1;function dE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;E1||Bu==null||Bu!==zx(n)||(n=Bu,"selectionStart"in n&&lk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qh&&bm(Qh,n)||(Qh=n,n=Xx(P1,"onSelect"),0<n.length&&(t=new ak("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bu)))}function Ig(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vu={animationend:Ig("Animation","AnimationEnd"),animationiteration:Ig("Animation","AnimationIteration"),animationstart:Ig("Animation","AnimationStart"),transitionend:Ig("Transition","TransitionEnd")},Dj={},eD={};Qi&&(eD=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function nb(e){if(Dj[e])return Dj[e];if(!Vu[e])return e;var t=Vu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eD)return Dj[e]=t[r];return e}var tD=nb("animationend"),rD=nb("animationiteration"),nD=nb("animationstart"),sD=nb("transitionend"),aD=new Map,fE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(e,t){aD.set(e,t),qc(t,[e])}for(var Lj=0;Lj<fE.length;Lj++){var Fj=fE[Lj],JW=Fj.toLowerCase(),ZW=Fj[0].toUpperCase()+Fj.slice(1);gl(JW,"on"+ZW)}gl(tD,"onAnimationEnd");gl(rD,"onAnimationIteration");gl(nD,"onAnimationStart");gl("dblclick","onDoubleClick");gl("focusin","onFocus");gl("focusout","onBlur");gl(sD,"onTransitionEnd");Ad("onMouseEnter",["mouseout","mouseover"]);Ad("onMouseLeave",["mouseout","mouseover"]);Ad("onPointerEnter",["pointerout","pointerover"]);Ad("onPointerLeave",["pointerout","pointerover"]);qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rh));function hE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Jz(n,t,void 0,e),e.currentTarget=null}function iD(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;hE(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;hE(a,l,u),i=c}}}if(Kx)throw e=_1,Kx=!1,_1=null,e}function yr(e,t){var r=t[R1];r===void 0&&(r=t[R1]=new Set);var n=e+"__bubble";r.has(n)||(oD(t,e,2,!1),r.add(n))}function Uj(e,t,r){var n=0;t&&(n|=4),oD(r,e,n,t)}var Rg="_reactListening"+Math.random().toString(36).slice(2);function jm(e){if(!e[Rg]){e[Rg]=!0,m$.forEach(function(r){r!=="selectionchange"&&(eK.has(r)||Uj(r,!1,e),Uj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rg]||(t[Rg]=!0,Uj("selectionchange",!1,t))}}function oD(e,t,r,n){switch(z$(t)){case 1:var a=mW;break;case 4:a=pW;break;default:a=nk}r=a.bind(null,t,r,e),a=void 0,!N1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Kl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}A$(function(){var u=i,d=ZS(r),f=[];e:{var h=aD.get(e);if(h!==void 0){var p=ak,y=e;switch(e){case"keypress":if(Px(r)===0)break e;case"keydown":case"keyup":p=AW;break;case"focusin":y="focus",p=Rj;break;case"focusout":y="blur",p=Rj;break;case"beforeblur":case"afterblur":p=Rj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IW;break;case tD:case rD:case nD:p=jW;break;case sD:p=MW;break;case"scroll":p=gW;break;case"wheel":p=DW;break;case"copy":case"cut":case"paste":p=NW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nE}var m=(t&4)!==0,j=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,g;v!==null;){g=v;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,b!==null&&(w=pm(v,b),w!=null&&m.push(wm(v,w,g)))),j)break;v=v.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==j1&&(y=r.relatedTarget||r.fromElement)&&(Kl(y)||y[Yi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Kl(y):null,y!==null&&(j=zc(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=tE,w="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=nE,w="onPointerLeave",b="onPointerEnter",v="pointer"),j=p==null?h:qu(p),g=y==null?h:qu(y),h=new m(w,v+"leave",p,r,d),h.target=j,h.relatedTarget=g,w=null,Kl(d)===u&&(m=new m(b,v+"enter",y,r,d),m.target=g,m.relatedTarget=j,w=m),j=w,p&&y)t:{for(m=p,b=y,v=0,g=m;g;g=mu(g))v++;for(g=0,w=b;w;w=mu(w))g++;for(;0<v-g;)m=mu(m),v--;for(;0<g-v;)b=mu(b),g--;for(;v--;){if(m===b||b!==null&&m===b.alternate)break t;m=mu(m),b=mu(b)}m=null}else m=null;p!==null&&mE(f,h,p,m,!1),y!==null&&j!==null&&mE(f,j,y,m,!0)}}e:{if(h=u?qu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=zW;else if(iE(h))if(Y$)N=GW;else{N=KW;var _=WW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=HW);if(N&&(N=N(e,u))){Q$(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&g1(h,"number",h.value)}switch(_=u?qu(u):window,e){case"focusin":(iE(_)||_.contentEditable==="true")&&(Bu=_,P1=u,Qh=null);break;case"focusout":Qh=P1=Bu=null;break;case"mousedown":E1=!0;break;case"contextmenu":case"mouseup":case"dragend":E1=!1,dE(f,r,d);break;case"selectionchange":if(XW)break;case"keydown":case"keyup":dE(f,r,d)}var S;if(ok)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Uu?H$(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(K$&&r.locale!=="ko"&&(Uu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Uu&&(S=W$()):(zo=d,sk="value"in zo?zo.value:zo.textContent,Uu=!0)),_=Xx(u,C),0<_.length&&(C=new rE(C,e,null,r,d),f.push({event:C,listeners:_}),S?C.data=S:(S=G$(r),S!==null&&(C.data=S)))),(S=FW?UW(e,r):BW(e,r))&&(u=Xx(u,"onBeforeInput"),0<u.length&&(d=new rE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}iD(f,t)})}function wm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=pm(e,r),i!=null&&n.unshift(wm(e,i,a)),i=pm(e,t),i!=null&&n.push(wm(e,i,a))),e=e.return}return n}function mu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mE(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=pm(r,i),c!=null&&o.unshift(wm(r,c,l))):a||(c=pm(r,i),c!=null&&o.push(wm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tK=/\r\n?/g,rK=/\u0000|\uFFFD/g;function pE(e){return(typeof e=="string"?e:""+e).replace(tK,`
`).replace(rK,"")}function Mg(e,t,r){if(t=pE(t),pE(e)!==t&&r)throw Error(_e(425))}function Jx(){}var A1=null,O1=null;function T1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var I1=typeof setTimeout=="function"?setTimeout:void 0,nK=typeof clearTimeout=="function"?clearTimeout:void 0,gE=typeof Promise=="function"?Promise:void 0,sK=typeof queueMicrotask=="function"?queueMicrotask:typeof gE<"u"?function(e){return gE.resolve(null).then(e).catch(aK)}:I1;function aK(e){setTimeout(function(){throw e})}function Vj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vm(t)}function Yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Sf=Math.random().toString(36).slice(2),ai="__reactFiber$"+Sf,Nm="__reactProps$"+Sf,Yi="__reactContainer$"+Sf,R1="__reactEvents$"+Sf,iK="__reactListeners$"+Sf,oK="__reactHandles$"+Sf;function Kl(e){var t=e[ai];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yi]||r[ai]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xE(e);e!==null;){if(r=e[ai])return r;e=xE(e)}return t}e=r,r=e.parentNode}return null}function Vp(e){return e=e[ai]||e[Yi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function sb(e){return e[Nm]||null}var M1=[],zu=-1;function xl(e){return{current:e}}function wr(e){0>zu||(e.current=M1[zu],M1[zu]=null,zu--)}function mr(e,t){zu++,M1[zu]=e.current,e.current=t}var ol={},Vn=xl(ol),vs=xl(!1),xc=ol;function Od(e,t){var r=e.type.contextTypes;if(!r)return ol;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ys(e){return e=e.childContextTypes,e!=null}function Zx(){wr(vs),wr(Vn)}function vE(e,t,r){if(Vn.current!==ol)throw Error(_e(168));mr(Vn,t),mr(vs,r)}function lD(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(_e(108,Wz(e)||"Unknown",a));return Ir({},r,n)}function ev(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ol,xc=Vn.current,mr(Vn,e),mr(vs,vs.current),!0}function yE(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=lD(e,t,xc),n.__reactInternalMemoizedMergedChildContext=e,wr(vs),wr(Vn),mr(Vn,e)):wr(vs),mr(vs,r)}var Ri=null,ab=!1,qj=!1;function cD(e){Ri===null?Ri=[e]:Ri.push(e)}function lK(e){ab=!0,cD(e)}function vl(){if(!qj&&Ri!==null){qj=!0;var e=0,t=tr;try{var r=Ri;for(tr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ri=null,ab=!1}catch(a){throw Ri!==null&&(Ri=Ri.slice(e+1)),R$(ek,vl),a}finally{tr=t,qj=!1}}return null}var Wu=[],Ku=0,tv=null,rv=0,ra=[],na=0,vc=null,Fi=1,Ui="";function $l(e,t){Wu[Ku++]=rv,Wu[Ku++]=tv,tv=e,rv=t}function uD(e,t,r){ra[na++]=Fi,ra[na++]=Ui,ra[na++]=vc,vc=e;var n=Fi;e=Ui;var a=32-Ua(n)-1;n&=~(1<<a),r+=1;var i=32-Ua(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Fi=1<<32-Ua(t)+a|r<<a|n,Ui=i+e}else Fi=1<<i|r<<a|n,Ui=e}function ck(e){e.return!==null&&($l(e,1),uD(e,1,0))}function uk(e){for(;e===tv;)tv=Wu[--Ku],Wu[Ku]=null,rv=Wu[--Ku],Wu[Ku]=null;for(;e===vc;)vc=ra[--na],ra[na]=null,Ui=ra[--na],ra[na]=null,Fi=ra[--na],ra[na]=null}var Ds=null,$s=null,_r=!1,$a=null;function dD(e,t){var r=aa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ds=e,$s=Yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ds=e,$s=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vc!==null?{id:Fi,overflow:Ui}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=aa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ds=e,$s=null,!0):!1;default:return!1}}function $1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D1(e){if(_r){var t=$s;if(t){var r=t;if(!bE(e,t)){if($1(e))throw Error(_e(418));t=Yo(r.nextSibling);var n=Ds;t&&bE(e,t)?dD(n,r):(e.flags=e.flags&-4097|2,_r=!1,Ds=e)}}else{if($1(e))throw Error(_e(418));e.flags=e.flags&-4097|2,_r=!1,Ds=e}}}function jE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ds=e}function $g(e){if(e!==Ds)return!1;if(!_r)return jE(e),_r=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!T1(e.type,e.memoizedProps)),t&&(t=$s)){if($1(e))throw fD(),Error(_e(418));for(;t;)dD(e,t),t=Yo(t.nextSibling)}if(jE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$s=Yo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$s=null}}else $s=Ds?Yo(e.stateNode.nextSibling):null;return!0}function fD(){for(var e=$s;e;)e=Yo(e.nextSibling)}function Td(){$s=Ds=null,_r=!1}function dk(e){$a===null?$a=[e]:$a.push(e)}var cK=lo.ReactCurrentBatchConfig;function fh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Dg(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wE(e){var t=e._init;return t(e._payload)}function hD(e){function t(b,v){if(e){var g=b.deletions;g===null?(b.deletions=[v],b.flags|=16):g.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=el(b,v),b.index=0,b.sibling=null,b}function i(b,v,g){return b.index=g,e?(g=b.alternate,g!==null?(g=g.index,g<v?(b.flags|=2,v):g):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,g,w){return v===null||v.tag!==6?(v=Yj(g,b.mode,w),v.return=b,v):(v=a(v,g),v.return=b,v)}function c(b,v,g,w){var N=g.type;return N===Fu?d(b,v,g.props.children,w,g.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===So&&wE(N)===v.type)?(w=a(v,g.props),w.ref=fh(b,v,g),w.return=b,w):(w=Mx(g.type,g.key,g.props,null,b.mode,w),w.ref=fh(b,v,g),w.return=b,w)}function u(b,v,g,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Xj(g,b.mode,w),v.return=b,v):(v=a(v,g.children||[]),v.return=b,v)}function d(b,v,g,w,N){return v===null||v.tag!==7?(v=fc(g,b.mode,w,N),v.return=b,v):(v=a(v,g),v.return=b,v)}function f(b,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yj(""+v,b.mode,g),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kg:return g=Mx(v.type,v.key,v.props,null,b.mode,g),g.ref=fh(b,null,v),g.return=b,g;case Lu:return v=Xj(v,b.mode,g),v.return=b,v;case So:var w=v._init;return f(b,w(v._payload),g)}if(Th(v)||oh(v))return v=fc(v,b.mode,g,null),v.return=b,v;Dg(b,v)}return null}function h(b,v,g,w){var N=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(b,v,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case kg:return g.key===N?c(b,v,g,w):null;case Lu:return g.key===N?u(b,v,g,w):null;case So:return N=g._init,h(b,v,N(g._payload),w)}if(Th(g)||oh(g))return N!==null?null:d(b,v,g,w,null);Dg(b,g)}return null}function p(b,v,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(g)||null,l(v,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kg:return b=b.get(w.key===null?g:w.key)||null,c(v,b,w,N);case Lu:return b=b.get(w.key===null?g:w.key)||null,u(v,b,w,N);case So:var _=w._init;return p(b,v,g,_(w._payload),N)}if(Th(w)||oh(w))return b=b.get(g)||null,d(v,b,w,N,null);Dg(v,w)}return null}function y(b,v,g,w){for(var N=null,_=null,S=v,C=v=0,P=null;S!==null&&C<g.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var k=h(b,S,g[C],w);if(k===null){S===null&&(S=P);break}e&&S&&k.alternate===null&&t(b,S),v=i(k,v,C),_===null?N=k:_.sibling=k,_=k,S=P}if(C===g.length)return r(b,S),_r&&$l(b,C),N;if(S===null){for(;C<g.length;C++)S=f(b,g[C],w),S!==null&&(v=i(S,v,C),_===null?N=S:_.sibling=S,_=S);return _r&&$l(b,C),N}for(S=n(b,S);C<g.length;C++)P=p(S,b,C,g[C],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),v=i(P,v,C),_===null?N=P:_.sibling=P,_=P);return e&&S.forEach(function(A){return t(b,A)}),_r&&$l(b,C),N}function m(b,v,g,w){var N=oh(g);if(typeof N!="function")throw Error(_e(150));if(g=N.call(g),g==null)throw Error(_e(151));for(var _=N=null,S=v,C=v=0,P=null,k=g.next();S!==null&&!k.done;C++,k=g.next()){S.index>C?(P=S,S=null):P=S.sibling;var A=h(b,S,k.value,w);if(A===null){S===null&&(S=P);break}e&&S&&A.alternate===null&&t(b,S),v=i(A,v,C),_===null?N=A:_.sibling=A,_=A,S=P}if(k.done)return r(b,S),_r&&$l(b,C),N;if(S===null){for(;!k.done;C++,k=g.next())k=f(b,k.value,w),k!==null&&(v=i(k,v,C),_===null?N=k:_.sibling=k,_=k);return _r&&$l(b,C),N}for(S=n(b,S);!k.done;C++,k=g.next())k=p(S,b,C,k.value,w),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?C:k.key),v=i(k,v,C),_===null?N=k:_.sibling=k,_=k);return e&&S.forEach(function(O){return t(b,O)}),_r&&$l(b,C),N}function j(b,v,g,w){if(typeof g=="object"&&g!==null&&g.type===Fu&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case kg:e:{for(var N=g.key,_=v;_!==null;){if(_.key===N){if(N=g.type,N===Fu){if(_.tag===7){r(b,_.sibling),v=a(_,g.props.children),v.return=b,b=v;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===So&&wE(N)===_.type){r(b,_.sibling),v=a(_,g.props),v.ref=fh(b,_,g),v.return=b,b=v;break e}r(b,_);break}else t(b,_);_=_.sibling}g.type===Fu?(v=fc(g.props.children,b.mode,w,g.key),v.return=b,b=v):(w=Mx(g.type,g.key,g.props,null,b.mode,w),w.ref=fh(b,v,g),w.return=b,b=w)}return o(b);case Lu:e:{for(_=g.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(b,v.sibling),v=a(v,g.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=Xj(g,b.mode,w),v.return=b,b=v}return o(b);case So:return _=g._init,j(b,v,_(g._payload),w)}if(Th(g))return y(b,v,g,w);if(oh(g))return m(b,v,g,w);Dg(b,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(b,v.sibling),v=a(v,g),v.return=b,b=v):(r(b,v),v=Yj(g,b.mode,w),v.return=b,b=v),o(b)):r(b,v)}return j}var Id=hD(!0),mD=hD(!1),nv=xl(null),sv=null,Hu=null,fk=null;function hk(){fk=Hu=sv=null}function mk(e){var t=nv.current;wr(nv),e._currentValue=t}function L1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cd(e,t){sv=e,fk=Hu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ps=!0),e.firstContext=null)}function fa(e){var t=e._currentValue;if(fk!==e)if(e={context:e,memoizedValue:t,next:null},Hu===null){if(sv===null)throw Error(_e(308));Hu=e,sv.dependencies={lanes:0,firstContext:e}}else Hu=Hu.next=e;return t}var Hl=null;function pk(e){Hl===null?Hl=[e]:Hl.push(e)}function pD(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,pk(t)):(r.next=a.next,a.next=r),t.interleaved=r,Xi(e,n)}function Xi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ko=!1;function gk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ut&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Xi(e,r)}return a=n.interleaved,a===null?(t.next=t,pk(n)):(t.next=a.next,a.next=t),n.interleaved=t,Xi(e,r)}function Ex(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tk(e,r)}}function NE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function av(e,t,r,n){var a=e.updateQueue;ko=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Ir({},f,h);break e;case 2:ko=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);bc|=o,e.lanes=o,e.memoizedState=f}}function _E(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(_e(191,a));a.call(n)}}}var qp={},ui=xl(qp),_m=xl(qp),Sm=xl(qp);function Gl(e){if(e===qp)throw Error(_e(174));return e}function xk(e,t){switch(mr(Sm,t),mr(_m,e),mr(ui,qp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:v1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=v1(t,e)}wr(ui),mr(ui,t)}function Rd(){wr(ui),wr(_m),wr(Sm)}function xD(e){Gl(Sm.current);var t=Gl(ui.current),r=v1(t,e.type);t!==r&&(mr(_m,e),mr(ui,r))}function vk(e){_m.current===e&&(wr(ui),wr(_m))}var Cr=xl(0);function iv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zj=[];function yk(){for(var e=0;e<zj.length;e++)zj[e]._workInProgressVersionPrimary=null;zj.length=0}var Ax=lo.ReactCurrentDispatcher,Wj=lo.ReactCurrentBatchConfig,yc=0,Er=null,fn=null,jn=null,ov=!1,Yh=!1,km=0,uK=0;function $n(){throw Error(_e(321))}function bk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!za(e[r],t[r]))return!1;return!0}function jk(e,t,r,n,a,i){if(yc=i,Er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ax.current=e===null||e.memoizedState===null?mK:pK,e=r(n,a),Yh){i=0;do{if(Yh=!1,km=0,25<=i)throw Error(_e(301));i+=1,jn=fn=null,t.updateQueue=null,Ax.current=gK,e=r(n,a)}while(Yh)}if(Ax.current=lv,t=fn!==null&&fn.next!==null,yc=0,jn=fn=Er=null,ov=!1,t)throw Error(_e(300));return e}function wk(){var e=km!==0;return km=0,e}function ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Er.memoizedState=jn=e:jn=jn.next=e,jn}function ha(){if(fn===null){var e=Er.alternate;e=e!==null?e.memoizedState:null}else e=fn.next;var t=jn===null?Er.memoizedState:jn.next;if(t!==null)jn=t,fn=e;else{if(e===null)throw Error(_e(310));fn=e,e={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},jn===null?Er.memoizedState=jn=e:jn=jn.next=e}return jn}function Cm(e,t){return typeof t=="function"?t(e):t}function Kj(e){var t=ha(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=fn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((yc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Er.lanes|=d,bc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,za(n,t.memoizedState)||(ps=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Er.lanes|=i,bc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hj(e){var t=ha(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);za(i,t.memoizedState)||(ps=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function vD(){}function yD(e,t){var r=Er,n=ha(),a=t(),i=!za(n.memoizedState,a);if(i&&(n.memoizedState=a,ps=!0),n=n.queue,Nk(wD.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,Pm(9,jD.bind(null,r,n,a,t),void 0,null),Nn===null)throw Error(_e(349));yc&30||bD(r,t,a)}return a}function bD(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Er.updateQueue,t===null?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jD(e,t,r,n){t.value=r,t.getSnapshot=n,ND(t)&&_D(e)}function wD(e,t,r){return r(function(){ND(t)&&_D(e)})}function ND(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!za(e,r)}catch{return!0}}function _D(e){var t=Xi(e,1);t!==null&&Ba(t,e,1,-1)}function SE(e){var t=ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:e},t.queue=e,e=e.dispatch=hK.bind(null,Er,e),[t.memoizedState,e]}function Pm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Er.updateQueue,t===null?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function SD(){return ha().memoizedState}function Ox(e,t,r,n){var a=ti();Er.flags|=e,a.memoizedState=Pm(1|t,r,void 0,n===void 0?null:n)}function ib(e,t,r,n){var a=ha();n=n===void 0?null:n;var i=void 0;if(fn!==null){var o=fn.memoizedState;if(i=o.destroy,n!==null&&bk(n,o.deps)){a.memoizedState=Pm(t,r,i,n);return}}Er.flags|=e,a.memoizedState=Pm(1|t,r,i,n)}function kE(e,t){return Ox(8390656,8,e,t)}function Nk(e,t){return ib(2048,8,e,t)}function kD(e,t){return ib(4,2,e,t)}function CD(e,t){return ib(4,4,e,t)}function PD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ED(e,t,r){return r=r!=null?r.concat([e]):null,ib(4,4,PD.bind(null,t,e),r)}function _k(){}function AD(e,t){var r=ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function OD(e,t){var r=ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&bk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function TD(e,t,r){return yc&21?(za(r,t)||(r=D$(),Er.lanes|=r,bc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ps=!0),e.memoizedState=r)}function dK(e,t){var r=tr;tr=r!==0&&4>r?r:4,e(!0);var n=Wj.transition;Wj.transition={};try{e(!1),t()}finally{tr=r,Wj.transition=n}}function ID(){return ha().memoizedState}function fK(e,t,r){var n=Zo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RD(e))MD(t,r);else if(r=pD(e,t,r,n),r!==null){var a=es();Ba(r,e,n,a),$D(r,t,n)}}function hK(e,t,r){var n=Zo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RD(e))MD(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,za(l,o)){var c=t.interleaved;c===null?(a.next=a,pk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=pD(e,t,a,n),r!==null&&(a=es(),Ba(r,e,n,a),$D(r,t,n))}}function RD(e){var t=e.alternate;return e===Er||t!==null&&t===Er}function MD(e,t){Yh=ov=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $D(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tk(e,r)}}var lv={readContext:fa,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},mK={readContext:fa,useCallback:function(e,t){return ti().memoizedState=[e,t===void 0?null:t],e},useContext:fa,useEffect:kE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ox(4194308,4,PD.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ox(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ox(4,2,e,t)},useMemo:function(e,t){var r=ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fK.bind(null,Er,e),[n.memoizedState,e]},useRef:function(e){var t=ti();return e={current:e},t.memoizedState=e},useState:SE,useDebugValue:_k,useDeferredValue:function(e){return ti().memoizedState=e},useTransition:function(){var e=SE(!1),t=e[0];return e=dK.bind(null,e[1]),ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Er,a=ti();if(_r){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),Nn===null)throw Error(_e(349));yc&30||bD(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,kE(wD.bind(null,n,i,e),[e]),n.flags|=2048,Pm(9,jD.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ti(),t=Nn.identifierPrefix;if(_r){var r=Ui,n=Fi;r=(n&~(1<<32-Ua(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=km++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uK++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pK={readContext:fa,useCallback:AD,useContext:fa,useEffect:Nk,useImperativeHandle:ED,useInsertionEffect:kD,useLayoutEffect:CD,useMemo:OD,useReducer:Kj,useRef:SD,useState:function(){return Kj(Cm)},useDebugValue:_k,useDeferredValue:function(e){var t=ha();return TD(t,fn.memoizedState,e)},useTransition:function(){var e=Kj(Cm)[0],t=ha().memoizedState;return[e,t]},useMutableSource:vD,useSyncExternalStore:yD,useId:ID,unstable_isNewReconciler:!1},gK={readContext:fa,useCallback:AD,useContext:fa,useEffect:Nk,useImperativeHandle:ED,useInsertionEffect:kD,useLayoutEffect:CD,useMemo:OD,useReducer:Hj,useRef:SD,useState:function(){return Hj(Cm)},useDebugValue:_k,useDeferredValue:function(e){var t=ha();return fn===null?t.memoizedState=e:TD(t,fn.memoizedState,e)},useTransition:function(){var e=Hj(Cm)[0],t=ha().memoizedState;return[e,t]},useMutableSource:vD,useSyncExternalStore:yD,useId:ID,unstable_isNewReconciler:!1};function Pa(e,t){if(e&&e.defaultProps){t=Ir({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function F1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ir({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ob={isMounted:function(e){return(e=e._reactInternals)?zc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=es(),a=Zo(e),i=Wi(n,a);i.payload=t,r!=null&&(i.callback=r),t=Xo(e,i,a),t!==null&&(Ba(t,e,a,n),Ex(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=es(),a=Zo(e),i=Wi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Xo(e,i,a),t!==null&&(Ba(t,e,a,n),Ex(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=es(),n=Zo(e),a=Wi(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xo(e,a,n),t!==null&&(Ba(t,e,n,r),Ex(t,e,n))}};function CE(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!bm(r,n)||!bm(a,i):!0}function DD(e,t,r){var n=!1,a=ol,i=t.contextType;return typeof i=="object"&&i!==null?i=fa(i):(a=ys(t)?xc:Vn.current,n=t.contextTypes,i=(n=n!=null)?Od(e,a):ol),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ob,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function PE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ob.enqueueReplaceState(t,t.state,null)}function U1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},gk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fa(i):(i=ys(t)?xc:Vn.current,a.context=Od(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(F1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ob.enqueueReplaceState(a,a.state,null),av(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Md(e,t){try{var r="",n=t;do r+=zz(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function B1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xK=typeof WeakMap=="function"?WeakMap:Map;function LD(e,t,r){r=Wi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){uv||(uv=!0,X1=n),B1(e,t)},r}function FD(e,t,r){r=Wi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){B1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){B1(e,t),typeof n!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function EE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xK;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=OK.bind(null,e,t,r),t.then(e,e))}function AE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wi(-1,1),t.tag=2,Xo(r,t,1))),r.lanes|=1),e)}var vK=lo.ReactCurrentOwner,ps=!1;function Gn(e,t,r,n){t.child=e===null?mD(t,null,r,n):Id(t,e.child,r,n)}function TE(e,t,r,n,a){r=r.render;var i=t.ref;return cd(t,a),n=jk(e,t,r,n,i,a),r=wk(),e!==null&&!ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ji(e,t,a)):(_r&&r&&ck(t),t.flags|=1,Gn(e,t,n,a),t.child)}function IE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Tk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,UD(e,t,i,n,a)):(e=Mx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:bm,r(o,n)&&e.ref===t.ref)return Ji(e,t,a)}return t.flags|=1,e=el(i,n),e.ref=t.ref,e.return=t,t.child=e}function UD(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(bm(i,n)&&e.ref===t.ref)if(ps=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ps=!0);else return t.lanes=e.lanes,Ji(e,t,a)}return V1(e,t,r,n,a)}function BD(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(Qu,Ps),Ps|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mr(Qu,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mr(Qu,Ps),Ps|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,mr(Qu,Ps),Ps|=n;return Gn(e,t,a,r),t.child}function VD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function V1(e,t,r,n,a){var i=ys(r)?xc:Vn.current;return i=Od(t,i),cd(t,a),r=jk(e,t,r,n,i,a),n=wk(),e!==null&&!ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ji(e,t,a)):(_r&&n&&ck(t),t.flags|=1,Gn(e,t,r,a),t.child)}function RE(e,t,r,n,a){if(ys(r)){var i=!0;ev(t)}else i=!1;if(cd(t,a),t.stateNode===null)Tx(e,t),DD(t,r,n),U1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fa(u):(u=ys(r)?xc:Vn.current,u=Od(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&PE(t,o,n,u),ko=!1;var h=t.memoizedState;o.state=h,av(t,n,o,a),c=t.memoizedState,l!==n||h!==c||vs.current||ko?(typeof d=="function"&&(F1(t,r,d,n),c=t.memoizedState),(l=ko||CE(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,gD(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Pa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fa(c):(c=ys(r)?xc:Vn.current,c=Od(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&PE(t,o,n,c),ko=!1,h=t.memoizedState,o.state=h,av(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||vs.current||ko?(typeof p=="function"&&(F1(t,r,p,n),y=t.memoizedState),(u=ko||CE(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return q1(e,t,r,n,i,a)}function q1(e,t,r,n,a,i){VD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&yE(t,r,!1),Ji(e,t,i);n=t.stateNode,vK.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Id(t,e.child,null,i),t.child=Id(t,null,l,i)):Gn(e,t,l,i),t.memoizedState=n.state,a&&yE(t,r,!0),t.child}function qD(e){var t=e.stateNode;t.pendingContext?vE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vE(e,t.context,!1),xk(e,t.containerInfo)}function ME(e,t,r,n,a){return Td(),dk(a),t.flags|=256,Gn(e,t,r,n),t.child}var z1={dehydrated:null,treeContext:null,retryLane:0};function W1(e){return{baseLanes:e,cachePool:null,transitions:null}}function zD(e,t,r){var n=t.pendingProps,a=Cr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mr(Cr,a&1),e===null)return D1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ub(o,n,0,null),e=fc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=W1(r),t.memoizedState=z1,e):Sk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return yK(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=el(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=el(l,i):(i=fc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?W1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=z1,n}return i=e.child,e=i.sibling,n=el(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Sk(e,t){return t=ub({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lg(e,t,r,n){return n!==null&&dk(n),Id(t,e.child,null,r),e=Sk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yK(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Gj(Error(_e(422))),Lg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ub({mode:"visible",children:n.children},a,0,null),i=fc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Id(t,e.child,null,o),t.child.memoizedState=W1(o),t.memoizedState=z1,i);if(!(t.mode&1))return Lg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=Gj(i,n,void 0),Lg(e,t,o,n)}if(l=(o&e.childLanes)!==0,ps||l){if(n=Nn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Xi(e,a),Ba(n,e,a,-1))}return Ok(),n=Gj(Error(_e(421))),Lg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TK.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,$s=Yo(a.nextSibling),Ds=t,_r=!0,$a=null,e!==null&&(ra[na++]=Fi,ra[na++]=Ui,ra[na++]=vc,Fi=e.id,Ui=e.overflow,vc=t),t=Sk(t,n.children),t.flags|=4096,t)}function $E(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),L1(e.return,t,r)}function Qj(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function WD(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Gn(e,t,n.children,r),n=Cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$E(e,r,t);else if(e.tag===19)$E(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(mr(Cr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&iv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Qj(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&iv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Qj(t,!0,r,null,i);break;case"together":Qj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ji(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=el(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=el(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bK(e,t,r){switch(t.tag){case 3:qD(t),Td();break;case 5:xD(t);break;case 1:ys(t.type)&&ev(t);break;case 4:xk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;mr(nv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(mr(Cr,Cr.current&1),t.flags|=128,null):r&t.child.childLanes?zD(e,t,r):(mr(Cr,Cr.current&1),e=Ji(e,t,r),e!==null?e.sibling:null);mr(Cr,Cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return WD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mr(Cr,Cr.current),n)break;return null;case 22:case 23:return t.lanes=0,BD(e,t,r)}return Ji(e,t,r)}var KD,K1,HD,GD;KD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};K1=function(){};HD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Gl(ui.current);var i=null;switch(r){case"input":a=m1(e,a),n=m1(e,n),i=[];break;case"select":a=Ir({},a,{value:void 0}),n=Ir({},n,{value:void 0}),i=[];break;case"textarea":a=x1(e,a),n=x1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jx)}y1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};GD=function(e,t,r,n){r!==n&&(t.flags|=4)};function hh(e,t){if(!_r)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jK(e,t,r){var n=t.pendingProps;switch(uk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(t),null;case 1:return ys(t.type)&&Zx(),Dn(t),null;case 3:return n=t.stateNode,Rd(),wr(vs),wr(Vn),yk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$a!==null&&(eN($a),$a=null))),K1(e,t),Dn(t),null;case 5:vk(t);var a=Gl(Sm.current);if(r=t.type,e!==null&&t.stateNode!=null)HD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return Dn(t),null}if(e=Gl(ui.current),$g(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ai]=t,n[Nm]=i,e=(t.mode&1)!==0,r){case"dialog":yr("cancel",n),yr("close",n);break;case"iframe":case"object":case"embed":yr("load",n);break;case"video":case"audio":for(a=0;a<Rh.length;a++)yr(Rh[a],n);break;case"source":yr("error",n);break;case"img":case"image":case"link":yr("error",n),yr("load",n);break;case"details":yr("toggle",n);break;case"input":WP(n,i),yr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yr("invalid",n);break;case"textarea":HP(n,i),yr("invalid",n)}y1(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mg(n.textContent,l,e),a=["children",""+l]):hm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yr("scroll",n)}switch(r){case"input":Cg(n),KP(n,i,!0);break;case"textarea":Cg(n),GP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Jx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=w$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ai]=t,e[Nm]=n,KD(e,t,!1,!1),t.stateNode=e;e:{switch(o=b1(r,n),r){case"dialog":yr("cancel",e),yr("close",e),a=n;break;case"iframe":case"object":case"embed":yr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Rh.length;a++)yr(Rh[a],e);a=n;break;case"source":yr("error",e),a=n;break;case"img":case"image":case"link":yr("error",e),yr("load",e),a=n;break;case"details":yr("toggle",e),a=n;break;case"input":WP(e,n),a=m1(e,n),yr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ir({},n,{value:void 0}),yr("invalid",e);break;case"textarea":HP(e,n),a=x1(e,n),yr("invalid",e);break;default:a=n}y1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?S$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mm(e,c):typeof c=="number"&&mm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yr("scroll",e):c!=null&&QS(e,i,c,o))}switch(r){case"input":Cg(e),KP(e,n,!1);break;case"textarea":Cg(e),GP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+il(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ad(e,!!n.multiple,i,!1):n.defaultValue!=null&&ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dn(t),null;case 6:if(e&&t.stateNode!=null)GD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Gl(Sm.current),Gl(ui.current),$g(t)){if(n=t.stateNode,r=t.memoizedProps,n[ai]=t,(i=n.nodeValue!==r)&&(e=Ds,e!==null))switch(e.tag){case 3:Mg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ai]=t,t.stateNode=n}return Dn(t),null;case 13:if(wr(Cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_r&&$s!==null&&t.mode&1&&!(t.flags&128))fD(),Td(),t.flags|=98560,i=!1;else if(i=$g(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[ai]=t}else Td(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),i=!1}else $a!==null&&(eN($a),$a=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Cr.current&1?mn===0&&(mn=3):Ok())),t.updateQueue!==null&&(t.flags|=4),Dn(t),null);case 4:return Rd(),K1(e,t),e===null&&jm(t.stateNode.containerInfo),Dn(t),null;case 10:return mk(t.type._context),Dn(t),null;case 17:return ys(t.type)&&Zx(),Dn(t),null;case 19:if(wr(Cr),i=t.memoizedState,i===null)return Dn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)hh(i,!1);else{if(mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=iv(e),o!==null){for(t.flags|=128,hh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return mr(Cr,Cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&zr()>$d&&(t.flags|=128,n=!0,hh(i,!1),t.lanes=4194304)}else{if(!n)if(e=iv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_r)return Dn(t),null}else 2*zr()-i.renderingStartTime>$d&&r!==1073741824&&(t.flags|=128,n=!0,hh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zr(),t.sibling=null,r=Cr.current,mr(Cr,n?r&1|2:r&1),t):(Dn(t),null);case 22:case 23:return Ak(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ps&1073741824&&(Dn(t),t.subtreeFlags&6&&(t.flags|=8192)):Dn(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function wK(e,t){switch(uk(t),t.tag){case 1:return ys(t.type)&&Zx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rd(),wr(vs),wr(Vn),yk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vk(t),null;case 13:if(wr(Cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Td()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wr(Cr),null;case 4:return Rd(),null;case 10:return mk(t.type._context),null;case 22:case 23:return Ak(),null;case 24:return null;default:return null}}var Fg=!1,Fn=!1,NK=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Gu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dr(e,t,n)}else r.current=null}function H1(e,t,r){try{r()}catch(n){Dr(e,t,n)}}var DE=!1;function _K(e,t){if(A1=Qx,e=Z$(),lk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(O1={focusedElem:e,selectionRange:r},Qx=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,j=y.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:Pa(t.type,m),j);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(w){Dr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return y=DE,DE=!1,y}function Xh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&H1(t,r,i)}a=a.next}while(a!==n)}}function lb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function G1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function QD(e){var t=e.alternate;t!==null&&(e.alternate=null,QD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ai],delete t[Nm],delete t[R1],delete t[iK],delete t[oK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YD(e){return e.tag===5||e.tag===3||e.tag===4}function LE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Q1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jx));else if(n!==4&&(e=e.child,e!==null))for(Q1(e,t,r),e=e.sibling;e!==null;)Q1(e,t,r),e=e.sibling}function Y1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Y1(e,t,r),e=e.sibling;e!==null;)Y1(e,t,r),e=e.sibling}var An=null,Ta=!1;function bo(e,t,r){for(r=r.child;r!==null;)XD(e,t,r),r=r.sibling}function XD(e,t,r){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(eb,r)}catch{}switch(r.tag){case 5:Fn||Gu(r,t);case 6:var n=An,a=Ta;An=null,bo(e,t,r),An=n,Ta=a,An!==null&&(Ta?(e=An,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):An.removeChild(r.stateNode));break;case 18:An!==null&&(Ta?(e=An,r=r.stateNode,e.nodeType===8?Vj(e.parentNode,r):e.nodeType===1&&Vj(e,r),vm(e)):Vj(An,r.stateNode));break;case 4:n=An,a=Ta,An=r.stateNode.containerInfo,Ta=!0,bo(e,t,r),An=n,Ta=a;break;case 0:case 11:case 14:case 15:if(!Fn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&H1(r,t,o),a=a.next}while(a!==n)}bo(e,t,r);break;case 1:if(!Fn&&(Gu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Dr(r,t,l)}bo(e,t,r);break;case 21:bo(e,t,r);break;case 22:r.mode&1?(Fn=(n=Fn)||r.memoizedState!==null,bo(e,t,r),Fn=n):bo(e,t,r);break;default:bo(e,t,r)}}function FE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NK),t.forEach(function(n){var a=IK.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _a(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:An=l.stateNode,Ta=!1;break e;case 3:An=l.stateNode.containerInfo,Ta=!0;break e;case 4:An=l.stateNode.containerInfo,Ta=!0;break e}l=l.return}if(An===null)throw Error(_e(160));XD(i,o,a),An=null,Ta=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Dr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JD(t,e),t=t.sibling}function JD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_a(t,e),ei(e),n&4){try{Xh(3,e,e.return),lb(3,e)}catch(m){Dr(e,e.return,m)}try{Xh(5,e,e.return)}catch(m){Dr(e,e.return,m)}}break;case 1:_a(t,e),ei(e),n&512&&r!==null&&Gu(r,r.return);break;case 5:if(_a(t,e),ei(e),n&512&&r!==null&&Gu(r,r.return),e.flags&32){var a=e.stateNode;try{mm(a,"")}catch(m){Dr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&b$(a,i),b1(l,o);var u=b1(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?S$(a,f):d==="dangerouslySetInnerHTML"?N$(a,f):d==="children"?mm(a,f):QS(a,d,f,u)}switch(l){case"input":p1(a,i);break;case"textarea":j$(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ad(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ad(a,!!i.multiple,i.defaultValue,!0):ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[Nm]=i}catch(m){Dr(e,e.return,m)}}break;case 6:if(_a(t,e),ei(e),n&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Dr(e,e.return,m)}}break;case 3:if(_a(t,e),ei(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vm(t.containerInfo)}catch(m){Dr(e,e.return,m)}break;case 4:_a(t,e),ei(e);break;case 13:_a(t,e),ei(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Pk=zr())),n&4&&FE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fn=(u=Fn)||d,_a(t,e),Fn=u):_a(t,e),ei(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Fe=e,d=e.child;d!==null;){for(f=Fe=d;Fe!==null;){switch(h=Fe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xh(4,h,h.return);break;case 1:Gu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){Dr(n,r,m)}}break;case 5:Gu(h,h.return);break;case 22:if(h.memoizedState!==null){BE(f);continue}}p!==null?(p.return=h,Fe=p):BE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_$("display",o))}catch(m){Dr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Dr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_a(t,e),ei(e),n&4&&FE(e);break;case 21:break;default:_a(t,e),ei(e)}}function ei(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(YD(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mm(a,""),n.flags&=-33);var i=LE(e);Y1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=LE(e);Q1(e,l,o);break;default:throw Error(_e(161))}}catch(c){Dr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SK(e,t,r){Fe=e,ZD(e)}function ZD(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var a=Fe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Fg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Fn;l=Fg;var u=Fn;if(Fg=o,(Fn=c)&&!u)for(Fe=a;Fe!==null;)o=Fe,c=o.child,o.tag===22&&o.memoizedState!==null?VE(a):c!==null?(c.return=o,Fe=c):VE(a);for(;i!==null;)Fe=i,ZD(i),i=i.sibling;Fe=a,Fg=l,Fn=u}UE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Fe=i):UE(e)}}function UE(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fn||lb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_E(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_E(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Fn||t.flags&512&&G1(t)}catch(h){Dr(t,t.return,h)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function BE(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function VE(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lb(4,t)}catch(c){Dr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Dr(t,a,c)}}var i=t.return;try{G1(t)}catch(c){Dr(t,i,c)}break;case 5:var o=t.return;try{G1(t)}catch(c){Dr(t,o,c)}}}catch(c){Dr(t,t.return,c)}if(t===e){Fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Fe=l;break}Fe=t.return}}var kK=Math.ceil,cv=lo.ReactCurrentDispatcher,kk=lo.ReactCurrentOwner,oa=lo.ReactCurrentBatchConfig,Ut=0,Nn=null,Xr=null,In=0,Ps=0,Qu=xl(0),mn=0,Em=null,bc=0,cb=0,Ck=0,Jh=null,hs=null,Pk=0,$d=1/0,Oi=null,uv=!1,X1=null,Jo=null,Ug=!1,Wo=null,dv=0,Zh=0,J1=null,Ix=-1,Rx=0;function es(){return Ut&6?zr():Ix!==-1?Ix:Ix=zr()}function Zo(e){return e.mode&1?Ut&2&&In!==0?In&-In:cK.transition!==null?(Rx===0&&(Rx=D$()),Rx):(e=tr,e!==0||(e=window.event,e=e===void 0?16:z$(e.type)),e):1}function Ba(e,t,r,n){if(50<Zh)throw Zh=0,J1=null,Error(_e(185));Up(e,r,n),(!(Ut&2)||e!==Nn)&&(e===Nn&&(!(Ut&2)&&(cb|=r),mn===4&&To(e,In)),bs(e,n),r===1&&Ut===0&&!(t.mode&1)&&($d=zr()+500,ab&&vl()))}function bs(e,t){var r=e.callbackNode;cW(e,t);var n=Gx(e,e===Nn?In:0);if(n===0)r!==null&&XP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&XP(r),t===1)e.tag===0?lK(qE.bind(null,e)):cD(qE.bind(null,e)),sK(function(){!(Ut&6)&&vl()}),r=null;else{switch(L$(n)){case 1:r=ek;break;case 4:r=M$;break;case 16:r=Hx;break;case 536870912:r=$$;break;default:r=Hx}r=o5(r,e5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function e5(e,t){if(Ix=-1,Rx=0,Ut&6)throw Error(_e(327));var r=e.callbackNode;if(ud()&&e.callbackNode!==r)return null;var n=Gx(e,e===Nn?In:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fv(e,n);else{t=n;var a=Ut;Ut|=2;var i=r5();(Nn!==e||In!==t)&&(Oi=null,$d=zr()+500,dc(e,t));do try{EK();break}catch(l){t5(e,l)}while(!0);hk(),cv.current=i,Ut=a,Xr!==null?t=0:(Nn=null,In=0,t=mn)}if(t!==0){if(t===2&&(a=S1(e),a!==0&&(n=a,t=Z1(e,a))),t===1)throw r=Em,dc(e,0),To(e,n),bs(e,zr()),r;if(t===6)To(e,n);else{if(a=e.current.alternate,!(n&30)&&!CK(a)&&(t=fv(e,n),t===2&&(i=S1(e),i!==0&&(n=i,t=Z1(e,i))),t===1))throw r=Em,dc(e,0),To(e,n),bs(e,zr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:Dl(e,hs,Oi);break;case 3:if(To(e,n),(n&130023424)===n&&(t=Pk+500-zr(),10<t)){if(Gx(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){es(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=I1(Dl.bind(null,e,hs,Oi),t);break}Dl(e,hs,Oi);break;case 4:if(To(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ua(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kK(n/1960))-n,10<n){e.timeoutHandle=I1(Dl.bind(null,e,hs,Oi),n);break}Dl(e,hs,Oi);break;case 5:Dl(e,hs,Oi);break;default:throw Error(_e(329))}}}return bs(e,zr()),e.callbackNode===r?e5.bind(null,e):null}function Z1(e,t){var r=Jh;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),e=fv(e,t),e!==2&&(t=hs,hs=r,t!==null&&eN(t)),e}function eN(e){hs===null?hs=e:hs.push.apply(hs,e)}function CK(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!za(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function To(e,t){for(t&=~Ck,t&=~cb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ua(t),n=1<<r;e[r]=-1,t&=~n}}function qE(e){if(Ut&6)throw Error(_e(327));ud();var t=Gx(e,0);if(!(t&1))return bs(e,zr()),null;var r=fv(e,t);if(e.tag!==0&&r===2){var n=S1(e);n!==0&&(t=n,r=Z1(e,n))}if(r===1)throw r=Em,dc(e,0),To(e,t),bs(e,zr()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e,hs,Oi),bs(e,zr()),null}function Ek(e,t){var r=Ut;Ut|=1;try{return e(t)}finally{Ut=r,Ut===0&&($d=zr()+500,ab&&vl())}}function jc(e){Wo!==null&&Wo.tag===0&&!(Ut&6)&&ud();var t=Ut;Ut|=1;var r=oa.transition,n=tr;try{if(oa.transition=null,tr=1,e)return e()}finally{tr=n,oa.transition=r,Ut=t,!(Ut&6)&&vl()}}function Ak(){Ps=Qu.current,wr(Qu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nK(r)),Xr!==null)for(r=Xr.return;r!==null;){var n=r;switch(uk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zx();break;case 3:Rd(),wr(vs),wr(Vn),yk();break;case 5:vk(n);break;case 4:Rd();break;case 13:wr(Cr);break;case 19:wr(Cr);break;case 10:mk(n.type._context);break;case 22:case 23:Ak()}r=r.return}if(Nn=e,Xr=e=el(e.current,null),In=Ps=t,mn=0,Em=null,Ck=cb=bc=0,hs=Jh=null,Hl!==null){for(t=0;t<Hl.length;t++)if(r=Hl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Hl=null}return e}function t5(e,t){do{var r=Xr;try{if(hk(),Ax.current=lv,ov){for(var n=Er.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ov=!1}if(yc=0,jn=fn=Er=null,Yh=!1,km=0,kk.current=null,r===null||r.return===null){mn=1,Em=t,Xr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=In,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=AE(o);if(p!==null){p.flags&=-257,OE(p,o,l,i,t),p.mode&1&&EE(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){EE(i,u,t),Ok();break e}c=Error(_e(426))}}else if(_r&&l.mode&1){var j=AE(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),OE(j,o,l,i,t),dk(Md(c,l));break e}}i=c=Md(c,l),mn!==4&&(mn=2),Jh===null?Jh=[i]:Jh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=LD(i,c,t);NE(i,b);break e;case 1:l=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jo===null||!Jo.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=FD(i,l,t);NE(i,w);break e}}i=i.return}while(i!==null)}s5(r)}catch(N){t=N,Xr===r&&r!==null&&(Xr=r=r.return);continue}break}while(!0)}function r5(){var e=cv.current;return cv.current=lv,e===null?lv:e}function Ok(){(mn===0||mn===3||mn===2)&&(mn=4),Nn===null||!(bc&268435455)&&!(cb&268435455)||To(Nn,In)}function fv(e,t){var r=Ut;Ut|=2;var n=r5();(Nn!==e||In!==t)&&(Oi=null,dc(e,t));do try{PK();break}catch(a){t5(e,a)}while(!0);if(hk(),Ut=r,cv.current=n,Xr!==null)throw Error(_e(261));return Nn=null,In=0,mn}function PK(){for(;Xr!==null;)n5(Xr)}function EK(){for(;Xr!==null&&!eW();)n5(Xr)}function n5(e){var t=i5(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,t===null?s5(e):Xr=t,kk.current=null}function s5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wK(r,t),r!==null){r.flags&=32767,Xr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mn=6,Xr=null;return}}else if(r=jK(r,t,Ps),r!==null){Xr=r;return}if(t=t.sibling,t!==null){Xr=t;return}Xr=t=e}while(t!==null);mn===0&&(mn=5)}function Dl(e,t,r){var n=tr,a=oa.transition;try{oa.transition=null,tr=1,AK(e,t,r,n)}finally{oa.transition=a,tr=n}return null}function AK(e,t,r,n){do ud();while(Wo!==null);if(Ut&6)throw Error(_e(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(uW(e,i),e===Nn&&(Xr=Nn=null,In=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ug||(Ug=!0,o5(Hx,function(){return ud(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=oa.transition,oa.transition=null;var o=tr;tr=1;var l=Ut;Ut|=4,kk.current=null,_K(e,r),JD(r,e),YW(O1),Qx=!!A1,O1=A1=null,e.current=r,SK(r),tW(),Ut=l,tr=o,oa.transition=i}else e.current=r;if(Ug&&(Ug=!1,Wo=e,dv=a),i=e.pendingLanes,i===0&&(Jo=null),sW(r.stateNode),bs(e,zr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(uv)throw uv=!1,e=X1,X1=null,e;return dv&1&&e.tag!==0&&ud(),i=e.pendingLanes,i&1?e===J1?Zh++:(Zh=0,J1=e):Zh=0,vl(),null}function ud(){if(Wo!==null){var e=L$(dv),t=oa.transition,r=tr;try{if(oa.transition=null,tr=16>e?16:e,Wo===null)var n=!1;else{if(e=Wo,Wo=null,dv=0,Ut&6)throw Error(_e(331));var a=Ut;for(Ut|=4,Fe=e.current;Fe!==null;){var i=Fe,o=i.child;if(Fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Fe=u;Fe!==null;){var d=Fe;switch(d.tag){case 0:case 11:case 15:Xh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Fe=f;else for(;Fe!==null;){d=Fe;var h=d.sibling,p=d.return;if(QD(d),d===u){Fe=null;break}if(h!==null){h.return=p,Fe=h;break}Fe=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var j=m.sibling;m.sibling=null,m=j}while(m!==null)}}Fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Fe=o;else e:for(;Fe!==null;){if(i=Fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Fe=b;break e}Fe=i.return}}var v=e.current;for(Fe=v;Fe!==null;){o=Fe;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Fe=g;else e:for(o=v;Fe!==null;){if(l=Fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lb(9,l)}}catch(N){Dr(l,l.return,N)}if(l===o){Fe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Fe=w;break e}Fe=l.return}}if(Ut=a,vl(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(eb,e)}catch{}n=!0}return n}finally{tr=r,oa.transition=t}}return!1}function zE(e,t,r){t=Md(r,t),t=LD(e,t,1),e=Xo(e,t,1),t=es(),e!==null&&(Up(e,1,t),bs(e,t))}function Dr(e,t,r){if(e.tag===3)zE(e,e,r);else for(;t!==null;){if(t.tag===3){zE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jo===null||!Jo.has(n))){e=Md(r,e),e=FD(t,e,1),t=Xo(t,e,1),e=es(),t!==null&&(Up(t,1,e),bs(t,e));break}}t=t.return}}function OK(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=es(),e.pingedLanes|=e.suspendedLanes&r,Nn===e&&(In&r)===r&&(mn===4||mn===3&&(In&130023424)===In&&500>zr()-Pk?dc(e,0):Ck|=r),bs(e,t)}function a5(e,t){t===0&&(e.mode&1?(t=Ag,Ag<<=1,!(Ag&130023424)&&(Ag=4194304)):t=1);var r=es();e=Xi(e,t),e!==null&&(Up(e,t,r),bs(e,r))}function TK(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),a5(e,r)}function IK(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),a5(e,r)}var i5;i5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vs.current)ps=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ps=!1,bK(e,t,r);ps=!!(e.flags&131072)}else ps=!1,_r&&t.flags&1048576&&uD(t,rv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tx(e,t),e=t.pendingProps;var a=Od(t,Vn.current);cd(t,r),a=jk(null,t,n,e,a,r);var i=wk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ys(n)?(i=!0,ev(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,gk(t),a.updater=ob,t.stateNode=a,a._reactInternals=t,U1(t,n,e,r),t=q1(null,t,n,!0,i,r)):(t.tag=0,_r&&i&&ck(t),Gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=MK(n),e=Pa(n,e),a){case 0:t=V1(null,t,n,e,r);break e;case 1:t=RE(null,t,n,e,r);break e;case 11:t=TE(null,t,n,e,r);break e;case 14:t=IE(null,t,n,Pa(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pa(n,a),V1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pa(n,a),RE(e,t,n,a,r);case 3:e:{if(qD(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,a=i.element,gD(e,t),av(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Md(Error(_e(423)),t),t=ME(e,t,n,r,a);break e}else if(n!==a){a=Md(Error(_e(424)),t),t=ME(e,t,n,r,a);break e}else for($s=Yo(t.stateNode.containerInfo.firstChild),Ds=t,_r=!0,$a=null,r=mD(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Td(),n===a){t=Ji(e,t,r);break e}Gn(e,t,n,r)}t=t.child}return t;case 5:return xD(t),e===null&&D1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,T1(n,a)?o=null:i!==null&&T1(n,i)&&(t.flags|=32),VD(e,t),Gn(e,t,o,r),t.child;case 6:return e===null&&D1(t),null;case 13:return zD(e,t,r);case 4:return xk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Id(t,null,n,r):Gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pa(n,a),TE(e,t,n,a,r);case 7:return Gn(e,t,t.pendingProps,r),t.child;case 8:return Gn(e,t,t.pendingProps.children,r),t.child;case 12:return Gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,mr(nv,n._currentValue),n._currentValue=o,i!==null)if(za(i.value,o)){if(i.children===a.children&&!vs.current){t=Ji(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Wi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),L1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),L1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,cd(t,r),a=fa(a),n=n(a),t.flags|=1,Gn(e,t,n,r),t.child;case 14:return n=t.type,a=Pa(n,t.pendingProps),a=Pa(n.type,a),IE(e,t,n,a,r);case 15:return UD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pa(n,a),Tx(e,t),t.tag=1,ys(n)?(e=!0,ev(t)):e=!1,cd(t,r),DD(t,n,a),U1(t,n,a,r),q1(null,t,n,!0,e,r);case 19:return WD(e,t,r);case 22:return BD(e,t,r)}throw Error(_e(156,t.tag))};function o5(e,t){return R$(e,t)}function RK(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,r,n){return new RK(e,t,r,n)}function Tk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MK(e){if(typeof e=="function")return Tk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===XS)return 11;if(e===JS)return 14}return 2}function el(e,t){var r=e.alternate;return r===null?(r=aa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mx(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Tk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fu:return fc(r.children,a,i,t);case YS:o=8,a|=8;break;case u1:return e=aa(12,r,t,a|2),e.elementType=u1,e.lanes=i,e;case d1:return e=aa(13,r,t,a),e.elementType=d1,e.lanes=i,e;case f1:return e=aa(19,r,t,a),e.elementType=f1,e.lanes=i,e;case x$:return ub(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p$:o=10;break e;case g$:o=9;break e;case XS:o=11;break e;case JS:o=14;break e;case So:o=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=aa(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fc(e,t,r,n){return e=aa(7,e,n,t),e.lanes=r,e}function ub(e,t,r,n){return e=aa(22,e,n,t),e.elementType=x$,e.lanes=r,e.stateNode={isHidden:!1},e}function Yj(e,t,r){return e=aa(6,e,null,t),e.lanes=r,e}function Xj(e,t,r){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $K(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oj(0),this.expirationTimes=Oj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ik(e,t,r,n,a,i,o,l,c){return e=new $K(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gk(i),e}function DK(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function l5(e){if(!e)return ol;e=e._reactInternals;e:{if(zc(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(ys(r))return lD(e,r,t)}return t}function c5(e,t,r,n,a,i,o,l,c){return e=Ik(r,n,!0,e,a,i,o,l,c),e.context=l5(null),r=e.current,n=es(),a=Zo(r),i=Wi(n,a),i.callback=t??null,Xo(r,i,a),e.current.lanes=a,Up(e,a,n),bs(e,n),e}function db(e,t,r,n){var a=t.current,i=es(),o=Zo(a);return r=l5(r),t.context===null?t.context=r:t.pendingContext=r,t=Wi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xo(a,t,o),e!==null&&(Ba(e,a,o,i),Ex(e,a,o)),o}function hv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Rk(e,t){WE(e,t),(e=e.alternate)&&WE(e,t)}function LK(){return null}var u5=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mk(e){this._internalRoot=e}fb.prototype.render=Mk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));db(e,t,null,null)};fb.prototype.unmount=Mk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jc(function(){db(null,e,null,null)}),t[Yi]=null}};function fb(e){this._internalRoot=e}fb.prototype.unstable_scheduleHydration=function(e){if(e){var t=B$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oo.length&&t!==0&&t<Oo[r].priority;r++);Oo.splice(r,0,e),r===0&&q$(e)}};function $k(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KE(){}function FK(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=hv(o);i.call(u)}}var o=c5(t,n,e,0,null,!1,!1,"",KE);return e._reactRootContainer=o,e[Yi]=o.current,jm(e.nodeType===8?e.parentNode:e),jc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=hv(c);l.call(u)}}var c=Ik(e,0,!1,null,null,!1,!1,"",KE);return e._reactRootContainer=c,e[Yi]=c.current,jm(e.nodeType===8?e.parentNode:e),jc(function(){db(t,c,r,n)}),c}function mb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=hv(o);l.call(c)}}db(t,o,e,a)}else o=FK(r,t,e,a,n);return hv(o)}F$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ih(t.pendingLanes);r!==0&&(tk(t,r|1),bs(t,zr()),!(Ut&6)&&($d=zr()+500,vl()))}break;case 13:jc(function(){var n=Xi(e,1);if(n!==null){var a=es();Ba(n,e,1,a)}}),Rk(e,1)}};rk=function(e){if(e.tag===13){var t=Xi(e,134217728);if(t!==null){var r=es();Ba(t,e,134217728,r)}Rk(e,134217728)}};U$=function(e){if(e.tag===13){var t=Zo(e),r=Xi(e,t);if(r!==null){var n=es();Ba(r,e,t,n)}Rk(e,t)}};B$=function(){return tr};V$=function(e,t){var r=tr;try{return tr=e,t()}finally{tr=r}};w1=function(e,t,r){switch(t){case"input":if(p1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=sb(n);if(!a)throw Error(_e(90));y$(n),p1(n,a)}}}break;case"textarea":j$(e,r);break;case"select":t=r.value,t!=null&&ad(e,!!r.multiple,t,!1)}};P$=Ek;E$=jc;var UK={usingClientEntryPoint:!1,Events:[Vp,qu,sb,k$,C$,Ek]},mh={findFiberByHostInstance:Kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BK={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T$(e),e===null?null:e.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||LK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bg.isDisabled&&Bg.supportsFiber)try{eb=Bg.inject(BK),ci=Bg}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UK;Hs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$k(t))throw Error(_e(200));return DK(e,t,null,r)};Hs.createRoot=function(e,t){if(!$k(e))throw Error(_e(299));var r=!1,n="",a=u5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ik(e,1,!1,null,null,r,!1,n,a),e[Yi]=t.current,jm(e.nodeType===8?e.parentNode:e),new Mk(t)};Hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=T$(t),e=e===null?null:e.stateNode,e};Hs.flushSync=function(e){return jc(e)};Hs.hydrate=function(e,t,r){if(!hb(t))throw Error(_e(200));return mb(null,e,t,!0,r)};Hs.hydrateRoot=function(e,t,r){if(!$k(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=u5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=c5(t,null,e,1,r??null,a,!1,i,o),e[Yi]=t.current,jm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new fb(t)};Hs.render=function(e,t,r){if(!hb(t))throw Error(_e(200));return mb(null,e,t,!1,r)};Hs.unmountComponentAtNode=function(e){if(!hb(e))throw Error(_e(40));return e._reactRootContainer?(jc(function(){mb(null,null,e,!1,function(){e._reactRootContainer=null,e[Yi]=null})}),!0):!1};Hs.unstable_batchedUpdates=Ek;Hs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hb(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return mb(e,t,r,!1,n)};Hs.version="18.3.1-next-f1338f8080-20240426";function d5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d5)}catch(e){console.error(e)}}d5(),d$.exports=Hs;var Wc=d$.exports;const VK=Yt(Wc);var f5,HE=Wc;f5=HE.createRoot,HE.hydrateRoot;function qK(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var h5={exports:{}},m5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=x;function zK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WK=typeof Object.is=="function"?Object.is:zK,KK=Dd.useState,HK=Dd.useEffect,GK=Dd.useLayoutEffect,QK=Dd.useDebugValue;function YK(e,t){var r=t(),n=KK({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return GK(function(){a.value=r,a.getSnapshot=t,Jj(a)&&i({inst:a})},[e,r,t]),HK(function(){return Jj(a)&&i({inst:a}),e(function(){Jj(a)&&i({inst:a})})},[e]),QK(r),r}function Jj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!WK(e,r)}catch{return!0}}function XK(e,t){return t()}var JK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XK:YK;m5.useSyncExternalStore=Dd.useSyncExternalStore!==void 0?Dd.useSyncExternalStore:JK;h5.exports=m5;var p5=h5.exports;const ZK=Zy.useInsertionEffect,eH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tH=eH?x.useLayoutEffect:x.useEffect,rH=ZK||tH,g5=e=>{const t=x.useRef([e,(...r)=>t[0](...r)]).current;return rH(()=>{t[0]=e}),t[1]},nH="popstate",Dk="pushState",Lk="replaceState",sH="hashchange",GE=[nH,Dk,Lk,sH],aH=e=>{for(const t of GE)addEventListener(t,e);return()=>{for(const t of GE)removeEventListener(t,e)}},x5=(e,t)=>p5.useSyncExternalStore(aH,e,t),QE=()=>location.search,iH=({ssrSearch:e}={})=>x5(QE,e!=null?()=>e:QE),YE=()=>location.pathname,oH=({ssrPath:e}={})=>x5(YE,e!=null?()=>e:YE),lH=(e,{replace:t=!1,state:r=null}={})=>history[t?Lk:Dk](r,"",e),cH=(e={})=>[oH(e),lH],XE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[XE]>"u"){for(const e of[Dk,Lk]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,XE,{value:!0})}const uH=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",v5=(e="")=>e==="/"?"":e,dH=(e,t)=>e[0]==="~"?e.slice(1):v5(t)+e,fH=(e="",t)=>uH(tN(v5(e)),tN(t)),hH=e=>e[0]==="?"?e.slice(1):e,tN=e=>{try{return decodeURI(e)}catch{return e}},mH=e=>tN(hH(e)),y5={hook:cH,searchHook:iH,parser:qK,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,r)=>e(t,r)},b5=x.createContext(y5),kf=()=>x.useContext(b5),j5={},w5=x.createContext(j5),pb=()=>x.useContext(w5),gb=e=>{const[t,r]=e.hook(e);return[fH(e.base,t),g5((n,a)=>e.aroundNav(r,dH(n,e.base),a))]},Mn=()=>gb(kf()),N5=()=>{const e=kf();return mH(e.searchHook(e))},_5=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},pH=({children:e,...t})=>{var d,f,h;const r=kf(),n=t.hook?y5:r;let a=n;const[i,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((h=t.hook)==null?void 0:h.searchHook);let l=x.useRef({}),c=l.current,u=c;for(let p in n){const y=p==="base"?n[p]+(t[p]??""):t[p]??n[p];c===u&&y!==u[p]&&(l.current=u={...u}),u[p]=y,(y!==n[p]||y!==a[p])&&(a=u)}return x.createElement(b5.Provider,{value:a,children:e})},JE=({children:e,component:t},r)=>t?x.createElement(t,{params:r}):typeof e=="function"?e(r):e,gH=e=>{let t=x.useRef(j5);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},He=({path:e,nest:t,match:r,...n})=>{const a=kf(),[i]=gb(a),[o,l,c]=r??_5(a.parser,e,i,t),u=gH({...pb(),...l});if(!o)return null;const d=c?x.createElement(pH,{base:c},JE(n,u)):JE(n,u);return x.createElement(w5.Provider,{value:u,children:d})},ge=x.forwardRef((e,t)=>{const r=kf(),[n,a]=gb(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,transition:p,...y}=e,m=g5(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),a(o,e)))}),j=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&x.isValidElement(u)?x.cloneElement(u,{onClick:m,href:j}):x.createElement("a",{...y,onClick:m,href:j,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),S5=e=>Array.isArray(e)?e.flatMap(t=>S5(t&&t.type===x.Fragment?t.props.children:t)):[e],k5=({children:e,location:t})=>{const r=kf(),[n]=gb(r);for(const a of S5(e)){let i=0;if(x.isValidElement(a)&&(i=_5(r.parser,a.props.path,t||n,a.props.nest))[0])return x.cloneElement(a,{match:i})}return null};var Cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xH={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Mo,VS,qM,vH=(qM=class{constructor(){rt(this,Mo,xH);rt(this,VS,!1)}setTimeoutProvider(e){Me(this,Mo,e)}setTimeout(e,t){return H(this,Mo).setTimeout(e,t)}clearTimeout(e){H(this,Mo).clearTimeout(e)}setInterval(e,t){return H(this,Mo).setInterval(e,t)}clearInterval(e){H(this,Mo).clearInterval(e)}},Mo=new WeakMap,VS=new WeakMap,qM),Ql=new vH;function yH(e){setTimeout(e,0)}var wc=typeof window>"u"||"Deno"in globalThis;function Qn(){}function bH(e,t){return typeof e=="function"?e(t):e}function rN(e){return typeof e=="number"&&e>=0&&e!==1/0}function C5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tl(e,t){return typeof e=="function"?e(t):e}function ta(e,t){return typeof e=="function"?e(t):e}function ZE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Fk(o,t.options))return!1}else if(!Am(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function eA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Nc(t.options.mutationKey)!==Nc(i))return!1}else if(!Am(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Fk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nc)(e)}function Nc(e){return JSON.stringify(e,(t,r)=>nN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Am(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Am(e[r],t[r])):!1}var jH=Object.prototype.hasOwnProperty;function P5(e,t){if(e===t)return e;const r=tA(e)&&tA(t);if(!r&&!(nN(e)&&nN(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:jH.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=P5(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function mv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function tA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nN(e){if(!rA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!rA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rA(e){return Object.prototype.toString.call(e)==="[object Object]"}function wH(e){return new Promise(t=>{Ql.setTimeout(t,e)})}function sN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?P5(e,t):t}function NH(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function _H(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Uk=Symbol();function E5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function A5(e,t){return typeof e=="function"?e(...t):!!e}var rc,$o,vd,zM,SH=(zM=class extends Cf{constructor(){super();rt(this,rc);rt(this,$o);rt(this,vd);Me(this,vd,t=>{if(!wc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,$o)||this.setEventListener(H(this,vd))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,$o))==null||t.call(this),Me(this,$o,void 0))}setEventListener(t){var r;Me(this,vd,t),(r=H(this,$o))==null||r.call(this),Me(this,$o,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){H(this,rc)!==t&&(Me(this,rc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof H(this,rc)=="boolean"?H(this,rc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},rc=new WeakMap,$o=new WeakMap,vd=new WeakMap,zM),Bk=new SH;function aN(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var kH=yH;function CH(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=kH;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var hn=CH(),yd,Do,bd,WM,PH=(WM=class extends Cf{constructor(){super();rt(this,yd,!0);rt(this,Do);rt(this,bd);Me(this,bd,t=>{if(!wc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){H(this,Do)||this.setEventListener(H(this,bd))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Do))==null||t.call(this),Me(this,Do,void 0))}setEventListener(t){var r;Me(this,bd,t),(r=H(this,Do))==null||r.call(this),Me(this,Do,t(this.setOnline.bind(this)))}setOnline(t){H(this,yd)!==t&&(Me(this,yd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return H(this,yd)}},yd=new WeakMap,Do=new WeakMap,bd=new WeakMap,WM),pv=new PH;function EH(e){return Math.min(1e3*2**e,3e4)}function O5(e){return(e??"online")==="online"?pv.isOnline():!0}var iN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function T5(e){let t=!1,r=0,n;const a=aN(),i=()=>a.status!=="pending",o=m=>{var j;if(!i()){const b=new iN(m);h(b),(j=e.onCancel)==null||j.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Bk.isFocused()&&(e.networkMode==="always"||pv.isOnline())&&e.canRun(),d=()=>O5(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var j;n=b=>{(i()||u())&&m(b)},(j=e.onPause)==null||j.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const j=r===0?e.initialPromise:void 0;try{m=j??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var _;if(i())return;const v=e.retry??(wc?0:3),g=e.retryDelay??EH,w=typeof g=="function"?g(r,b):g,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!N){h(b);return}r++,(_=e.onFail)==null||_.call(e,r,b),wH(w).then(()=>u()?void 0:p()).then(()=>{t?h(b):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var nc,KM,I5=(KM=class{constructor(){rt(this,nc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rN(this.gcTime)&&Me(this,nc,Ql.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wc?1/0:5*60*1e3))}clearGcTimeout(){H(this,nc)&&(Ql.clearTimeout(H(this,nc)),Me(this,nc,void 0))}},nc=new WeakMap,KM),sc,jd,ea,ac,yn,Rp,ic,Aa,Ai,HM,AH=(HM=class extends I5{constructor(t){super();rt(this,Aa);rt(this,sc);rt(this,jd);rt(this,ea);rt(this,ac);rt(this,yn);rt(this,Rp);rt(this,ic);Me(this,ic,!1),Me(this,Rp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,ac,t.client),Me(this,ea,H(this,ac).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,sc,sA(this.options)),this.state=t.state??H(this,sc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,yn))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,Rp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sA(this.options);r.data!==void 0&&(this.setState(nA(r.data,r.dataUpdatedAt)),Me(this,sc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,ea).remove(this)}setData(t,r){const n=sN(this.state.data,t,this.options);return St(this,Aa,Ai).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){St(this,Aa,Ai).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=H(this,yn))==null?void 0:n.promise;return(a=H(this,yn))==null||a.cancel(t),r?r.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,sc))}isActive(){return this.observers.some(t=>ta(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!C5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,yn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=H(this,yn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,ea).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(H(this,yn)&&(H(this,ic)?H(this,yn).cancel({revert:!0}):H(this,yn).cancelRetry()),this.scheduleGc()),H(this,ea).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Aa,Ai).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,y,m,j,b,v,g;if(this.state.fetchStatus!=="idle"&&((c=H(this,yn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,yn))return H(this,yn).continueRetry(),H(this,yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(N=>N.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Me(this,ic,!0),n.signal)})},i=()=>{const w=E5(this.options,r),_=(()=>{const S={client:H(this,ac),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Me(this,ic,!1),this.options.persister?this.options.persister(w,_,this):w(_)},l=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,ac),state:this.state,fetchFn:i};return a(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),Me(this,jd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&St(this,Aa,Ai).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Me(this,yn,T5({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof iN&&w.revert&&this.setState({...H(this,jd),fetchStatus:"idle"}),n.abort()},onFail:(w,N)=>{St(this,Aa,Ai).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{St(this,Aa,Ai).call(this,{type:"pause"})},onContinue:()=>{St(this,Aa,Ai).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await H(this,yn).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(h=H(this,ea).config).onSuccess)==null||p.call(h,w,this),(m=(y=H(this,ea).config).onSettled)==null||m.call(y,w,this.state.error,this),w}catch(w){if(w instanceof iN){if(w.silent)return H(this,yn).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw St(this,Aa,Ai).call(this,{type:"error",error:w}),(b=(j=H(this,ea).config).onError)==null||b.call(j,w,this),(g=(v=H(this,ea).config).onSettled)==null||g.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},sc=new WeakMap,jd=new WeakMap,ea=new WeakMap,ac=new WeakMap,yn=new WeakMap,Rp=new WeakMap,ic=new WeakMap,Aa=new WeakSet,Ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R5(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...nA(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Me(this,jd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),hn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),H(this,ea).notify({query:this,type:"updated",action:t})})},HM);function R5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nA(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var us,Mt,Mp,Wn,oc,wd,Mi,Lo,$p,Nd,_d,lc,cc,Fo,Sd,Gt,Mh,oN,lN,cN,uN,dN,fN,hN,M5,GM,OH=(GM=class extends Cf{constructor(t,r){super();rt(this,Gt);rt(this,us);rt(this,Mt);rt(this,Mp);rt(this,Wn);rt(this,oc);rt(this,wd);rt(this,Mi);rt(this,Lo);rt(this,$p);rt(this,Nd);rt(this,_d);rt(this,lc);rt(this,cc);rt(this,Fo);rt(this,Sd,new Set);this.options=r,Me(this,us,t),Me(this,Lo,null),Me(this,Mi,aN()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,Mt).addObserver(this),aA(H(this,Mt),this.options)?St(this,Gt,Mh).call(this):this.updateResult(),St(this,Gt,uN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mN(H(this,Mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mN(H(this,Mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,St(this,Gt,dN).call(this),St(this,Gt,fN).call(this),H(this,Mt).removeObserver(this)}setOptions(t){const r=this.options,n=H(this,Mt);if(this.options=H(this,us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ta(this.options.enabled,H(this,Mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");St(this,Gt,hN).call(this),H(this,Mt).setOptions(this.options),r._defaulted&&!mv(this.options,r)&&H(this,us).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,Mt),observer:this});const a=this.hasListeners();a&&iA(H(this,Mt),n,this.options,r)&&St(this,Gt,Mh).call(this),this.updateResult(),a&&(H(this,Mt)!==n||ta(this.options.enabled,H(this,Mt))!==ta(r.enabled,H(this,Mt))||tl(this.options.staleTime,H(this,Mt))!==tl(r.staleTime,H(this,Mt)))&&St(this,Gt,oN).call(this);const i=St(this,Gt,lN).call(this);a&&(H(this,Mt)!==n||ta(this.options.enabled,H(this,Mt))!==ta(r.enabled,H(this,Mt))||i!==H(this,Fo))&&St(this,Gt,cN).call(this,i)}getOptimisticResult(t){const r=H(this,us).getQueryCache().build(H(this,us),t),n=this.createResult(r,t);return IH(this,n)&&(Me(this,Wn,n),Me(this,wd,this.options),Me(this,oc,H(this,Mt).state)),n}getCurrentResult(){return H(this,Wn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&H(this,Mi).status==="pending"&&H(this,Mi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){H(this,Sd).add(t)}getCurrentQuery(){return H(this,Mt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=H(this,us).defaultQueryOptions(t),n=H(this,us).getQueryCache().build(H(this,us),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return St(this,Gt,Mh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Wn)))}createResult(t,r){var P;const n=H(this,Mt),a=this.options,i=H(this,Wn),o=H(this,oc),l=H(this,wd),u=t!==n?t.state:H(this,Mp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const k=this.hasListeners(),A=!k&&aA(t,r),O=k&&iA(t,n,r,a);(A||O)&&(f={...f,...R5(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:j}=f;p=f.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&j==="pending"){let k;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,b=!0):k=typeof r.placeholderData=="function"?r.placeholderData((P=H(this,_d))==null?void 0:P.state.data,H(this,_d)):r.placeholderData,k!==void 0&&(j="success",p=sN(i==null?void 0:i.data,k,r),h=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(o==null?void 0:o.data)&&r.select===H(this,$p))p=H(this,Nd);else try{Me(this,$p,r.select),p=r.select(p),p=sN(i==null?void 0:i.data,p,r),Me(this,Nd,p),Me(this,Lo,null)}catch(k){Me(this,Lo,k)}H(this,Lo)&&(y=H(this,Lo),p=H(this,Nd),m=Date.now(),j="error");const v=f.fetchStatus==="fetching",g=j==="pending",w=j==="error",N=g&&v,_=p!==void 0,C={status:j,fetchStatus:f.fetchStatus,isPending:g,isSuccess:j==="success",isError:w,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!g,isLoadingError:w&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&_,isStale:Vk(t,r),refetch:this.refetch,promise:H(this,Mi),isEnabled:ta(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=R=>{C.status==="error"?R.reject(C.error):C.data!==void 0&&R.resolve(C.data)},A=()=>{const R=Me(this,Mi,C.promise=aN());k(R)},O=H(this,Mi);switch(O.status){case"pending":t.queryHash===n.queryHash&&k(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&A();break}}return C}updateResult(){const t=H(this,Wn),r=this.createResult(H(this,Mt),this.options);if(Me(this,oc,H(this,Mt).state),Me(this,wd,this.options),H(this,oc).data!==void 0&&Me(this,_d,H(this,Mt)),mv(r,t))return;Me(this,Wn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!H(this,Sd).size)return!0;const o=new Set(i??H(this,Sd));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,Wn)).some(l=>{const c=l;return H(this,Wn)[c]!==t[c]&&o.has(c)})};St(this,Gt,M5).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&St(this,Gt,uN).call(this)}},us=new WeakMap,Mt=new WeakMap,Mp=new WeakMap,Wn=new WeakMap,oc=new WeakMap,wd=new WeakMap,Mi=new WeakMap,Lo=new WeakMap,$p=new WeakMap,Nd=new WeakMap,_d=new WeakMap,lc=new WeakMap,cc=new WeakMap,Fo=new WeakMap,Sd=new WeakMap,Gt=new WeakSet,Mh=function(t){St(this,Gt,hN).call(this);let r=H(this,Mt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Qn)),r},oN=function(){St(this,Gt,dN).call(this);const t=tl(this.options.staleTime,H(this,Mt));if(wc||H(this,Wn).isStale||!rN(t))return;const n=C5(H(this,Wn).dataUpdatedAt,t)+1;Me(this,lc,Ql.setTimeout(()=>{H(this,Wn).isStale||this.updateResult()},n))},lN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,Mt)):this.options.refetchInterval)??!1},cN=function(t){St(this,Gt,fN).call(this),Me(this,Fo,t),!(wc||ta(this.options.enabled,H(this,Mt))===!1||!rN(H(this,Fo))||H(this,Fo)===0)&&Me(this,cc,Ql.setInterval(()=>{(this.options.refetchIntervalInBackground||Bk.isFocused())&&St(this,Gt,Mh).call(this)},H(this,Fo)))},uN=function(){St(this,Gt,oN).call(this),St(this,Gt,cN).call(this,St(this,Gt,lN).call(this))},dN=function(){H(this,lc)&&(Ql.clearTimeout(H(this,lc)),Me(this,lc,void 0))},fN=function(){H(this,cc)&&(Ql.clearInterval(H(this,cc)),Me(this,cc,void 0))},hN=function(){const t=H(this,us).getQueryCache().build(H(this,us),this.options);if(t===H(this,Mt))return;const r=H(this,Mt);Me(this,Mt,t),Me(this,Mp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},M5=function(t){hn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(H(this,Wn))}),H(this,us).getQueryCache().notify({query:H(this,Mt),type:"observerResultsUpdated"})})},GM);function TH(e,t){return ta(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aA(e,t){return TH(e,t)||e.state.data!==void 0&&mN(e,t,t.refetchOnMount)}function mN(e,t,r){if(ta(t.enabled,e)!==!1&&tl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Vk(e,t)}return!1}function iA(e,t,r,n){return(e!==t||ta(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Vk(e,r)}function Vk(e,t){return ta(t.enabled,e)!==!1&&e.isStaleByTime(tl(t.staleTime,e))}function IH(e,t){return!mv(e.getCurrentResult(),t)}function oA(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const j=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=E5(t.options,t.fetchOptions),v=async(g,w,N)=>{if(m)return Promise.reject();if(w==null&&g.pages.length)return Promise.resolve(g);const S=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return j(A),A})(),C=await b(S),{maxPages:P}=t.options,k=N?_H:NH;return{pages:k(g.pages,C,P),pageParams:k(g.pageParams,w,P)}};if(a&&i.length){const g=a==="backward",w=g?RH:lA,N={pages:i,pageParams:o},_=w(n,N);l=await v(N,_,g)}else{const g=e??i.length;do{const w=c===0?o[0]??n.initialPageParam:lA(n,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var m,j;return(j=(m=t.options).persister)==null?void 0:j.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function lA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function RH(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dp,ri,Kn,uc,ni,No,QM,MH=(QM=class extends I5{constructor(t){super();rt(this,ni);rt(this,Dp);rt(this,ri);rt(this,Kn);rt(this,uc);Me(this,Dp,t.client),this.mutationId=t.mutationId,Me(this,Kn,t.mutationCache),Me(this,ri,[]),this.state=t.state||$5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,ri).includes(t)||(H(this,ri).push(t),this.clearGcTimeout(),H(this,Kn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,ri,H(this,ri).filter(r=>r!==t)),this.scheduleGc(),H(this,Kn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,ri).length||(this.state.status==="pending"?this.scheduleGc():H(this,Kn).remove(this))}continue(){var t;return((t=H(this,uc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,y,m,j,b,v,g,w,N,_,S,C,P;const r=()=>{St(this,ni,No).call(this,{type:"continue"})},n={client:H(this,Dp),meta:this.options.meta,mutationKey:this.options.mutationKey};Me(this,uc,T5({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{St(this,ni,No).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{St(this,ni,No).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Kn).canRun(this)}));const a=this.state.status==="pending",i=!H(this,uc).canStart();try{if(a)r();else{St(this,ni,No).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=H(this,Kn).config).onMutate)==null?void 0:l.call(o,t,this,n));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));A!==this.state.context&&St(this,ni,No).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const k=await H(this,uc).start();return await((f=(d=H(this,Kn).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,k,t,this.state.context,n)),await((m=(y=H(this,Kn).config).onSettled)==null?void 0:m.call(y,k,null,this.state.variables,this.state.context,this,n)),await((b=(j=this.options).onSettled)==null?void 0:b.call(j,k,null,t,this.state.context,n)),St(this,ni,No).call(this,{type:"success",data:k}),k}catch(k){try{throw await((g=(v=H(this,Kn).config).onError)==null?void 0:g.call(v,k,t,this.state.context,this,n)),await((N=(w=this.options).onError)==null?void 0:N.call(w,k,t,this.state.context,n)),await((S=(_=H(this,Kn).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this,n)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,k,t,this.state.context,n)),k}finally{St(this,ni,No).call(this,{type:"error",error:k})}}finally{H(this,Kn).runNext(this)}}},Dp=new WeakMap,ri=new WeakMap,Kn=new WeakMap,uc=new WeakMap,ni=new WeakSet,No=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hn.batch(()=>{H(this,ri).forEach(n=>{n.onMutationUpdate(t)}),H(this,Kn).notify({mutation:this,type:"updated",action:t})})},QM);function $5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,Oa,Lp,YM,$H=(YM=class extends Cf{constructor(t={}){super();rt(this,$i);rt(this,Oa);rt(this,Lp);this.config=t,Me(this,$i,new Set),Me(this,Oa,new Map),Me(this,Lp,0)}build(t,r,n){const a=new MH({client:t,mutationCache:this,mutationId:++Ng(this,Lp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){H(this,$i).add(t);const r=Vg(t);if(typeof r=="string"){const n=H(this,Oa).get(r);n?n.push(t):H(this,Oa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,$i).delete(t)){const r=Vg(t);if(typeof r=="string"){const n=H(this,Oa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&H(this,Oa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Vg(t);if(typeof r=="string"){const n=H(this,Oa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Vg(t);if(typeof r=="string"){const a=(n=H(this,Oa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hn.batch(()=>{H(this,$i).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,$i).clear(),H(this,Oa).clear()})}getAll(){return Array.from(H(this,$i))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>eA(r,n))}findAll(t={}){return this.getAll().filter(r=>eA(t,r))}notify(t){hn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return hn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Qn))))}},$i=new WeakMap,Oa=new WeakMap,Lp=new WeakMap,YM);function Vg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Di,Uo,ds,Li,Gi,$x,pN,XM,DH=(XM=class extends Cf{constructor(r,n){super();rt(this,Gi);rt(this,Di);rt(this,Uo);rt(this,ds);rt(this,Li);Me(this,Di,r),this.setOptions(n),this.bindMethods(),St(this,Gi,$x).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=H(this,Di).defaultMutationOptions(r),mv(this.options,n)||H(this,Di).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,ds),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Nc(n.mutationKey)!==Nc(this.options.mutationKey)?this.reset():((a=H(this,ds))==null?void 0:a.state.status)==="pending"&&H(this,ds).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,ds))==null||r.removeObserver(this)}onMutationUpdate(r){St(this,Gi,$x).call(this),St(this,Gi,pN).call(this,r)}getCurrentResult(){return H(this,Uo)}reset(){var r;(r=H(this,ds))==null||r.removeObserver(this),Me(this,ds,void 0),St(this,Gi,$x).call(this),St(this,Gi,pN).call(this)}mutate(r,n){var a;return Me(this,Li,n),(a=H(this,ds))==null||a.removeObserver(this),Me(this,ds,H(this,Di).getMutationCache().build(H(this,Di),this.options)),H(this,ds).addObserver(this),H(this,ds).execute(r)}},Di=new WeakMap,Uo=new WeakMap,ds=new WeakMap,Li=new WeakMap,Gi=new WeakSet,$x=function(){var n;const r=((n=H(this,ds))==null?void 0:n.state)??$5();Me(this,Uo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},pN=function(r){hn.batch(()=>{var n,a,i,o,l,c,u,d;if(H(this,Li)&&this.hasListeners()){const f=H(this,Uo).variables,h=H(this,Uo).context,p={client:H(this,Di),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=H(this,Li)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(i=H(this,Li)).onSettled)==null||o.call(i,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=H(this,Li)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=H(this,Li)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(H(this,Uo))})})},XM),si,JM,LH=(JM=class extends Cf{constructor(t={}){super();rt(this,si);this.config=t,Me(this,si,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Fk(a,r);let o=this.get(i);return o||(o=new AH({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){H(this,si).has(t.queryHash)||(H(this,si).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=H(this,si).get(t.queryHash);r&&(t.destroy(),r===t&&H(this,si).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,si).get(t)}getAll(){return[...H(this,si).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ZE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ZE(t,n)):r}notify(t){hn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},si=new WeakMap,JM),Mr,Bo,Vo,kd,Cd,qo,Pd,Ed,ZM,FH=(ZM=class{constructor(e={}){rt(this,Mr);rt(this,Bo);rt(this,Vo);rt(this,kd);rt(this,Cd);rt(this,qo);rt(this,Pd);rt(this,Ed);Me(this,Mr,e.queryCache||new LH),Me(this,Bo,e.mutationCache||new $H),Me(this,Vo,e.defaultOptions||{}),Me(this,kd,new Map),Me(this,Cd,new Map),Me(this,qo,0)}mount(){Ng(this,qo)._++,H(this,qo)===1&&(Me(this,Pd,Bk.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Mr).onFocus())})),Me(this,Ed,pv.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Mr).onOnline())})))}unmount(){var e,t;Ng(this,qo)._--,H(this,qo)===0&&((e=H(this,Pd))==null||e.call(this),Me(this,Pd,void 0),(t=H(this,Ed))==null||t.call(this),Me(this,Ed,void 0))}isFetching(e){return H(this,Mr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Bo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,Mr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=H(this,Mr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(tl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return H(this,Mr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=H(this,Mr).get(n.queryHash),i=a==null?void 0:a.state.data,o=bH(t,i);if(o!==void 0)return H(this,Mr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return hn.batch(()=>H(this,Mr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=H(this,Mr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=H(this,Mr);hn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=H(this,Mr);return hn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=hn.batch(()=>H(this,Mr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Qn).catch(Qn)}invalidateQueries(e,t={}){return hn.batch(()=>(H(this,Mr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=hn.batch(()=>H(this,Mr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Qn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Qn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=H(this,Mr).build(this,t);return r.isStaleByTime(tl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qn).catch(Qn)}fetchInfiniteQuery(e){return e.behavior=oA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qn).catch(Qn)}ensureInfiniteQueryData(e){return e.behavior=oA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pv.isOnline()?H(this,Bo).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Mr)}getMutationCache(){return H(this,Bo)}getDefaultOptions(){return H(this,Vo)}setDefaultOptions(e){Me(this,Vo,e)}setQueryDefaults(e,t){H(this,kd).set(Nc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,kd).values()],r={};return t.forEach(n=>{Am(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){H(this,Cd).set(Nc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,Cd).values()],r={};return t.forEach(n=>{Am(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Vo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Uk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Vo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Mr).clear(),H(this,Bo).clear()}},Mr=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,kd=new WeakMap,Cd=new WeakMap,qo=new WeakMap,Pd=new WeakMap,Ed=new WeakMap,ZM),D5=x.createContext(void 0),L5=e=>{const t=x.useContext(D5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UH=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(D5.Provider,{value:e,children:t})),F5=x.createContext(!1),BH=()=>x.useContext(F5);F5.Provider;function VH(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qH=x.createContext(VH()),zH=()=>x.useContext(qH),WH=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},KH=e=>{x.useEffect(()=>{e.clearReset()},[e])},HH=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||A5(r,[e.error,n])),GH=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},QH=(e,t)=>e.isLoading&&e.isFetching&&!t,YH=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function XH(e,t,r){var f,h,p,y,m;const n=BH(),a=zH(),i=L5(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",GH(o),WH(o,a),KH(a);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(j=>{const b=d?c.subscribe(hn.batchCalls(j)):Qn;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),YH(o,u))throw cA(o,c,a);if(HH({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,u),o.experimental_prefetchInRender&&!wc&&QH(u,n)){const j=l?cA(o,c,a):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;j==null||j.catch(Qn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function de(e,t){return XH(e,OH)}function be(e,t){const r=L5(),[n]=x.useState(()=>new DH(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(hn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(Qn)},[n]);if(a.error&&A5(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function U5(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ye(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await U5(n),n}const B5=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await U5(r),await r.json())},re=new FH({defaultOptions:{queries:{queryFn:B5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),JH=1,ZH=1e6;let Zj=0;function eG(){return Zj=(Zj+1)%Number.MAX_SAFE_INTEGER,Zj.toString()}const ew=new Map,uA=e=>{if(ew.has(e))return;const t=setTimeout(()=>{ew.delete(e),em({type:"REMOVE_TOAST",toastId:e})},ZH);ew.set(e,t)},tG=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,JH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?uA(r):e.toasts.forEach(n=>{uA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dx=[];let Lx={toasts:[]};function em(e){Lx=tG(Lx,e),Dx.forEach(t=>{t(Lx)})}function rG({...e}){const t=eG(),r=a=>em({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>em({type:"DISMISS_TOAST",toastId:t});return em({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function mt(){const[e,t]=x.useState(Lx);return x.useEffect(()=>(Dx.push(t),()=>{const r=Dx.indexOf(t);r>-1&&Dx.splice(r,1)}),[e]),{...e,toast:rG,dismiss:r=>em({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ns(...e){return t=>{let r=!1;const n=e.map(a=>{const i=dA(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():dA(e[a],null)}}}}function ut(...e){return x.useCallback(ns(...e),e)}function nG(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function gn(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...y}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,j=x.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:j,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,sG(a,...t)]}function sG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fA(e){const t=aG(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(oG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function aG(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=cG(a),l=lG(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iG=Symbol("radix.slottable");function oG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iG}function lG(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function cG(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zp(e){const t=e+"CollectionProvider",[r,n]=gn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:j,children:b}=m,v=F.useRef(null),g=F.useRef(new Map).current;return s.jsx(a,{scope:j,itemMap:g,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=fA(l),u=F.forwardRef((m,j)=>{const{scope:b,children:v}=m,g=i(l,b),w=ut(j,g.collectionRef);return s.jsx(c,{ref:w,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=fA(d),p=F.forwardRef((m,j)=>{const{scope:b,children:v,...g}=m,w=F.useRef(null),N=ut(j,w),_=i(d,b);return F.useEffect(()=>(_.itemMap.set(w,{ref:w,...g}),()=>void _.itemMap.delete(w))),s.jsx(h,{[f]:"",ref:N,children:v})});p.displayName=d;function y(m){const j=i(e+"CollectionConsumer",m);return F.useCallback(()=>{const v=j.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((_,S)=>g.indexOf(_.ref.current)-g.indexOf(S.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}function uG(e){const t=dG(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(hG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function dG(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=pG(a),l=mG(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fG=Symbol("radix.slottable");function hG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fG}function mG(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pG(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=gG.reduce((e,t)=>{const r=uG(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function qk(e,t){e&&Wc.flushSync(()=>e.dispatchEvent(t))}function Ur(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xG(e,t=globalThis==null?void 0:globalThis.document){const r=Ur(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vG="DismissableLayer",gN="dismissableLayer.update",yG="dismissableLayer.pointerDownOutside",bG="dismissableLayer.focusOutside",hA,V5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(V5),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),y=ut(t,S=>f(S)),m=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(j),v=d?m.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,w=v>=b,N=wG(S=>{const C=S.target,P=[...u.branches].some(k=>k.contains(C));!w||P||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),_=NG(S=>{const C=S.target;[...u.branches].some(k=>k.contains(C))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return xG(S=>{v===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),mA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=hA)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),mA())},[d,u]),x.useEffect(()=>{const S=()=>p({});return document.addEventListener(gN,S),()=>document.removeEventListener(gN,S)},[]),s.jsx(Re.div,{...c,ref:y,style:{pointerEvents:g?w?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,N.onPointerDownCapture)})});Kc.displayName=vG;var jG="DismissableLayerBranch",q5=x.forwardRef((e,t)=>{const r=x.useContext(V5),n=x.useRef(null),a=ut(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Re.div,{...e,ref:a})});q5.displayName=jG;function wG(e,t=globalThis==null?void 0:globalThis.document){const r=Ur(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){z5(yG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function NG(e,t=globalThis==null?void 0:globalThis.document){const r=Ur(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&z5(bG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mA(){const e=new CustomEvent(gN);document.dispatchEvent(e)}function z5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?qk(a,i):a.dispatchEvent(i)}var _G=Kc,SG=q5,Br=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},kG="Portal",Pf=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=x.useState(!1);Br(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VK.createPortal(s.jsx(Re.div,{...n,ref:t}),o):null});Pf.displayName=kG;function CG(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=PG(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=ut(n.ref,EG(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};rn.displayName="Presence";function PG(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=CG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=qg(n.current);i.current=l==="mounted"?u:"none"},[l]),Br(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=qg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Br(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=qg(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},h=p=>{p.target===t&&(i.current=qg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function qg(e){return(e==null?void 0:e.animationName)||"none"}function EG(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AG=Zy[" useInsertionEffect ".trim().toString()]||Br;function ss({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=OG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=TG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function OG({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return AG(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function TG(e){return typeof e=="function"}var W5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IG="VisuallyHidden",xb=x.forwardRef((e,t)=>s.jsx(Re.span,{...e,ref:t,style:{...W5,...e.style}}));xb.displayName=IG;var RG=xb,zk="ToastProvider",[Wk,MG,$G]=zp("Toast"),[K5]=gn("Toast",[$G]),[DG,vb]=K5(zk),H5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zk}\`. Expected non-empty \`string\`.`),s.jsx(Wk.Provider,{scope:t,children:s.jsx(DG,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};H5.displayName=zk;var G5="ToastViewport",LG=["F8"],xN="toast.viewportPause",vN="toast.viewportResume",Q5=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=LG,label:a="Notifications ({hotkey})",...i}=e,o=vb(G5,r),l=MG(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=ut(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;x.useEffect(()=>{const j=b=>{var g;n.length!==0&&n.every(w=>b[w]||b.code===w)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),x.useEffect(()=>{const j=c.current,b=f.current;if(y&&j&&b){const v=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(xN);b.dispatchEvent(_),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(vN);b.dispatchEvent(_),o.isClosePausedRef.current=!1}},w=_=>{!j.contains(_.relatedTarget)&&g()},N=()=>{j.contains(document.activeElement)||g()};return j.addEventListener("focusin",v),j.addEventListener("focusout",w),j.addEventListener("pointermove",v),j.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",g),()=>{j.removeEventListener("focusin",v),j.removeEventListener("focusout",w),j.removeEventListener("pointermove",v),j.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",g)}}},[y,o.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:j})=>{const v=l().map(g=>{const w=g.ref.current,N=[w,...XG(w)];return j==="forwards"?N:N.reverse()});return(j==="forwards"?v.reverse():v).flat()},[l]);return x.useEffect(()=>{const j=f.current;if(j){const b=v=>{var N,_,S;const g=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!g){const C=document.activeElement,P=v.shiftKey;if(v.target===j&&P){(N=u.current)==null||N.focus();return}const O=m({tabbingDirection:P?"backwards":"forwards"}),R=O.findIndex(M=>M===C);tw(O.slice(R+1))?v.preventDefault():P?(_=u.current)==null||_.focus():(S=d.current)==null||S.focus()}};return j.addEventListener("keydown",b),()=>j.removeEventListener("keydown",b)}},[l,m]),s.jsxs(SG,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(yN,{ref:u,onFocusFromOutsideViewport:()=>{const j=m({tabbingDirection:"forwards"});tw(j)}}),s.jsx(Wk.Slot,{scope:r,children:s.jsx(Re.ol,{tabIndex:-1,...i,ref:h})}),y&&s.jsx(yN,{ref:d,onFocusFromOutsideViewport:()=>{const j=m({tabbingDirection:"backwards"});tw(j)}})]})});Q5.displayName=G5;var Y5="ToastFocusProxy",yN=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=vb(Y5,r);return s.jsx(xb,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});yN.displayName=Y5;var Wp="Toast",FG="toast.swipeStart",UG="toast.swipeMove",BG="toast.swipeCancel",VG="toast.swipeEnd",X5=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ss({prop:n,defaultProp:a??!0,onChange:i,caller:Wp});return s.jsx(rn,{present:r||l,children:s.jsx(WG,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ur(e.onPause),onResume:Ur(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});X5.displayName=Wp;var[qG,zG]=K5(Wp,{onClose(){}}),WG=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=vb(Wp,r),[j,b]=x.useState(null),v=ut(t,M=>b(M)),g=x.useRef(null),w=x.useRef(null),N=a||m.duration,_=x.useRef(0),S=x.useRef(N),C=x.useRef(0),{onToastAdd:P,onToastRemove:k}=m,A=Ur(()=>{var L;(j==null?void 0:j.contains(document.activeElement))&&((L=m.viewport)==null||L.focus()),o()}),O=x.useCallback(M=>{!M||M===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(A,M))},[A]);x.useEffect(()=>{const M=m.viewport;if(M){const L=()=>{O(S.current),u==null||u()},T=()=>{const W=new Date().getTime()-_.current;S.current=S.current-W,window.clearTimeout(C.current),c==null||c()};return M.addEventListener(xN,T),M.addEventListener(vN,L),()=>{M.removeEventListener(xN,T),M.removeEventListener(vN,L)}}},[m.viewport,N,c,u,O]),x.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(N)},[i,N,m.isClosePausedRef,O]),x.useEffect(()=>(P(),()=>k()),[P,k]);const R=x.useMemo(()=>j?s3(j):null,[j]);return m.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(KG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:R}),s.jsx(qG,{scope:r,onClose:A,children:Wc.createPortal(s.jsx(Wk.ItemSlot,{scope:r,children:s.jsx(_G,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Re.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Ne(e.onPointerDown,M=>{M.button===0&&(g.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ne(e.onPointerMove,M=>{if(!g.current)return;const L=M.clientX-g.current.x,T=M.clientY-g.current.y,W=!!w.current,E=["left","right"].includes(m.swipeDirection),D=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=E?D(0,L):0,J=E?0:D(0,T),I=M.pointerType==="touch"?10:2,Y={x:G,y:J},V={originalEvent:M,delta:Y};W?(w.current=Y,zg(UG,f,V,{discrete:!1})):pA(Y,m.swipeDirection,I)?(w.current=Y,zg(FG,d,V,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(L)>I||Math.abs(T)>I)&&(g.current=null)}),onPointerUp:Ne(e.onPointerUp,M=>{const L=w.current,T=M.target;if(T.hasPointerCapture(M.pointerId)&&T.releasePointerCapture(M.pointerId),w.current=null,g.current=null,L){const W=M.currentTarget,E={originalEvent:M,delta:L};pA(L,m.swipeDirection,m.swipeThreshold)?zg(VG,p,E,{discrete:!0}):zg(BG,h,E,{discrete:!0}),W.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),KG=e=>{const{__scopeToast:t,children:r,...n}=e,a=vb(Wp,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return QG(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Pf,{asChild:!0,children:s.jsx(xb,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},HG="ToastTitle",J5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Re.div,{...n,ref:t})});J5.displayName=HG;var GG="ToastDescription",Z5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Re.div,{...n,ref:t})});Z5.displayName=GG;var e3="ToastAction",t3=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(n3,{altText:r,asChild:!0,children:s.jsx(Kk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${e3}\`. Expected non-empty \`string\`.`),null)});t3.displayName=e3;var r3="ToastClose",Kk=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=zG(r3,r);return s.jsx(n3,{asChild:!0,children:s.jsx(Re.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,a.onClose)})})});Kk.displayName=r3;var n3=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function s3(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),YG(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...s3(n))}}),t}function zg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?qk(a,i):a.dispatchEvent(i)}var pA=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function QG(e=()=>{}){const t=Ur(e);Br(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function YG(e){return e.nodeType===e.ELEMENT_NODE}function XG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var JG=H5,a3=Q5,i3=X5,o3=J5,l3=Z5,c3=t3,u3=Kk;function d3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=d3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function wt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=d3(e))&&(n&&(n+=" "),n+=t);return n}const gA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xA=wt,Kp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return xA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=gA(d)||gA(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,j]=y;return Array.isArray(j)?j.includes({...i,...l}[m]):{...i,...l}[m]===j})?[...u,f,h]:u},[]);return xA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f3=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...eQ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:f3("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(tQ,{ref:i,iconNode:t,className:f3(`lucide-${ZG(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=he("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=he("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=he("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=he("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=he("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=he("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=he("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=he("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=he("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=he("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=he("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=he("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=he("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=he("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=he("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=he("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=he("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=he("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=he("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=he("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=he("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=he("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=he("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=he("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=he("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=he("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=he("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=he("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=he("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=he("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=he("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=he("Spade",[["path",{d:"M5 9c-1.5 1.5-3 3.2-3 5.5A5.5 5.5 0 0 0 7.5 20c1.8 0 3-.5 4.5-2 1.5 1.5 2.7 2 4.5 2a5.5 5.5 0 0 0 5.5-5.5c0-2.3-1.5-4-3-5.5l-7-7-7 7Z",key:"40bo9n"}],["path",{d:"M12 18v4",key:"jadmvz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=he("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=he("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=he("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=he("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=he("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=he("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qQ=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},zQ=(e,t)=>({classGroupId:e,validator:t}),_3=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),jv="-",SA=[],WQ="arbitrary..",KQ=e=>{const t=GQ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return HQ(o);const l=o.split(jv),c=l[0]===""&&l.length>1?1:0;return S3(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],u=r[o];return c?u?qQ(u,c):c:u||SA}return r[o]||SA}}},S3=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const u=S3(e,t+1,i);if(u)return u}const o=r.validators;if(o===null)return;const l=t===0?e.join(jv):e.slice(t).join(jv),c=o.length;for(let u=0;u<c;u++){const d=o[u];if(d.validator(l))return d.classGroupId}},HQ=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?WQ+n:void 0})(),GQ=e=>{const{theme:t,classGroups:r}=e;return QQ(r,t)},QQ=(e,t)=>{const r=_3();for(const n in e){const a=e[n];Zk(a,r,n,t)}return r},Zk=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];YQ(o,t,r,n)}},YQ=(e,t,r,n)=>{if(typeof e=="string"){XQ(e,t,r);return}if(typeof e=="function"){JQ(e,t,r,n);return}ZQ(e,t,r,n)},XQ=(e,t,r)=>{const n=e===""?t:k3(t,e);n.classGroupId=r},JQ=(e,t,r,n)=>{if(eY(e)){Zk(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(zQ(r,e))},ZQ=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[l,c]=a[o];Zk(c,k3(t,l),r,n)}},k3=(e,t)=>{let r=e;const n=t.split(jv),a=n.length;for(let i=0;i<a;i++){const o=n[i];let l=r.nextPart.get(o);l||(l=_3(),r.nextPart.set(o,l)),r=l}return r},eY=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,tY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},NN="!",kA=":",rY=[],CA=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),nY=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;const d=a.length;for(let m=0;m<d;m++){const j=a[m];if(o===0&&l===0){if(j===kA){i.push(a.slice(c,m)),c=m+1;continue}if(j==="/"){u=m;continue}}j==="["?o++:j==="]"?o--:j==="("?l++:j===")"&&l--}const f=i.length===0?a:a.slice(c);let h=f,p=!1;f.endsWith(NN)?(h=f.slice(0,-1),p=!0):f.startsWith(NN)&&(h=f.slice(1),p=!0);const y=u&&u>c?u-c:void 0;return CA(i,p,h,y)};if(t){const a=t+kA,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):CA(rY,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},sY=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],l=o[0]==="[",c=t.has(o);l||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},aY=e=>({cache:tY(e.cacheSize),parseClassName:nY(e),sortModifiers:sY(e),...KQ(e)}),iY=/\s+/,oY=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(iY);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let j=!!m,b=n(j?y.substring(0,m):y);if(!b){if(!j){c=d+(c.length>0?" "+c:c);continue}if(b=n(y),!b){c=d+(c.length>0?" "+c:c);continue}j=!1}const v=h.length===0?"":h.length===1?h[0]:i(h).join(":"),g=p?v+NN:v,w=g+b;if(o.indexOf(w)>-1)continue;o.push(w);const N=a(b,j);for(let _=0;_<N.length;++_){const S=N[_];o.push(g+S)}c=d+(c.length>0?" "+c:c)}return c},lY=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=C3(r))&&(a&&(a+=" "),a+=n);return a},C3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=C3(e[n]))&&(r&&(r+=" "),r+=t);return r},cY=(e,...t)=>{let r,n,a,i;const o=c=>{const u=t.reduce((d,f)=>f(d),e());return r=aY(u),n=r.cache.get,a=r.cache.set,i=l,l(c)},l=c=>{const u=n(c);if(u)return u;const d=oY(c,r);return a(c,d),d};return i=o,(...c)=>i(lY(...c))},uY=[],on=e=>{const t=r=>r[e]||uY;return t.isThemeGetter=!0,t},P3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,E3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dY=/^\d+\/\d+$/,fY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pu=e=>dY.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),jo=e=>!!e&&Number.isInteger(Number(e)),rw=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),Ci=e=>fY.test(e),xY=()=>!0,vY=e=>hY.test(e)&&!mY.test(e),A3=()=>!1,yY=e=>pY.test(e),bY=e=>gY.test(e),jY=e=>!Ve(e)&&!qe(e),wY=e=>Af(e,I3,A3),Ve=e=>P3.test(e),Pl=e=>Af(e,R3,vY),nw=e=>Af(e,CY,Pt),PA=e=>Af(e,O3,A3),NY=e=>Af(e,T3,bY),Hg=e=>Af(e,M3,yY),qe=e=>E3.test(e),ph=e=>Of(e,R3),_Y=e=>Of(e,PY),EA=e=>Of(e,O3),SY=e=>Of(e,I3),kY=e=>Of(e,T3),Gg=e=>Of(e,M3,!0),Af=(e,t,r)=>{const n=P3.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Of=(e,t,r=!1)=>{const n=E3.exec(e);return n?n[1]?t(n[1]):r:!1},O3=e=>e==="position"||e==="percentage",T3=e=>e==="image"||e==="url",I3=e=>e==="length"||e==="size"||e==="bg-size",R3=e=>e==="length",CY=e=>e==="number",PY=e=>e==="family-name",M3=e=>e==="shadow",EY=()=>{const e=on("color"),t=on("font"),r=on("text"),n=on("font-weight"),a=on("tracking"),i=on("leading"),o=on("breakpoint"),l=on("container"),c=on("spacing"),u=on("radius"),d=on("shadow"),f=on("inset-shadow"),h=on("text-shadow"),p=on("drop-shadow"),y=on("blur"),m=on("perspective"),j=on("aspect"),b=on("ease"),v=on("animate"),g=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...w(),qe,Ve],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[qe,Ve,c],P=()=>[pu,"full","auto",...C()],k=()=>[jo,"none","subgrid",qe,Ve],A=()=>["auto",{span:["full",jo,qe,Ve]},jo,qe,Ve],O=()=>[jo,"auto",qe,Ve],R=()=>["auto","min","max","fr",qe,Ve],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...C()],W=()=>[pu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],E=()=>[e,qe,Ve],D=()=>[...w(),EA,PA,{position:[qe,Ve]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",SY,wY,{size:[qe,Ve]}],I=()=>[rw,ph,Pl],Y=()=>["","none","full",u,qe,Ve],V=()=>["",Pt,ph,Pl],ee=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Pt,rw,EA,PA],ve=()=>["","none",y,qe,Ve],ie=()=>["none",Pt,qe,Ve],B=()=>["none",Pt,qe,Ve],me=()=>[Pt,qe,Ve],Q=()=>[pu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ci],breakpoint:[Ci],color:[xY],container:[Ci],"drop-shadow":[Ci],ease:["in","out","in-out"],font:[jY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ci],shadow:[Ci],spacing:["px",Pt],text:[Ci],"text-shadow":[Ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pu,Ve,qe,j]}],container:["container"],columns:[{columns:[Pt,Ve,qe,l]}],"break-after":[{"break-after":g()}],"break-before":[{"break-before":g()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[jo,"auto",qe,Ve]}],basis:[{basis:[pu,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,pu,"auto","initial","none",Ve]}],grow:[{grow:["",Pt,qe,Ve]}],shrink:[{shrink:["",Pt,qe,Ve]}],order:[{order:[jo,"first","last","none",qe,Ve]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,ph,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,qe,nw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rw,Ve]}],"font-family":[{font:[_Y,Ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,qe,Ve]}],"line-clamp":[{"line-clamp":[Pt,"none",qe,nw]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",qe,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",qe,Pl]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Pt,"auto",qe,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jo,qe,Ve],radial:["",qe,Ve],conic:[jo,qe,Ve]},kY,NY]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,qe,Ve]}],"outline-w":[{outline:["",Pt,ph,Pl]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,Gg,Hg]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",f,Gg,Hg]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Pt,Pl]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,Gg,Hg]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Pt,qe,Ve]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[qe,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ve]}],filter:[{filter:["","none",qe,Ve]}],blur:[{blur:ve()}],brightness:[{brightness:[Pt,qe,Ve]}],contrast:[{contrast:[Pt,qe,Ve]}],"drop-shadow":[{"drop-shadow":["","none",p,Gg,Hg]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Pt,qe,Ve]}],"hue-rotate":[{"hue-rotate":[Pt,qe,Ve]}],invert:[{invert:["",Pt,qe,Ve]}],saturate:[{saturate:[Pt,qe,Ve]}],sepia:[{sepia:["",Pt,qe,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ve]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,qe,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,qe,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,qe,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,qe,Ve]}],"backdrop-invert":[{"backdrop-invert":["",Pt,qe,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,qe,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,qe,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,qe,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",qe,Ve]}],ease:[{ease:["linear","initial",b,qe,Ve]}],delay:[{delay:[Pt,qe,Ve]}],animate:[{animate:["none",v,qe,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,qe,Ve]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[qe,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Q()}],"translate-x":[{"translate-x":Q()}],"translate-y":[{"translate-y":Q()}],"translate-z":[{"translate-z":Q()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ve]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Pt,ph,Pl,nw]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AY=cY(EY);function je(...e){return AY(wt(e))}const OY=JG,$3=x.forwardRef(({className:e,...t},r)=>s.jsx(a3,{ref:r,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));$3.displayName=a3.displayName;const TY=Kp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D3=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(i3,{ref:n,className:je(TY({variant:t}),e),...r}));D3.displayName=i3.displayName;const IY=x.forwardRef(({className:e,...t},r)=>s.jsx(c3,{ref:r,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));IY.displayName=c3.displayName;const L3=x.forwardRef(({className:e,...t},r)=>s.jsx(u3,{ref:r,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(xi,{className:"h-4 w-4"})}));L3.displayName=u3.displayName;const F3=x.forwardRef(({className:e,...t},r)=>s.jsx(o3,{ref:r,className:je("text-sm font-semibold",e),...t}));F3.displayName=o3.displayName;const U3=x.forwardRef(({className:e,...t},r)=>s.jsx(l3,{ref:r,className:je("text-sm opacity-90",e),...t}));U3.displayName=l3.displayName;function RY(){const{toasts:e}=mt();return s.jsxs(OY,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(D3,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(F3,{children:r}),n&&s.jsx(U3,{children:n})]}),a,s.jsx(L3,{})]},t)}),s.jsx($3,{})]})}var MY=Zy[" useId ".trim().toString()]||(()=>{}),$Y=0;function Jr(e){const[t,r]=x.useState(MY());return Br(()=>{r(n=>n??String($Y++))},[e]),t?`radix-${t}`:""}const DY=["top","right","bottom","left"],cl=Math.min,Os=Math.max,wv=Math.round,Qg=Math.floor,fi=e=>({x:e,y:e}),LY={left:"right",right:"left",bottom:"top",top:"bottom"},FY={start:"end",end:"start"};function _N(e,t,r){return Os(e,cl(t,r))}function to(e,t){return typeof e=="function"?e(t):e}function ro(e){return e.split("-")[0]}function Tf(e){return e.split("-")[1]}function e2(e){return e==="x"?"y":"x"}function t2(e){return e==="y"?"height":"width"}const UY=new Set(["top","bottom"]);function oi(e){return UY.has(ro(e))?"y":"x"}function r2(e){return e2(oi(e))}function BY(e,t,r){r===void 0&&(r=!1);const n=Tf(e),a=r2(e),i=t2(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Nv(o)),[o,Nv(o)]}function VY(e){const t=Nv(e);return[SN(e),t,SN(t)]}function SN(e){return e.replace(/start|end/g,t=>FY[t])}const AA=["left","right"],OA=["right","left"],qY=["top","bottom"],zY=["bottom","top"];function WY(e,t,r){switch(e){case"top":case"bottom":return r?t?OA:AA:t?AA:OA;case"left":case"right":return t?qY:zY;default:return[]}}function KY(e,t,r,n){const a=Tf(e);let i=WY(ro(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(SN)))),i}function Nv(e){return e.replace(/left|right|bottom|top/g,t=>LY[t])}function HY(e){return{top:0,right:0,bottom:0,left:0,...e}}function B3(e){return typeof e!="number"?HY(e):{top:e,right:e,bottom:e,left:e}}function _v(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function TA(e,t,r){let{reference:n,floating:a}=e;const i=oi(t),o=r2(t),l=t2(o),c=ro(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Tf(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const GY=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=TA(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:j,fn:b}=l[m],{x:v,y:g,data:w,reset:N}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=g??f,p={...p,[j]:{...p[j],...w}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=TA(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Mm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=to(t,e),y=B3(p),j=l[h?f==="floating"?"reference":"floating":f],b=_v(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},N=_v(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:g,strategy:c}):v);return{top:(b.top-N.top+y.top)/w.y,bottom:(N.bottom-b.bottom+y.bottom)/w.y,left:(b.left-N.left+y.left)/w.x,right:(N.right-b.right+y.right)/w.x}}const QY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=to(e,t)||{};if(u==null)return{};const f=B3(d),h={x:r,y:n},p=r2(a),y=t2(p),m=await o.getDimensions(u),j=p==="y",b=j?"top":"left",v=j?"bottom":"right",g=j?"clientHeight":"clientWidth",w=i.reference[y]+i.reference[p]-h[p]-i.floating[y],N=h[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=_?_[g]:0;(!S||!await(o.isElement==null?void 0:o.isElement(_)))&&(S=l.floating[g]||i.floating[y]);const C=w/2-N/2,P=S/2-m[y]/2-1,k=cl(f[b],P),A=cl(f[v],P),O=k,R=S-m[y]-A,M=S/2-m[y]/2+C,L=_N(O,M,R),T=!c.arrow&&Tf(a)!=null&&M!==L&&i.reference[y]/2-(M<O?k:A)-m[y]/2<0,W=T?M<O?M-O:M-R:0;return{[p]:h[p]+W,data:{[p]:L,centerOffset:M-L-W,...T&&{alignmentOffset:W}},reset:T}}}),YY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...j}=to(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ro(a),v=oi(l),g=ro(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(g||!m?[Nv(l)]:VY(l)),_=y!=="none";!h&&_&&N.push(...KY(l,m,y,w));const S=[l,...N],C=await Mm(t,j),P=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(C[b]),f){const M=BY(a,o,w);P.push(C[M[0]],C[M[1]])}if(k=[...k,{placement:a,overflows:P}],!P.every(M=>M<=0)){var A,O;const M=(((A=i.flip)==null?void 0:A.index)||0)+1,L=S[M];if(L&&(!(f==="alignment"?v!==oi(L):!1)||k.every(E=>oi(E.placement)===v?E.overflows[0]>0:!0)))return{data:{index:M,overflows:k},reset:{placement:L}};let T=(O=k.filter(W=>W.overflows[0]<=0).sort((W,E)=>W.overflows[1]-E.overflows[1])[0])==null?void 0:O.placement;if(!T)switch(p){case"bestFit":{var R;const W=(R=k.filter(E=>{if(_){const D=oi(E.placement);return D===v||D==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(D=>D>0).reduce((D,G)=>D+G,0)]).sort((E,D)=>E[1]-D[1])[0])==null?void 0:R[0];W&&(T=W);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function IA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RA(e){return DY.some(t=>e[t]>=0)}const XY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=to(e,t);switch(n){case"referenceHidden":{const i=await Mm(t,{...a,elementContext:"reference"}),o=IA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RA(o)}}}case"escaped":{const i=await Mm(t,{...a,altBoundary:!0}),o=IA(i,r.floating);return{data:{escapedOffsets:o,escaped:RA(o)}}}default:return{}}}}},V3=new Set(["left","top"]);async function JY(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ro(r),l=Tf(r),c=oi(r)==="y",u=V3.has(o)?-1:1,d=i&&c?-1:1,f=to(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const ZY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await JY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},eX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:b,y:v}=j;return{x:b,y:v}}},...c}=to(e,t),u={x:r,y:n},d=await Mm(t,c),f=oi(ro(a)),h=e2(f);let p=u[h],y=u[f];if(i){const j=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+d[j],g=p-d[b];p=_N(v,p,g)}if(o){const j=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=y+d[j],g=y-d[b];y=_N(v,y,g)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},tX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=to(e,t),d={x:r,y:n},f=oi(a),h=e2(f);let p=d[h],y=d[f];const m=to(l,t),j=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const g=h==="y"?"height":"width",w=i.reference[h]-i.floating[g]+j.mainAxis,N=i.reference[h]+i.reference[g]-j.mainAxis;p<w?p=w:p>N&&(p=N)}if(u){var b,v;const g=h==="y"?"width":"height",w=V3.has(ro(a)),N=i.reference[f]-i.floating[g]+(w&&((b=o.offset)==null?void 0:b[f])||0)+(w?0:j.crossAxis),_=i.reference[f]+i.reference[g]+(w?0:((v=o.offset)==null?void 0:v[f])||0)-(w?j.crossAxis:0);y<N?y=N:y>_&&(y=_)}return{[h]:p,[f]:y}}}},rX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=to(e,t),d=await Mm(t,u),f=ro(a),h=Tf(a),p=oi(a)==="y",{width:y,height:m}=i.floating;let j,b;f==="top"||f==="bottom"?(j=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,j=h==="end"?"top":"bottom");const v=m-d.top-d.bottom,g=y-d.left-d.right,w=cl(m-d[j],v),N=cl(y-d[b],g),_=!t.middlewareData.shift;let S=w,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=v),_&&!h){const k=Os(d.left,0),A=Os(d.right,0),O=Os(d.top,0),R=Os(d.bottom,0);p?C=y-2*(k!==0||A!==0?k+A:Os(d.left,d.right)):S=m-2*(O!==0||R!==0?O+R:Os(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:S});const P=await o.getDimensions(l.floating);return y!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Sb(){return typeof window<"u"}function If(e){return q3(e)?(e.nodeName||"").toLowerCase():"#document"}function Fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bi(e){var t;return(t=(q3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q3(e){return Sb()?e instanceof Node||e instanceof Fs(e).Node:!1}function Wa(e){return Sb()?e instanceof Element||e instanceof Fs(e).Element:!1}function vi(e){return Sb()?e instanceof HTMLElement||e instanceof Fs(e).HTMLElement:!1}function MA(e){return!Sb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fs(e).ShadowRoot}const nX=new Set(["inline","contents"]);function Qp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ka(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nX.has(a)}const sX=new Set(["table","td","th"]);function aX(e){return sX.has(If(e))}const iX=[":popover-open",":modal"];function kb(e){return iX.some(t=>{try{return e.matches(t)}catch{return!1}})}const oX=["transform","translate","scale","rotate","perspective"],lX=["transform","translate","scale","rotate","perspective","filter"],cX=["paint","layout","strict","content"];function n2(e){const t=s2(),r=Wa(e)?Ka(e):e;return oX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lX.some(n=>(r.willChange||"").includes(n))||cX.some(n=>(r.contain||"").includes(n))}function uX(e){let t=ul(e);for(;vi(t)&&!Ud(t);){if(n2(t))return t;if(kb(t))return null;t=ul(t)}return null}function s2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dX=new Set(["html","body","#document"]);function Ud(e){return dX.has(If(e))}function Ka(e){return Fs(e).getComputedStyle(e)}function Cb(e){return Wa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ul(e){if(If(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MA(e)&&e.host||bi(e);return MA(t)?t.host:t}function z3(e){const t=ul(e);return Ud(t)?e.ownerDocument?e.ownerDocument.body:e.body:vi(t)&&Qp(t)?t:z3(t)}function $m(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=z3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Fs(a);if(i){const l=kN(o);return t.concat(o,o.visualViewport||[],Qp(a)?a:[],l&&r?$m(l):[])}return t.concat(a,$m(a,[],r))}function kN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function W3(e){const t=Ka(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=vi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=wv(r)!==i||wv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function a2(e){return Wa(e)?e:e.contextElement}function dd(e){const t=a2(e);if(!vi(t))return fi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=W3(t);let o=(i?wv(r.width):r.width)/n,l=(i?wv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fX=fi(0);function K3(e){const t=Fs(e);return!s2()||!t.visualViewport?fX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Fs(e)?!1:t}function kc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=a2(e);let o=fi(1);t&&(n?Wa(n)&&(o=dd(n)):o=dd(e));const l=hX(i,r,n)?K3(i):fi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Fs(i),p=n&&Wa(n)?Fs(n):n;let y=h,m=kN(y);for(;m&&n&&p!==y;){const j=dd(m),b=m.getBoundingClientRect(),v=Ka(m),g=b.left+(m.clientLeft+parseFloat(v.paddingLeft))*j.x,w=b.top+(m.clientTop+parseFloat(v.paddingTop))*j.y;c*=j.x,u*=j.y,d*=j.x,f*=j.y,c+=g,u+=w,y=Fs(m),m=kN(y)}}return _v({width:d,height:f,x:c,y:u})}function Pb(e,t){const r=Cb(e).scrollLeft;return t?t.left+r:kc(bi(e)).left+r}function H3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Pb(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function mX(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=bi(n),l=t?kb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=fi(1);const d=fi(0),f=vi(n);if((f||!f&&!i)&&((If(n)!=="body"||Qp(o))&&(c=Cb(n)),vi(n))){const p=kc(n);u=dd(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?H3(o,c):fi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function pX(e){return Array.from(e.getClientRects())}function gX(e){const t=bi(e),r=Cb(e),n=e.ownerDocument.body,a=Os(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Os(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Pb(e);const l=-r.scrollTop;return Ka(n).direction==="rtl"&&(o+=Os(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const $A=25;function xX(e,t){const r=Fs(e),n=bi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=s2();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Pb(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-p);y<=$A&&(i-=y)}else u<=$A&&(i+=u);return{width:i,height:o,x:l,y:c}}const vX=new Set(["absolute","fixed"]);function yX(e,t){const r=kc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=vi(e)?dd(e):fi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function DA(e,t,r){let n;if(t==="viewport")n=xX(e,r);else if(t==="document")n=gX(bi(e));else if(Wa(t))n=yX(t,r);else{const a=K3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return _v(n)}function G3(e,t){const r=ul(e);return r===t||!Wa(r)||Ud(r)?!1:Ka(r).position==="fixed"||G3(r,t)}function bX(e,t){const r=t.get(e);if(r)return r;let n=$m(e,[],!1).filter(l=>Wa(l)&&If(l)!=="body"),a=null;const i=Ka(e).position==="fixed";let o=i?ul(e):e;for(;Wa(o)&&!Ud(o);){const l=Ka(o),c=n2(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&vX.has(a.position)||Qp(o)&&!c&&G3(e,o))?n=n.filter(d=>d!==o):a=l,o=ul(o)}return t.set(e,n),n}function jX(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?kb(t)?[]:bX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=DA(t,d,a);return u.top=Os(f.top,u.top),u.right=cl(f.right,u.right),u.bottom=cl(f.bottom,u.bottom),u.left=Os(f.left,u.left),u},DA(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wX(e){const{width:t,height:r}=W3(e);return{width:t,height:r}}function NX(e,t,r){const n=vi(t),a=bi(t),i=r==="fixed",o=kc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=fi(0);function u(){c.x=Pb(a)}if(n||!n&&!i)if((If(t)!=="body"||Qp(a))&&(l=Cb(t)),n){const p=kc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?H3(a,l):fi(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function sw(e){return Ka(e).position==="static"}function LA(e,t){if(!vi(e)||Ka(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bi(e)===r&&(r=r.ownerDocument.body),r}function Q3(e,t){const r=Fs(e);if(kb(e))return r;if(!vi(e)){let a=ul(e);for(;a&&!Ud(a);){if(Wa(a)&&!sw(a))return a;a=ul(a)}return r}let n=LA(e,t);for(;n&&aX(n)&&sw(n);)n=LA(n,t);return n&&Ud(n)&&sw(n)&&!n2(n)?r:n||uX(e)||r}const _X=async function(e){const t=this.getOffsetParent||Q3,r=this.getDimensions,n=await r(e.floating);return{reference:NX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function SX(e){return Ka(e).direction==="rtl"}const kX={convertOffsetParentRelativeRectToViewportRelativeRect:mX,getDocumentElement:bi,getClippingRect:jX,getOffsetParent:Q3,getElementRects:_X,getClientRects:pX,getDimensions:wX,getScale:dd,isElement:Wa,isRTL:SX};function Y3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CX(e,t){let r=null,n;const a=bi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=Qg(f),m=Qg(a.clientWidth-(d+h)),j=Qg(a.clientHeight-(f+p)),b=Qg(d),g={rootMargin:-y+"px "+-m+"px "+-j+"px "+-b+"px",threshold:Os(0,cl(1,c))||1};let w=!0;function N(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Y3(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,g)}r.observe(e)}return o(!0),i}function PX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=a2(e),d=a||i?[...u?$m(u):[],...$m(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?CX(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?kc(e):null;c&&j();function j(){const b=kc(e);m&&!Y3(m,b)&&r(),m=b,y=requestAnimationFrame(j)}return r(),()=>{var b;d.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const EX=ZY,AX=eX,OX=YY,TX=rX,IX=XY,FA=QY,RX=tX,MX=(e,t,r)=>{const n=new Map,a={platform:kX,...r},i={...a.platform,_c:n};return GY(e,t,{...a,platform:i})};var $X=typeof document<"u",DX=function(){},Fx=$X?x.useLayoutEffect:DX;function Sv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Sv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function X3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UA(e,t){const r=X3(e);return Math.round(t*r)/r}function aw(e){const t=x.useRef(e);return Fx(()=>{t.current=e}),t}function LX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Sv(h,n)||p(n);const[y,m]=x.useState(null),[j,b]=x.useState(null),v=x.useCallback(E=>{E!==_.current&&(_.current=E,m(E))},[]),g=x.useCallback(E=>{E!==S.current&&(S.current=E,b(E))},[]),w=i||y,N=o||j,_=x.useRef(null),S=x.useRef(null),C=x.useRef(d),P=c!=null,k=aw(c),A=aw(a),O=aw(u),R=x.useCallback(()=>{if(!_.current||!S.current)return;const E={placement:t,strategy:r,middleware:h};A.current&&(E.platform=A.current),MX(_.current,S.current,E).then(D=>{const G={...D,isPositioned:O.current!==!1};M.current&&!Sv(C.current,G)&&(C.current=G,Wc.flushSync(()=>{f(G)}))})},[h,t,r,A,O]);Fx(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const M=x.useRef(!1);Fx(()=>(M.current=!0,()=>{M.current=!1}),[]),Fx(()=>{if(w&&(_.current=w),N&&(S.current=N),w&&N){if(k.current)return k.current(w,N,R);R()}},[w,N,R,k,P]);const L=x.useMemo(()=>({reference:_,floating:S,setReference:v,setFloating:g}),[v,g]),T=x.useMemo(()=>({reference:w,floating:N}),[w,N]),W=x.useMemo(()=>{const E={position:r,left:0,top:0};if(!T.floating)return E;const D=UA(T.floating,d.x),G=UA(T.floating,d.y);return l?{...E,transform:"translate("+D+"px, "+G+"px)",...X3(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:G}},[r,l,T.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:L,elements:T,floatingStyles:W}),[d,R,L,T,W])}const FX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?FA({element:n.current,padding:a}).fn(r):{}:n?FA({element:n,padding:a}).fn(r):{}}}},UX=(e,t)=>({...EX(e),options:[e,t]}),BX=(e,t)=>({...AX(e),options:[e,t]}),VX=(e,t)=>({...RX(e),options:[e,t]}),qX=(e,t)=>({...OX(e),options:[e,t]}),zX=(e,t)=>({...TX(e),options:[e,t]}),WX=(e,t)=>({...IX(e),options:[e,t]}),KX=(e,t)=>({...FX(e),options:[e,t]});var HX="Arrow",J3=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Re.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});J3.displayName=HX;var GX=J3;function Eb(e){const[t,r]=x.useState(void 0);return Br(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var i2="Popper",[Z3,yl]=gn(i2),[QX,eL]=Z3(i2),tL=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(QX,{scope:t,anchor:n,onAnchorChange:a,children:r})};tL.displayName=i2;var rL="PopperAnchor",nL=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=eL(rL,r),o=x.useRef(null),l=ut(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Re.div,{...a,ref:l})});nL.displayName=rL;var o2="PopperContent",[YX,XX]=Z3(o2),sL=x.forwardRef((e,t)=>{var te,ve,ie,B,me,Q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,j=eL(o2,r),[b,v]=x.useState(null),g=ut(t,q=>v(q)),[w,N]=x.useState(null),_=Eb(w),S=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,P=n+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,R={padding:k,boundary:A.filter(ZX),altBoundary:O},{refs:M,floatingStyles:L,placement:T,isPositioned:W,middlewareData:E}=LX({strategy:"fixed",placement:P,whileElementsMounted:(...q)=>PX(...q,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[UX({mainAxis:a+C,alignmentAxis:o}),c&&BX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VX():void 0,...R}),c&&qX({...R}),zX({...R,apply:({elements:q,rects:xe,availableWidth:tt,availableHeight:at})=>{const{width:ft,height:Wt}=xe.reference,$t=q.floating.style;$t.setProperty("--radix-popper-available-width",`${tt}px`),$t.setProperty("--radix-popper-available-height",`${at}px`),$t.setProperty("--radix-popper-anchor-width",`${ft}px`),$t.setProperty("--radix-popper-anchor-height",`${Wt}px`)}}),w&&KX({element:w,padding:l}),eJ({arrowWidth:S,arrowHeight:C}),h&&WX({strategy:"referenceHidden",...R})]}),[D,G]=oL(T),J=Ur(y);Br(()=>{W&&(J==null||J())},[W,J]);const I=(te=E.arrow)==null?void 0:te.x,Y=(ve=E.arrow)==null?void 0:ve.y,V=((ie=E.arrow)==null?void 0:ie.centerOffset)!==0,[ee,pe]=x.useState();return Br(()=>{b&&pe(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:W?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(B=E.transformOrigin)==null?void 0:B.x,(me=E.transformOrigin)==null?void 0:me.y].join(" "),...((Q=E.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(YX,{scope:r,placedSide:D,onArrowChange:N,arrowX:I,arrowY:Y,shouldHideArrow:V,children:s.jsx(Re.div,{"data-side":D,"data-align":G,...m,ref:g,style:{...m.style,animation:W?void 0:"none"}})})})});sL.displayName=o2;var aL="PopperArrow",JX={top:"bottom",right:"left",bottom:"top",left:"right"},iL=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=XX(aL,n),o=JX[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(GX,{...a,ref:r,style:{...a.style,display:"block"}})})});iL.displayName=aL;function ZX(e){return e!==null}var eJ=e=>({name:"transformOrigin",options:e,fn(t){var j,b,v;const{placement:r,rects:n,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=oL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function oL(e){const[t,r="center"]=e.split("-");return[t,r]}var Ab=tL,Yp=nL,Ob=sL,Tb=iL,tJ=Symbol("radix.slottable");function rJ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tJ,t}var[Ib]=gn("Tooltip",[yl]),Rb=yl(),lL="TooltipProvider",nJ=700,CN="tooltip.open",[sJ,l2]=Ib(lL),cL=e=>{const{__scopeTooltip:t,delayDuration:r=nJ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(sJ,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};cL.displayName=lL;var Dm="Tooltip",[aJ,Mb]=Ib(Dm),uL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=l2(Dm,e.__scopeTooltip),u=Rb(t),[d,f]=x.useState(null),h=Jr(),p=x.useRef(0),y=o??c.disableHoverableContent,m=l??c.delayDuration,j=x.useRef(!1),[b,v]=ss({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(CN))):c.onClose(),i==null||i(S)},caller:Dm}),g=x.useMemo(()=>b?j.current?"delayed-open":"instant-open":"closed",[b]),w=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j.current=!1,v(!0)},[v]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),_=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{j.current=!0,v(!0),p.current=0},m)},[m,v]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(Ab,{...u,children:s.jsx(aJ,{scope:t,contentId:h,open:b,stateAttribute:g,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?_():w()},[c.isOpenDelayedRef,_,w]),onTriggerLeave:x.useCallback(()=>{y?N():(window.clearTimeout(p.current),p.current=0)},[N,y]),onOpen:w,onClose:N,disableHoverableContent:y,children:r})})};uL.displayName=Dm;var PN="TooltipTrigger",dL=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Mb(PN,r),i=l2(PN,r),o=Rb(r),l=x.useRef(null),c=ut(t,l,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Yp,{asChild:!0,...o,children:s.jsx(Re.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});dL.displayName=PN;var iJ="TooltipPortal",[XDe,oJ]=Ib(iJ,{forceMount:void 0}),Bd="TooltipContent",fL=x.forwardRef((e,t)=>{const r=oJ(Bd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Mb(Bd,e.__scopeTooltip);return s.jsx(rn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(hL,{side:a,...i,ref:t}):s.jsx(lJ,{side:a,...i,ref:t})})}),lJ=x.forwardRef((e,t)=>{const r=Mb(Bd,e.__scopeTooltip),n=l2(Bd,e.__scopeTooltip),a=x.useRef(null),i=ut(t,a),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{l(null),f(!1)},[f]),p=x.useCallback((y,m)=>{const j=y.currentTarget,b={x:y.clientX,y:y.clientY},v=hJ(b,j.getBoundingClientRect()),g=mJ(b,v),w=pJ(m.getBoundingClientRect()),N=xJ([...g,...w]);l(N),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const y=j=>p(j,d),m=j=>p(j,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),x.useEffect(()=>{if(o){const y=m=>{const j=m.target,b={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(j))||(d==null?void 0:d.contains(j)),g=!gJ(b,o);v?h():g&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(hL,{...e,ref:i})}),[cJ,uJ]=Ib(Dm,{isInside:!1}),dJ=rJ("TooltipContent"),hL=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Mb(Bd,r),u=Rb(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(CN,d),()=>document.removeEventListener(CN,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(Ob,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(dJ,{children:n}),s.jsx(cJ,{scope:r,isInside:!0,children:s.jsx(RG,{id:c.contentId,role:"tooltip",children:a||n})})]})})});fL.displayName=Bd;var mL="TooltipArrow",fJ=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Rb(r);return uJ(mL,r).isInside?null:s.jsx(Tb,{...a,...n,ref:t})});fJ.displayName=mL;function hJ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mJ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function pJ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function gJ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function xJ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vJ(t)}function vJ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var yJ=cL,bJ=uL,jJ=dL,pL=fL;const wJ=yJ,NJ=bJ,_J=jJ,gL=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(pL,{ref:n,sideOffset:t,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));gL.displayName=pL.displayName;const SJ=3e4,BA=["mousemove","keydown","click","scroll","touchstart"],kJ=5e3;function CJ(e=!1){const[,t]=Mn(),{toast:r}=mt(),[n,a]=x.useState(null),i=x.useRef(Date.now()),o=x.useRef(null),l=x.useRef(!1),c=x.useRef(!1),u=x.useCallback(h=>{o.current&&(clearInterval(o.current),o.current=null),c.current=!1,r({variant:"destructive",title:"Session Expired",description:h||"Please log in again to continue."}),setTimeout(()=>{t("/login")},1500)},[r,t]),d=x.useCallback(async()=>{try{const p=await(await ye("POST","/api/session/heartbeat")).json();p.success&&(a({sessionRemainingMs:p.sessionRemainingMs,inactivityTimeoutMs:p.inactivityTimeoutMs,reauthTimeoutMs:p.reauthTimeoutMs,isActive:!0}),l.current=!1)}catch(h){(h==null?void 0:h.code)==="SESSION_REAUTH_REQUIRED"||(h==null?void 0:h.code)==="SESSION_INACTIVITY_TIMEOUT"?u(h.reason||h.message):((h==null?void 0:h.status)===401||(h==null?void 0:h.status)===403)&&u("Your session has expired. Please log in again.")}},[u]),f=x.useCallback(()=>{const h=Date.now();h-i.current>kJ&&(i.current=h,d())},[d]);return x.useEffect(()=>{if(!(!e||c.current))return c.current=!0,d(),o.current=setInterval(d,SJ),BA.forEach(h=>{window.addEventListener(h,f,{passive:!0})}),()=>{o.current&&(clearInterval(o.current),o.current=null),BA.forEach(h=>{window.removeEventListener(h,f)}),c.current=!1}},[e,d,f]),x.useEffect(()=>{if(n&&n.sessionRemainingMs<6e4&&!l.current){l.current=!0;const h=Math.ceil(n.sessionRemainingMs/6e4);r({variant:"default",title:"Session Expiring Soon",description:`Your session will expire in ${h} minute(s). You will need to log in again.`})}},[n,r]),{sessionState:n,sendHeartbeat:d}}function PJ({children:e}){const{data:t,isLoading:r}=de({queryKey:["/api/auth/user"],retry:!1,staleTime:3e4});return CJ(!r&&!!t),s.jsx(s.Fragment,{children:e})}var ii=function(){return ii=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ii.apply(this,arguments)};function Rf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function EJ(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function AJ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const OJ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class c2 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class TJ extends c2{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VA extends c2{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qA extends c2{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var EN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(EN||(EN={}));class IJ{constructor(t,{headers:r={},customFetch:n,region:a=EN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=OJ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return EJ(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let j=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(j=o.signal,d.addEventListener("abort",()=>o.abort())):j=o.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:j}).catch(N=>{throw new TJ(N)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new VA(b);if(!b.ok)throw new qA(b);let g=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield b.json():g==="application/octet-stream"||g==="application/pdf"?w=yield b.blob():g==="text/event-stream"?w=b:g==="multipart/form-data"?w=yield b.formData():w=yield b.text(),{data:w,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof qA||l instanceof VA?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var RJ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},MJ=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&j&&j.length>1&&(c=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new RJ(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},$J=class extends MJ{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const zA=new RegExp("[,()]");var Ou=class extends $J{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&zA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&zA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},DJ=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Ou({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ou({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ou({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Ou({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ou({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},LJ=class xL{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new DJ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Ou({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class FJ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UJ="2.89.0",BJ=`realtime-js/${UJ}`,vL="1.0.0",VJ="2.0.0",WA=vL,AN=1e4,qJ=1e3,zJ=100;var Co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Co||(Co={}));var un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(un||(un={}));var Ia;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ia||(Ia={}));var ON;(function(e){e.websocket="websocket"})(ON||(ON={}));var ql;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ql||(ql={}));class WJ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,o.length),y.setUint8(m++,u.length),y.setUint8(m++,f.length),y.setUint8(m++,r),Array.from(c,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(m++,b.charCodeAt(0)));var j=new Uint8Array(p.byteLength+n.byteLength);return j.set(new Uint8Array(p),0),j.set(new Uint8Array(n),p.byteLength),j.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class yL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dr||(dr={}));const KA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=KJ(o,e,t,a),i),{}):{}},KJ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?bL(i,o):TN(o)},bL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YJ(t,r)}switch(e){case dr.bool:return HJ(t);case dr.float4:case dr.float8:case dr.int2:case dr.int4:case dr.int8:case dr.numeric:case dr.oid:return GJ(t);case dr.json:case dr.jsonb:return QJ(t);case dr.timestamp:return XJ(t);case dr.abstime:case dr.date:case dr.daterange:case dr.int4range:case dr.int8range:case dr.money:case dr.reltime:case dr.text:case dr.time:case dr.timestamptz:case dr.timetz:case dr.tsrange:case dr.tstzrange:return TN(t);default:return TN(t)}},TN=e=>e,HJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GJ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QJ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},YJ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bL(t,l))}return e},XJ=e=>typeof e=="string"?e.replace(" ","T"):e,jL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class iw{constructor(t,r,n={},a=AN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var HA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(HA||(HA={}));class tm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=tm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=tm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(j=>j.presence_ref),p=f.map(j=>j.presence_ref),y=d.filter(j=>p.indexOf(j.presence_ref)<0),m=f.filter(j=>h.indexOf(j.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(GA||(GA={}));var rm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rm||(rm={}));var Ti;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ti||(Ti={}));class Yu{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new iw(this,Ia.join,this.params,this.timeout),this.rejoinTimer=new yL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ia.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new tm(this),this.broadcastEndpointURL=jL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==un.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[rm.PRESENCE]&&this.bindings[rm.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ti.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ti.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Ti.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,j=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,b=[];for(let v=0;v<j;v++){const g=m[v],{filter:{event:w,schema:N,table:_,filter:S}}=g,C=p&&p[v];if(C&&C.event===w&&Yu.isFilterValueEqual(C.schema,N)&&Yu.isFilterValueEqual(C.table,_)&&Yu.isFilterValueEqual(C.filter,S))b.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=un.errored,t==null||t(Ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ti.SUBSCRIBED);return}}).receive("error",p=>{this.state=un.errored,t==null||t(Ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===un.joined&&t===rm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=un.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ia.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new iw(this,Ia.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=un.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new iw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zJ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ia;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,j;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(m=p.filter)===null||m===void 0?void 0:m.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,m,j,b,v,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return w&&((m=r.ids)===null||m===void 0?void 0:m.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:j,commit_timestamp:b,type:v,errors:g}=y;h=Object.assign(Object.assign({},{schema:m,table:j,commit_timestamp:b,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ia.close,{},t)}_onError(t){this._on(Ia.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=KA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=KA(t.columns,t.old_record)),r}}const ow=()=>{},Yg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JJ=[1e3,2e3,5e3,1e4],ZJ=1e4,eZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tZ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=AN,this.transport=null,this.heartbeatIntervalMs=Yg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ow,this.ref=0,this.reconnectTimer=null,this.vsn=WA,this.logger=ow,this.conn=null,this.sendBuffer=[],this.serializer=new WJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ON.websocket}`,this.httpEndpoint=jL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FJ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Co.connecting:return ql.Connecting;case Co.open:return ql.Open;case Co.closing:return ql.Closing;default:return ql.Closed}}isConnected(){return this.connectionState()===ql.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Yu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qJ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Yg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Co.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Co.open||this.conn.readyState===Co.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ia.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:BJ};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ia.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:AN,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Yg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ow,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:WA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>JJ[y-1]||ZJ,this.vsn){case vL:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,m)=>m(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,m)=>m(JSON.parse(y));break;case VJ:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Lm=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rZ(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function nZ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sZ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=rZ(e.baseUrl,n,a),c=await nZ(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,y=p==null?void 0:p.error;throw new Lm((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Xg(e){return e.join("")}var aZ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xg(e.namespace)}`}),!0}catch(t){if(t instanceof Lm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Lm&&r.status===409)return;throw r}}};function gu(e){return e.join("")}var iZ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Lm&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Lm&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},oZ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sZ({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aZ(this.client,t),this.tableOps=new iZ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},$b=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var lZ=class extends $b{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},IN=class extends $b{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const u2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cZ=()=>Response,RN=e=>{if(Array.isArray(e))return e.map(r=>RN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=RN(n)}),t},uZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dZ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function fZ(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hZ(e){var t=fZ(e,"string");return Fm(t)=="symbol"?t:t+""}function mZ(e,t,r){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const lw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pZ=async(e,t,r)=>{e instanceof await cZ()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new lZ(lw(n),a,i))}).catch(n=>{t(new IN(lw(n),n))}):t(new IN(lw(e),e))},gZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(uZ(n)?(a.headers=lt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),lt(lt({},a),r))};async function Xp(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,gZ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>pZ(c,l,n))})}async function Um(e,t,r,n){return Xp(e,"GET",t,r,n)}async function Ea(e,t,r,n,a){return Xp(e,"POST",t,n,a,r)}async function MN(e,t,r,n,a){return Xp(e,"PUT",t,n,a,r)}async function xZ(e,t,r,n){return Xp(e,"HEAD",t,lt(lt({},r),{},{noResolveJson:!0}),n)}async function d2(e,t,r,n,a){return Xp(e,"DELETE",t,n,a,r)}var vZ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}}};let wL;wL=Symbol.toStringTag;var yZ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[wL]="BlobDownloadBuilder",this.promise=null}asStream(){return new vZ(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}}};const bZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},YA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jZ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=u2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=lt(lt({},YA),n);let l=lt(lt({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=lt(lt({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?MN:Ea)(a.fetch,`${a.url}/object/${d}`,i,lt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=lt({upsert:YA.upsert},n),d=lt(lt({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await MN(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(kr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=lt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Ea(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new $b("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ea(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ea(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Ea(n.fetch,`${n.url}/object/sign/${a}`,lt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Ea(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>lt(lt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Um(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new yZ(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:RN(await Um(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await xZ(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(kr(n)&&n instanceof IN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await d2(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=lt(lt(lt({},bZ),t),{},{prefix:e||""});return{data:await Ea(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=lt({},e);return{data:await Ea(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const NL="2.89.0",_L={"X-Client-Info":`storage-js/${NL}`};var wZ=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=lt(lt({},_L),t),this.fetch=u2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Um(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Um(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ea(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await MN(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ea(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await d2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},NZ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},_L),t),this.fetch=u2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ea(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Um(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await d2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!dZ(e))throw new $b("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new oZ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const f2={"X-Client-Info":`storage-js/${NL}`,"Content-Type":"application/json"};var SL=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ts(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var cw=class extends SL{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_Z=class extends SL{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const h2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XA=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kZ=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new cw(XA(i),n,o))}).catch(()=>{const i=n+"";t(new cw(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new cw(a.statusText||`HTTP ${n} error`,n,i))}}else t(new _Z(XA(e),e))},CZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(SZ(n)?(a.headers=lt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,lt(lt({},a),r)):a};async function PZ(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,CZ(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>kZ(c,l,n))})}async function Is(e,t,r,n,a){return PZ(e,"POST",t,n,a,r)}var EZ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},f2),t),this.fetch=h2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Is(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Is(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ts(n))return{data:null,error:n};throw n}}},AZ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},f2),t),this.fetch=h2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Is(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Is(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Is(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}},OZ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=lt(lt({},f2),t),this.fetch=h2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Is(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Is(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ts(r))return{data:null,error:r};throw r}}},TZ=class extends OZ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new IZ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},IZ=class extends EZ{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new RZ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},RZ=class extends AZ{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,lt(lt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},MZ=class extends wZ{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new jZ(this.url,this.headers,e,this.fetch)}get vectors(){return new TZ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new NZ(this.url+"/iceberg",this.headers,this.fetch)}};const kL="2.89.0",Tu=30*1e3,$N=3,uw=$N*Tu,$Z="http://localhost:9999",DZ="supabase.auth.token",LZ={"X-Client-Info":`gotrue-js/${kL}`},DN="X-Supabase-Api-Version",CL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UZ=10*60*1e3;class Bm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BZ extends Bm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function VZ(e){return Ye(e)&&e.name==="AuthApiError"}class zl extends Bm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class co extends Bm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ks extends co{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qZ(e){return Ye(e)&&e.name==="AuthSessionMissingError"}class xu extends co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jg extends co{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zg extends co{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zZ(e){return Ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class JA extends co{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class WZ extends co{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class LN extends co{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dw(e){return Ye(e)&&e.name==="AuthRetryableFetchError"}class ZA extends co{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class FN extends co{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eO=` 	
\r=`.split(""),KZ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<eO.length;t+=1)e[eO[t].charCodeAt(0)]=-2;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=t;return e})();function tO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kv[n]),t.queuedBits-=6}}function PL(e,t,r){const n=KZ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rO(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{QZ(o,n,r)};for(let o=0;o<e.length;o+=1)PL(e.charCodeAt(o),a,i);return t.join("")}function HZ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GZ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}HZ(n,t)}}function QZ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)PL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function YZ(e){const t=[];return GZ(e,r=>t.push(r)),new Uint8Array(t)}function Yl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>tO(a,r,n)),tO(null,r,n),t.join("")}function XZ(e){return Math.round(Date.now()/1e3)+e}function JZ(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",El={tested:!1,writable:!1},EL=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function ZZ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const AL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Iu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Al=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cn=async(e,t)=>{await e.removeItem(t)};class Db{constructor(){this.promise=new Db.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Db.promiseConstructor=Promise;function fw(e){const t=e.split(".");if(t.length!==3)throw new FN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FZ.test(t[n]))throw new FN("JWT not in base64url format");return{header:JSON.parse(rO(t[0])),payload:JSON.parse(rO(t[1])),signature:fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function tee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ree(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function nee(e){return("0"+e.toString(16)).substr(-2)}function see(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,nee).join("")}async function aee(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function iee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await aee(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vu(e,t,r=!1){const n=see();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Iu(e,`${t}-code-verifier`,a);const i=await iee(n);return[i,n===i?"plain":"s256"]}const oee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lee(e){const t=e.headers.get(DN);if(!t||!t.match(oee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yu(e){if(!dee.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fee(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function nO(e){return JSON.parse(JSON.stringify(e))}const Ll=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hee=[502,503,504];async function sO(e){var t;if(!eee(e))throw new LN(Ll(e),0);if(hee.includes(e.status))throw new LN(Ll(e),e.status);let r;try{r=await e.json()}catch(i){throw new zl(Ll(i),i)}let n;const a=lee(e);if(a&&a.getTime()>=CL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ZA(Ll(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ks}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ZA(Ll(r),e.status,r.weak_password.reasons);throw new BZ(Ll(r),e.status||500,n)}const mee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ot(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[DN]||(i[DN]=CL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pee(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function pee(e,t,r,n,a,i){const o=mee(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new LN(Ll(c),0)}if(l.ok||await sO(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sO(c)}}function ka(e){var t;let r=null;vee(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=XZ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function aO(e){const t=ka(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Io(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gee(e){return{data:e,error:null}}function xee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Rf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function iO(e){return e}function vee(e){return e.access_token&&e.refresh_token&&e.expires_in}const mw=["global","local","others"];class yee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=AL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mw[0]){if(mw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mw.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Io})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Rf(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:xee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Io})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:iO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yu(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Io})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yu(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Io})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yu(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Io})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yu(t.userId);try{const{data:r,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yu(t.userId),yu(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:iO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ye(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}}function oO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const bu={debug:!!(globalThis&&EL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class OL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bee extends OL{}async function jee(e,t,r){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bee(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function wee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Nee(e){return parseInt(e,16)}function _ee(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function See(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=TL(e.address),y=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",j=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);v+=`
- ${g}`}b+=v}return`${j}
${b}`}class Qr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Cv extends Qr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function kee({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Qr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(IL(o)){if(i.rp.id!==o)return new Qr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Cee({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(IL(n)){if(r.rpId!==n)return new Qr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Pee{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Eee=new Pee;function Aee(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Rf(e,["challenge","user","excludeCredentials"]),i=fd(t).buffer,o=Object.assign(Object.assign({},r),{id:fd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:fd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Oee(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Rf(e,["challenge","allowCredentials"]),a=fd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:fd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Tee(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Iee(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yl(new Uint8Array(a.authenticatorData)),clientDataJSON:Yl(new Uint8Array(a.clientDataJSON)),signature:Yl(new Uint8Array(a.signature)),userHandle:a.userHandle?Yl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lO(){var e,t;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ree(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cv("Browser returned unexpected credential type",t)}:{data:null,error:new Cv("Empty credential response",t)}}catch(t){return{data:null,error:kee({error:t,options:e})}}}async function Mee(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cv("Browser returned unexpected credential type",t)}:{data:null,error:new Cv("Empty credential response",t)}}catch(t){return{data:null,error:Cee({error:t,options:e})}}}const $ee={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dee={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Pv(l,o):n[i]=Pv(o)}else n[i]=o}return n}function Lee(e,t){return Pv($ee,e,t||{})}function Fee(e,t){return Pv(Dee,e,t||{})}class Uee{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??Eee.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Lee(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Ree({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Fee(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Mee(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new zl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Bm("rpId is required for WebAuthn authentication")};try{if(!lO())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new zl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Bm("rpId is required for WebAuthn registration")};try{if(!lO())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ye(o)?{data:null,error:o}:{data:null,error:new zl("Unexpected error in register",o)}}}}wee();const Bee={url:$Z,storageKey:DZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cO(e,t,r){return await r()}const ju={};class Vm{get jwks(){var t,r;return(r=(t=ju[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ju[this.storageKey]=Object.assign(Object.assign({},ju[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ju[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ju[this.storageKey]=Object.assign(Object.assign({},ju[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Bee),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Vm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yee({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AL(i.fetch),this.lock=i.lock||cO,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Pn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jee:this.lock=cO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uee(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:EL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oO(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=oO(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Pn()&&(r=ZZ(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Pn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zZ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ye(r)?this._returnResult({error:r}):this._returnResult({error:new zl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ka}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await vu(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:ka})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ka})}else throw new Jg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Cn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:aO})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:aO})}else throw new Jg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new xu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:j,statement:b,options:v}=t;let g;if(Pn())if(typeof j=="object")g=j;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")g=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=j}const w=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),N=await g.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=TL(N[0]);let S=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const P=await g.request({method:"eth_chainId"});S=Nee(P)}const C={domain:w.host,address:_,statement:b,uri:w.href,version:"1",chainId:S,nonce:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=See(C),y=await g.request({method:"personal_sign",params:[_ee(p),_]})}try{const{data:m,error:j}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ka});if(j)throw j;if(!m||!m.session||!m.user){const b=new xu;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:j})}catch(m){if(Ye(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:j,wallet:b,statement:v,options:g}=t;let w;if(Pn())if(typeof b=="object")w=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))w=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const N=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const _=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:j,error:b}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Yl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ka});if(b)throw b;if(!j||!j.session||!j.user){const v=new xu;return this._returnResult({data:{user:null,session:null},error:v})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:b})}catch(j){if(Ye(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await Al(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new WZ;const{data:i,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ka});if(await Cn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new xu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ka}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new xu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vu(this.storage,this.storageKey));const{error:f}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Jg("You must provide either an email or phone number.")}catch(l){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ka});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await vu(this.storage,this.storageKey));const u=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:gee});return!((i=u.data)===null||i===void 0)&&i.url&&Pn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ks;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Jg("You must provide either an email or phone number and a type")}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Al(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=fee(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Io}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ks}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Io})})}catch(r){if(Ye(r))return qZ(r)&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ks;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vu(this.storage,this.storageKey));const{data:u,error:d}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Io});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ks;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=fw(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ks;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Pn())throw new Zg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new JA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new JA("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Zg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:j}=await this._getUser(i);if(j)throw j;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(VZ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=JZ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await vu(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ka}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new xu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await Cn(this.storage,`${this.storageKey}-code-verifier`),Ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ree(async a=>(a>0&&await tee(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ka})),(a,i)=>{const o=200*Math.pow(2,a);return i&&dw(i)&&Date.now()+o-n<Tu})}catch(n){if(this._debug(r,"error",n),Ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Al(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Iu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hw()}else if(a&&!a.user&&!a.user){const o=await Al(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Cn(this.storage,this.storageKey+"-user"),await Iu(this.storage,this.storageKey,a)):a.user=hw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),dw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Db;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ks;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ye(i)){const o={data:null,error:i};return dw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Iu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=nO(a);await Iu(this.storage,this.storageKey,i)}else{const a=nO(r);await Iu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Cn(this.storage,this.storageKey),await Cn(this.storage,this.storageKey+"-code-verifier"),await Cn(this.storage,this.storageKey+"-user"),this.userStorage&&await Cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Tu}ms, refresh threshold is ${$N} ticks`),a<=$N&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof OL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await vu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Tee(t.webauthn.credential_response):Iee(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Aee(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Oee(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=fw(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ks})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ks});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ks});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ks})})}catch(t){if(Ye(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ks})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+UZ>a)return n;const{data:i,error:o}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=fw(n);r!=null&&r.allowExpired||cee(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=uee(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,YZ(`${l}.${c}`)))throw new FN("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}}Vm.nextInstanceID={};const Vee=Vm,qee="2.89.0";let $h="";typeof Deno<"u"?$h="deno":typeof document<"u"?$h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$h="react-native":$h="node";const zee={"X-Client-Info":`supabase-js-${$h}/${qee}`},Wee={headers:zee},Kee={schema:"public"},Hee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gee={};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function Qee(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yee(e){var t=Qee(e,"string");return qm(t)=="symbol"?t:t+""}function Xee(e,t,r){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Jee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zee=()=>Headers,ete=(e,t,r)=>{const n=Jee(r),a=Zee();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,$r($r({},o),{},{headers:u}))}};function tte(e){return e.endsWith("/")?e:e+"/"}function rte(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:$r($r({},c),a),auth:$r($r({},u),i),realtime:$r($r({},d),o),storage:{},global:$r($r($r({},f),l),{},{headers:$r($r({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function nte(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tte(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ste=class extends Vee{constructor(e){super(e)}},ate=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=nte(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Kee,realtime:Gee,auth:$r($r({},Hee),{},{storageKey:o}),global:Wee},c=rte(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ete(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient($r({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new LJ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new MZ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new IJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ste({url:this.authUrl.href,headers:$r($r({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tZ(this.realtimeUrl.href,$r($r({},e),{},{params:$r($r({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ite=(e,t,r)=>new ate(e,t,r);function ote(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ote()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let pw=null,dO=!1,ex=null,zm=null,Wm=null;const lte="quarterdeck-auth";async function cte(){if(!dO)return ex||(ex=(async()=>{try{console.log("[Supabase] Loading config from /api/public-config...");const t=await(await fetch("/api/public-config")).json();if(zm=t.supabaseUrl,Wm=t.supabaseAnonKey,console.log("[Supabase] Config loaded:",{hasUrl:!!zm,hasKey:!!Wm}),typeof window<"u"){const r=Object.keys(localStorage).filter(n=>n.includes("auth")||n.includes("supabase")||n.includes("sb-"));console.log("[Supabase] Auth-related localStorage keys:",r)}}catch(e){console.error("[Supabase] Failed to load config:",e)}dO=!0})(),ex)}function RL(){return!!(zm&&Wm)}function Ol(){if(!zm||!Wm)throw new Error("Supabase is not configured. Please ensure config is loaded first.");return pw||(console.log("[Supabase] Creating client"),pw=ite(zm,Wm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:lte}})),pw}const ML=x.createContext(null);function ute({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0,isAuthenticated:!1}),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const g=await fetch("/api/auth/user",{credentials:"include"});if(g.ok){const w=await g.json();w.id==="dev-user-bypass"&&(console.log("[Auth] Dev bypass detected, using mock user"),d(!0),r({user:{id:w.id,email:w.email,user_metadata:{firstName:w.firstName,lastName:w.lastName}},session:null,isLoading:!1,isAuthenticated:!0}))}}catch{console.log("[Auth] Dev bypass check failed, continuing with normal auth")}c(!0)})()},[]),x.useEffect(()=>{!l||u||(console.log("[Auth] Loading Supabase config..."),cte().then(()=>{const v=RL();console.log("[Auth] Config loaded, isConfigured:",v),o(!0),a(v)}))},[l,u]),x.useEffect(()=>{if(u){console.log("[Auth] Dev bypass active, skipping Supabase init");return}if(!i){console.log("[Auth] Waiting for config to load...");return}if(!n){console.log("[Auth] Supabase not configured, skipping auth init"),r(w=>({...w,isLoading:!1}));return}console.log("[Auth] Initializing auth...");let v;try{v=Ol()}catch(w){console.error("[Auth] Failed to get Supabase client:",w),r(N=>({...N,isLoading:!1}));return}console.log("[Auth] Getting session..."),v.auth.getSession().then(({data:{session:w},error:N})=>{var _;console.log("[Auth] getSession result:",{hasSession:!!w,user:(_=w==null?void 0:w.user)==null?void 0:_.email,error:N==null?void 0:N.message}),r({user:(w==null?void 0:w.user)??null,session:w,isLoading:!1,isAuthenticated:!!(w!=null&&w.user)}),w!=null&&w.user&&(console.log("[Auth] User found, syncing to backend..."),f(w))});const{data:{subscription:g}}=v.auth.onAuthStateChange(async(w,N)=>{var _;console.log("[Auth] onAuthStateChange:",w,(_=N==null?void 0:N.user)==null?void 0:_.email),r({user:(N==null?void 0:N.user)??null,session:N,isLoading:!1,isAuthenticated:!!(N!=null&&N.user)}),w==="SIGNED_IN"&&N&&(console.log("[Auth] User signed in, syncing to backend..."),await f(N),re.invalidateQueries({queryKey:["/api/auth/user"]})),w==="SIGNED_OUT"&&(console.log("[Auth] User signed out"),re.invalidateQueries({queryKey:["/api/auth/user"]}))});return()=>g.unsubscribe()},[i,n,u]);const f=async v=>{var g,w,N,_;try{const S=await fetch("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v.access_token}`},body:JSON.stringify({supabaseUserId:v.user.id,email:v.user.email,firstName:((g=v.user.user_metadata)==null?void 0:g.firstName)||((w=v.user.user_metadata)==null?void 0:w.first_name),lastName:((N=v.user.user_metadata)==null?void 0:N.lastName)||((_=v.user.user_metadata)==null?void 0:_.last_name)})});if(console.log("[Auth] Sync response:",S.status),S.status===403){const C=await S.json();return console.log("[Auth] Email verification required:",C.message),{success:!1,requiresEmailVerification:!0,error:C.message}}return S.ok?{success:!0}:{success:!1,error:(await S.json()).message||"Sync failed"}}catch(S){return console.error("[Auth] Failed to sync user to backend:",S),{success:!1,error:"Network error during sync"}}},h=x.useCallback(async(v,g,w)=>{if(!n)return{error:{message:"Supabase not configured"}};const N=Ol(),{error:_}=await N.auth.signUp({email:v,password:g,options:{data:w,emailRedirectTo:`${window.location.origin}/auth/callback`}});return{error:_}},[n]),p=x.useCallback(async(v,g)=>{var S;if(!n)return console.log("[Auth] signIn failed - not configured"),{error:{message:"Supabase not configured"}};console.log("[Auth] signIn called for:",v);const w=Ol(),{data:N,error:_}=await w.auth.signInWithPassword({email:v,password:g});if(_)return console.log("[Auth] signIn error:",_.message),{error:_};if(console.log("[Auth] signIn success:",(S=N.user)==null?void 0:S.email),N.session){const C=await f(N.session);if(!C.success)return C.requiresEmailVerification?(console.log("[Auth] Email verification required, signing out..."),await w.auth.signOut(),localStorage.removeItem("quarterdeck-auth"),{error:{message:"Please verify your email address before signing in. Check your inbox for a verification link."},requiresEmailVerification:!0}):{error:{message:C.error||"Failed to establish session"}}}return{}},[n]),y=x.useCallback(async()=>{if(console.log("[Auth] signOut called"),r({user:null,session:null,isLoading:!1,isAuthenticated:!1}),re.clear(),localStorage.removeItem("quarterdeck-auth"),n)try{await Ol().auth.signOut()}catch(v){console.error("[Auth] Supabase signOut error:",v)}try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(v){console.error("[Auth] Backend logout error:",v)}console.log("[Auth] signOut complete")},[n]),m=x.useCallback(async v=>{if(!n)return{error:{message:"Supabase not configured"}};const g=Ol(),{error:w}=await g.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/auth/reset-password`});return{error:w}},[n]),j=x.useCallback(async v=>{if(!n)return{error:{message:"Supabase not configured"}};const g=Ol(),{error:w}=await g.auth.updateUser({password:v});return{error:w}},[n]),b=x.useCallback(async v=>{if(!n)return{error:{message:"Supabase not configured"}};const g=Ol(),{error:w}=await g.auth.signInWithOAuth({provider:v,options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:w}},[n]);return s.jsx(ML.Provider,{value:{...t,signUp:h,signIn:p,signInWithOAuth:b,signOut:y,resetPassword:m,updatePassword:j,isSupabaseConfigured:n,useSupabaseAuth:n},children:e})}function Mf(){const e=x.useContext(ML);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}function dte(){const[e]=Mn(),{data:t}=de({queryKey:["/api/admin/config"],queryFn:async()=>{try{const y=await fetch("/api/admin/config");return y.ok?await y.json():{}}catch{return{}}}}),{data:r,isLoading:n}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const y=await fetch("/api/site-settings");if(!y.ok)return{};const m=await y.json();return m&&typeof m=="object"&&!m.message?m:{}}catch{return{}}}}),a=(r==null?void 0:r.whatsapp_button_visible)==="true",i=(r==null?void 0:r.whatsapp_phone)||"",o=(r==null?void 0:r.whatsapp_default_message)||"",l=(r==null?void 0:r.whatsapp_button_text)||"Chat on WhatsApp",c=t==null?void 0:t.adminPath,u=c?e.startsWith(`/${c}`):!1,d=e==="/booking"||e.startsWith("/booking/");if(n||!a||!i||u||d)return null;const f=i.replace(/[^0-9]/g,""),h=window.encodeURIComponent(o),p=`https://wa.me/${f}${o?`?text=${h}`:""}`;return s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5A] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-105 group","data-testid":"button-whatsapp-float","aria-label":l,children:[s.jsx(bQ,{className:"w-6 h-6"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:l})]})}var fte=Symbol.for("react.lazy"),Ev=Zy[" use ".trim().toString()];function hte(e){return typeof e=="object"&&e!==null&&"then"in e}function $L(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===fte&&"_payload"in e&&hte(e._payload)}function Lb(e){const t=mte(e),r=x.forwardRef((n,a)=>{let{children:i,...o}=n;$L(i)&&typeof Ev=="function"&&(i=Ev(i._payload));const l=x.Children.toArray(i),c=l.find(gte);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var m2=Lb("Slot");function mte(e){const t=x.forwardRef((r,n)=>{let{children:a,...i}=r;if($L(a)&&typeof Ev=="function"&&(a=Ev(a._payload)),x.isValidElement(a)){const o=vte(a),l=xte(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pte=Symbol("radix.slottable");function gte(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pte}function xte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function vte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const p2=Kp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?m2:"button";return s.jsx(o,{className:je(p2({variant:t,size:r,className:e})),ref:i,...a})});$.displayName="Button";function yte(){const[e,t]=x.useState(!1);x.useEffect(()=>{const n=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsx($,{size:"icon",variant:"outline",className:`fixed bottom-6 right-20 z-50 rounded-full shadow-lg transition-all duration-300 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border border-border ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,onClick:r,"aria-label":"Scroll to top","data-testid":"button-scroll-to-top",children:s.jsx(nQ,{className:"h-4 w-4"})})}function bte(){const[e]=Mn();return x.useEffect(()=>{e.includes("#")||window.scrollTo({top:0,behavior:"instant"})},[e]),null}function Jp(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/admin/config"],queryFn:async()=>{const n=await fetch("/api/admin/config",{credentials:"include"});if(!n.ok)throw new Error("Not authorized to access admin config");return n.json()},retry:!1,staleTime:18e5});return{adminPath:(e==null?void 0:e.adminPath)||"admin",isLoading:t,error:r,isAuthorized:!!e&&!r}}function jte({onLoaded:e,minDisplayTime:t=800}){const[r,n]=x.useState(0),[a,i]=x.useState(!1),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const u=await fetch("/api/site-settings");if(!u.ok)return{};const d=await u.json();return d&&typeof d=="object"&&!d.message?d:{}}catch{return{}}},staleTime:1e3*60*10}),l=o==null?void 0:o.logo_main_url,c=(o==null?void 0:o.site_name)||"The Quarterdeck";return x.useEffect(()=>{const u=Date.now(),d=setInterval(()=>{const f=Date.now()-u,h=Math.min(f/t*100,100);n(h),h>=100&&(clearInterval(d),i(!0),setTimeout(()=>{e()},400))},16);return()=>clearInterval(d)},[t,e]),s.jsx("div",{className:`fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-background transition-opacity duration-400 ${a?"opacity-0":"opacity-100"}`,"data-testid":"logo-loader",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[l?s.jsx("img",{src:l,alt:c,className:"h-16 w-auto animate-pulse","data-testid":"img-loader-logo"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center animate-pulse",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:"Q"})}),s.jsx("div",{className:"w-48 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-100 ease-out",style:{width:`${r}%`},"data-testid":"loader-progress-bar"})}),s.jsx("p",{className:"text-sm text-muted-foreground animate-pulse","data-testid":"text-loader-status",children:"Loading..."})]})})}const wte=()=>{const[e]=Mn(),t=x.useRef(e);x.useEffect(()=>{e!==t.current&&(t.current=e)},[e])},Av="/assets/dark_elegant_sports__61a0b4ec-CXuzKOFY.jpg";function bl(){const{data:e,isLoading:t,error:r}=de({queryKey:["/api/auth/user"],queryFn:B5({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e,error:r}}function fO(){const[e,t]=x.useState("light");x.useEffect(()=>{const n=localStorage.getItem("qd-theme");n?(t(n),document.documentElement.classList.toggle("dark",n==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"))},[]);const r=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("qd-theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return s.jsx($,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full","data-testid":"button-theme-toggle",children:e==="light"?s.jsx(NQ,{className:"w-4 h-4"}):s.jsx($Q,{className:"w-4 h-4"})})}var gw=0;function Fb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hO()),document.body.insertAdjacentElement("beforeend",e[1]??hO()),gw++,()=>{gw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gw--}},[])}function hO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xw="focusScope.autoFocusOnMount",vw="focusScope.autoFocusOnUnmount",mO={bubbles:!1,cancelable:!0},Nte="FocusScope",Zp=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Ur(a),d=Ur(i),f=x.useRef(null),h=ut(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(g){if(p.paused||!l)return;const w=g.target;l.contains(w)?f.current=w:_o(f.current,{select:!0})},j=function(g){if(p.paused||!l)return;const w=g.relatedTarget;w!==null&&(l.contains(w)||_o(f.current,{select:!0}))},b=function(g){if(document.activeElement===document.body)for(const N of g)N.removedNodes.length>0&&_o(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",j);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",j),v.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){gO.add(p);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(xw,mO);l.addEventListener(xw,u),l.dispatchEvent(b),b.defaultPrevented||(_te(Ete(DL(l)),{select:!0}),document.activeElement===m&&_o(l))}return()=>{l.removeEventListener(xw,u),setTimeout(()=>{const b=new CustomEvent(vw,mO);l.addEventListener(vw,d),l.dispatchEvent(b),b.defaultPrevented||_o(m??document.body,{select:!0}),l.removeEventListener(vw,d),gO.remove(p)},0)}}},[l,u,d,p]);const y=x.useCallback(m=>{if(!r&&!n||p.paused)return;const j=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(j&&b){const v=m.currentTarget,[g,w]=Ste(v);g&&w?!m.shiftKey&&b===w?(m.preventDefault(),r&&_o(g,{select:!0})):m.shiftKey&&b===g&&(m.preventDefault(),r&&_o(w,{select:!0})):b===v&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Re.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Zp.displayName=Nte;function _te(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_o(n,{select:t}),document.activeElement!==r)return}function Ste(e){const t=DL(e),r=pO(t,e),n=pO(t.reverse(),e);return[r,n]}function DL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pO(e,t){for(const r of e)if(!kte(r,{upTo:t}))return r}function kte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Cte(e){return e instanceof HTMLInputElement&&"select"in e}function _o(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Cte(e)&&t&&e.select()}}var gO=Pte();function Pte(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=xO(e,t),e.unshift(t)},remove(t){var r;e=xO(e,t),(r=e[0])==null||r.resume()}}}function xO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ete(e){return e.filter(t=>t.tagName!=="A")}function Ate(e){const t=Ote(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Ite);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Ote(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Mte(a),l=Rte(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tte=Symbol("radix.slottable");function Ite(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tte}function Rte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Mte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $te=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wu=new WeakMap,tx=new WeakMap,rx={},yw=0,LL=function(e){return e&&(e.host||LL(e.parentNode))},Dte=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=LL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lte=function(e,t,r,n){var a=Dte(t,Array.isArray(e)?e:[e]);rx[r]||(rx[r]=new WeakMap);var i=rx[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(wu.get(h)||0)+1,j=(i.get(h)||0)+1;wu.set(h,m),i.set(h,j),o.push(h),m===1&&y&&tx.set(h,!0),j===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),yw++,function(){o.forEach(function(f){var h=wu.get(f)-1,p=i.get(f)-1;wu.set(f,h),i.set(f,p),h||(tx.has(f)||f.removeAttribute(n),tx.delete(f)),p||f.removeAttribute(r)}),yw--,yw||(wu=new WeakMap,wu=new WeakMap,tx=new WeakMap,rx={})}},Ub=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=$te(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Lte(n,a,r,"aria-hidden")):function(){return null}},Ux="right-scroll-bar-position",Bx="width-before-scroll-bar",Fte="with-scroll-bars-hidden",Ute="--removed-body-scroll-bar-size";function bw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Bte(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Vte=typeof window<"u"?x.useLayoutEffect:x.useEffect,vO=new WeakMap;function qte(e,t){var r=Bte(null,function(n){return e.forEach(function(a){return bw(a,n)})});return Vte(function(){var n=vO.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||bw(l,null)}),i.forEach(function(l){a.has(l)||bw(l,o)})}vO.set(r,e)},[e]),r}function zte(e){return e}function Wte(e,t){t===void 0&&(t=zte);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Kte(e){e===void 0&&(e={});var t=Wte(null);return t.options=ii({async:!0,ssr:!1},e),t}var FL=function(e){var t=e.sideCar,r=Rf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,ii({},r))};FL.isSideCarExport=!0;function Hte(e,t){return e.useMedium(t),FL}var UL=Kte(),jw=function(){},Bb=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:jw,onWheelCapture:jw,onTouchMoveCapture:jw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,j=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,g=e.gapMode,w=Rf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=qte([r,t]),S=ii(ii({},w),a);return x.createElement(x.Fragment,null,d&&x.createElement(N,{sideCar:UL,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!j,lockRef:r,gapMode:g}),o?x.cloneElement(x.Children.only(l),ii(ii({},S),{ref:_})):x.createElement(v,ii({},S,{className:c,ref:_}),l))});Bb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bb.classNames={fullWidth:Bx,zeroRight:Ux};var Gte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gte();return t&&e.setAttribute("nonce",t),e}function Yte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xte(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jte=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Qte())&&(Yte(t,r),Xte(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zte=function(){var e=Jte();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},BL=function(){var e=Zte(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},ere={left:0,top:0,right:0,gap:0},ww=function(e){return parseInt(e||"",10)||0},tre=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ww(r),ww(n),ww(a)]},rre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ere;var t=tre(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nre=BL(),hd="data-scroll-locked",sre=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Fte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(hd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ux,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Bx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ux," .").concat(Ux,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Bx," .").concat(Bx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(hd,`] {
    `).concat(Ute,": ").concat(l,`px;
  }
`)},yO=function(){var e=parseInt(document.body.getAttribute(hd)||"0",10);return isFinite(e)?e:0},are=function(){x.useEffect(function(){return document.body.setAttribute(hd,(yO()+1).toString()),function(){var e=yO()-1;e<=0?document.body.removeAttribute(hd):document.body.setAttribute(hd,e.toString())}},[])},ire=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;are();var i=x.useMemo(function(){return rre(a)},[a]);return x.createElement(nre,{styles:sre(i,!t,a,r?"":"!important")})},UN=!1;if(typeof window<"u")try{var nx=Object.defineProperty({},"passive",{get:function(){return UN=!0,!0}});window.addEventListener("test",nx,nx),window.removeEventListener("test",nx,nx)}catch{UN=!1}var Nu=UN?{passive:!1}:!1,ore=function(e){return e.tagName==="TEXTAREA"},VL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ore(e)&&r[t]==="visible")},lre=function(e){return VL(e,"overflowY")},cre=function(e){return VL(e,"overflowX")},bO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=qL(e,n);if(a){var i=zL(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ure=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dre=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qL=function(e,t){return e==="v"?lre(t):cre(t)},zL=function(e,t){return e==="v"?ure(t):dre(t)},fre=function(e,t){return e==="h"&&t==="rtl"?-1:1},hre=function(e,t,r,n,a){var i=fre(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=zL(e,l),y=p[0],m=p[1],j=p[2],b=m-j-i*y;(y||b)&&qL(e,l)&&(f+=b,h+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},sx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jO=function(e){return[e.deltaX,e.deltaY]},wO=function(e){return e&&"current"in e?e.current:e},mre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gre=0,_u=[];function xre(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(gre++)[0],i=x.useState(BL)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=AJ([e.lockRef.current],(e.shards||[]).map(wO),!0).filter(Boolean);return m.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,j){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=sx(m),v=r.current,g="deltaX"in m?m.deltaX:v[0]-b[0],w="deltaY"in m?m.deltaY:v[1]-b[1],N,_=m.target,S=Math.abs(g)>Math.abs(w)?"h":"v";if("touches"in m&&S==="h"&&_.type==="range")return!1;var C=window.getSelection(),P=C&&C.anchorNode,k=P?P===_||P.contains(_):!1;if(k)return!1;var A=bO(S,_);if(!A)return!0;if(A?N=S:(N=S==="v"?"h":"v",A=bO(S,_)),!A)return!1;if(!n.current&&"changedTouches"in m&&(g||w)&&(n.current=N),!N)return!0;var O=n.current||N;return hre(O,j,m,O==="h"?g:w)},[]),c=x.useCallback(function(m){var j=m;if(!(!_u.length||_u[_u.length-1]!==i)){var b="deltaY"in j?jO(j):sx(j),v=t.current.filter(function(N){return N.name===j.type&&(N.target===j.target||j.target===N.shadowParent)&&mre(N.delta,b)})[0];if(v&&v.should){j.cancelable&&j.preventDefault();return}if(!v){var g=(o.current.shards||[]).map(wO).filter(Boolean).filter(function(N){return N.contains(j.target)}),w=g.length>0?l(j,g[0]):!o.current.noIsolation;w&&j.cancelable&&j.preventDefault()}}},[]),u=x.useCallback(function(m,j,b,v){var g={name:m,delta:j,target:b,should:v,shadowParent:vre(b)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(w){return w!==g})},1)},[]),d=x.useCallback(function(m){r.current=sx(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,jO(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,sx(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return _u.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Nu),document.addEventListener("touchmove",c,Nu),document.addEventListener("touchstart",d,Nu),function(){_u=_u.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Nu),document.removeEventListener("touchmove",c,Nu),document.removeEventListener("touchstart",d,Nu)}},[]);var p=e.removeScrollBar,y=e.inert;return x.createElement(x.Fragment,null,y?x.createElement(i,{styles:pre(a)}):null,p?x.createElement(ire,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function vre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yre=Hte(UL,xre);var eg=x.forwardRef(function(e,t){return x.createElement(Bb,ii({},e,{ref:t,sideCar:yre}))});eg.classNames=Bb.classNames;var Vb="Popover",[WL]=gn(Vb,[yl]),tg=yl(),[bre,jl]=WL(Vb),KL=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=tg(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=ss({prop:n,defaultProp:a??!1,onChange:i,caller:Vb});return s.jsx(Ab,{...l,children:s.jsx(bre,{scope:t,contentId:Jr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};KL.displayName=Vb;var HL="PopoverAnchor",jre=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jl(HL,r),i=tg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Yp,{...i,...n,ref:t})});jre.displayName=HL;var GL="PopoverTrigger",QL=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jl(GL,r),i=tg(r),o=ut(t,a.triggerRef),l=s.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eF(a.open),...n,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Yp,{asChild:!0,...i,children:l})});QL.displayName=GL;var g2="PopoverPortal",[wre,Nre]=WL(g2,{forceMount:void 0}),YL=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=jl(g2,t);return s.jsx(wre,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(Pf,{asChild:!0,container:a,children:n})})})};YL.displayName=g2;var Vd="PopoverContent",XL=x.forwardRef((e,t)=>{const r=Nre(Vd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=jl(Vd,e.__scopePopover);return s.jsx(rn,{present:n||i.open,children:i.modal?s.jsx(Sre,{...a,ref:t}):s.jsx(kre,{...a,ref:t})})});XL.displayName=Vd;var _re=Ate("PopoverContent.RemoveScroll"),Sre=x.forwardRef((e,t)=>{const r=jl(Vd,e.__scopePopover),n=x.useRef(null),a=ut(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Ub(o)},[]),s.jsx(eg,{as:_re,allowPinchZoom:!0,children:s.jsx(JL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),kre=x.forwardRef((e,t)=>{const r=jl(Vd,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(JL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),JL=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=jl(Vd,r),p=tg(r);return Fb(),s.jsx(Zp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(Ob,{"data-state":eF(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZL="PopoverClose",Cre=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jl(ZL,r);return s.jsx(Re.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});Cre.displayName=ZL;var Pre="PopoverArrow",Ere=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=tg(r);return s.jsx(Tb,{...a,...n,ref:t})});Ere.displayName=Pre;function eF(e){return e?"open":"closed"}var Are=KL,Ore=QL,Tre=YL,tF=XL;const Ire=Are,Rre=Ore,rF=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Tre,{children:s.jsx(tF,{ref:a,align:t,sideOffset:r,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));rF.displayName=tF.displayName;var Mre=x.createContext(void 0);function Gc(e){const t=x.useContext(Mre);return e||t||"ltr"}function BN(e,[t,r]){return Math.min(r,Math.max(t,e))}function $re(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var x2="ScrollArea",[nF]=gn(x2),[Dre,va]=nF(x2),sF=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(null),[m,j]=x.useState(null),[b,v]=x.useState(0),[g,w]=x.useState(0),[N,_]=x.useState(!1),[S,C]=x.useState(!1),P=ut(t,A=>c(A)),k=Gc(a);return s.jsx(Dre,{scope:r,type:n,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:j,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:w,children:s.jsx(Re.div,{dir:k,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":g+"px",...e.style}})})});sF.displayName=x2;var aF="ScrollAreaViewport",iF=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=va(aF,r),l=x.useRef(null),c=ut(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Re.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});iF.displayName=aF;var ji="ScrollAreaScrollbar",v2=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=va(ji,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Lre,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Fre,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(oF,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(y2,{...n,ref:t}):null});v2.displayName=ji;var Lre=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=va(ji,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(rn,{present:r||i,children:s.jsx(oF,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Fre=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=va(ji,e.__scopeScrollArea),i=e.orientation==="horizontal",o=zb(()=>c("SCROLL_END"),100),[l,c]=$re("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(rn,{present:r||l!=="hidden",children:s.jsx(y2,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oF=x.forwardRef((e,t)=>{const r=va(ji,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=zb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return qd(r.viewport,c),qd(r.content,c),s.jsx(rn,{present:n||i,children:s.jsx(y2,{"data-state":i?"visible":"hidden",...a,ref:t})})}),y2=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=va(ji,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=fF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Wre(h,o.current,l,p)}return r==="horizontal"?s.jsx(Ure,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=NO(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(Bre,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=NO(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Ure=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=va(ji,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=ut(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(cF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),mF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Tv(o.paddingLeft),paddingEnd:Tv(o.paddingRight)}})}})}),Bre=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=va(ji,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=ut(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(cF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),mF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Tv(o.paddingTop),paddingEnd:Tv(o.paddingBottom)}})}})}),[Vre,lF]=nF(ji),cF=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=va(ji,r),[y,m]=x.useState(null),j=ut(t,P=>m(P)),b=x.useRef(null),v=x.useRef(""),g=p.viewport,w=n.content-n.viewport,N=Ur(d),_=Ur(c),S=zb(f,10);function C(P){if(b.current){const k=P.clientX-b.current.left,A=P.clientY-b.current.top;u({x:k,y:A})}}return x.useEffect(()=>{const P=k=>{const A=k.target;(y==null?void 0:y.contains(A))&&N(k,w)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[g,y,w,N]),x.useEffect(_,[n,_]),qd(y,S),qd(p.content,S),s.jsx(Vre,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ur(i),onThumbPointerUp:Ur(o),onThumbPositionChange:_,onThumbPointerDown:Ur(l),children:s.jsx(Re.div,{...h,ref:j,style:{position:"absolute",...h.style},onPointerDown:Ne(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:Ne(e.onPointerMove,C),onPointerUp:Ne(e.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Ov="ScrollAreaThumb",uF=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=lF(Ov,e.__scopeScrollArea);return s.jsx(rn,{present:r||a.hasThumb,children:s.jsx(qre,{ref:t,...n})})}),qre=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=va(Ov,r),o=lF(Ov,r),{onThumbPositionChange:l}=o,c=ut(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=zb(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Kre(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Re.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});uF.displayName=Ov;var b2="ScrollAreaCorner",dF=x.forwardRef((e,t)=>{const r=va(b2,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(zre,{...e,ref:t}):null});dF.displayName=b2;var zre=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=va(b2,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return qd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),qd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Re.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Tv(e){return e?parseInt(e,10):0}function fF(e,t){const r=e/t;return isNaN(r)?0:r}function qb(e){const t=fF(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Wre(e,t,r,n="ltr"){const a=qb(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return hF([c,u],f)(e)}function NO(e,t,r="ltr"){const n=qb(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=BN(e,c);return hF([0,o],[0,l])(u)}function hF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function mF(e,t){return e>0&&e<t}var Kre=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function zb(e,t){const r=Ur(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function qd(e,t){const r=Ur(t);Br(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var pF=sF,Hre=iF,Gre=dF;const gF=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pF,{ref:n,className:je("relative overflow-hidden",e),...r,children:[s.jsx(Hre,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(xF,{}),s.jsx(Gre,{})]}));gF.displayName=pF.displayName;const xF=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(v2,{ref:n,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(uF,{className:"relative flex-1 rounded-full bg-border"})}));xF.displayName=v2.displayName;function er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function dl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const vF=6048e5,Qre=864e5,ax=43200,_O=1440;let Yre={};function rg(){return Yre}function Km(e,t){var l,c,u,d;const r=rg(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=er(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Iv(e){return Km(e,{weekStartsOn:1})}function yF(e){const t=er(e),r=t.getFullYear(),n=dl(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Iv(n),i=dl(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Iv(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function SO(e){const t=er(e);return t.setHours(0,0,0,0),t}function Rv(e){const t=er(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function bF(e,t){const r=SO(e),n=SO(t),a=+r-Rv(r),i=+n-Rv(n);return Math.round((a-i)/Qre)}function Xre(e){const t=yF(e),r=dl(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Iv(r)}function Vx(e,t){const r=er(e),n=er(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Jre(e){return dl(e,Date.now())}function Zre(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ene(e){if(!Zre(e)&&typeof e!="number")return!1;const t=er(e);return!isNaN(Number(t))}function tne(e,t){const r=er(e),n=er(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function rne(e,t){const r=er(e),n=er(t),a=kO(r,n),i=Math.abs(bF(r,n));r.setDate(r.getDate()-a*i);const o=+(kO(r,n)===-a),l=a*(i-o);return l===0?0:l}function kO(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function nne(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function sne(e,t){return+er(e)-+er(t)}function ane(e){const t=er(e);return t.setHours(23,59,59,999),t}function ine(e){const t=er(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function one(e){const t=er(e);return+ane(t)==+ine(t)}function lne(e,t){const r=er(e),n=er(t),a=Vx(r,n),i=Math.abs(tne(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Vx(r,n)===-a;one(er(e))&&i===1&&Vx(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function cne(e,t,r){const n=sne(e,t)/1e3;return nne(r==null?void 0:r.roundingMethod)(n)}function une(e){const t=er(e),r=dl(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const dne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fne=(e,t,r)=>{let n;const a=dne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gne={date:Nw({formats:hne,defaultWidth:"full"}),time:Nw({formats:mne,defaultWidth:"full"}),dateTime:Nw({formats:pne,defaultWidth:"full"})},xne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vne=(e,t,r,n)=>xne[e];function gh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const yne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sne=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kne={ordinalNumber:Sne,era:gh({values:yne,defaultWidth:"wide"}),quarter:gh({values:bne,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gh({values:jne,defaultWidth:"wide"}),day:gh({values:wne,defaultWidth:"wide"}),dayPeriod:gh({values:Nne,defaultWidth:"wide",formattingValues:_ne,defaultFormattingWidth:"wide"})};function xh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Pne(l,f=>f.test(o)):Cne(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Cne(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Pne(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ene(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Ane=/^(\d+)(th|st|nd|rd)?/i,One=/\d+/i,Tne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ine={any:[/^b/i,/^(a|c)/i]},Rne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mne={any:[/1/i,/2/i,/3/i,/4/i]},$ne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Une={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vne={ordinalNumber:Ene({matchPattern:Ane,parsePattern:One,valueCallback:e=>parseInt(e,10)}),era:xh({matchPatterns:Tne,defaultMatchWidth:"wide",parsePatterns:Ine,defaultParseWidth:"any"}),quarter:xh({matchPatterns:Rne,defaultMatchWidth:"wide",parsePatterns:Mne,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xh({matchPatterns:$ne,defaultMatchWidth:"wide",parsePatterns:Dne,defaultParseWidth:"any"}),day:xh({matchPatterns:Lne,defaultMatchWidth:"wide",parsePatterns:Fne,defaultParseWidth:"any"}),dayPeriod:xh({matchPatterns:Une,defaultMatchWidth:"any",parsePatterns:Bne,defaultParseWidth:"any"})},jF={code:"en-US",formatDistance:fne,formatLong:gne,formatRelative:vne,localize:kne,match:Vne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qne(e){const t=er(e);return bF(t,une(t))+1}function zne(e){const t=er(e),r=+Iv(t)-+Xre(t);return Math.round(r/vF)+1}function wF(e,t){var d,f,h,p;const r=er(e),n=r.getFullYear(),a=rg(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=dl(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Km(o,t),c=dl(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Km(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Wne(e,t){var l,c,u,d;const r=rg(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=wF(e,t),i=dl(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Km(i,t)}function Kne(e,t){const r=er(e),n=+Km(r,t)-+Wne(r,t);return Math.round(n/vF)+1}function Jt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const wo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jt(r+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Jt(a,t.length)}},Su={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return wo.y(e,t)},Y:function(e,t,r,n){const a=wF(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Jt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jt(i,t.length)},R:function(e,t){const r=yF(e);return Jt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return wo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Kne(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(e,t,r){const n=zne(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):wo.d(e,t)},D:function(e,t,r){const n=qne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Su.noon:n===0?a=Su.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Su.evening:n>=12?a=Su.afternoon:n>=4?a=Su.morning:a=Su.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return wo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):wo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):wo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):wo.s(e,t)},S:function(e,t){return wo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return EO(n);case"XXXX":case"XX":return Fl(n);case"XXXXX":case"XXX":default:return Fl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return EO(n);case"xxxx":case"xx":return Fl(n);case"xxxxx":case"xxx":default:return Fl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+PO(n,":");case"OOOO":default:return"GMT"+Fl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+PO(n,":");case"zzzz":default:return"GMT"+Fl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Jt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Jt(n,t.length)}};function PO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Jt(i,2)}function EO(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):Fl(e,t)}function Fl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Jt(Math.trunc(n/60),2),i=Jt(n%60,2);return r+a+t+i}const AO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return AO(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",AO(n,t)).replace("{{time}}",NF(a,t))},Gne={p:NF,P:Hne},Qne=/^D+$/,Yne=/^Y+$/,Xne=["D","DD","YY","YYYY"];function Jne(e){return Qne.test(e)}function Zne(e){return Yne.test(e)}function ese(e,t,r){const n=tse(e,t,r);if(console.warn(n),Xne.includes(e))throw new RangeError(n)}function tse(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sse=/^'([^]*?)'?$/,ase=/''/g,ise=/[a-zA-Z]/;function rs(e,t,r){var d,f,h,p;const n=rg(),a=n.locale??jF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=er(e);if(!ene(l))throw new RangeError("Invalid time value");let c=t.match(nse).map(y=>{const m=y[0];if(m==="p"||m==="P"){const j=Gne[m];return j(y,a.formatLong)}return y}).join("").match(rse).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:ose(y)};if(CO[m])return{isToken:!0,value:y};if(m.match(ise))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(Zne(m)||Jne(m))&&ese(m,t,String(e));const j=CO[m[0]];return j(l,m,a.localize,u)}).join("")}function ose(e){const t=e.match(sse);return t?t[1].replace(ase,"'"):e}function lse(e,t,r){const n=rg(),a=(r==null?void 0:r.locale)??n.locale??jF,i=2520,o=Vx(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=er(t),u=er(e)):(c=er(e),u=er(t));const d=cne(u,c),f=(Rv(u)-Rv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<_O){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<ax){const y=Math.round(h/_O);return a.formatDistance("xDays",y,l)}else if(h<ax*2)return p=Math.round(h/ax),a.formatDistance("aboutXMonths",p,l)}if(p=lne(u,c),p<12){const y=Math.round(h/ax);return a.formatDistance("xMonths",y,l)}else{const y=p%12,m=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",m,l):y<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function _F(e,t){return lse(e,Jre(e),t)}function cse(){const[e,t]=x.useState(!1),{data:r=[],isLoading:n}=de({queryKey:["/api/notifications"]}),{data:a}=de({queryKey:["/api/notifications/unread-count"]}),i=be({mutationFn:async f=>{await ye("POST",`/api/notifications/${f}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),o=be({mutationFn:async()=>{await ye("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),l=be({mutationFn:async f=>{await ye("DELETE",`/api/notifications/${f}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=(a==null?void 0:a.count)||0,u=f=>{switch(f){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},d=f=>{f.isRead||i.mutate(f.id),f.link&&t(!1)};return s.jsxs(Ire,{open:e,onOpenChange:t,children:[s.jsx(Rre,{asChild:!0,children:s.jsxs($,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[s.jsx(_c,{className:"w-5 h-5"}),c>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[18px] h-[18px] px-1 text-xs font-medium text-white bg-red-500 rounded-full","data-testid":"notification-count",children:c>99?"99+":c})]})}),s.jsxs(rF,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),c>0&&s.jsxs($,{variant:"ghost",size:"sm",className:"text-xs h-7",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-mark-all-read",children:[s.jsx(pr,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),s.jsx(gF,{className:"h-[300px]",children:n?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-primary border-t-transparent rounded-full"})}):r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-sm text-muted-foreground",children:[s.jsx(_c,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{children:"No notifications"})]}):s.jsx("div",{className:"divide-y",children:r.map(f=>s.jsx("div",{className:`p-3 group ${f.isRead?"":"bg-muted/50"}`,"data-testid":`notification-item-${f.id}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${u(f.type)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[f.link?s.jsx(ge,{href:f.link,onClick:()=>d(f),children:s.jsx("p",{className:"text-sm font-medium cursor-pointer hover:underline",children:f.title})}):s.jsx("p",{className:"text-sm font-medium",children:f.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:f.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_F(new Date(f.createdAt),{addSuffix:!0})})]}),s.jsxs("div",{className:"flex items-start gap-1 invisible group-hover:visible",children:[!f.isRead&&s.jsx($,{variant:"ghost",size:"icon",className:"w-6 h-6",onClick:()=>i.mutate(f.id),disabled:i.isPending,"data-testid":`button-mark-read-${f.id}`,children:s.jsx(pr,{className:"w-3 h-3"})}),s.jsx($,{variant:"ghost",size:"icon",className:"w-6 h-6 text-destructive",onClick:()=>l.mutate(f.id),disabled:l.isPending,"data-testid":`button-delete-notification-${f.id}`,children:s.jsx(ur,{className:"w-3 h-3"})})]})]})},f.id))})}),s.jsx("div",{className:"p-2 border-t",children:s.jsx(ge,{href:"/profile?tab=notifications",onClick:()=>t(!1),children:s.jsx($,{variant:"ghost",className:"w-full text-xs h-8","data-testid":"button-view-all-notifications",children:"View all notifications"})})})]})]})}var _w="rovingFocusGroup.onEntryFocus",use={bubbles:!1,cancelable:!0},ng="RovingFocusGroup",[VN,SF,dse]=zp(ng),[fse,$f]=gn(ng,[dse]),[hse,mse]=fse(ng),kF=x.forwardRef((e,t)=>s.jsx(VN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(VN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(pse,{...e,ref:t})})}));kF.displayName=ng;var pse=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=ut(t,h),y=Gc(i),[m,j]=ss({prop:o,defaultProp:l??null,onChange:c,caller:ng}),[b,v]=x.useState(!1),g=Ur(u),w=SF(r),N=x.useRef(!1),[_,S]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(_w,g),()=>C.removeEventListener(_w,g)},[g]),s.jsx(hse,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:x.useCallback(C=>j(C),[j]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>S(C=>C-1),[]),children:s.jsx(Re.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{N.current=!0}),onFocus:Ne(e.onFocus,C=>{const P=!N.current;if(C.target===C.currentTarget&&P&&!b){const k=new CustomEvent(_w,use);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=w().filter(T=>T.focusable),O=A.find(T=>T.active),R=A.find(T=>T.id===m),L=[O,R,...A].filter(Boolean).map(T=>T.ref.current);EF(L,d)}}N.current=!1}),onBlur:Ne(e.onBlur,()=>v(!1))})})}),CF="RovingFocusGroupItem",PF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Jr(),u=i||c,d=mse(CF,r),f=d.currentTabStopId===u,h=SF(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(VN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Re.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ne(e.onMouseDown,j=>{n?d.onItemFocus(u):j.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ne(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const b=vse(j,d.orientation,d.dir);if(b!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let g=h().filter(w=>w.focusable).map(w=>w.ref.current);if(b==="last")g.reverse();else if(b==="prev"||b==="next"){b==="prev"&&g.reverse();const w=g.indexOf(j.currentTarget);g=d.loop?yse(g,w+1):g.slice(w+1)}setTimeout(()=>EF(g))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});PF.displayName=CF;var gse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vse(e,t,r){const n=xse(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gse[n]}function EF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var j2=kF,w2=PF;function bse(e){const t=jse(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Nse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function jse(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Sse(a),l=_se(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wse=Symbol("radix.slottable");function Nse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wse}function _se(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Sse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qN=["Enter"," "],kse=["ArrowDown","PageUp","Home"],AF=["ArrowUp","PageDown","End"],Cse=[...kse,...AF],Pse={ltr:[...qN,"ArrowRight"],rtl:[...qN,"ArrowLeft"]},Ese={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sg="Menu",[Hm,Ase,Ose]=zp(sg),[Qc,OF]=gn(sg,[Ose,yl,$f]),Wb=yl(),TF=$f(),[Tse,Yc]=Qc(sg),[Ise,ag]=Qc(sg),IF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=Wb(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Ur(i),h=Gc(a);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(Ab,{...l,children:s.jsx(Tse,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Ise,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};IF.displayName=sg;var Rse="MenuAnchor",N2=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Wb(r);return s.jsx(Yp,{...a,...n,ref:t})});N2.displayName=Rse;var _2="MenuPortal",[Mse,RF]=Qc(_2,{forceMount:void 0}),MF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Yc(_2,t);return s.jsx(Mse,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(Pf,{asChild:!0,container:a,children:n})})})};MF.displayName=_2;var ua="MenuContent",[$se,S2]=Qc(ua),$F=x.forwardRef((e,t)=>{const r=RF(ua,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Yc(ua,e.__scopeMenu),o=ag(ua,e.__scopeMenu);return s.jsx(Hm.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:n||i.open,children:s.jsx(Hm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Dse,{...a,ref:t}):s.jsx(Lse,{...a,ref:t})})})})}),Dse=x.forwardRef((e,t)=>{const r=Yc(ua,e.__scopeMenu),n=x.useRef(null),a=ut(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Ub(i)},[]),s.jsx(k2,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Lse=x.forwardRef((e,t)=>{const r=Yc(ua,e.__scopeMenu);return s.jsx(k2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Fse=bse("MenuContent.ScrollLock"),k2=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...m}=e,j=Yc(ua,r),b=ag(ua,r),v=Wb(r),g=TF(r),w=Ase(r),[N,_]=x.useState(null),S=x.useRef(null),C=ut(t,S,j.onContentChange),P=x.useRef(0),k=x.useRef(""),A=x.useRef(0),O=x.useRef(null),R=x.useRef("right"),M=x.useRef(0),L=y?eg:x.Fragment,T=y?{as:Fse,allowPinchZoom:!0}:void 0,W=D=>{var te,ve;const G=k.current+D,J=w().filter(ie=>!ie.disabled),I=document.activeElement,Y=(te=J.find(ie=>ie.ref.current===I))==null?void 0:te.textValue,V=J.map(ie=>ie.textValue),ee=Xse(V,G,Y),pe=(ve=J.find(ie=>ie.textValue===ee))==null?void 0:ve.ref.current;(function ie(B){k.current=B,window.clearTimeout(P.current),B!==""&&(P.current=window.setTimeout(()=>ie(""),1e3))})(G),pe&&setTimeout(()=>pe.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),Fb();const E=x.useCallback(D=>{var J,I;return R.current===((J=O.current)==null?void 0:J.side)&&Zse(D,(I=O.current)==null?void 0:I.area)},[]);return s.jsx($se,{scope:r,searchRef:k,onItemEnter:x.useCallback(D=>{E(D)&&D.preventDefault()},[E]),onItemLeave:x.useCallback(D=>{var G;E(D)||((G=S.current)==null||G.focus(),_(null))},[E]),onTriggerLeave:x.useCallback(D=>{E(D)&&D.preventDefault()},[E]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(D=>{O.current=D},[]),children:s.jsx(L,{...T,children:s.jsx(Zp,{asChild:!0,trapped:a,onMountAutoFocus:Ne(i,D=>{var G;D.preventDefault(),(G=S.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(j2,{asChild:!0,...g,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:Ne(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ob,{role:"menu","aria-orientation":"vertical","data-state":JF(j.open),"data-radix-menu-content":"",dir:b.dir,...v,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:Ne(m.onKeyDown,D=>{const J=D.target.closest("[data-radix-menu-content]")===D.currentTarget,I=D.ctrlKey||D.altKey||D.metaKey,Y=D.key.length===1;J&&(D.key==="Tab"&&D.preventDefault(),!I&&Y&&W(D.key));const V=S.current;if(D.target!==V||!Cse.includes(D.key))return;D.preventDefault();const pe=w().filter(te=>!te.disabled).map(te=>te.ref.current);AF.includes(D.key)&&pe.reverse(),Qse(pe)}),onBlur:Ne(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:Ne(e.onPointerMove,Gm(D=>{const G=D.target,J=M.current!==D.clientX;if(D.currentTarget.contains(G)&&J){const I=D.clientX>M.current?"right":"left";R.current=I,M.current=D.clientX}}))})})})})})})});$F.displayName=ua;var Use="MenuGroup",C2=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Re.div,{role:"group",...n,ref:t})});C2.displayName=Use;var Bse="MenuLabel",DF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Re.div,{...n,ref:t})});DF.displayName=Bse;var Mv="MenuItem",OO="menu.itemSelect",Kb=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),o=ag(Mv,e.__scopeMenu),l=S2(Mv,e.__scopeMenu),c=ut(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(OO,{bubbles:!0,cancelable:!0});f.addEventListener(OO,p=>n==null?void 0:n(p),{once:!0}),qk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(LF,{...a,ref:c,disabled:r,onClick:Ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||qN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Kb.displayName=Mv;var LF=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=S2(Mv,r),l=TF(r),c=x.useRef(null),u=ut(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(Hm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(w2,{asChild:!0,...l,focusable:!n,children:s.jsx(Re.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,Gm(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Gm(y=>o.onItemLeave(y))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),Vse="MenuCheckboxItem",FF=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(zF,{scope:e.__scopeMenu,checked:r,children:s.jsx(Kb,{role:"menuitemcheckbox","aria-checked":$v(r)?"mixed":r,...a,ref:t,"data-state":E2(r),onSelect:Ne(a.onSelect,()=>n==null?void 0:n($v(r)?!0:!r),{checkForDefaultPrevented:!1})})})});FF.displayName=Vse;var UF="MenuRadioGroup",[qse,zse]=Qc(UF,{value:void 0,onValueChange:()=>{}}),BF=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ur(n);return s.jsx(qse,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(C2,{...a,ref:t})})});BF.displayName=UF;var VF="MenuRadioItem",qF=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=zse(VF,e.__scopeMenu),i=r===a.value;return s.jsx(zF,{scope:e.__scopeMenu,checked:i,children:s.jsx(Kb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":E2(i),onSelect:Ne(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});qF.displayName=VF;var P2="MenuItemIndicator",[zF,Wse]=Qc(P2,{checked:!1}),WF=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Wse(P2,r);return s.jsx(rn,{present:n||$v(i.checked)||i.checked===!0,children:s.jsx(Re.span,{...a,ref:t,"data-state":E2(i.checked)})})});WF.displayName=P2;var Kse="MenuSeparator",KF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});KF.displayName=Kse;var Hse="MenuArrow",HF=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Wb(r);return s.jsx(Tb,{...a,...n,ref:t})});HF.displayName=Hse;var Gse="MenuSub",[JDe,GF]=Qc(Gse),Dh="MenuSubTrigger",QF=x.forwardRef((e,t)=>{const r=Yc(Dh,e.__scopeMenu),n=ag(Dh,e.__scopeMenu),a=GF(Dh,e.__scopeMenu),i=S2(Dh,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(N2,{asChild:!0,...u,children:s.jsx(LF,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":JF(r.open),...e,ref:ns(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Gm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,Gm(f=>{var p,y;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,j=m==="right",b=j?-5:5,v=h[j?"left":"right"],g=h[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:g,y:h.top},{x:g,y:h.bottom},{x:v,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Pse[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});QF.displayName=Dh;var YF="MenuSubContent",XF=x.forwardRef((e,t)=>{const r=RF(ua,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Yc(ua,e.__scopeMenu),o=ag(ua,e.__scopeMenu),l=GF(YF,e.__scopeMenu),c=x.useRef(null),u=ut(t,c);return s.jsx(Hm.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:n||i.open,children:s.jsx(Hm.Slot,{scope:e.__scopeMenu,children:s.jsx(k2,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Ese[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});XF.displayName=YF;function JF(e){return e?"open":"closed"}function $v(e){return e==="indeterminate"}function E2(e){return $v(e)?"indeterminate":e?"checked":"unchecked"}function Qse(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Yse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Xse(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Yse(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Jse(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Zse(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Jse(r,t)}function Gm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eae=IF,tae=N2,rae=MF,nae=$F,sae=C2,aae=DF,iae=Kb,oae=FF,lae=BF,cae=qF,uae=WF,dae=KF,fae=HF,hae=QF,mae=XF,Hb="DropdownMenu",[pae]=gn(Hb,[OF]),ls=OF(),[gae,ZF]=pae(Hb),e6=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ls(t),u=x.useRef(null),[d,f]=ss({prop:a,defaultProp:i??!1,onChange:o,caller:Hb});return s.jsx(gae,{scope:t,triggerId:Jr(),triggerRef:u,contentId:Jr(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(eae,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};e6.displayName=Hb;var t6="DropdownMenuTrigger",r6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=ZF(t6,r),o=ls(r);return s.jsx(tae,{asChild:!0,...o,children:s.jsx(Re.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ns(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});r6.displayName=t6;var xae="DropdownMenuPortal",n6=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ls(t);return s.jsx(rae,{...n,...r})};n6.displayName=xae;var s6="DropdownMenuContent",a6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ZF(s6,r),i=ls(r),o=x.useRef(!1);return s.jsx(nae,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a6.displayName=s6;var vae="DropdownMenuGroup",yae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(sae,{...a,...n,ref:t})});yae.displayName=vae;var bae="DropdownMenuLabel",i6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(aae,{...a,...n,ref:t})});i6.displayName=bae;var jae="DropdownMenuItem",o6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(iae,{...a,...n,ref:t})});o6.displayName=jae;var wae="DropdownMenuCheckboxItem",l6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(oae,{...a,...n,ref:t})});l6.displayName=wae;var Nae="DropdownMenuRadioGroup",_ae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(lae,{...a,...n,ref:t})});_ae.displayName=Nae;var Sae="DropdownMenuRadioItem",c6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(cae,{...a,...n,ref:t})});c6.displayName=Sae;var kae="DropdownMenuItemIndicator",u6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(uae,{...a,...n,ref:t})});u6.displayName=kae;var Cae="DropdownMenuSeparator",d6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(dae,{...a,...n,ref:t})});d6.displayName=Cae;var Pae="DropdownMenuArrow",Eae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(fae,{...a,...n,ref:t})});Eae.displayName=Pae;var Aae="DropdownMenuSubTrigger",f6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(hae,{...a,...n,ref:t})});f6.displayName=Aae;var Oae="DropdownMenuSubContent",h6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(mae,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h6.displayName=Oae;var Tae=e6,Iae=r6,Rae=n6,m6=a6,p6=i6,g6=o6,x6=l6,v6=c6,y6=u6,b6=d6,j6=f6,w6=h6;const TO=Tae,IO=Iae,Mae=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(j6,{ref:a,className:je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(pa,{className:"ml-auto"})]}));Mae.displayName=j6.displayName;const $ae=x.forwardRef(({className:e,...t},r)=>s.jsx(w6,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));$ae.displayName=w6.displayName;const zN=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Rae,{children:s.jsx(m6,{ref:n,sideOffset:t,className:je("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));zN.displayName=m6.displayName;const Lh=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(g6,{ref:n,className:je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Lh.displayName=g6.displayName;const Dae=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(x6,{ref:a,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(y6,{children:s.jsx(pr,{className:"h-4 w-4"})})}),t]}));Dae.displayName=x6.displayName;const Lae=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(v6,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(y6,{children:s.jsx(m3,{className:"h-2 w-2 fill-current"})})}),t]}));Lae.displayName=v6.displayName;const Fae=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(p6,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Fae.displayName=p6.displayName;const WN=x.forwardRef(({className:e,...t},r)=>s.jsx(b6,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));WN.displayName=b6.displayName;const Uae={target:ca,dumbbell:p3,crosshair:Hc,building:Hk,landmark:xQ,shield:gi,waves:BQ,gamepad:hQ,music:kQ,mountain:_Q,bike:iQ,sword:DQ,flame:fQ,activity:rQ,trophy:ms,calendar:xr},Bae=e=>{const t=Uae[(e||"target").toLowerCase()]||ca;return s.jsx(t,{className:"w-4 h-4"})},ix=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");function ir({onScrollTo:e}){const[t,r]=x.useState(!1),{user:n,isAuthenticated:a}=bl(),[i]=Mn(),{data:o}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const m=await fetch("/api/site-settings");if(!m.ok)return{};const j=await m.json();return j&&typeof j=="object"&&!j.message?j:{}}catch{return{}}}}),{data:l}=de({queryKey:["/api/admin/config"],enabled:a&&((n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN")}),{data:c}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const m=await fetch("/api/facilities");if(!m.ok)return[];const j=await m.json();return Array.isArray(j)?j:[]}catch{return[]}}}),u=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN",d=x.useMemo(()=>{const m=(c||[]).filter(j=>!j.isHidden).map(j=>({label:j.name,href:`/facilities/${j.slug}`,icon:Bae(j.icon)}));return[{label:"Facilities",items:m.length>0?m:[{label:"Padel Tennis",href:"/facilities/padel-tennis",icon:s.jsx(ca,{className:"w-4 h-4"})},{label:"Squash Courts",href:"/facilities/squash",icon:s.jsx(p3,{className:"w-4 h-4"})},{label:"Air Rifle Range",href:"/facilities/air-rifle-range",icon:s.jsx(Hc,{className:"w-4 h-4"})},{label:"Multipurpose Hall",href:"/facilities/multipurpose-hall",icon:s.jsx(Hk,{className:"w-4 h-4"})}]},{label:"Experiences",items:[{label:"Events & Academies",href:"/events",icon:s.jsx(xr,{className:"w-4 h-4"})},{label:"Leaderboard",href:"/leaderboard",icon:s.jsx(ms,{className:"w-4 h-4"})},{label:"Gallery",href:"/gallery",icon:s.jsx(la,{className:"w-4 h-4"})}]},{label:"Community",items:[{label:"Blog",href:"/blog",icon:s.jsx(bN,{className:"w-4 h-4"})},{label:"Testimonials",href:"/testimonials",icon:s.jsx(Jk,{className:"w-4 h-4"})},{label:"Updates",href:"/updates",icon:s.jsx(_c,{className:"w-4 h-4"})}]},{label:"About",items:[{label:"Vision",href:"/vision",icon:s.jsx(as,{className:"w-4 h-4"})},{label:"Contact",href:"/contact",icon:s.jsx(Im,{className:"w-4 h-4"})},{label:"FAQ",href:"/faq",icon:s.jsx(Ls,{className:"w-4 h-4"})},{label:"Club Rules",href:"/rules",icon:s.jsx(TQ,{className:"w-4 h-4"})}]}]},[c]);x.useEffect(()=>{if(i==="/"){const m=sessionStorage.getItem("scrollToSection");m&&(sessionStorage.removeItem("scrollToSection"),setTimeout(()=>{const j=document.getElementById(m);if(j){const v=j.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:v,behavior:"smooth"})}},100))}},[i]);const f=(m,j="")=>(o==null?void 0:o[m])||j,h=f("logo_main_url"),p=f("site_name","The Quarterdeck"),y=f("site_tagline","Sports & Recreation Complex");return s.jsxs("header",{className:"sticky top-0 z-50 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-15 dark:opacity-25",style:{backgroundImage:`url(${Av})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("nav",{className:"h-[70px] flex items-center justify-between gap-8",children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-logo",children:[h?s.jsx("img",{src:h,alt:p,className:"h-10 w-auto object-contain","data-testid":"img-site-logo"}):s.jsx("div",{className:"qd-logo-mark",children:"Q"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:p}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:y})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center gap-6 text-sm text-primary-foreground/70",children:d.map(m=>s.jsxs(TO,{children:[s.jsx(IO,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-1 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":`button-nav-${ix(m.label)}`,children:[m.label," ",s.jsx(ma,{className:"w-3 h-3"})]})}),s.jsx(zN,{align:"start",className:"w-52",children:m.items.map(j=>s.jsx(ge,{href:j.href,children:s.jsxs(Lh,{className:"cursor-pointer gap-2","data-testid":`menu-item-${ix(j.label)}`,children:[j.icon,j.label]})},j.href))})]},m.label))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsx(fO,{}),a?s.jsxs(s.Fragment,{children:[s.jsx(cse,{}),s.jsx(ge,{href:"/booking",children:s.jsx($,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})}),s.jsxs(TO,{children:[s.jsx(IO,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"rounded-full gap-2","data-testid":"button-user-menu",children:[s.jsx(gs,{className:"w-4 h-4"}),(n==null?void 0:n.firstName)||"Account",s.jsx(ma,{className:"w-3 h-3"})]})}),s.jsxs(zN,{align:"end",className:"w-48",children:[s.jsx(ge,{href:"/profile",children:s.jsxs(Lh,{className:"cursor-pointer","data-testid":"menu-item-profile",children:[s.jsx(gs,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),u&&(l==null?void 0:l.adminPath)&&s.jsxs(s.Fragment,{children:[s.jsx(WN,{}),s.jsx(ge,{href:`/${l.adminPath}`,children:s.jsxs(Lh,{className:"cursor-pointer","data-testid":"menu-item-admin",children:[s.jsx(Rm,{className:"w-4 h-4 mr-2"}),"Admin Dashboard"]})})]}),s.jsx(WN,{}),s.jsx("a",{href:"/api/logout",children:s.jsxs(Lh,{className:"cursor-pointer text-destructive","data-testid":"menu-item-logout",children:[s.jsx(wA,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{href:"/login",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-login",children:"Log In"})}),s.jsx(ge,{href:"/booking",children:s.jsx($,{className:"rounded-full","data-testid":"button-book-now",children:"Book Now"})})]})]}),s.jsx("button",{className:"lg:hidden p-2",onClick:()=>r(!t),"aria-label":"Toggle navigation","data-testid":"button-mobile-menu",children:t?s.jsx(xi,{className:"w-5 h-5 text-primary-foreground"}):s.jsx(b3,{className:"w-5 h-5 text-primary-foreground"})})]}),t&&s.jsxs("div",{className:"lg:hidden flex flex-col gap-2 pb-4 border-t border-primary-foreground/10 pt-4 animate-qd-fade-in",children:[d.map((m,j)=>s.jsxs("div",{className:j>0?"border-t border-primary-foreground/10 pt-3 mt-2":"",children:[s.jsx("span",{className:"text-xs text-primary-foreground/50 uppercase tracking-wider","data-testid":`text-mobile-category-${ix(m.label)}`,children:m.label}),s.jsx("div",{className:"flex flex-col gap-1 mt-2",children:m.items.map(b=>s.jsx(ge,{href:b.href,onClick:()=>r(!1),children:s.jsxs("span",{className:"flex items-center gap-2 py-2 text-sm text-primary-foreground/70 hover:text-primary-foreground cursor-pointer","data-testid":`link-mobile-${ix(b.label)}`,children:[b.icon," ",b.label]})},b.href))})]},m.label)),s.jsxs("div",{className:"flex items-center justify-between border-t border-primary-foreground/10 pt-4 mt-4",children:[s.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Theme"}),s.jsx(fO,{})]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ge,{href:"/profile",onClick:()=>r(!1),children:s.jsxs($,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-profile",children:[s.jsx(gs,{className:"w-4 h-4"}),"My Profile"]})}),u&&(l==null?void 0:l.adminPath)&&s.jsx(ge,{href:`/${l.adminPath}`,onClick:()=>r(!1),children:s.jsxs($,{variant:"outline",className:"w-full rounded-full gap-2","data-testid":"button-mobile-admin",children:[s.jsx(Rm,{className:"w-4 h-4"}),"Admin Dashboard"]})}),s.jsx(ge,{href:"/booking",onClick:()=>r(!1),children:s.jsx($,{className:"w-full rounded-full","data-testid":"button-mobile-book",children:"Book Now"})}),s.jsx("a",{href:"/api/logout",children:s.jsxs($,{variant:"outline",className:"w-full rounded-full gap-2 text-destructive","data-testid":"button-mobile-logout",children:[s.jsx(wA,{className:"w-4 h-4"}),"Log Out"]})})]}):s.jsx(s.Fragment,{children:s.jsx(ge,{href:"/login",children:s.jsx($,{className:"w-full rounded-full","data-testid":"button-mobile-login",children:"Log In"})})})})]})]})]})}function or(){const{data:e,isLoading:t}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const h=await fetch("/api/site-settings");if(!h.ok)return{};const p=await h.json();return p&&typeof p=="object"&&!p.message?p:{}}catch{return{}}},staleTime:3e5}),{data:r=[]}=de({queryKey:["/api/site-images","global"],queryFn:async()=>{const p=await(await fetch("/api/site-images?page=global")).json();return Array.isArray(p)?p:[]},staleTime:1e3*60*5}),n=x.useMemo(()=>{if(!Array.isArray(r))return Av;const h=r.find(p=>p.section==="footer"&&p.isActive);return(h==null?void 0:h.imageUrl)||Av},[r]),a=(h,p="")=>(e==null?void 0:e[h])||p,i=a("site_name","The Quarterdeck"),o=a("site_tagline","Sports & Recreation Complex"),l=a("instagram_url")||a("social_instagram","#"),c=a("facebook_url")||a("social_facebook","#"),u=a("twitter_url")||a("social_twitter","#"),d=a("youtube_url")||a("social_youtube","#"),f=new Date().getFullYear();return s.jsxs("footer",{className:"qd-footer relative overflow-hidden bg-primary dark:bg-slate-900",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-10 dark:opacity-20",style:{backgroundImage:`url(${n})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-primary/95 to-primary/80 dark:from-slate-900 dark:via-slate-900/95 dark:to-slate-900/80"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer","data-testid":"link-footer-logo",children:[s.jsx("div",{className:"qd-logo-mark",children:i.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold tracking-wider text-sm uppercase text-primary-foreground",children:i}),s.jsx("div",{className:"text-xs text-primary-foreground/70",children:o})]})]})}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[s.jsx(ge,{href:"/terms",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-terms",children:"Terms"})}),s.jsx(ge,{href:"/privacy",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-privacy",children:"Privacy"})}),s.jsx(ge,{href:"/careers",children:s.jsx("span",{className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors cursor-pointer","data-testid":"link-footer-careers",children:"Careers"})})]}),s.jsxs("p",{className:"text-primary-foreground/60 text-xs",children:[" ",f," ",i,"  All rights reserved."]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Instagram","data-testid":"link-social-instagram",children:s.jsx(gQ,{className:"w-4 h-4"})}),s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"Facebook","data-testid":"link-social-facebook",children:s.jsx(uQ,{className:"w-4 h-4"})}),s.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"X (Twitter)","data-testid":"link-social-twitter",children:s.jsx(FQ,{className:"w-4 h-4"})}),s.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"qd-social-icon","aria-label":"YouTube","data-testid":"link-social-youtube",children:s.jsx(VQ,{className:"w-4 h-4"})})]})]})})]})}function Le({className:e,...t}){return s.jsx("div",{className:je("animate-pulse rounded-md bg-muted",e),...t})}function Vr(e,t={}){const{data:r=[],isLoading:n}=de({queryKey:["/api/cms/bulk"],staleTime:3e5,retry:!1}),a={};return e.forEach(i=>{const o=r.find(l=>l.key===i);a[i]=(o==null?void 0:o.content)||t[i]||""}),{content:a,isLoading:n,getValue:i=>a[i]||t[i]||""}}const Ae={hero_title:'A bright, premium <span class="qd-hero-highlight">multi-sport arena</span> built for play, performance & community.',hero_subtitle:"The Quarterdeck brings state-of-the-art Padel Tennis, Squash, an Air Rifle Range, a Multipurpose Hall, and an Open Cafe/Bar experience into a single, purpose-built complex. We are setting the new standard for indoor sports and recreation in Islamabad.",hero_eyebrow:"Target Launch: December 25, 2025",hero_launch_date:"2025-12-25",hero_cta_1:"Explore Facilities",hero_cta_1_url:"/facilities",hero_cta_2:"View Site Updates",hero_cta_2_url:"/roadmap",hero_countdown_label:"Estimated Launch Countdown",hero_status_active:"Construction Active",hero_status_updates:"Transparent progress updates",hero_status_booking:"Early booking & waitlists planned",about_title:"About The Quarterdeck",about_subtitle:"Our core vision: Excellence in Play and Community. We are building Islamabad's premier destination for indoor sports, recreation, and social gathering.",about_cta:"See Our Vision",about_cta_url:"/vision",about_vision_title:"Vision & Philosophy",about_vision_content:"The Quarterdeck is born from a simple idea: that sports facilities should be world-class, accessible, and designed for social connection. We prioritize bright, modern architecture, superior court surfaces, and a welcoming atmosphere. Our aim is to cultivate a vibrant community around Padel, Squash, and recreational activities.",about_vision_content_2:"We are locally invested and committed to transparency throughout the construction and launch phases, ensuring the highest standards of quality and service.",about_tags:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly",about_team_title:"The Project Team",about_team_content:"The project is managed by a consortium of local real estate developers, sports enthusiasts, and seasoned facility operators. We have brought together expertise in engineering, architecture, and sports management to deliver an exceptional facility.",about_team_credits:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation",facilities_title:"Facilities at a Glance",facilities_subtitle:'The complex is engineered for high-performance sports and comfortable recreation. Click "View details" for the dedicated facility pages.',facilities_cta:"Check Court Availability",facilities_cta_url:"/booking",membership_title:"Membership & Pricing",membership_subtitle:"Choose the membership tier that fits your lifestyle. All members enjoy priority booking, exclusive discounts, and access to our world-class facilities.",membership_cta:"Inquire Now",membership_cta_url:"/membership",membership_comparison_title:"Quick Comparison",membership_footer:"Questions about membership? Contact us for more details or to discuss corporate packages.",membership_contact_cta:"Contact for Details",membership_contact_cta_url:"/contact",membership_terms_cta:"View Terms & Conditions",membership_terms_cta_url:"/terms",founding_tier_name:"Founding Member",founding_tier_label:"Limited & Exclusive",founding_tier_description:"For early supporters and investors who believe in our vision.",founding_tier_price:"PKR 35,000",founding_tier_period:"/month",founding_tier_features:"Lifetime priority booking (14-day window)|25% discount on all court bookings|10 guest passes per month|Permanent credit bonus (10%)|VIP parking & locker|Invitation to all exclusive events|Founding member recognition wall",gold_tier_name:"Gold Membership",gold_tier_label:"Premium Access",gold_tier_description:"For serious athletes and frequent players who want the best experience.",gold_tier_price:"PKR 15,000",gold_tier_period:"/month",gold_tier_features:"7-day advance booking window|20% discount on all court bookings|4 guest passes per month|Priority event registration|15% off coaching & clinics|Free equipment rental (2x/month)|Access to member lounge",silver_tier_name:"Silver Membership",silver_tier_label:"Standard Access",silver_tier_description:"Perfect for recreational players who want regular access at great value.",silver_tier_price:"PKR 5,000",silver_tier_period:"/month",silver_tier_features:"5-day advance booking window|10% discount on off-peak bookings|2 guest passes per month|10% off coaching & clinics|Member newsletter & updates|Discounted event entry",guest_tier_name:"Pay-to-Play",guest_tier_label:"Non-Member Access",guest_tier_description:"Try our facilities without commitment. Subject to availability.",guest_tier_price:"Standard",guest_tier_price_suffix:" rates",guest_tier_features:"2-day advance booking window|Access after member priority|Equipment rental available|Guest registration required|Can be upgraded to membership",contact_title:"Contact & Early Interest",contact_subtitle:"Connect with Our Development Team: Use the form to subscribe to our construction updates, inquire about corporate partnerships, or apply for our pre-launch membership waitlist.",contact_form_title:"Early Interest Form",contact_form_subtitle:"Submit your interest below and we'll keep you updated on our progress and launch.",contact_name_label:"Your Name",contact_email_label:"Your Email",contact_message_label:"Your Message/Interest (e.g., Padel Coaching, Corporate Event, Career Inquiry)",contact_submit:"Send Message",contact_email:"info@thequarterdeck.pk",contact_phone:"+92 51 1234567",contact_address:"Sector F-7, Islamabad, Pakistan",contact_socials_title:"Socials & Location",contact_socials_subtitle:"Follow our official channels for the most recent updates and progress photos:",contact_site_status_title:"Site Status",contact_site_status:"The complex is currently under active construction. No public access or walk-ins are permitted for safety reasons. All updates will be digital.",updates_title:"Construction Updates",updates_subtitle:"Transparent updates on progress, timeline, and achievements. Hover over each phase to see milestones.",updates_cta:"View Full Roadmap",updates_cta_url:"/roadmap",gallery_title:"Gallery & Progress Photos",gallery_subtitle:"Visual updates from the construction site and architectural renders of the completed facility.",gallery_cta:"View Full Gallery",gallery_cta_url:"/gallery",rules_title:"Rules & Safety Protocols",rules_subtitle:"Ensuring a safe, respectful, and high-quality environment for all members and guests. These are our key rules.",rules_cta:"View All Rules",rules_cta_url:"/rules",careers_title:"Careers at The Quarterdeck",careers_subtitle:"Join our team! We are looking for passionate, high-energy individuals to help us launch and run Islamabad's premier sports complex.",careers_cta:"View Open Positions",careers_cta_url:"/careers",events_title:"Events & Programs",events_subtitle:"Join tournaments, training academies, and social events at The Quarterdeck.",leaderboard_title:"Leaderboard",leaderboard_subtitle:"Track your progress and compete with fellow members.",footer_tagline:"Pakistan's Premier Sports & Recreation Complex",footer_copyright:"2024 The Quarterdeck. All rights reserved.",footer_quick_links_title:"Quick Links",footer_facilities_title:"Facilities",footer_legal_title:"Legal",social_instagram:"https://instagram.com/thequarterdeck",social_facebook:"https://facebook.com/thequarterdeck",social_linkedin:"https://linkedin.com/company/thequarterdeck",coming_soon_title:"Something Amazing Is Coming",coming_soon_subtitle:"Opening December 2025: Padel Courts & Cafe/Bar. Construction continues through 2026 for our 3-floor building with Multipurpose Hall & Air Rifle Range.",coming_soon_description:"The Quarterdeck will feature world-class Padel Tennis courts, Squash facilities, an Air Rifle Range, Multipurpose Hall, and an Open Cafe/Bar experience.",coming_soon_cta:"Join the Waitlist",coming_soon_cta_url:"#contact",coming_soon_progress_label:"Construction Progress",coming_soon_launch_date:"2025-12-25",coming_soon_location:"Islamabad, Pakistan",site_name:"The Quarterdeck",site_tagline:"Sports & Recreation Complex",site_launch_status:"pre-launch",navbar_book_now:"Book Now",navbar_login:"Log In",navbar_signup:"Sign Up",navbar_profile:"Profile",navbar_logout:"Log Out",navbar_admin:"Admin",navbar_dashboard:"Dashboard",footer_about_title:"About The Quarterdeck",footer_about_text:"Pakistan's premier indoor sports and recreation complex, featuring world-class Padel Tennis, Squash, Air Rifle Range, and more.",footer_newsletter_title:"Stay Updated",footer_newsletter_placeholder:"Enter your email",footer_newsletter_button:"Subscribe",footer_address_title:"Visit Us",footer_hours_title:"Opening Hours",footer_hours_weekday:"Mon-Fri: 10:00 AM - 10:00 PM",footer_hours_weekend:"Sat-Sun: 9:00 AM - 11:00 PM",footer_privacy_link:"Privacy Policy",footer_terms_link:"Terms of Service",footer_refund_link:"Refund Policy",booking_title:"Book a Court",booking_subtitle:"Select your facility, date, and time slot",booking_select_venue:"Select Venue",booking_select_facility:"Select Facility",booking_select_date:"Select Date",booking_select_time:"Select Time",booking_select_court:"Select Court",booking_duration_label:"Duration",booking_addons_title:"Add-ons",booking_summary_title:"Booking Summary",booking_confirm_button:"Confirm Booking",booking_cancel_button:"Cancel",booking_payment_title:"Payment Method",booking_no_slots:"No available slots for this date",booking_login_required:"Please log in to book",countdown_days:"Days",countdown_hours:"Hours",countdown_minutes:"Minutes",countdown_seconds:"Seconds",btn_learn_more:"Learn More",btn_view_all:"View All",btn_submit:"Submit",btn_cancel:"Cancel",btn_save:"Save Changes",btn_close:"Close",btn_back:"Go Back",btn_next:"Next",btn_previous:"Previous",whatsapp_phone:"+923001234567",whatsapp_button_text:"Chat on WhatsApp",whatsapp_button_visible:"true",whatsapp_default_message:"Hello, I have a question about The Quarterdeck.",empty_bookings:"You have no bookings yet.",empty_events:"No events scheduled at this time.",empty_leaderboard:"Leaderboard will be available after launch.",page_facilities_title:"Our Facilities",page_facilities_subtitle:"World-class sports and recreation facilities designed for excellence in Islamabad",page_facilities_ready_title:"Ready to Book?",page_facilities_ready_description:"Members can book facilities through our online booking system. Log in to access all our premium facilities and exclusive member benefits.",page_facilities_book_cta:"Book Now",page_facilities_contact_cta:"Contact Us",page_membership_title:"Membership",page_membership_subtitle:"Join The Quarterdeck community and unlock exclusive benefits, priority booking, and member-only perks.",page_membership_why_title:"Why Become a Member?",page_membership_why_description:"Enjoy exclusive access to world-class facilities, priority booking, and a vibrant community of sports enthusiasts.",page_membership_tiers_title:"Membership Tiers",page_membership_tiers_description:"Choose the membership tier that best fits your lifestyle and sports goals.",page_membership_ready_title:"Ready to Join?",page_membership_ready_description:"Create your account and choose your membership tier to start enjoying exclusive benefits today.",page_membership_create_cta:"Create Account",page_membership_contact_cta:"Contact Us",page_contact_title:"Contact Us",page_contact_subtitle:"Get in touch with The Quarterdeck team. We're here to help with bookings, memberships, and any questions you may have.",page_contact_form_title:"Send Us a Message",page_contact_success_title:"Thank You!",page_contact_success_message:"Your message has been sent successfully. We'll respond within 24-48 hours.",page_contact_info_title:"Contact Information",page_contact_social_title:"Follow Us",page_contact_faq_title:"Frequently Asked",page_careers_title:"Join Our Team",page_careers_subtitle:"Be part of Islamabad's premier sports and recreation destination",page_careers_benefits_title:"Why Work With Us",page_careers_positions_title:"Open Positions",page_careers_apply_cta:"Apply Now",page_careers_no_positions:"No open positions at this time. Check back soon!",page_events_title:"Events & Academies",page_events_subtitle:"Tournaments, leagues, and training programs",page_events_upcoming_title:"Upcoming Events",page_events_no_events:"No events scheduled at this time. Check back soon!",page_events_register_cta:"Register Now",page_gallery_title:"Gallery & Progress",page_gallery_subtitle:"Explore architectural renders, construction updates, and facility photos from The Quarterdeck sports complex.",page_gallery_construction_title:"Construction Progress",page_gallery_renders_title:"Architectural Renders",page_leaderboard_title:"Leaderboard",page_leaderboard_subtitle:"Top players across all sports at The Quarterdeck",page_leaderboard_top_players:"Top Players",page_leaderboard_coming_soon:"Leaderboard will be available after launch.",page_roadmap_title:"Development Roadmap",page_roadmap_subtitle:"Follow our journey from groundbreaking to grand opening",page_roadmap_timeline_title:"Construction Timeline",page_rules_title:"Rules & Safety",page_rules_subtitle:"For the safety and enjoyment of all members, please familiarize yourself with our facility rules",page_rules_general_title:"General Rules",page_rules_safety_title:"Safety Guidelines",page_faq_title:"Frequently Asked Questions",page_faq_subtitle:"Find answers to common questions about The Quarterdeck, memberships, bookings, and more.",page_faq_contact_cta:"Still have questions? Contact us",page_vision_title:"Our Vision",page_vision_subtitle:"Building Islamabad's premier sports and recreation destination",page_vision_mission_title:"Our Mission",page_vision_values_title:"Our Values",page_privacy_title:"Privacy Policy",page_privacy_subtitle:"Last updated: December 2025",page_terms_title:"Terms & Conditions",page_terms_subtitle:"Last updated: December 2025",page_booking_title:"Book a Court",page_booking_subtitle:"Select your facility, date, and time slot",page_booking_login_required:"Please log in to book",page_booking_select_facility:"Select Facility",error_generic:"Something went wrong. Please try again.",error_network:"Unable to connect. Please check your internet connection.",error_auth_required:"Please log in to continue.",error_permission_denied:"You do not have permission to access this.",section_about_visible:"true",section_facilities_visible:"true",section_updates_visible:"true",section_gallery_visible:"true",section_membership_visible:"true",section_rules_visible:"true",section_careers_visible:"true",section_about_order:"1",section_facilities_order:"2",section_updates_order:"3",section_gallery_order:"4",section_membership_order:"5",section_rules_order:"6",section_careers_order:"7"};function Vae(e,t=!0){return e===void 0||e===""?t:e.toLowerCase()==="true"}const RO="/assets/padel_tennis_court_i_37ae0ba3-BrkfenoQ.jpg";function qae(){const[e,t]=x.useState({days:0,hours:0,minutes:0,seconds:0}),{data:r=[]}=de({queryKey:["/api/cms/bulk"],queryFn:async()=>{const P=await(await fetch("/api/cms/bulk")).json();return Array.isArray(P)?P:[]},staleTime:1e3*60*5}),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"],queryFn:async()=>{const P=await(await fetch("/api/construction-phases")).json();return Array.isArray(P)?P:[]},staleTime:1e3*60*5}),{data:i=[]}=de({queryKey:["/api/site-images","landing"],queryFn:async()=>{const P=await(await fetch("/api/site-images?page=landing")).json();return Array.isArray(P)?P:[]},staleTime:1e3*60*5}),{data:o={}}=de({queryKey:["/api/site-settings"],queryFn:async()=>{const P=await(await fetch("/api/site-settings")).json();return typeof P=="object"&&P!==null?P:{}},staleTime:1e3*60*5}),l=x.useMemo(()=>o.section_construction_status_visible!=="false",[o]),c=x.useMemo(()=>{if(!Array.isArray(i))return RO;const C=i.find(P=>P.section==="hero"&&P.isActive);return(C==null?void 0:C.imageUrl)||RO},[i]),u=x.useMemo(()=>[...n].sort((C,P)=>C.sortOrder-P.sortOrder),[n]),d=x.useMemo(()=>u.find(C=>C.isActive)||u[0],[u]),f=x.useMemo(()=>u.length===0?0:u.reduce((C,P)=>C+P.progress,0)/u.length,[u]),h=C=>{const P=r.find(k=>k.key===C);return(P==null?void 0:P.content)||Ae[C]||""},p=h("hero_launch_date")||"2026-10-01";x.useEffect(()=>{const C=new Date(`${p}T00:00:00`),P=()=>{const A=new Date,O=C.getTime()-A.getTime();if(O>0){const R=Math.floor(O/864e5),M=Math.floor(O%(1e3*60*60*24)/(1e3*60*60)),L=Math.floor(O%(1e3*60*60)/(1e3*60)),T=Math.floor(O%(1e3*60)/1e3);t({days:R,hours:M,minutes:L,seconds:T})}};P();const k=setInterval(P,1e3);return()=>clearInterval(k)},[p]);const y=h("hero_title")||Ae.hero_title,m=h("hero_subtitle")||Ae.hero_subtitle,j=h("hero_eyebrow")||Ae.hero_eyebrow,b=h("hero_cta_1")||"Explore Facilities",v=h("hero_cta_1_url")||Ae.hero_cta_1_url||"/facilities",g=h("hero_cta_2")||"View Site Updates",w=h("hero_cta_2_url")||Ae.hero_cta_2_url||"/roadmap",N=h("hero_status_active")||Ae.hero_status_active,_=h("hero_status_updates")||Ae.hero_status_updates,S=h("hero_status_booking")||Ae.hero_status_booking;return s.jsxs("section",{id:"hero",className:"qd-section pt-12 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${c})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/95 via-white/90 to-white/70 dark:from-slate-900/95 dark:via-slate-900/90 dark:to-slate-900/70"}),s.jsx("div",{className:"qd-container relative z-10",children:s.jsxs("div",{className:"qd-hero-grid",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"qd-eyebrow",children:[s.jsx("span",{className:"qd-eyebrow-dot"})," ",j]}),s.jsx("h1",{className:"qd-hero-title","data-testid":"text-hero-title",dangerouslySetInnerHTML:{__html:y}}),s.jsx("p",{className:"text-muted-foreground max-w-lg mb-6 text-sm sm:text-base","data-testid":"text-hero-subtitle",children:m}),s.jsxs("div",{className:"qd-countdown",children:[s.jsx("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:"Estimated Launch Countdown"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-3 font-mono flex-wrap justify-center sm:justify-start","data-testid":"countdown-timer",children:[s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.days}),s.jsx("span",{className:"qd-countdown-label",children:"Days"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.hours}),s.jsx("span",{className:"qd-countdown-label",children:"Hours"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.minutes}),s.jsx("span",{className:"qd-countdown-label",children:"Mins"})]}),s.jsx("span",{className:"text-base sm:text-xl font-bold text-muted-foreground",children:":"}),s.jsxs("div",{className:"qd-countdown-unit",children:[s.jsx("span",{className:"qd-countdown-number",children:e.seconds}),s.jsx("span",{className:"qd-countdown-label",children:"Secs"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[s.jsx(ge,{href:v,children:s.jsx($,{className:"rounded-full px-6","data-testid":"button-explore-facilities",children:b})}),s.jsx(ge,{href:w,children:s.jsx($,{variant:"outline",className:"rounded-full px-6","data-testid":"button-view-updates",children:g})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-6 text-[10px] sm:text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2","data-testid":"status-construction-active",children:[s.jsx("span",{className:"qd-status-dot"})," ",N]}),s.jsx("span",{"data-testid":"status-updates",children:_}),s.jsx("span",{"data-testid":"status-booking",children:S})]})]}),l&&s.jsx("aside",{children:s.jsxs("div",{className:"qd-hero-card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{className:"text-sm uppercase tracking-widest text-muted-foreground",children:"Construction Status"}),a?s.jsx(Le,{className:"h-6 w-20 rounded-full"}):d?s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-blue-50 dark:bg-blue-900/30 text-slate-800 dark:text-blue-200 font-semibold uppercase tracking-wide",children:d.label}):s.jsx("span",{className:"text-xs py-1 px-3 rounded-full bg-gray-100 dark:bg-slate-700 text-muted-foreground font-semibold uppercase tracking-wide",children:"Planning"})]}),a?s.jsxs(s.Fragment,{children:[s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-3 w-full rounded-full"}),s.jsx(Le,{className:"h-12 w-full mt-4"})]}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-2",children:[s.jsxs("span",{children:[d.label,": ",d.title]}),s.jsxs("span",{children:[d.progress,"% Complete"]})]}),s.jsx("div",{className:"qd-progress-track",children:s.jsx("div",{className:"qd-progress-fill",style:{width:`${d.progress}%`}})}),d.highlights&&d.highlights.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:d.highlights[0]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"}),s.jsxs("div",{className:"font-semibold text-sm",children:[u.filter(C=>C.isComplete).length," phases"]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall"}),s.jsxs("div",{className:"font-semibold text-sm",children:[Math.round(f),"% done"]})]})]})]}):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Construction timeline will be available soon."})]})})]})})]})}function zae(){const{getValue:e}=Vr(["about_title","about_subtitle","about_cta","about_cta_url","about_vision_title","about_vision_content","about_vision_content_2","about_tags","about_team_title","about_team_content","about_team_credits"],Ae),t=(e("about_tags")||Ae.about_tags).split(",").map(n=>n.trim()),r=(e("about_team_credits")||Ae.about_team_credits).split("|").map(n=>n.trim());return s.jsx("section",{id:"about",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-about-title",children:e("about_title")||Ae.about_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("about_subtitle")||Ae.about_subtitle})]}),s.jsx(ge,{href:e("about_cta_url")||Ae.about_cta_url||"/vision",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-see-vision",children:e("about_cta")||Ae.about_cta})})]}),s.jsxs("div",{className:"qd-dev-grid",children:[s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_vision_title")||Ae.about_vision_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_vision_content")||Ae.about_vision_content}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e("about_vision_content_2")||Ae.about_vision_content_2}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-5",children:t.map((n,a)=>s.jsx("span",{className:"qd-tag",children:n},a))})]}),s.jsxs("div",{className:"qd-info-card",children:[s.jsx("div",{className:"text-sm font-bold uppercase tracking-wide text-[#2a4060] dark:text-blue-400 mb-3",children:e("about_team_title")||Ae.about_team_title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("about_team_content")||Ae.about_team_content}),s.jsx("ul",{className:"list-disc list-inside mt-4 text-sm space-y-1 text-muted-foreground",children:r.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})}var N6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MO=F.createContext&&F.createContext(N6),Wae=["attr","size","title"];function Kae(e,t){if(e==null)return{};var r=Hae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){Gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _6(e){return e&&e.map((t,r)=>F.createElement(t.tag,Lv({key:r},t.attr),_6(t.child)))}function uo(e){return t=>F.createElement(Xae,Dv({attr:Lv({},e.attr)},t),_6(e.child))}function Xae(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=Kae(e,Wae),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),F.createElement("svg",Dv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Lv(Lv({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&F.createElement("title",null,i),e.children)};return MO!==void 0?F.createElement(MO.Consumer,null,r=>t(r)):t(N6)}function ig(e){return uo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M23.05 23.05V488.9H488.9V23.05zm17.9 17.9H471.1V471.1H40.95z"},child:[]}]})(e)}function fl(e){return uo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M365.6 31c-6.6 0-13.2.6-19.7 1.59-34.5 5.44-66.5 23.14-88.3 44.96-28.8 28.85-49.6 70.85-58.4 111.65-1.6 6.7-2.6 13.6-3.5 20.4L162.2 334l15.8 15.8 124.3-33.5c6.8-.9 13.7-2 20.5-3.5 40.8-8.8 82.8-29.6 111.6-58.4 21.9-21.9 39.6-53.9 45-88.4 5.2-34.5-2.4-72.3-31.9-101.71-23.8-23.93-53.1-33.44-81.9-33.29zm.1 19.29c24.3-.28 47.9 7.49 68.2 27.71 25 24.9 31 55.2 26.3 85-4.6 29.9-20.7 58.8-39.5 77.6-25.4 25.4-64.7 45.2-102 53.2-37.2 8.2-71.2 3.8-87.8-12.9-16.5-16.5-20.9-50.4-12.8-87.7 8.1-37.2 27.8-76.6 53.3-101.94 18.7-18.78 47.7-34.84 77.6-39.55 5.5-.88 11.2-1.36 16.7-1.42zm-166 214.81c3.7 11.3 9.3 21.5 17.5 29.5 8.1 8.2 18.2 14 29.5 17.6l-63 16zm-50.3 83.6L50 448.2l-5.25-5.1-13.71 13.7L55.41 481l13.7-13.6-5.41-5.4 99.5-99.6zm211 45.1c-19.5 0-35.6 16-35.6 35.5s16.1 35.5 35.6 35.5c19.4 0 35.5-16 35.5-35.5s-16.1-35.5-35.5-35.5z"},child:[]}]})(e)}function Jae(e){return Object.prototype.toString.call(e)==="[object Object]"}function DO(e){return Jae(e)||Array.isArray(e)}function Zae(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function A2(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!DO(l)||!DO(c)?l===c:A2(l,c)})}function LO(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function eie(e,t){if(e.length!==t.length)return!1;const r=LO(e),n=LO(t);return r.every((a,i)=>{const o=n[i];return A2(a,o)})}function O2(e){return typeof e=="number"}function KN(e){return typeof e=="string"}function Gb(e){return typeof e=="boolean"}function FO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pr(e){return Math.abs(e)}function T2(e){return Math.sign(e)}function nm(e,t){return Pr(e-t)}function tie(e,t){if(e===0||t===0||Pr(e)<=Pr(t))return 0;const r=nm(Pr(e),Pr(t));return Pr(r/e)}function rie(e){return Math.round(e*100)/100}function Qm(e){return Ym(e).map(Number)}function Va(e){return e[og(e)]}function og(e){return Math.max(0,e.length-1)}function I2(e,t){return t===og(e)}function UO(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Ym(e){return Object.keys(e)}function S6(e,t){return[e,t].reduce((r,n)=>(Ym(n).forEach(a=>{const i=r[a],o=n[a],l=FO(i)&&FO(o);r[a]=l?S6(i,o):o}),r),{})}function HN(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function nie(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return KN(e)?r[e](c):e(t,c,u)}return{measure:o}}function Xm(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function sie(e,t,r,n){const a=Xm(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(j){if(!c)return;o||(o=j,r(),r());const b=j-o;for(o=j,l+=b;l>=i;)r(),l-=i;const v=l/i;n(v),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:h,stop:p,update:r,render:n}}function aie(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:m,width:j}=y;return n?m:j}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function Cc(e=0,t=0){const r=Pr(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function k6(e,t,r){const{constrain:n}=Cc(0,e),a=e+1;let i=o(t);function o(h){return r?Pr((a+h)%a):n(h)}function l(){return i}function c(h){return i=o(h),f}function u(h){return d().set(l()+h)}function d(){return k6(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function iie(e,t,r,n,a,i,o,l,c,u,d,f,h,p,y,m,j,b,v){const{cross:g,direction:w}=e,N=["INPUT","SELECT","TEXTAREA"],_={passive:!1},S=Xm(),C=Xm(),P=Cc(50,225).constrain(p.measure(20)),k={mouse:300,touch:400},A={mouse:500,touch:600},O=y?43:25;let R=!1,M=0,L=0,T=!1,W=!1,E=!1,D=!1;function G(Q){if(!v)return;function q(tt){(Gb(v)||v(Q,tt))&&pe(tt)}const xe=t;S.add(xe,"dragstart",tt=>tt.preventDefault(),_).add(xe,"touchmove",()=>{},_).add(xe,"touchend",()=>{}).add(xe,"touchstart",q).add(xe,"mousedown",q).add(xe,"touchcancel",ve).add(xe,"contextmenu",ve).add(xe,"click",ie,!0)}function J(){S.clear(),C.clear()}function I(){const Q=D?r:t;C.add(Q,"touchmove",te,_).add(Q,"touchend",ve).add(Q,"mousemove",te,_).add(Q,"mouseup",ve)}function Y(Q){const q=Q.nodeName||"";return N.includes(q)}function V(){return(y?A:k)[D?"mouse":"touch"]}function ee(Q,q){const xe=f.add(T2(Q)*-1),tt=d.byDistance(Q,!y).distance;return y||Pr(Q)<P?tt:j&&q?tt*.5:d.byIndex(xe.get(),0).distance}function pe(Q){const q=HN(Q,n);D=q,E=y&&q&&!Q.buttons&&R,R=nm(a.get(),o.get())>=2,!(q&&Q.button!==0)&&(Y(Q.target)||(T=!0,i.pointerDown(Q),u.useFriction(0).useDuration(0),a.set(o),I(),M=i.readPoint(Q),L=i.readPoint(Q,g),h.emit("pointerDown")))}function te(Q){if(!HN(Q,n)&&Q.touches.length>=2)return ve(Q);const xe=i.readPoint(Q),tt=i.readPoint(Q,g),at=nm(xe,M),ft=nm(tt,L);if(!W&&!D&&(!Q.cancelable||(W=at>ft,!W)))return ve(Q);const Wt=i.pointerMove(Q);at>m&&(E=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(w(Wt)),Q.preventDefault()}function ve(Q){const xe=d.byDistance(0,!1).index!==f.get(),tt=i.pointerUp(Q)*V(),at=ee(w(tt),xe),ft=tie(tt,at),Wt=O-10*ft,$t=b+ft/50;W=!1,T=!1,C.clear(),u.useDuration(Wt).useFriction($t),c.distance(at,!y),D=!1,h.emit("pointerUp")}function ie(Q){E&&(Q.stopPropagation(),Q.preventDefault(),E=!1)}function B(){return T}return{init:G,destroy:J,pointerDown:B}}function oie(e,t){let n,a;function i(f){return f.timeStamp}function o(f,h){const y=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(HN(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const h=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),h}function u(f){if(!n||!a)return 0;const h=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,m=h/p;return p&&!y&&Pr(m)>.1?m:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function lie(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function cie(e){function t(n){return e*(n/100)}return{measure:t}}function uie(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function h(j){return a.measureSize(o.measure(j))}function p(j){if(!i)return;u=h(e),d=n.map(h);function b(v){for(const g of v){if(f)return;const w=g.target===e,N=n.indexOf(g.target),_=w?u:d[N],S=h(w?e:n[N]);if(Pr(S-_)>=.5){j.reInit(),t.emit("resize");break}}}c=new ResizeObserver(v=>{(Gb(i)||i(j,v))&&b(v)}),r.requestAnimationFrame(()=>{l.forEach(v=>c.observe(v))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function die(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function h(){const _=n.get()-e.get(),S=!c;let C=0;return S?(o=0,r.set(n),e.set(n),C=_):(r.set(e),o+=_/c,o*=u,d+=o,e.add(o),C=d-f),l=T2(C),f=d,N}function p(){const _=n.get()-t.get();return Pr(_)<.001}function y(){return c}function m(){return l}function j(){return o}function b(){return g(a)}function v(){return w(i)}function g(_){return c=_,N}function w(_){return u=_,N}const N={direction:m,duration:y,velocity:j,seek:h,settled:p,useBaseFriction:v,useBaseDuration:b,useFriction:w,useDuration:g};return N}function fie(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=Cc(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",m=Pr(e[y]-t.get()),j=r.get()-t.get(),b=l.constrain(m/o);r.subtract(j*b),!p&&Pr(j)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function hie(e,t,r,n,a){const i=Cc(-t+e,0),o=f(),l=d(),c=h();function u(y,m){return nm(y,m)<=1}function d(){const y=o[0],m=Va(o),j=o.lastIndexOf(y),b=o.indexOf(m)+1;return Cc(j,b)}function f(){return r.map((y,m)=>{const{min:j,max:b}=i,v=i.constrain(y),g=!m,w=I2(r,m);return g?b:w||u(j,v)?j:u(b,v)?b:v}).map(y=>parseFloat(y.toFixed(3)))}function h(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:m}=l;return o.slice(y,m)}return{snapsContained:c,scrollContainLimit:l}}function mie(e,t,r){const n=t[0],a=r?n-e:Va(t);return{limit:Cc(a,n)}}function pie(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=Cc(i,o);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);n.forEach(y=>y.add(p))}return{loop:d}}function gie(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function xie(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=h(),d=p();function f(){return l(n).map(m=>Va(m)[o]-m[0][i]).map(Pr)}function h(){return n.map(m=>r[i]-m[i]).map(m=>-Pr(m))}function p(){return l(u).map(m=>m[0]).map((m,j)=>m+c[j])}return{snaps:u,snapsAligned:d}}function vie(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const h=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?h:h.slice(l,c).map((y,m,j)=>{const b=!m,v=I2(j,m);if(b){const g=Va(j[0])+1;return UO(g)}if(v){const g=og(i)-Va(j)[0]+1;return UO(g,Va(j)[0])}return y})}return{slideRegistry:u}}function yie(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((m,j)=>Pr(m)-Pr(j))[0]}function u(y){const m=e?o(y):l(y),j=t.map((v,g)=>({diff:d(v-m,0),index:g})).sort((v,g)=>Pr(v.diff)-Pr(g.diff)),{index:b}=j[0];return{index:b,distance:m}}function d(y,m){const j=[y,y+r,y-r];if(!e)return y;if(!m)return c(j);const b=j.filter(v=>T2(v)===m);return b.length?c(b):Va(j)-r}function f(y,m){const j=t[y]-a.get(),b=d(j,m);return{index:y,distance:b}}function h(y,m){const j=a.get()+y,{index:b,distance:v}=u(j),g=!e&&i(j);if(!m||g)return{index:b,distance:y};const w=t[b]-v,N=y+d(w,0);return{index:b,distance:N}}return{byDistance:h,byIndex:f,shortcut:d}}function bie(e,t,r,n,a,i,o){function l(f){const h=f.distance,p=f.index!==t.get();i.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const p=a.byDistance(f,h);l(p)}function u(f,h){const p=t.clone().set(f),y=a.byIndex(p.get(),h);l(y)}return{distance:c,index:u}}function jie(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(m){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const v=r.findIndex(g=>g.includes(m));O2(v)&&(a.useDuration(0),n.index(v,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((m,j)=>{i.add(m,"focus",b=>{(Gb(l)||l(p,b))&&y(j)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Fh(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return O2(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function C6(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const p=rie(e.direction(h));p!==a&&(n.transform=r(p),a=p)}function u(h){i=!h}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function wie(e,t,r,n,a,i,o,l,c){const d=Qm(a),f=Qm(a).reverse(),h=b().concat(v());function p(S,C){return S.reduce((P,k)=>P-a[k],C)}function y(S,C){return S.reduce((P,k)=>p(P,C)>0?P.concat([k]):P,[])}function m(S){return i.map((C,P)=>({start:C-n[P]+.5+S,end:C+t-.5+S}))}function j(S,C,P){const k=m(C);return S.map(A=>{const O=P?0:-r,R=P?r:0,M=P?"end":"start",L=k[A][M];return{index:A,loopPoint:L,slideLocation:Fh(-1),translate:C6(e,c[A]),target:()=>l.get()>L?O:R}})}function b(){const S=o[0],C=y(f,S);return j(C,r,!1)}function v(){const S=t-o[0]-1,C=y(d,S);return j(C,-r,!0)}function g(){return h.every(({index:S})=>{const C=d.filter(P=>P!==S);return p(C,t)<=.1})}function w(){h.forEach(S=>{const{target:C,translate:P,slideLocation:k}=S,A=C();A!==k.get()&&(P.to(A),k.set(A))})}function N(){h.forEach(S=>S.translate.clear())}return{canLoop:g,clear:N,loop:w,loopPoints:h}}function Nie(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(Gb(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function _ie(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(m=>{const j=t.indexOf(m.target);a[j]=m}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return Ym(a).reduce((m,j)=>{const b=parseInt(j),{isIntersecting:v}=a[b];return(y&&v||!y&&!v)&&m.push(b),m},[])}function h(y=!0){if(y&&i)return i;if(!y&&o)return o;const m=f(y);return y&&(i=m),y||(o=m),m}return{init:u,destroy:d,get:h}}function Sie(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=m(),h=r.map(o),p=j();function y(){if(!u)return 0;const v=r[0];return Pr(t[l]-v[l])}function m(){if(!u)return 0;const v=i.getComputedStyle(Va(n));return parseFloat(v.getPropertyValue(`margin-${c}`))}function j(){return r.map((v,g,w)=>{const N=!g,_=I2(w,g);return N?h[g]+d:_?h[g]+f:w[g+1][l]-v[l]}).map(Pr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function kie(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=O2(r);function p(b,v){return Qm(b).filter(g=>g%v===0).map(g=>b.slice(g,g+v))}function y(b){return b.length?Qm(b).reduce((v,g,w)=>{const N=Va(v)||0,_=N===0,S=g===og(b),C=a[u]-i[N][u],P=a[u]-i[g][d],k=!n&&_?f(o):0,A=!n&&S?f(l):0,O=Pr(P-A-(C+k));return w&&O>t+c&&v.push(g),S&&v.push(b.length),v},[]).map((v,g,w)=>{const N=Math.max(w[g-1]||0);return b.slice(N,v)}):[]}function m(b){return h?p(b,r):y(b)}return{groupSlides:m}}function Cie(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:y,inViewThreshold:m,slidesToScroll:j,skipSnaps:b,containScroll:v,watchResize:g,watchSlides:w,watchDrag:N,watchFocus:_}=i,S=2,C=lie(),P=C.measure(t),k=r.map(C.measure),A=aie(c,u),O=A.measureSize(P),R=cie(O),M=nie(l,O),L=!f&&!!v,T=f||!!v,{slideSizes:W,slideSizesWithGaps:E,startGap:D,endGap:G}=Sie(A,P,k,r,T,a),J=kie(A,O,j,f,P,k,D,G,S),{snaps:I,snapsAligned:Y}=xie(A,M,P,k,J),V=-Va(I)+Va(E),{snapsContained:ee,scrollContainLimit:pe}=hie(O,V,Y,v,S),te=L?ee:Y,{limit:ve}=mie(V,te,f),ie=k6(og(te),d,f),B=ie.clone(),me=Qm(r),Q=({dragHandler:Rr,scrollBody:Qs,scrollBounds:sn,options:{loop:Na}})=>{Na||sn.constrain(Rr.pointerDown()),Qs.seek()},q=({scrollBody:Rr,translate:Qs,location:sn,offsetLocation:Na,previousLocation:Xa,scrollLooper:xo,slideLooper:cu,dragHandler:cs,animation:vo,eventHandler:vr,scrollBounds:mj,options:{loop:zn}},an)=>{const eh=Rr.settled(),uu=!mj.shouldConstrain(),du=zn?eh:eh&&uu,_i=du&&!cs.pointerDown();_i&&vo.stop();const Ot=sn.get()*an+Xa.get()*(1-an);Na.set(Ot),zn&&(xo.loop(Rr.direction()),cu.loop()),Qs.to(Na.get()),_i&&vr.emit("settle"),du||vr.emit("scroll")},xe=sie(n,a,()=>Q(Rt),Rr=>q(Rt,Rr)),tt=.68,at=te[ie.get()],ft=Fh(at),Wt=Fh(at),$t=Fh(at),nn=Fh(at),K=die(ft,$t,Wt,nn,h,tt),Z=yie(f,te,V,ve,nn),le=bie(xe,ie,B,K,Z,nn,o),Ee=gie(ve),ke=Xm(),we=_ie(t,r,o,m),{slideRegistry:Ke}=vie(L,v,te,pe,J,me),Dt=jie(e,r,Ke,le,K,ke,o,_),Rt={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:P,slideRects:k,animation:xe,axis:A,dragHandler:iie(A,e,n,a,nn,oie(A,a),ft,xe,le,K,Z,ie,o,R,p,y,b,tt,N),eventStore:ke,percentOfView:R,index:ie,indexPrevious:B,limit:ve,location:ft,offsetLocation:$t,previousLocation:Wt,options:i,resizeHandler:uie(t,o,a,r,A,g,C),scrollBody:K,scrollBounds:fie(ve,$t,nn,K,R),scrollLooper:pie(V,ve,$t,[ft,$t,Wt,nn]),scrollProgress:Ee,scrollSnapList:te.map(Ee.get),scrollSnaps:te,scrollTarget:Z,scrollTo:le,slideLooper:wie(A,O,V,W,E,I,te,$t,r),slideFocus:Dt,slidesHandler:Nie(t,o,w),slidesInView:we,slideIndexes:me,slideRegistry:Ke,slidesToScroll:J,target:nn,translate:C6(A,t)};return Rt}function Pie(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const Eie={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Aie(e){function t(i,o){return S6(i,o||{})}function r(i){const o=i.breakpoints||{},l=Ym(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Ym(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function Oie(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Fv(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=Aie(a),o=Oie(i),l=Xm(),c=Pie(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:h,off:p,emit:y}=c,m=A;let j=!1,b,v=u(Eie,Fv.globalOptions),g=u(v),w=[],N,_,S;function C(){const{container:me,slides:Q}=g;_=(KN(me)?e.querySelector(me):me)||e.children[0];const xe=KN(Q)?_.querySelectorAll(Q):Q;S=[].slice.call(xe||_.children)}function P(me){const Q=Cie(e,_,S,n,a,me,c);if(me.loop&&!Q.slideLooper.canLoop()){const q=Object.assign({},me,{loop:!1});return P(q)}return Q}function k(me,Q){j||(v=u(v,me),g=d(v),w=Q||w,C(),b=P(g),f([v,...w.map(({options:q})=>q)]).forEach(q=>l.add(q,"change",A)),g.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(B),b.eventHandler.init(B),b.resizeHandler.init(B),b.slidesHandler.init(B),b.options.loop&&b.slideLooper.loop(),_.offsetParent&&S.length&&b.dragHandler.init(B),N=o.init(B,w)))}function A(me,Q){const q=J();O(),k(u({startIndex:q},me),Q),c.emit("reInit")}function O(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),o.destroy(),l.clear()}function R(){j||(j=!0,l.clear(),O(),c.emit("destroy"),c.clear())}function M(me,Q,q){!g.active||j||(b.scrollBody.useBaseFriction().useDuration(Q===!0?0:g.duration),b.scrollTo.index(me,q||0))}function L(me){const Q=b.index.add(1).get();M(Q,me,-1)}function T(me){const Q=b.index.add(-1).get();M(Q,me,1)}function W(){return b.index.add(1).get()!==J()}function E(){return b.index.add(-1).get()!==J()}function D(){return b.scrollSnapList}function G(){return b.scrollProgress.get(b.offsetLocation.get())}function J(){return b.index.get()}function I(){return b.indexPrevious.get()}function Y(){return b.slidesInView.get()}function V(){return b.slidesInView.get(!1)}function ee(){return N}function pe(){return b}function te(){return e}function ve(){return _}function ie(){return S}const B={canScrollNext:W,canScrollPrev:E,containerNode:ve,internalEngine:pe,destroy:R,off:p,on:h,emit:y,plugins:ee,previousScrollSnap:I,reInit:m,rootNode:te,scrollNext:L,scrollPrev:T,scrollProgress:G,scrollSnapList:D,scrollTo:M,selectedScrollSnap:J,slideNodes:ie,slidesInView:Y,slidesNotInView:V};return k(t,r),setTimeout(()=>c.emit("init"),0),B}Fv.globalOptions=void 0;function R2(e={},t=[]){const r=x.useRef(e),n=x.useRef(t),[a,i]=x.useState(),[o,l]=x.useState(),c=x.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return x.useEffect(()=>{A2(r.current,e)||(r.current=e,c())},[e,c]),x.useEffect(()=>{eie(n.current,t)||(n.current=t,c())},[t,c]),x.useEffect(()=>{if(Zae()&&o){Fv.globalOptions=R2.globalOptions;const u=Fv(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}R2.globalOptions=void 0;const P6=x.createContext(null);function Qb(){const e=x.useContext(P6);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const lg=x.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=R2({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=x.useState(!1),[h,p]=x.useState(!1),y=x.useCallback(v=>{v&&(f(v.canScrollPrev()),p(v.canScrollNext()))},[]),m=x.useCallback(()=>{u==null||u.scrollPrev()},[u]),j=x.useCallback(()=>{u==null||u.scrollNext()},[u]),b=x.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),m()):v.key==="ArrowRight"&&(v.preventDefault(),j())},[m,j]);return x.useEffect(()=>{!u||!r||r(u)},[u,r]),x.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),s.jsx(P6.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:j,canScrollPrev:d,canScrollNext:h},children:s.jsx("div",{ref:l,onKeyDownCapture:b,className:je("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});lg.displayName="Carousel";const cg=x.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=Qb();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:je("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});cg.displayName="CarouselContent";const ug=x.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Qb();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:je("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});ug.displayName="CarouselItem";const Tie=x.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=Qb();return s.jsxs($,{ref:a,variant:t,size:r,className:je("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Tie.displayName="CarouselPrevious";const Iie=x.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=Qb();return s.jsxs($,{ref:a,variant:t,size:r,className:je("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(yb,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});Iie.displayName="CarouselNext";const Rie={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Mie(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function $ie(e,t){const r=e.rootNode();return t&&t(r)||r}function Df(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(M,L){r=M;const{mergeOptions:T,optionsAtMedia:W}=L,E=T(Rie,Df.globalOptions),D=T(E,e);if(t=W(D),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=Mie(r,t.delay);const{eventStore:G,ownerDocument:J}=r.internalEngine(),I=!!r.internalEngine().options.watchDrag,Y=$ie(r,t.rootNode);G.add(J,"visibilitychange",b),I&&r.on("pointerDown",g),I&&!t.stopOnInteraction&&r.on("pointerUp",w),t.stopOnMouseEnter&&G.add(Y,"mouseenter",N),t.stopOnMouseEnter&&!t.stopOnInteraction&&G.add(Y,"mouseleave",_),t.stopOnFocusIn&&r.on("slideFocusStart",j),t.stopOnFocusIn&&!t.stopOnInteraction&&G.add(r.containerNode(),"focusout",m),t.playOnInit&&m()}function h(){r.off("pointerDown",g).off("pointerUp",w).off("slideFocusStart",j),j(),n=!0,l=!1}function p(){const{ownerWindow:M}=r.internalEngine();M.clearTimeout(o),o=M.setTimeout(A,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:M}=r.internalEngine();M.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function m(){if(!n){if(v()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function j(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function b(){if(v())return u=l,j();u&&m()}function v(){const{ownerDocument:M}=r.internalEngine();return M.visibilityState==="hidden"}function g(){c||j()}function w(){c||m()}function N(){c=!0,j()}function _(){c=!1,m()}function S(M){typeof M<"u"&&(d=M),m()}function C(){l&&j()}function P(){l&&m()}function k(){return l}function A(){const{index:M}=r.internalEngine(),L=M.clone().add(1).get(),T=r.scrollSnapList().length-1,W=t.stopOnLastSnap&&L===T;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),W)return j();m()}function O(){if(!i)return null;const M=a[r.selectedScrollSnap()],L=new Date().getTime()-i;return M-L}return{name:"autoplay",options:e,init:f,destroy:h,play:S,stop:C,reset:P,isPlaying:k,timeUntilNext:O}}Df.globalOptions=void 0;const Lf="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",Yb="/assets/indoor_squash_court__c97e350b-C624hay8.jpg",M2="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",Xb="/assets/large_event_hall_int_39cfb773-D7tynaMB.jpg",Die="/assets/elegant_card_game_ro_26fec1dc-B0OzwSTX.jpg",$2="/assets/modern_cafe_bar_inte_bc2874c0-DokhLEuU.jpg",Lie={GiTennisRacket:fl,GiSquare:ig,Crosshair:Hc,Building2:Wr,Coffee:Gk,Spade:_b},Fie={"padel-tennis":Lf,squash:Yb,"air-rifle-range":M2,"multipurpose-hall":Xb,"bridge-room":Die,"cafe-bar":$2},BO=[{id:"padel",slug:"padel-tennis",name:"Padel Tennis",icon:fl,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"World-Class Padel Courts: Three premium glass-backed indoor Padel Courts optimized for competitive doubles play and available year-round, regardless of the weather.",footer:"3 courts planned",image:Lf},{id:"squash",slug:"squash",name:"Squash Court",icon:ig,category:"Indoor Court",status:"soon",statusLabel:"Opening Soon",description:"Dedicated Squash Facility: A single, premium-grade squash court built to international dimensions. Ideal for focused training, intense solo practice, and eventually, club ladder competitions.",footer:"Planned | 1 court",image:Yb},{id:"air_rifle",slug:"air-rifle-range",name:"Air Rifle Range",icon:Hc,category:"Precision Sport",status:"soon",statusLabel:"Opening Soon",description:"Certified Precision Range: A safe, controlled, and sound-dampened indoor range compliant with all safety regulations. Access requires mandatory certification.",footer:"Certificate-based access",image:M2},{id:"hall",slug:"multipurpose-hall",name:"Multipurpose Hall",icon:Wr,category:"Indoor Space",status:"planned",statusLabel:"Planned",description:"Flexible Event & Training Space: A large, adaptable hall suitable for yoga, aerobics, martial arts, corporate workshops, and private functions. Available for flexible, block, and event-based bookings.",footer:"Use-cases evolving",image:Xb},{id:"cafe",slug:"cafe-bar",name:"Open Cafe/Bar",icon:Gk,category:"Recreation",status:"planned",statusLabel:"Planned",description:"The Quarterdeck Social Hub: A bright, spacious area offering artisanal coffee, healthy refreshments, light meals, and a view overlooking the main courts - perfect for post-match debriefs or casual meetings.",footer:"No booking required",image:$2}];function Uie(e){switch(e){case"ACTIVE":return{status:"active",statusLabel:"Active"};case"OPENING_SOON":return{status:"soon",statusLabel:"Opening Soon"};case"PLANNED":default:return{status:"planned",statusLabel:"Planned"}}}function Bie(){const{getValue:e}=Vr(["facilities_title","facilities_subtitle","facilities_cta","facilities_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/facilities"]}),n=t&&t.length>0?t.map(a=>{const i=Uie(a.status),o=BO.find(l=>l.slug===a.slug);return{id:a.id,slug:a.slug,name:a.name,icon:Lie[a.icon]||(o==null?void 0:o.icon)||Wr,category:a.category||(o==null?void 0:o.category)||"Facility",status:i.status,statusLabel:i.statusLabel,description:a.description||(o==null?void 0:o.description)||"",footer:`${a.resourceCount||1} ${a.resourceCount===1?"court":"courts"} available`,image:a.imageUrl||Fie[a.slug]||(o==null?void 0:o.image)||Xb}}):BO;return s.jsx("section",{id:"facilities",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-facilities-title",children:e("facilities_title")||Ae.facilities_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("facilities_subtitle")||Ae.facilities_subtitle})]}),s.jsx(ge,{href:e("facilities_cta_url")||Ae.facilities_cta_url||"/booking",children:s.jsx($,{className:"rounded-full","data-testid":"button-check-availability",children:e("facilities_cta")||Ae.facilities_cta})})]}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsx(lg,{opts:{align:"start",loop:!0},plugins:[Df({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(cg,{className:"-ml-2 md:-ml-4",children:n.map(a=>s.jsx(ug,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(ge,{href:`/facilities/${a.slug}`,children:s.jsxs("div",{className:"group relative aspect-[4/3] rounded-xl overflow-hidden cursor-pointer","data-testid":`card-facility-${a.slug||a.id}`,children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold backdrop-blur-sm ${a.status==="soon"?"bg-blue-500/80 text-white":a.status==="active"?"bg-green-500/80 text-white":"bg-gray-500/80 text-white"}`,children:a.statusLabel})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:[a.category,s.jsx(pa,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},a.id))})})]})})}const Vie={check:pr,"check-circle":Sn,clock:Bt,hammer:x3,"hard-hat":v3,rocket:OQ,target:ca};function qie(){const[e,t]=x.useState(null),{getValue:r}=Vr(["updates_title","updates_subtitle","updates_cta","updates_cta_url"],Ae),{data:n=[],isLoading:a}=de({queryKey:["/api/construction-phases"]}),i=x.useMemo(()=>[...n].sort((c,u)=>c.sortOrder-u.sortOrder),[n]),o=x.useMemo(()=>i.length===0?0:i.reduce((c,u)=>c+u.progress,0)/i.length,[i]),l=c=>c.isComplete?"Complete":c.isActive?`${c.progress}%`:c.timeframe||"Upcoming";return a?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsx("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:s.jsxs("div",{children:[s.jsx(Le,{className:"h-8 w-64 mb-2"}),s.jsx(Le,{className:"h-4 w-96"})]})}),s.jsxs("div",{className:"relative py-12",children:[s.jsx(Le,{className:"h-1 w-full rounded-full"}),s.jsx("div",{className:"flex justify-between mt-8",children:[1,2,3,4].map(c=>s.jsxs("div",{className:"flex flex-col items-center",style:{width:"25%"},children:[s.jsx(Le,{className:"w-14 h-14 rounded-full"}),s.jsx(Le,{className:"h-4 w-16 mt-4"}),s.jsx(Le,{className:"h-3 w-24 mt-1"})]},c))})]})]})}):i.length===0?s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsx("div",{className:"qd-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"qd-section-title mb-4",children:"Construction Updates"}),s.jsx("p",{className:"text-muted-foreground",children:"Construction timeline coming soon."})]})})}):s.jsx("section",{id:"updates",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-updates-title",children:r("updates_title")||Ae.updates_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:r("updates_subtitle")||Ae.updates_subtitle})]}),s.jsx(ge,{href:r("updates_cta_url")||Ae.updates_cta_url||"/roadmap",children:s.jsxs("span",{className:"text-sm font-semibold text-[#2a4060] dark:text-blue-400 hover:underline cursor-pointer flex items-center gap-1","data-testid":"link-view-roadmap",children:[r("updates_cta")||Ae.updates_cta," ",s.jsx(pa,{className:"w-4 h-4"})]})})]}),s.jsxs("div",{className:"relative py-12",children:[s.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-gray-200 dark:bg-slate-700 rounded-full transform -translate-y-1/2"}),s.jsx("div",{className:"absolute left-0 top-1/2 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-blue-500 rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:`${o}%`}}),s.jsx("div",{className:"absolute top-1/2 h-1 w-8 bg-gradient-to-r from-transparent via-white to-transparent rounded-full transform -translate-y-1/2 animate-pulse opacity-80",style:{left:`calc(${o}% - 16px)`}}),s.jsx("div",{className:"relative flex justify-between items-center",children:i.map((c,u)=>{const d=Vie[c.icon]||Bt,f=e===c.id,h=i.length>0?`${100/i.length}%`:"25%";return s.jsxs("div",{className:"relative flex flex-col items-center",style:{width:h},onMouseEnter:()=>t(c.id),onMouseLeave:()=>t(null),children:[s.jsx(ge,{href:`/roadmap#${c.id}`,children:s.jsxs("div",{className:`
                        relative z-10 w-14 h-14 rounded-full flex items-center justify-center cursor-pointer
                        transition-all duration-300 ease-out transform
                        ${f?"scale-125":"scale-100"}
                        ${c.isComplete?"bg-green-500 text-white shadow-lg shadow-green-500/30":c.isActive?"bg-blue-500 text-white shadow-lg shadow-blue-500/30 animate-pulse":"bg-white dark:bg-slate-800 text-muted-foreground border-2 border-gray-300 dark:border-slate-600"}
                      `,"data-testid":`timeline-point-${c.id}`,children:[s.jsx(d,{className:"w-6 h-6"}),c.isActive&&s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("div",{className:`text-sm font-bold ${c.isComplete?"text-green-600 dark:text-green-400":c.isActive?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`,children:c.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.title}),s.jsx("div",{className:`text-xs font-semibold mt-1 ${c.isComplete?"text-green-600":c.isActive?"text-blue-600":"text-muted-foreground"}`,children:l(c)})]}),s.jsxs("div",{className:`
                      absolute z-50 w-72 p-4 rounded-xl bg-white dark:bg-slate-800 
                      border border-gray-200 dark:border-slate-700 shadow-2xl
                      transition-all duration-300 ease-out
                      ${f?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-2"}
                      ${u>=i.length/2?"right-0":"left-0"}
                    `,style:{top:"100%",marginTop:"80px"},children:[s.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-white dark:bg-slate-800 border-l border-t border-gray-200 dark:border-slate-700 transform rotate-45 ${u>=i.length/2?"right-8":"left-8"}`}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c.isComplete?"bg-green-100 dark:bg-green-900/30 text-green-600":c.isActive?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":"bg-gray-100 dark:bg-slate-700 text-muted-foreground"}`,children:s.jsx(d,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:c.timeframe})]})]}),c.milestones&&c.milestones.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"MILESTONES"}),s.jsx("ul",{className:"space-y-1",children:c.milestones.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[s.jsx(pr,{className:`w-3 h-3 mt-0.5 flex-shrink-0 ${c.isComplete?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{children:p})]},y))})]}),c.highlights&&c.highlights.length>0&&s.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1.5",children:"HIGHLIGHTS"}),s.jsx("ul",{className:"space-y-1",children:c.highlights.map((p,y)=>s.jsxs("li",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400",children:[s.jsx(pa,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:p})]},y))})]})]})]})]},c.id)})})]}),s.jsx("div",{className:"mt-8 p-6 rounded-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-[#2a4060] dark:text-white mt-1",children:[Math.round(o),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:i.filter(c=>c.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.filter(c=>c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:i.filter(c=>!c.isComplete&&!c.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})]})})}const E6="/assets/architectural_render_b118ee78-hmTi1mjz.jpg",A6="/assets/architectural_render_cd4dce75-BruYoWlw.jpg",zie="/assets/architectural_render_c7f63aa7-m2TWghKc.jpg",O6="/assets/sports_facility_cons_6b087ae8-Bawvazvq.jpg",Wie="/assets/sports_facility_cons_aa71e508-BJWEQx7e.jpg",Kie="/assets/sports_facility_cons_44a23ac3-C9MzLDrF.jpg",Hie=[{key:"gallery-1",title:"Complex Exterior Render",type:"render",image:E6,category:"renders"},{key:"gallery-2",title:"Court Construction Progress",type:"photo",image:O6,category:"construction"},{key:"gallery-3",title:"Sports Arena Render",type:"render",image:A6,category:"renders"},{key:"gallery-4",title:"Indoor Facility Build",type:"photo",image:Wie,category:"construction"},{key:"gallery-5",title:"Final Design Concept",type:"render",image:zie,category:"renders"},{key:"gallery-6",title:"Structural Framework",type:"photo",image:Kie,category:"construction"}];function Gie(){const{getValue:e}=Vr(["gallery_title","gallery_subtitle","gallery_cta","gallery_cta_url"],Ae),{data:t=[]}=de({queryKey:["/api/site-images","gallery"],queryFn:async()=>{const a=await(await fetch("/api/site-images?page=gallery")).json();return Array.isArray(a)?a:[]},staleTime:1e3*60*5}),r=x.useMemo(()=>Hie.map((n,a)=>{const i=t.find(o=>o.section===n.key&&o.isActive);return{...n,title:(i==null?void 0:i.title)||n.title,image:(i==null?void 0:i.imageUrl)||n.image}}),[t]);return s.jsx("section",{id:"gallery",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-gallery-title",children:e("gallery_title")||Ae.gallery_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("gallery_subtitle")||Ae.gallery_subtitle})]}),s.jsx(ge,{href:e("gallery_cta_url")||Ae.gallery_cta_url||"/gallery",children:s.jsxs($,{variant:"outline",className:"rounded-full","data-testid":"button-view-full-gallery",children:[e("gallery_cta")||Ae.gallery_cta," ",s.jsx(yb,{className:"ml-2 w-4 h-4"})]})})]}),s.jsx(lg,{opts:{align:"start",loop:!0},plugins:[Df({delay:3500,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(cg,{className:"-ml-2 md:-ml-4",children:r.map((n,a)=>s.jsx(ug,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/3",children:s.jsx(ge,{href:`/gallery?category=${n.category}`,children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer","data-testid":`gallery-item-${a}`,children:[s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:n.title}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${n.type==="render"?"bg-blue-500/80":"bg-amber-500/80"} text-white uppercase tracking-wide`,children:n.type})]})]})})},a))})})]})})}const VO="/assets/modern_indoor_sports_8b182ff8-CMa6_W-x.jpg",Qie={FOUNDING:Lf,GOLD:Yb,SILVER:Xb,GUEST:$2},Yie={FOUNDING:bb,GOLD:xa,SILVER:w3,GUEST:Nr},qO={FOUNDING:{gradient:"from-amber-600/90 to-amber-800/90",badge:"bg-amber-500"},GOLD:{gradient:"from-yellow-500/90 to-yellow-700/90",badge:"bg-yellow-500"},SILVER:{gradient:"from-gray-500/90 to-gray-700/90",badge:"bg-gray-500"},GUEST:{gradient:"from-blue-500/90 to-blue-700/90",badge:"bg-blue-500"}},Xie=[{id:"founding",name:"Founding",tier:"FOUNDING",tagline:"Exclusive",price:35e3,billingPeriod:"monthly",closed:!0,isActive:!0,sortOrder:1},{id:"gold",name:"Gold",tier:"GOLD",tagline:"Premium",price:15e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:2},{id:"silver",name:"Silver",tier:"SILVER",tagline:"Standard",price:5e3,billingPeriod:"monthly",closed:!1,isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Casual",price:0,billingPeriod:"per visit",closed:!1,isActive:!0,sortOrder:4}];function Jie(){const{getValue:e}=Vr(["membership_title","membership_subtitle","membership_cta","membership_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{try{const c=await fetch("/api/pricing-tiers");if(!c.ok)return[];const u=await c.json();return Array.isArray(u)?u:[]}catch{return[]}},staleTime:1e3*60*5}),{data:n=[]}=de({queryKey:["/api/site-images","membership"],queryFn:async()=>{const u=await(await fetch("/api/site-images?page=membership")).json();return Array.isArray(u)?u:[]},staleTime:1e3*60*5}),a=c=>{const u=n.find(d=>d.section===`tier-${c.toLowerCase()}`&&d.isActive);return(u==null?void 0:u.imageUrl)||Qie[c]||VO},i=x.useMemo(()=>{const c=n.find(u=>u.section==="background"&&u.isActive);return(c==null?void 0:c.imageUrl)||VO},[n]),o=x.useMemo(()=>!t||t.length===0?Xie:t.filter(c=>c.isActive).sort((c,u)=>(c.sortOrder||0)-(u.sortOrder||0)).map(c=>({id:c.id,name:c.name,tier:c.tier,tagline:c.tier==="FOUNDING"?"Exclusive":c.tier==="GOLD"?"Premium":c.tier==="SILVER"?"Standard":"Casual",price:c.price,billingPeriod:c.billingPeriod||"monthly",closed:c.tier==="FOUNDING",isActive:c.isActive,sortOrder:c.sortOrder||0})),[t]),l=(c,u)=>{if(c===0||!c)return"Pay per use";const d=u==="yearly"?"/yr":"/mo";return`PKR ${(c/1e3).toFixed(0)}k${d}`};return r?s.jsx("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:s.jsx("div",{className:"qd-container relative z-10",children:s.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3,4].map(c=>s.jsx(Le,{className:"aspect-[4/3] w-72 rounded-xl flex-shrink-0"},c))})})}):s.jsxs("section",{id:"membership",className:"qd-section bg-gray-50 dark:bg-slate-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-5 dark:opacity-10",style:{backgroundImage:`url(${i})`}}),s.jsxs("div",{className:"qd-container relative z-10",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-membership-title",children:e("membership_title")||Ae.membership_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("membership_subtitle")||Ae.membership_subtitle})]}),s.jsx(ge,{href:e("membership_cta_url")||Ae.membership_cta_url||"/membership",children:s.jsx($,{className:"rounded-full","data-testid":"button-inquire-membership",children:e("membership_cta")||Ae.membership_cta})})]}),s.jsx(lg,{opts:{align:"start",loop:!0},plugins:[Df({delay:5e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(cg,{className:"-ml-2 md:-ml-4",children:o.map(c=>{const u=Yie[c.tier]||Nr,d=qO[c.tier]||qO.GUEST,f=a(c.tier);return s.jsx(ug,{className:"pl-2 md:pl-4 basis-full sm:basis-1/2 lg:basis-1/4",children:s.jsx(ge,{href:"/membership",children:s.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-pointer","data-testid":`membership-tier-${c.tier.toLowerCase()}`,children:[s.jsx("img",{src:f,alt:c.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient}`}),c.closed&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-red-500 text-white",children:"CLOSED"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.badge}`,children:s.jsx(u,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70 mb-1",children:c.tagline}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:c.name}),s.jsx("p",{className:"text-lg font-semibold text-white/90 mb-2",children:l(c.price,c.billingPeriod)}),s.jsxs("p",{className:"text-sm text-white/80 flex items-center gap-1",children:["View details",s.jsx(pa,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]})})},c.id)})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("membership_footer")||Ae.membership_footer}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(ge,{href:e("membership_contact_cta_url")||Ae.membership_contact_cta_url||"/contact",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-contact-membership",children:e("membership_contact_cta")||Ae.membership_contact_cta})}),s.jsx(ge,{href:e("membership_terms_cta_url")||Ae.membership_terms_cta_url||"/terms",children:s.jsx($,{variant:"ghost",className:"rounded-full text-muted-foreground","data-testid":"button-view-terms-membership",children:e("membership_terms_cta")||Ae.membership_terms_cta})})]})]})]})]})}function Zie(){const{getValue:e}=Vr(["rules_title","rules_subtitle","rules_cta","rules_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/rules"]}),n=(t==null?void 0:t.slice(0,4))||[];return s.jsx("section",{id:"rules",className:"qd-section",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-rules-title",children:e("rules_title")||Ae.rules_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("rules_subtitle")||Ae.rules_subtitle})]}),s.jsx(ge,{href:e("rules_cta_url")||Ae.rules_cta_url||"/rules",children:s.jsxs($,{variant:"outline",className:"rounded-full","data-testid":"button-view-all-rules",children:[e("rules_cta")||Ae.rules_cta," ",s.jsx(pa,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Rules coming soon..."}):s.jsx("div",{className:"qd-rules-grid",children:n.map((a,i)=>s.jsx(ge,{href:"/rules",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`rule-item-${i}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.content})]})},a.id))})]})})}function eoe(){var a;const{getValue:e}=Vr(["careers_title","careers_subtitle","careers_cta","careers_cta_url"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/careers"]}),n=((a=t==null?void 0:t.filter(i=>i.isActive))==null?void 0:a.slice(0,4))||[];return s.jsx("section",{id:"careers",className:"qd-section bg-gray-50 dark:bg-slate-900",children:s.jsxs("div",{className:"qd-container",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"qd-section-title","data-testid":"text-careers-title",children:e("careers_title")||Ae.careers_title}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mt-2",children:e("careers_subtitle")||Ae.careers_subtitle})]}),s.jsx(ge,{href:e("careers_cta_url")||Ae.careers_cta_url||"/careers",children:s.jsxs($,{className:"rounded-full","data-testid":"button-submit-cv",children:[e("careers_cta")||Ae.careers_cta," ",s.jsx(pa,{className:"w-4 h-4 ml-1"})]})})]}),r?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No open positions at the moment. Check back soon!"}):s.jsx("div",{className:"qd-rules-grid",children:n.map((i,o)=>s.jsx(ge,{href:"/careers",children:s.jsxs("div",{className:"qd-rule-item hover-elevate cursor-pointer","data-testid":`career-position-${o}`,children:[s.jsx("h4",{className:"font-bold text-foreground mb-2",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})]})})}const ox="The Quarterdeck",toe="Premium sports and recreation complex in Islamabad, Pakistan featuring Padel Tennis, Squash, Air Rifle Range, and more. Book your facilities, join events, and become a member today.";function qr({title:e,description:t=toe,ogTitle:r,ogDescription:n,ogImage:a,ogType:i="website",twitterCard:o="summary_large_image",canonicalUrl:l}={}){x.useEffect(()=>{const c=e?`${e} | ${ox}`:ox;document.title=c;const u=(d,f,h=!1)=>{const p=h?`meta[property="${d}"]`:`meta[name="${d}"]`;let y=document.querySelector(p);y||(y=document.createElement("meta"),h?y.setAttribute("property",d):y.setAttribute("name",d),document.head.appendChild(y)),y.setAttribute("content",f)};if(u("description",t),u("og:title",r||c,!0),u("og:description",n||t,!0),u("og:type",i,!0),u("og:site_name",ox,!0),a&&u("og:image",a,!0),l){u("og:url",l,!0);let d=document.querySelector('link[rel="canonical"]');d||(d=document.createElement("link"),d.setAttribute("rel","canonical"),document.head.appendChild(d)),d.setAttribute("href",l)}return u("twitter:card",o),u("twitter:title",r||c),u("twitter:description",n||t),a&&u("twitter:image",a),()=>{document.title=ox}},[e,t,r,n,a,i,o,l])}const Sw=[{id:"about",component:()=>s.jsx(zae,{}),altBackground:!0,visibilityKey:"section_about_visible",orderKey:"section_about_order"},{id:"facilities",component:()=>s.jsx(Bie,{}),altBackground:!1,visibilityKey:"section_facilities_visible",orderKey:"section_facilities_order"},{id:"updates",component:()=>s.jsx(qie,{}),altBackground:!0,visibilityKey:"section_updates_visible",orderKey:"section_updates_order"},{id:"gallery",component:()=>s.jsx(Gie,{}),altBackground:!1,visibilityKey:"section_gallery_visible",orderKey:"section_gallery_order"},{id:"membership",component:()=>s.jsx(Jie,{}),altBackground:!0,visibilityKey:"section_membership_visible",orderKey:"section_membership_order"},{id:"rules",component:()=>s.jsx(Zie,{}),altBackground:!1,visibilityKey:"section_rules_visible",orderKey:"section_rules_order"},{id:"careers",component:()=>s.jsx(eoe,{}),altBackground:!0,visibilityKey:"section_careers_visible",orderKey:"section_careers_order"}];function roe(){qr({description:"The Quarterdeck is Islamabad's premier sports and recreation complex featuring Padel Tennis, Squash, Air Rifle Range, and exclusive membership packages. Book facilities and join events today."});const e=[...Sw.map(n=>n.visibilityKey),...Sw.map(n=>n.orderKey)],{getValue:t}=Vr(e,Ae),r=x.useMemo(()=>Sw.filter(n=>Vae(t(n.visibilityKey))).sort((n,a)=>{const i=parseInt(t(n.orderKey)||"99",10),o=parseInt(t(a.orderKey)||"99",10);return i-o}),[t]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qae,{}),r.map(n=>{const a=n.component;return n.altBackground?s.jsx("div",{className:"qd-section-alt",children:s.jsx(a,{})},n.id):s.jsx(a,{},n.id)})]}),s.jsx(or,{})]})}const X=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));X.displayName="Input";const noe=Kp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...r}){return s.jsx("div",{className:je(noe({variant:t}),e),...r})}function Zs(e){return e.toLocaleString("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0})}function soe(e,t){const[r,n]=e.split(":").map(Number),a=r*60+n+t,i=Math.floor(a/60),o=a%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function zO(e){const t=parseInt(e.split(":")[0]);return t>=10&&t<17}const Jb=()=>"Notification"in window,aoe=()=>Jb()?Notification.permission:"unsupported",ioe=async()=>Jb()?Notification.permission==="granted"?"granted":Notification.permission!=="denied"?await Notification.requestPermission():Notification.permission:(console.warn("Push notifications are not supported in this browser"),"unsupported"),WO=e=>{if(!Jb())return console.warn("Push notifications are not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const t=new Notification(e.title,{body:e.body,icon:e.icon||"/favicon.ico",tag:e.tag,requireInteraction:e.requireInteraction||!1});return e.onClick&&(t.onclick=()=>{var r;window.focus(),(r=e.onClick)==null||r.call(e),t.close()}),t},KO={bookingReminder:(e,t,r)=>({title:"Upcoming Booking Reminder",body:`Your ${e} booking is scheduled for ${t} on ${r}`,tag:"booking-reminder",requireInteraction:!0}),bookingConfirmed:e=>({title:"Booking Confirmed",body:`Your booking for ${e} has been confirmed!`,tag:"booking-confirmed"}),paymentVerified:e=>({title:"Payment Verified",body:`Your payment for ${e} has been verified`,tag:"payment-verified"}),eventReminder:(e,t)=>({title:"Event Reminder",body:`Don't forget: ${e} is happening on ${t}`,tag:"event-reminder",requireInteraction:!0})};function ooe(){const[e]=x.useState(()=>Jb()),[t,r]=x.useState("default");x.useEffect(()=>{r(aoe())},[]);const n=x.useCallback(async()=>{const o=await ioe();return r(o),o},[]),a=x.useCallback((o,l)=>{if(t!=="granted")return;const c=KO.bookingReminder(l,o.startTime,o.date);WO(c)},[t]),i=x.useCallback((o,l)=>{if(t!=="granted")return;const c=KO.eventReminder(o,l);WO(c)},[t]);return{isSupported:e,permission:t,requestPermission:n,showBookingReminder:a,showEventReminder:i}}function loe(e){const t=coe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(doe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function coe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=hoe(a),l=foe(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uoe=Symbol("radix.slottable");function doe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uoe}function foe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hoe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Zb="Dialog",[T6,I6]=gn(Zb),[moe,Ha]=T6(Zb),R6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=ss({prop:n,defaultProp:a??!1,onChange:i,caller:Zb});return s.jsx(moe,{scope:t,triggerRef:l,contentRef:c,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};R6.displayName=Zb;var M6="DialogTrigger",$6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ha(M6,r),i=ut(t,a.triggerRef);return s.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":F2(a.open),...n,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});$6.displayName=M6;var D2="DialogPortal",[poe,D6]=T6(D2,{forceMount:void 0}),L6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ha(D2,t);return s.jsx(poe,{scope:t,forceMount:r,children:x.Children.map(n,o=>s.jsx(rn,{present:r||i.open,children:s.jsx(Pf,{asChild:!0,container:a,children:o})}))})};L6.displayName=D2;var Uv="DialogOverlay",F6=x.forwardRef((e,t)=>{const r=D6(Uv,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ha(Uv,e.__scopeDialog);return i.modal?s.jsx(rn,{present:n||i.open,children:s.jsx(xoe,{...a,ref:t})}):null});F6.displayName=Uv;var goe=loe("DialogOverlay.RemoveScroll"),xoe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ha(Uv,r);return s.jsx(eg,{as:goe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Re.div,{"data-state":F2(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Pc="DialogContent",U6=x.forwardRef((e,t)=>{const r=D6(Pc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ha(Pc,e.__scopeDialog);return s.jsx(rn,{present:n||i.open,children:i.modal?s.jsx(voe,{...a,ref:t}):s.jsx(yoe,{...a,ref:t})})});U6.displayName=Pc;var voe=x.forwardRef((e,t)=>{const r=Ha(Pc,e.__scopeDialog),n=x.useRef(null),a=ut(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Ub(i)},[]),s.jsx(B6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),yoe=x.forwardRef((e,t)=>{const r=Ha(Pc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(B6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),B6=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ha(Pc,r),c=x.useRef(null),u=ut(t,c);return Fb(),s.jsxs(s.Fragment,{children:[s.jsx(Zp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Kc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":F2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(joe,{titleId:l.titleId}),s.jsx(Noe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),L2="DialogTitle",V6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ha(L2,r);return s.jsx(Re.h2,{id:a.titleId,...n,ref:t})});V6.displayName=L2;var q6="DialogDescription",z6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ha(q6,r);return s.jsx(Re.p,{id:a.descriptionId,...n,ref:t})});z6.displayName=q6;var W6="DialogClose",K6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ha(W6,r);return s.jsx(Re.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});K6.displayName=W6;function F2(e){return e?"open":"closed"}var H6="DialogTitleWarning",[boe,G6]=nG(H6,{contentName:Pc,titleName:L2,docsSlug:"dialog"}),joe=({titleId:e})=>{const t=G6(H6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},woe="DialogDescriptionWarning",Noe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G6(woe).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},U2=R6,Q6=$6,B2=L6,e0=F6,t0=U6,V2=V6,q2=z6,z2=K6;const yt=U2,Zr=Q6,_oe=B2,Y6=x.forwardRef(({className:e,...t},r)=>s.jsx(e0,{ref:r,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Y6.displayName=e0.displayName;const vt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(_oe,{children:[s.jsx(Y6,{}),s.jsxs(t0,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(z2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(xi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vt.displayName=t0.displayName;const bt=({className:e,...t})=>s.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bt.displayName="DialogHeader";const hc=({className:e,...t})=>s.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hc.displayName="DialogFooter";const jt=x.forwardRef(({className:e,...t},r)=>s.jsx(V2,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));jt.displayName=V2.displayName;const _n=x.forwardRef(({className:e,...t},r)=>s.jsx(q2,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));_n.displayName=q2.displayName;const Soe="/assets/bottled_mineral_wate_edb6abad-CPxK56g4.jpg",HO={"padel-tennis":fl,squash:ig,"air-rifle-range":Hc,"bridge-room":_b,"multipurpose-hall":Wr},lx=["padel-tennis","squash","air-rifle-range","bridge-room","multipurpose-hall"];function koe({initialView:e="booking"}){var MP,$P,DP;const{user:t,isAuthenticated:r}=bl(),{toast:n}=mt(),{isSupported:a,permission:i,requestPermission:o}=ooe(),[l,c]=x.useState(e),[u,d]=x.useState(null),[f,h]=x.useState("Islamabad"),[p,y]=x.useState(()=>new Date().toISOString().split("T")[0]),[m,j]=x.useState(60),[b,v]=x.useState(1),[g,w]=x.useState(null),[N,_]=x.useState("cash"),[S,C]=x.useState(!1),[P,k]=x.useState("self"),[A,O]=x.useState(""),[R,M]=x.useState(null),[L,T]=x.useState(new Set),[W,E]=x.useState({}),[D,G]=x.useState(!1),[J,I]=x.useState(!1),[Y,V]=x.useState(1),[ee,pe]=x.useState(null),[te,ve]=x.useState("cumulative"),[ie,B]=x.useState(!1),[me,Q]=x.useState(!1),[q,xe]=x.useState(null),[tt,at]=x.useState(null),[ft,Wt]=x.useState(null),[$t,nn]=x.useState(!1),K=x.useRef(null),[Z,le]=x.useState(!1),[Ee,ke]=x.useState(null),[we,Ke]=x.useState("bank_transfer"),[Dt,Rt]=x.useState(!1),[Rr,Qs]=x.useState(null),[sn,Na]=x.useState(null),[Xa,xo]=x.useState(!1),cu=x.useRef(null),cs=x.useRef(!0),vo=x.useRef(null);x.useEffect(()=>(cs.current=!0,()=>{cs.current=!1,vo.current&&(clearTimeout(vo.current),vo.current=null)}),[]);const{data:vr}=de({queryKey:["/api/memberships/my"],queryFn:async()=>{try{const U=await fetch("/api/memberships/my",{credentials:"include"});return U.status===404||!U.ok?null:await U.json()}catch{return null}},enabled:r,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:mj}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const U=await fetch("/api/site-settings");if(!U.ok)return{};const oe=await U.json();return oe&&typeof oe=="object"&&!oe.message?oe:{}}catch{return{}}}}),zn=mj||{},an={bankName:(zn==null?void 0:zn.bank_name)||"Bank Details Loading...",accountTitle:(zn==null?void 0:zn.bank_account_title)||"-",accountNumber:(zn==null?void 0:zn.bank_account_number)||"-",iban:(zn==null?void 0:zn.bank_iban)||"-"},{data:eh=[]}=de({queryKey:["/api/leaderboard",te==="cumulative"?void 0:te],queryFn:async()=>{try{const U=te==="cumulative"?"":`?facilityId=${te}`,oe=await fetch(`/api/leaderboard${U}`);if(!oe.ok)return[];const $e=await oe.json();return Array.isArray($e)?$e:[]}catch{return[]}}}),{data:uu=[]}=de({queryKey:["/api/pricing-tiers"]}),du=x.useMemo(()=>{const U={FOUNDING:0,GOLD:0,SILVER:0,GUEST:0};return uu.forEach(oe=>{if(oe.discountPercent!==null&&oe.discountPercent!==void 0)U[oe.tier]=oe.discountPercent;else{const Oe=(oe.benefits||[]).find(Kt=>Kt.toLowerCase().includes("discount")&&Kt.toLowerCase().includes("off-peak"));if(Oe){const Kt=Oe.match(/(\d+)%/);Kt&&(U[oe.tier]=parseInt(Kt[1],10))}}}),U},[uu]),_i=x.useMemo(()=>{const U={FOUNDING:14,GOLD:7,SILVER:5,GUEST:2};return uu.forEach(oe=>{oe.advanceBookingDays!==null&&oe.advanceBookingDays!==void 0&&(U[oe.tier]=oe.advanceBookingDays)}),U},[uu]),Ot=x.useMemo(()=>{const U=(vr==null?void 0:vr.tier)||"GUEST",oe=(vr==null?void 0:vr.status)||"PENDING_PAYMENT",$e=oe==="ACTIVE";return{name:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest",email:(t==null?void 0:t.email)||"",creditBalance:(t==null?void 0:t.creditBalance)||0,totalHoursPlayed:(t==null?void 0:t.totalHoursPlayed)||0,guestPasses:(vr==null?void 0:vr.guestPasses)||0,membershipTier:U,membershipStatus:oe,membershipNumber:(vr==null?void 0:vr.membershipNumber)||null,membershipExpiry:(vr==null?void 0:vr.validTo)||null,isSafetyCertified:(t==null?void 0:t.isSafetyCertified)||!1,hasSignedWaiver:(t==null?void 0:t.hasSignedWaiver)||!1,isActiveMember:$e}},[t,r,vr]),pj=x.useMemo(()=>{const U=Ot.membershipTier,$e=Ot.isActiveMember&&_i[U]||2,Oe=new Date;return Oe.setDate(Oe.getDate()+$e),Oe.toISOString().split("T")[0]},[Ot.membershipTier,Ot.isActiveMember,_i]),CP=x.useMemo(()=>p<=pj,[p,pj]);x.useEffect(()=>{const U=new URLSearchParams(window.location.search),oe=U.get("success"),$e=U.get("session_id"),Oe=U.get("canceled");oe==="true"&&$e?ye("POST","/api/stripe/verify-session",{sessionId:$e}).then(Kt=>Kt.json()).then(Kt=>{Kt.booking&&(n({title:"Payment Successful!",description:"Your booking has been confirmed and paid."}),re.invalidateQueries({queryKey:["/api/bookings"]}))}).catch(Kt=>{n({title:"Payment Verification Failed",description:Kt.message||"Please contact support if your payment was deducted.",variant:"destructive"})}).finally(()=>{window.history.replaceState({},"",window.location.pathname)}):Oe==="true"&&(n({title:"Payment Canceled",description:"Your payment was canceled. No charges were made.",variant:"default"}),window.history.replaceState({},"",window.location.pathname))},[n]);const{data:Y7=[]}=de({queryKey:["/api/bookings",u==null?void 0:u.id,p],enabled:!!u}),{data:Si=[],isLoading:X7}=de({queryKey:["/api/facilities"],queryFn:async()=>{try{const U=await fetch("/api/facilities");if(!U.ok)return[];const oe=await U.json();return Array.isArray(oe)?oe:[]}catch{return[]}}}),{data:th=[]}=de({queryKey:["/api/venues"],queryFn:async()=>{try{const U=await fetch("/api/venues");if(!U.ok)return[];const oe=await U.json();return Array.isArray(oe)?oe:[]}catch{return[]}}}),{data:gj=[]}=de({queryKey:["/api/hall-activities"],queryFn:async()=>{try{const U=await fetch("/api/hall-activities");if(!U.ok)return[];const oe=await U.json();return Array.isArray(oe)?oe:[]}catch{return[]}}}),rh=x.useMemo(()=>th.length===0?["Islamabad"]:Array.from(new Set(th.map(oe=>oe.city))),[th]),J7=x.useMemo(()=>gj.length===0?[]:gj.map(U=>({value:U.name,label:U.name})),[gj]),fu=x.useMemo(()=>new Date(p+"T12:00:00").getDay(),[p]),xj=x.useMemo(()=>{if(!u)return null;const U=Si.find(oe=>oe.slug===u.id);return(U==null?void 0:U.id)||null},[Si,u==null?void 0:u.id]),vj=x.useMemo(()=>{const U=th.find(oe=>oe.city===f);return(U==null?void 0:U.id)||null},[th,f]),{data:jg=[]}=de({queryKey:["/api/operating-hours",fu],queryFn:async()=>{try{const U=await fetch(`/api/operating-hours?dayOfWeek=${fu}`);if(!U.ok)return[];const oe=await U.json();return Array.isArray(oe)?oe:[]}catch{return[]}}}),yj=x.useMemo(()=>{const U=xj?jg.find(vn=>!vn.isClosed&&!vn.isHoliday&&vn.facilityId===xj&&vn.dayOfWeek===fu):null,oe=vj?jg.find(vn=>!vn.isClosed&&!vn.isHoliday&&vn.venueId===vj&&!vn.facilityId&&vn.dayOfWeek===fu):null,$e=jg.find(vn=>!vn.isClosed&&!vn.isHoliday&&!vn.facilityId&&!vn.venueId&&vn.dayOfWeek===fu),Oe=U||oe||$e;if(!Oe)return[];const Kt=[],Za=Oe.slotDurationMinutes||60,[sh,ah]=Oe.openTime.split(":").map(Number),[hu,wg]=Oe.closeTime.split(":").map(Number);let ki=sh*60+ah;const ih=hu*60+wg-m;for(;ki<=ih;){const vn=Math.floor(ki/60),pz=ki%60;Kt.push(`${vn.toString().padStart(2,"0")}:${pz.toString().padStart(2,"0")}`),ki+=Za}return Kt},[jg,fu,xj,vj,m]),{data:PP=[]}=de({queryKey:["/api/facilities",u==null?void 0:u.id,"addons"],queryFn:async()=>{if(!u)return[];try{const U=await fetch(`/api/facilities/${u.id}/addons`);if(!U.ok)return[];const oe=await U.json();return Array.isArray(oe)?oe:[]}catch{return[]}},enabled:!!(u!=null&&u.id)}),Z7={Target:ca,CircleDot:oQ,Droplets:cQ,ShieldCheck:Fd,Headphones:pQ,Glasses:mQ,Coffee:Gk,Speaker:MQ},bj=x.useMemo(()=>PP.map(U=>({id:U.id,label:U.label,price:U.price,icon:U.icon&&Z7[U.icon]||ca,image:U.imageUrl||Soe})),[PP]),ez=x.useMemo(()=>{const U={};return Si.forEach(oe=>{U[oe.id]=oe.slug}),U},[Si]),Ja=x.useMemo(()=>Si.length===0?[]:Si.filter(U=>U.status==="ACTIVE"&&U.slug!=="bridge-room").map(U=>({id:U.slug,label:U.name,count:U.resourceCount||1,basePrice:U.basePrice,minPlayers:U.minPlayers||1,icon:HO[U.slug]||Wr,requiresCert:U.requiresCertification||!1,restricted:U.isRestricted||!1})).sort((U,oe)=>{const $e=lx.indexOf(U.id),Oe=lx.indexOf(oe.id);return($e===-1?999:$e)-(Oe===-1?999:Oe)}),[Si]),EP=x.useMemo(()=>Si.filter(U=>U.slug!=="bridge-room").map(U=>({id:U.slug,label:U.name,count:U.resourceCount||1,basePrice:U.basePrice,minPlayers:U.minPlayers||1,icon:HO[U.slug]||Wr,requiresCert:U.requiresCertification||!1,restricted:U.isRestricted||!1,status:U.status})).sort((U,oe)=>{const $e=lx.indexOf(U.id),Oe=lx.indexOf(oe.id);return($e===-1?999:$e)-(Oe===-1?999:Oe)}),[Si]);x.useEffect(()=>{if(Ja.length>0)if(!u||!Ja.find(U=>U.id===u.id))d(Ja[0]);else{const U=Ja.find(oe=>oe.id===u.id);U&&(U.count!==u.count||U.basePrice!==u.basePrice)&&d(U)}},[Ja,u==null?void 0:u.id]),x.useEffect(()=>{rh.length>0&&!rh.includes(f)&&h(rh[0])},[rh,f]);const{data:AP=[]}=de({queryKey:["/api/events"]}),yo=be({mutationFn:async U=>{const oe=await ye("POST",`/api/events/${U.eventId}/register`,U),$e=await oe.json().catch(()=>({}));if(!oe.ok)throw new Error($e.message||"Failed to register for event");return $e},onSuccess:(U,oe)=>{if(!cs.current)return;const $e=Ee&&(Ee.price||0)>0,Oe=oe.paymentMethod==="bank_transfer";$e&&Oe&&(U!=null&&U.id)?(Qs(U.id),Na(null),Rt(!0),n({title:"Registration Submitted!",description:"Please upload your payment receipt to complete registration."})):$e&&oe.paymentMethod==="cash"?n({title:"Registration Submitted!",description:"Please pay at the facility. Your registration will be confirmed upon payment."}):n({title:"Registration Successful!",description:"You have been registered for this event."}),le(!1),ke(null),re.invalidateQueries({queryKey:["/api/events"]})},onError:U=>{cs.current&&n({title:"Registration Failed",description:U.message||"Unable to register for this event.",variant:"destructive"})}}),tz=U=>{if(!r||!t){n({title:"Login Required",description:"Please log in to register for events.",variant:"destructive"}),RP("/login");return}if((U.price||0)>0){ke(U),Ke("bank_transfer"),le(!0);return}yo.mutate({eventId:U.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||""})},rz=()=>{!Ee||!t||yo.mutate({eventId:Ee.id,fullName:`${t.firstName||""} ${t.lastName||""}`.trim()||"Member",email:t.email||"",paymentMethod:we})},nz=U=>{var $e;const oe=($e=U.target.files)==null?void 0:$e[0];if(oe){if(!["image/jpeg","image/png","application/pdf"].includes(oe.type)){n({title:"Invalid File Type",description:"Please upload a JPG, PNG, or PDF file.",variant:"destructive"});return}if(oe.size>10*1024*1024){n({title:"File Too Large",description:"Please upload a file smaller than 10MB.",variant:"destructive"});return}Na(oe)}},sz=async()=>{if(!(!Rr||!sn)){xo(!0);try{const U=new FormData;U.append("receipt",sn);const oe=await fetch(`/api/event-registrations/${Rr}/upload-proof`,{method:"POST",body:U,credentials:"include"});if(!oe.ok){const $e=await oe.json().catch(()=>({}));throw new Error($e.message||"Failed to upload receipt")}n({title:"Receipt Uploaded!",description:"Your payment proof has been submitted for verification."}),Rt(!1),Qs(null),Na(null),re.invalidateQueries({queryKey:["/api/events"]})}catch(U){n({title:"Upload Failed",description:U.message||"Unable to upload receipt. Please try again.",variant:"destructive"})}finally{xo(!1)}}},az=()=>{Rt(!1),Qs(null),Na(null),n({title:"Upload Later",description:"You can upload your payment proof from your profile."})},jj=f!=="Islamabad",wj=be({mutationFn:async U=>{const oe=await ye("POST","/api/bookings",U),$e=await oe.json().catch(()=>({}));if(!oe.ok)throw new Error($e.message||"Failed to create booking");return $e},onSuccess:async(U,oe)=>{if(!cs.current)return;const $e=oe.paymentMethod==="bank_transfer",Oe=oe.paymentMethod==="cash";$e?U!=null&&U.id?(xe(U.id),at((U==null?void 0:U.totalPrice)||oe.totalPrice||0),Wt(null),Q(!0),n({title:"Booking Created!",description:"Please upload your payment receipt to complete the booking."})):n({title:"Booking Created!",description:"Please complete your bank transfer and upload your receipt from My Profile > Bookings."}):n(Oe?{title:"Booking Created!",description:"Please pay at the facility on your booking date. Your booking will be confirmed upon payment."}:{title:"Booking Created!",description:"Your booking has been successfully created."}),!$e&&a&&i==="default"&&(vo.current=setTimeout(()=>{cs.current&&n({title:"Enable Booking Reminders?",description:"Get notified 1 hour before your booking starts.",action:s.jsx($,{size:"sm",onClick:async()=>{await o()==="granted"&&cs.current&&n({title:"Reminders Enabled",description:"You'll receive notifications before your bookings."})},"data-testid":"button-enable-notifications",children:"Enable"})})},1500)),re.invalidateQueries({queryKey:["/api/bookings"]}),cs.current&&(w(null),T(new Set),G(!1),I(!1),V(1))},onError:U=>{var $e;if(!cs.current)return;const oe=($e=U.message)==null?void 0:$e.includes("certification");n({title:oe?"Certification Required":"Booking Failed",description:oe?"This facility requires a valid certification to book. Visit our Certifications page to complete the required training.":U.message,variant:"destructive"})}}),iz=U=>{const oe=Nj(U),$e=oe+m;return Y7.some(Oe=>{if(Oe.date!==p||Oe.resourceId!==b||Oe.status==="CANCELLED")return!1;const Kt=Nj(Oe.startTime),Za=Kt+(Oe.durationMinutes||60);return oe<Za&&$e>Kt})},Nj=U=>{const[oe,$e]=U.split(":").map(Number);return oe*60+$e},oz=U=>{const oe=new Date().toISOString().split("T")[0];if(p!==oe)return!1;const $e=new Date,Oe=5*60,Za=$e.getUTCHours()*60+$e.getUTCMinutes()+Oe;return Nj(U)<=Za},lz=U=>{var $e;const oe=($e=U.target.files)==null?void 0:$e[0];if(oe){if(!["image/jpeg","image/png","application/pdf"].includes(oe.type)){n({title:"Invalid File Type",description:"Please upload a JPG, PNG, or PDF file.",variant:"destructive"});return}if(oe.size>5*1024*1024){n({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}Wt(oe)}},cz=async()=>{if(!(!q||!ft)){nn(!0);try{const U=new FormData;U.append("receipt",ft);const oe=await fetch(`/api/bookings/${q}/upload-proof`,{method:"POST",body:U,credentials:"include"});if(!oe.ok){const $e=await oe.json().catch(()=>({}));throw new Error($e.message||"Failed to upload receipt")}n({title:"Receipt Uploaded!",description:"Your payment proof has been submitted for verification. We'll confirm your booking shortly."}),Q(!1),xe(null),at(null),Wt(null),re.invalidateQueries({queryKey:["/api/bookings"]})}catch(U){n({title:"Upload Failed",description:U.message||"Unable to upload receipt. Please try again.",variant:"destructive"})}finally{nn(!1)}}},uz=()=>{Q(!1),xe(null),at(null),Wt(null),n({title:"Upload Later",description:"You can upload your payment proof from My Profile > Bookings."})},dz=async U=>{const oe=U.trim().toUpperCase();if(O(oe),!oe){M(null);return}if(!/^QD-\d{4}$/.test(oe)){M(!1);return}B(!0);try{const Oe=await fetch(`/api/memberships/validate/${oe}`);if(!Oe.ok){M(!1);return}const Kt=await Oe.json();M(Kt.valid===!0)}catch{M(!1)}finally{B(!1)}},Ss=x.useMemo(()=>{if(!g||!u)return null;let $e=u.basePrice/60*m,Oe=0;const Kt=Ot.membershipTier,Za=Ot.isActiveMember,sh=zO(g),ah=du[Kt]||0;sh&&Za&&ah>0&&(Oe=$e*(ah/100));let hu=0;L.forEach(ki=>{const _j=bj.find(ih=>ih.id===ki);if(_j){const ih=W[ki]??1;hu+=_j.price*ih}}),D&&(hu+=4e3);let wg=null;if(sh&&Za&&Oe>0){const ki=Kt.charAt(0)+Kt.slice(1).toLowerCase();wg=`${ah}% ${ki} (Off-Peak)`}return{basePrice:Math.round($e),discount:Math.round(Oe),discountLabel:wg,addOnTotal:hu,totalPrice:Math.round($e-Oe+hu),date:p,startTime:g,endTime:soe(g,m)}},[g,u,m,L,W,D,p,Ot.membershipTier,Ot.isActiveMember,bj,du]),fz=U=>{const oe=new Set(L);oe.has(U.id)?oe.delete(U.id):(oe.add(U.id),E($e=>({...$e,[U.id]:$e[U.id]??1}))),T(oe)},OP=(U,oe)=>{E($e=>{const Oe=$e[U]??1,Kt=Math.min(10,Math.max(1,Oe+oe));return{...$e,[U]:Kt}})},hz=async()=>{if(!(!Ss||!g||!u)){if(!CP){const U=Ot.membershipTier,oe=Ot.isActiveMember&&_i[U]||2;n({title:"Date Out of Range",description:`Your membership tier allows booking up to ${oe} days in advance.`,variant:"destructive"});return}if(u.id==="multipurpose-hall"&&!ee){n({title:"Activity Required",description:"Please select a purpose for the Multipurpose Hall booking.",variant:"destructive"});return}wj.mutate({facilitySlug:u.id,venue:f,resourceId:b,date:p,startTime:g,endTime:Ss.endTime,durationMinutes:m,paymentMethod:N,payerType:P.toUpperCase(),payerMembershipNumber:P==="member"?A:null,basePrice:Ss.basePrice,discount:Ss.discount,addOnTotal:Ss.addOnTotal,totalPrice:Ss.totalPrice,coachBooked:D,isMatchmaking:J,currentPlayers:Y,maxPlayers:u.minPlayers,hallActivity:ee,addOns:Array.from(L).map(U=>({id:U,quantity:W[U]??1}))})}},mz=U=>{switch(U){case"Academy":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Tournament":return"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300";case"Social":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300";case"Class":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300"}},TP=EP.filter(U=>U.id!=="bridge-room"&&U.id!=="multipurpose-hall"),IP=x.useMemo(()=>eh.map(U=>({name:U.playerName||"Member",points:U.rankingPoints,tier:"Member",facility:U.facilityId})),[eh]),[,RP]=Mn(),nh=()=>{RP("/")};return X7||Ja.length===0||!u?s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 w-full md:w-72 flex-shrink-0 p-6 border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700",children:[s.jsx(Le,{className:"h-8 w-48 mb-2"}),s.jsx(Le,{className:"h-3 w-32 mb-6"}),s.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(U=>s.jsx(Le,{className:"h-12 rounded-xl"},U))})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Le,{className:"h-6 w-24"}),s.jsx(Le,{className:"h-6 w-6 rounded-full"}),s.jsx(Le,{className:"h-6 w-32"})]}),s.jsx(Le,{className:"h-8 w-48 mb-6"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8",children:[1,2,3,4].map(U=>s.jsx(Le,{className:"h-24 rounded-xl"},U))}),s.jsx(Le,{className:"h-6 w-32 mb-4"}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(U=>s.jsx(Le,{className:"h-10 w-20 rounded-md"},U))}),s.jsx(Le,{className:"h-40 rounded-xl"})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-slate-700 rounded-2xl shadow-2xl overflow-hidden min-h-[700px] bg-white dark:bg-slate-800",children:[s.jsxs("aside",{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur border-b md:border-b-0 md:border-r border-gray-200 dark:border-slate-700 w-full md:w-72 flex-shrink-0 p-6 flex flex-col justify-between shadow-sm",children:[s.jsxs("div",{children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"cursor-pointer","data-testid":"link-sidebar-logo",children:[s.jsx("h1",{className:"text-2xl font-extrabold text-[#2a4060] dark:text-sky-400 mb-1 tracking-tight",children:"THE QUARTERDECK"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mb-6 uppercase tracking-[0.18em]",children:"Central Booking Console"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>c("booking"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="booking"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-booking",children:[s.jsx(gv,{className:"w-4 h-4"})," Book Facility"]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>c("events"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="events"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-events",children:[s.jsx(ms,{className:"w-4 h-4"})," Events & Academies"]}),s.jsxs("button",{onClick:()=>c("leaderboard"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="leaderboard"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-leaderboard",children:[s.jsx(ms,{className:"w-4 h-4"})," Leaderboard"]}),s.jsxs("button",{onClick:()=>c("profile"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-3 transition ${l==="profile"?"bg-[#2a4060] text-white shadow-md":"text-muted-foreground hover:bg-sky-50 dark:hover:bg-slate-700"}`,"data-testid":"button-nav-profile",children:[s.jsx(gs,{className:"w-4 h-4"})," My Profile"]})]})]})]}),r&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Kg,{className:"w-5 h-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Credit Balance"}),s.jsx("p",{className:"text-lg font-bold",children:Zs(Ot.creditBalance)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(_A,{className:"w-5 h-5 text-sky-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Hours Played"}),s.jsxs("p",{className:"text-lg font-bold",children:[Ot.totalHoursPlayed," hrs"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bv,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Guest Passes"}),s.jsx("p",{className:"text-lg font-bold",children:Ot.guestPasses})]})]})]})]}),s.jsxs("div",{className:"flex-grow p-4 md:p-8 relative overflow-auto bg-gray-50 dark:bg-slate-900",children:[l==="booking"&&!r&&s.jsx("div",{className:"max-w-md mx-auto mt-16 animate-qd-fade-in",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-lg text-center",children:[s.jsx(gs,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2","data-testid":"text-auth-required",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the booking system and make reservations."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ge,{href:"/login",className:"block",children:s.jsx($,{className:"w-full","data-testid":"button-login-booking",children:"Sign In to Continue"})}),s.jsxs($,{variant:"outline",className:"w-full",onClick:nh,"data-testid":"button-back-home-auth",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}),l==="booking"&&r&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("section",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:nh,className:"rounded-full","data-testid":"button-back-home",children:[s.jsx(On,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-extrabold","data-testid":"text-booking-title",children:"Central Booking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your venue, facility, time and extras."})]})]}),s.jsx("div",{className:"mt-3 sm:mt-0",children:s.jsxs("div",{className:"max-w-xs sm:text-right",children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Venue"}),s.jsx("select",{value:f,onChange:U=>{h(U.target.value),Ja.length>0&&d(Ja[0]),v(1),w(null),T(new Set),E({}),G(!1),I(!1),V(1),pe(null)},className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-500","data-testid":"select-venue",children:rh.map(U=>s.jsx("option",{value:U,children:U},U))}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Booking preview for: ",f]})]})})]}),jj&&s.jsxs("section",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl p-8 text-center shadow-lg border border-slate-300 dark:border-slate-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-sky-500/10 rounded-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(js,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),s.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Coming Soon to ",f]}),s.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md mx-auto",children:["We're expanding! The Quarterdeck ",f," is currently under development. Stay tuned for updates on our upcoming locations."]}),s.jsx(ue,{className:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/30",children:"Expected 2026-2027"}),s.jsx("div",{className:"mt-6",children:s.jsx($,{variant:"outline",onClick:()=>h("Islamabad"),"data-testid":"button-switch-to-islamabad",children:"Switch to Islamabad (Available Now)"})})]})]}),!jj&&s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"1. Select Facility"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:Ja.map(U=>{const oe=U.icon,$e=(u==null?void 0:u.id)===U.id,Oe=U.restricted&&Ot.membershipTier!=="FOUNDING";return s.jsxs("button",{onClick:()=>{Oe?n({title:"Restricted Area",description:"Exclusive to Founding Members and Armed Forces.",variant:"destructive"}):(d(U),v(1),w(null),I(!1),pe(null))},className:`p-4 rounded-xl shadow-sm border flex flex-col items-center justify-center transition-all relative overflow-hidden cursor-pointer ${Oe?"opacity-60 bg-gray-100 dark:bg-slate-700 border-gray-200 dark:border-slate-600":$e?"ring-4 ring-amber-300 bg-white dark:bg-slate-800 border-amber-500":"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-600 hover:border-sky-500"}`,"data-testid":`button-facility-${U.id}`,children:[s.jsx(oe,{className:"w-8 h-8 mb-1 text-[#2a4060] dark:text-sky-400"}),s.jsx("p",{className:"font-semibold text-sm",children:U.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[U.count," available"]}),Oe&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-xs font-bold",children:"RESTRICTED"})]},U.id)})})]}),!jj&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 space-y-4",children:[s.jsxs("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700",children:["2. Select Resource (",(u==null?void 0:u.label)||"Facility",")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:(u==null?void 0:u.count)||1}).map((U,oe)=>s.jsxs("button",{onClick:()=>v(oe+1),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${b===oe+1?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-resource-${oe+1}`,children:["Court ",oe+1]},oe+1))}),(u==null?void 0:u.id)==="multipurpose-hall"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase mb-1",children:"Purpose of Multipurpose Event"}),s.jsxs("select",{value:ee||"",onChange:U=>pe(U.target.value),className:"w-full p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"select-hall-activity",children:[s.jsx("option",{value:"",children:"-- Select Activity --"}),J7.map(U=>s.jsx("option",{value:U.value,children:U.label},U.value))]})]}),u&&u.id!=="hall"&&!u.restricted&&s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Enable Matchmaking (Join a game)"}),s.jsx("button",{onClick:()=>I(!J),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${J?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-matchmaking",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${J?"translate-x-6":"translate-x-1"}`})})]}),J&&s.jsxs("select",{value:Y,onChange:U=>V(parseInt(U.target.value)),className:"w-full p-2 border rounded-lg text-sm bg-sky-50 dark:bg-sky-900/30 border-amber-200 dark:border-amber-700","data-testid":"select-group-size",children:[s.jsx("option",{value:1,children:"Just Me (1)"}),s.jsx("option",{value:2,children:"Pair (2)"}),s.jsx("option",{value:3,children:"Three (3)"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-slate-700",children:[s.jsx("label",{className:"text-sm font-medium",children:"Book a coach?"}),s.jsx("button",{onClick:()=>G(!D),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${D?"bg-sky-600":"bg-gray-300 dark:bg-slate-600"}`,"data-testid":"switch-coach",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${D?"translate-x-6":"translate-x-1"}`})})]}),D&&s.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-semibold text-right",children:"+4,000 PKR"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"3. Select Date"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(xr,{className:"w-5 h-5 text-sky-500"}),s.jsx("input",{type:"date",value:p,min:new Date().toISOString().split("T")[0],max:pj,onChange:U=>{y(U.target.value),w(null)},className:"flex-1 p-2 border rounded-lg text-sm bg-gray-50 dark:bg-slate-700 border-gray-200 dark:border-slate-600","data-testid":"input-date"})]}),!CP&&s.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2 flex items-center gap-1",children:[s.jsx(Tn,{className:"w-3 h-3"}),"Your ",Ot.membershipTier," tier allows booking up to ",_i[Ot.membershipTier]||2," days ahead"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"4. Select Duration"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[60,90,120].map(U=>s.jsxs("button",{onClick:()=>{j(U),w(null)},className:`px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2 ${m===U?"bg-sky-600 text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-duration-${U}`,children:[s.jsx(Bt,{className:"w-4 h-4"}),U," min"]},U))})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold text-muted-foreground border-b pb-2 text-sm border-gray-100 dark:border-slate-700 mb-4",children:"5. Select Time Slot"}),yj.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Bt,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2 animate-pulse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading available time slots..."})]}):s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 sm:gap-3",children:yj.map(U=>{const oe=iz(U),$e=oz(U),Oe=oe||$e,Kt=g===U,Za=zO(U);return s.jsxs("button",{onClick:()=>!Oe&&w(U),disabled:Oe,className:`py-2 px-1 rounded border text-sm font-medium transition relative overflow-hidden ${Oe?"bg-gray-200 dark:bg-slate-600 text-muted-foreground cursor-not-allowed opacity-50 line-through":Kt?"bg-green-500 text-white shadow-lg border-green-500":"bg-white dark:bg-slate-700 text-foreground hover:bg-sky-50 dark:hover:bg-slate-600 border-gray-200 dark:border-slate-600"}`,"data-testid":`button-time-${U.replace(":","")}`,children:[U,Za&&!Oe&&!Kt&&s.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-emerald-400 rounded-bl-md"})]},U)})}),yj.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:[s.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-400 rounded-full mr-1"}),"Green dot = Off-peak hours (10 AM - 5 PM) - All member tiers get discounts"]})]})]}),s.jsx("div",{className:"md:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-t-4 border-sky-500",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"6. Extras & Payment"}),Ss?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Add-ons"}),s.jsx("div",{className:"space-y-2",children:bj.map(U=>{const oe=L.has(U.id),$e=W[U.id]??1;return s.jsxs("div",{onClick:()=>fz(U),className:`border rounded-xl px-3 py-2 flex items-center gap-3 text-sm transition cursor-pointer hover:shadow-sm ${oe?"bg-sky-50 dark:bg-sky-900/30 border-amber-500 text-amber-800 dark:text-amber-300":"bg-white dark:bg-slate-700 border-gray-200 dark:border-slate-600"}`,"data-testid":`addon-${U.id}`,children:[s.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-slate-600",children:s.jsx("img",{src:U.image,alt:U.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"font-semibold truncate",children:U.label}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Zs(U.price)," per unit"]})]}),oe&&s.jsxs("div",{className:"flex items-center gap-1 text-xs flex-shrink-0",onClick:Oe=>Oe.stopPropagation(),children:[s.jsx("button",{onClick:()=>OP(U.id,-1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(wQ,{className:"w-3 h-3"})}),s.jsx("span",{className:"min-w-[1.5rem] text-center font-semibold",children:$e}),s.jsx("button",{onClick:()=>OP(U.id,1),className:"h-6 w-6 rounded-full border border-gray-300 dark:border-slate-600 flex items-center justify-center",children:s.jsx(rr,{className:"w-3 h-3"})})]})]},U.id)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"Payer Details"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:P==="self",onChange:()=>k("self"),className:"accent-sky-600"}),s.jsx("span",{children:"Self (use my account)"})]}),s.jsxs("label",{className:"inline-flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"payer-type",checked:P==="member",onChange:()=>k("member"),className:"accent-sky-600"}),s.jsx("span",{children:"Another member will pay"})]})]}),P==="member"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-semibold",children:"Membership number of the payer"}),s.jsx(X,{type:"text",value:A,onChange:U=>dz(U.target.value),placeholder:"e.g. QD-0001",className:"text-xs","data-testid":"input-payer-membership"}),R===!0&&s.jsxs("p",{className:"text-[10px] text-emerald-600 flex items-center gap-1",children:[s.jsx(pr,{className:"w-3 h-3"})," Membership found."]}),R===!1&&s.jsxs("p",{className:"text-[10px] text-rose-500 flex items-center gap-1",children:[s.jsx(Tn,{className:"w-3 h-3"})," Membership not found."]})]})]})]}),s.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2 border-t pt-4 border-gray-100 dark:border-slate-700",children:"Summary"}),s.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Base Rate (",m," min)"]}),s.jsx("span",{children:Zs(Ss.basePrice)})]}),Ss.discount>0&&s.jsxs("div",{className:"flex justify-between text-emerald-600",children:[s.jsxs("span",{children:["Member Discount (",Ss.discountLabel,")"]}),s.jsxs("span",{children:["- ",Zs(Ss.discount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Add-Ons & Coach"}),s.jsxs("span",{children:["+ ",Zs(Ss.addOnTotal)]})]})]}),s.jsxs("div",{className:"flex justify-between border-t border-dashed pt-3 border-gray-200 dark:border-slate-600",children:[s.jsx("span",{className:"font-bold text-lg",children:"TOTAL DUE"}),s.jsx("span",{className:"font-extrabold text-2xl text-sky-700 dark:text-sky-400",children:Zs(Ss.totalPrice)})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>_("cash"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${N==="cash"?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-cash",children:"Pay On-Site"}),s.jsx("button",{onClick:()=>_("bank_transfer"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${N==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"}),s.jsx("button",{onClick:()=>_("credits"),className:`flex-1 min-w-[100px] px-3 py-2 rounded-lg text-sm font-medium transition border ${N==="credits"?"bg-slate-900 text-white border-slate-900 dark:bg-slate-100 dark:text-slate-900 dark:border-slate-100":"bg-white dark:bg-slate-700 text-foreground border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600"}`,"data-testid":"button-payment-credits",children:"Credits"})]})]}),N==="bank_transfer"&&s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-xl",children:[s.jsx("h5",{className:"font-bold text-purple-800 dark:text-purple-300 text-sm mb-2",children:"Bank Transfer Instructions"}),s.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-400 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Bank:"})," ",an.bankName]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account Title:"})," ",an.accountTitle]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Account #:"})," ",an.accountNumber]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"IBAN:"})," ",an.iban]})]}),s.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-3 italic",children:"After payment, please share your receipt with admin for verification. Your booking will be confirmed once payment is verified."})]}),s.jsx($,{onClick:hz,disabled:wj.isPending,className:"w-full mt-6 py-3 rounded-xl font-bold bg-sky-600 hover:bg-sky-500 shadow-lg","data-testid":"button-confirm-booking",children:wj.isPending?"Processing...":"Confirm Booking"})]}):s.jsx("p",{className:"text-center text-muted-foreground italic text-sm",children:"Please select a time slot to calculate price."})]})})]})]}),l==="events"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:nh,className:"rounded-full","data-testid":"button-events-back-home",children:[s.jsx(On,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-events-title",children:"Events & Academy"}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Classes, tournaments and social events."})]}),s.jsx("div",{className:"w-16"})," "]}),AP.length>0?EP.map(U=>{const oe=U.icon,$e=AP.filter(Oe=>ez[Oe.facilityId]===U.id);return $e.length===0?null:s.jsxs("section",{className:`mb-8 p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-md border-t-4 ${U.id==="padel-tennis"?"border-sky-500":U.id==="air-rifle-range"?"border-red-400":U.id==="squash"?"border-slate-400":U.id==="bridge-room"?"border-blue-500":"border-purple-400"}`,"data-testid":`section-events-${U.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 dark:border-slate-700 pb-3",children:[s.jsx(oe,{className:"w-8 h-8 text-[#2a4060] dark:text-sky-400"}),s.jsxs("h3",{className:"text-xl font-extrabold",children:[U.label," Programs"]}),U.status==="PLANNED"&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:$e.map(Oe=>s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-5 rounded-xl border border-gray-100 dark:border-slate-600 flex flex-col justify-between","data-testid":`card-event-${Oe.id}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:`${mz(Oe.type)} text-[10px] font-bold px-2 py-0.5 rounded-full uppercase`,children:Oe.type}),s.jsx("span",{className:"text-sm font-semibold text-sky-700 dark:text-sky-400",children:Zs(Oe.price)})]}),s.jsx("h4",{className:"font-bold text-lg mb-1",children:Oe.title}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:[Oe.scheduleDay," at ",Oe.scheduleTime||"TBA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Oe.description}),Oe.instructor&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Instructor: ",Oe.instructor]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Oe.enrolledCount||0," / ",Oe.capacity," enrolled"]})]}),s.jsx($,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>tz(Oe),disabled:yo.isPending||(Oe.enrolledCount||0)>=Oe.capacity,"data-testid":`button-register-${Oe.id}`,children:yo.isPending?"Registering...":(Oe.enrolledCount||0)>=Oe.capacity?"Full":"Register"})]},Oe.id))})]},U.id)}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back soon for upcoming events and academies."})]})]}),l==="leaderboard"&&s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:nh,className:"rounded-full","data-testid":"button-leaderboard-back-home",children:[s.jsx(On,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold","data-testid":"text-leaderboard-title",children:te==="cumulative"?"Global Arena Leaderboard":`${((MP=Ja.find(U=>U.id===te))==null?void 0:MP.label)||""} Top Scorers`}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm",children:"Top performers across all facilities."})]}),s.jsx("div",{className:"w-16"})," "]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[s.jsx("button",{onClick:()=>ve("cumulative"),className:`px-4 py-2 rounded-full text-sm font-medium transition ${te==="cumulative"?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":"button-leaderboard-cumulative",children:"All Facilities"}),TP.map(U=>{const oe=U.icon;return s.jsxs("button",{onClick:()=>ve(U.id),className:`px-4 py-2 rounded-full text-sm font-medium transition flex items-center gap-2 ${te===U.id?"bg-[#2a4060] text-white shadow-md":"bg-gray-100 dark:bg-slate-700 text-muted-foreground hover:bg-gray-200 dark:hover:bg-slate-600"}`,"data-testid":`button-leaderboard-${U.id}`,children:[s.jsx(oe,{className:"w-4 h-4"}),U.label]},U.id)})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg overflow-hidden",children:IP.length>0?IP.map((U,oe)=>s.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-gray-100 dark:border-slate-700 ${oe===0?"bg-amber-50 dark:bg-amber-900/20":oe===1?"bg-gray-50 dark:bg-slate-700/50":oe===2?"bg-orange-50 dark:bg-orange-900/10":""}`,"data-testid":`leaderboard-entry-${oe}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${oe===0?"bg-amber-400 text-white":oe===1?"bg-gray-400 text-white":oe===2?"bg-orange-400 text-white":"bg-gray-200 dark:bg-slate-600 text-muted-foreground"}`,children:oe+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:U.name}),s.jsx(ue,{variant:"outline",className:"text-xs",children:U.tier})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-extrabold text-xl text-sky-700 dark:text-sky-400",children:U.points}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},oe)):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:te==="cumulative"?"Once members start playing, top performers will appear here!":`Be the first to rank in ${(($P=TP.find(U=>U.id===te))==null?void 0:$P.label)||"this facility"}!`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Book a session and start climbing the leaderboard"})]})})]}),l==="profile"&&s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 animate-qd-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:nh,className:"rounded-full","data-testid":"button-profile-back-home",children:[s.jsx(On,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold","data-testid":"text-profile-title",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Your membership details and stats"})]}),s.jsx("div",{className:"w-16"})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#2a4060] to-[#1e3048] p-6 rounded-2xl shadow-lg text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:r&&t?((DP=t.firstName)==null?void 0:DP.charAt(0))||"M":"G"}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold mb-1",children:r&&t?`${t.firstName||""} ${t.lastName||""}`.trim()||"Member":"Guest User"}),s.jsx("p",{className:"text-white/70 text-sm mb-3",children:r&&t?t.email:"Not logged in"}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start",children:[s.jsxs(ue,{className:`${Ot.membershipTier==="FOUNDING"?"bg-amber-400 text-amber-900":Ot.membershipTier==="GOLD"?"bg-yellow-400 text-yellow-900":Ot.membershipTier==="SILVER"?"bg-gray-300 text-gray-800":"bg-slate-500 text-white"} font-bold px-3 py-1`,children:[Ot.membershipTier," MEMBER"]}),Ot.isActiveMember&&s.jsxs(ue,{className:"bg-green-500 text-white font-medium px-3 py-1",children:[s.jsx(pr,{className:"w-3 h-3 mr-1"})," Active"]})]})]}),vr&&s.jsxs("div",{className:"text-center md:text-right bg-white/10 px-4 py-3 rounded-xl",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Member ID"}),s.jsx("p",{className:"font-mono font-bold text-lg",children:vr.membershipNumber}),s.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Valid until ",new Date(vr.validTo).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(Kg,{className:"w-8 h-8 mx-auto text-amber-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Zs(Ot.creditBalance)}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Credit Balance"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(_A,{className:"w-8 h-8 mx-auto text-sky-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ot.totalHoursPlayed}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Hours Played"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(bv,{className:"w-8 h-8 mx-auto text-emerald-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:Ot.guestPasses}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Guest Passes"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-md text-center",children:[s.jsx(gv,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:_i[Ot.membershipTier]||2}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase mt-1",children:"Days Advance"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4"})," Membership Benefits"]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:s.jsxs("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:[du[Ot.membershipTier]||0,"%"]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Off-Peak Discount"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"10AM - 5PM weekdays"})]})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(xr,{className:"w-4 h-4 text-sky-600 dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Booking Window"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Book up to ",_i[Ot.membershipTier]||2," days ahead"]})]})]}),Ot.guestPasses>0&&s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(gs,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Guest Passes"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ot.guestPasses," passes remaining"]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md",children:[s.jsxs("h4",{className:"font-bold text-sm uppercase text-muted-foreground mb-4 flex items-center gap-2",children:[s.jsx(Fd,{className:"w-4 h-4"})," Certifications & Waivers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Ot.isSafetyCertified?"bg-green-50 dark:bg-green-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Ot.isSafetyCertified?s.jsx(pr,{className:"w-5 h-5 text-green-600"}):s.jsx(Tn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Air Rifle Safety"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Ot.isSafetyCertified?"Certified":"Required for range access"})]})]}),s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${Ot.hasSignedWaiver?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-slate-700"}`,children:[Ot.hasSignedWaiver?s.jsx(Qk,{className:"w-5 h-5 text-blue-600"}):s.jsx(Tn,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Liability Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Ot.hasSignedWaiver?"Signed":"Sign at reception"})]})]})]})]})]}),!r&&s.jsxs("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 rounded-xl text-white text-center",children:[s.jsx(gs,{className:"w-12 h-12 mx-auto mb-3 opacity-80"}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Sign In to Access Full Features"}),s.jsx("p",{className:"text-white/80 text-sm mb-4",children:"View your bookings, manage memberships, and more."}),s.jsx(ge,{href:"/login",children:s.jsx($,{variant:"secondary","data-testid":"button-sign-in",children:"Sign In Now"})})]})]})]}),s.jsx(yt,{open:me,onOpenChange:U=>!$t&&Q(U),children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"w-5 h-5 text-sky-600"}),"Upload Payment Proof"]}),s.jsx(_n,{children:"Please upload your bank transfer receipt to complete your booking."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[tt&&s.jsxs("div",{className:"bg-sky-50 dark:bg-sky-900/20 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount to Transfer"}),s.jsx("p",{className:"text-2xl font-bold text-sky-600",children:Zs(tt)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 rounded-lg space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank:"}),s.jsx("span",{className:"font-medium",children:an.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account:"}),s.jsx("span",{className:"font-medium",children:an.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Title:"}),s.jsx("span",{className:"font-medium",children:an.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs",children:an.iban})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Upload Receipt (JPG, PNG, or PDF)"}),s.jsxs("div",{onClick:()=>{var U;return(U=K.current)==null?void 0:U.click()},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition ${ft?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-sky-500"}`,children:[s.jsx("input",{ref:K,type:"file",accept:"image/jpeg,image/png,application/pdf",onChange:lz,className:"hidden","data-testid":"input-proof-file"}),ft?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[s.jsx(pr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:ft.name})]}):s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx(lr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Click to select file"}),s.jsx("p",{className:"text-xs mt-1",children:"Max size: 5MB"})]})]})]})]}),s.jsxs(hc,{className:"flex-col sm:flex-row gap-2",children:[s.jsx($,{variant:"outline",onClick:uz,disabled:$t,"data-testid":"button-skip-proof",children:"Upload Later"}),s.jsx($,{onClick:cz,disabled:!ft||$t,"data-testid":"button-upload-proof",children:$t?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Upload Receipt"]})})]})]})}),s.jsx(yt,{open:Z,onOpenChange:U=>!yo.isPending&&le(U),children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2",children:[s.jsx(Kg,{className:"w-5 h-5 text-sky-600"}),"Event Registration Payment"]}),s.jsxs(_n,{children:["Select your payment method for ",Ee==null?void 0:Ee.title]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[Ee&&s.jsxs("div",{className:"bg-sky-50 dark:bg-sky-900/20 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Registration Fee"}),s.jsx("p",{className:"text-2xl font-bold text-sky-600",children:Zs(Ee.price||0)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Payment Method"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition ${we==="bank_transfer"?"border-sky-500 bg-sky-50 dark:bg-sky-900/20":"border-gray-200 dark:border-slate-700 hover:border-gray-300"}`,onClick:()=>Ke("bank_transfer"),children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${we==="bank_transfer"?"border-sky-500":"border-gray-300"}`,children:we==="bank_transfer"&&s.jsx("div",{className:"w-3 h-3 rounded-full bg-sky-500"})}),s.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Bank Transfer"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer to our bank account"})]})]}),s.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition ${we==="cash"?"border-sky-500 bg-sky-50 dark:bg-sky-900/20":"border-gray-200 dark:border-slate-700 hover:border-gray-300"}`,onClick:()=>Ke("cash"),children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${we==="cash"?"border-sky-500":"border-gray-300"}`,children:we==="cash"&&s.jsx("div",{className:"w-3 h-3 rounded-full bg-sky-500"})}),s.jsx(Kg,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cash Payment"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pay at the facility"})]})]})]})]}),we==="bank_transfer"&&s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 rounded-lg space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank:"}),s.jsx("span",{className:"font-medium",children:an.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account:"}),s.jsx("span",{className:"font-medium",children:an.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Title:"}),s.jsx("span",{className:"font-medium",children:an.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs",children:an.iban})]})]})]}),s.jsxs(hc,{className:"flex-col sm:flex-row gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>{le(!1),ke(null)},disabled:yo.isPending,"data-testid":"button-cancel-event-payment",children:"Cancel"}),s.jsx($,{onClick:rz,disabled:yo.isPending,"data-testid":"button-confirm-event-payment",children:yo.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Confirm Registration"})]})]})}),s.jsx(yt,{open:Dt,onOpenChange:U=>!Xa&&Rt(U),children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"w-5 h-5 text-sky-600"}),"Upload Payment Proof"]}),s.jsx(_n,{children:"Please upload your bank transfer receipt to complete registration."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 rounded-lg space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank:"}),s.jsx("span",{className:"font-medium",children:an.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account:"}),s.jsx("span",{className:"font-medium",children:an.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Title:"}),s.jsx("span",{className:"font-medium",children:an.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs",children:an.iban})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Upload Receipt (JPG, PNG, or PDF)"}),s.jsxs("div",{onClick:()=>{var U;return(U=cu.current)==null?void 0:U.click()},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition ${sn?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-sky-500"}`,children:[s.jsx("input",{ref:cu,type:"file",accept:"image/jpeg,image/png,application/pdf",onChange:nz,className:"hidden","data-testid":"input-event-proof-file"}),sn?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[s.jsx(pr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:sn.name})]}):s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx(lr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Click to select file"}),s.jsx("p",{className:"text-xs mt-1",children:"Max size: 10MB"})]})]})]})]}),s.jsxs(hc,{className:"flex-col sm:flex-row gap-2",children:[s.jsx($,{variant:"outline",onClick:az,disabled:Xa,"data-testid":"button-skip-event-proof",children:"Upload Later"}),s.jsx($,{onClick:sz,disabled:!sn||Xa,"data-testid":"button-upload-event-proof",children:Xa?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Upload Receipt"]})})]})]})})]})}function Coe(){return qr({title:"Book a Facility",description:"Book sports facilities at The Quarterdeck - Padel Tennis, Squash, Air Rifle Range and more. Easy online booking with real-time availability."}),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-6xl",children:s.jsx(koe,{})})})}const se=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const Be=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",e),...t}));Be.displayName="CardHeader";const We=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("text-2xl font-semibold leading-none tracking-tight",e),...t}));We.displayName="CardTitle";const It=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("text-sm text-muted-foreground",e),...t}));It.displayName="CardDescription";const ae=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("p-6 pt-0",e),...t}));ae.displayName="CardContent";const Bv=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",e),...t}));Bv.displayName="CardFooter";var r0="Tabs",[Poe]=gn(r0,[$f]),X6=$f(),[Eoe,W2]=Poe(r0),J6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Gc(l),[f,h]=ss({prop:n,onChange:a,defaultProp:i??"",caller:r0});return s.jsx(Eoe,{scope:r,baseId:Jr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Re.div,{dir:d,"data-orientation":o,...u,ref:t})})});J6.displayName=r0;var Z6="TabsList",e8=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=W2(Z6,r),o=X6(r);return s.jsx(j2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Re.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});e8.displayName=Z6;var t8="TabsTrigger",r8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=W2(t8,r),l=X6(r),c=a8(o.baseId,n),u=i8(o.baseId,n),d=n===o.value;return s.jsx(w2,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});r8.displayName=t8;var n8="TabsContent",s8=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=W2(n8,r),c=a8(l.baseId,n),u=i8(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(rn,{present:a||d,children:({present:h})=>s.jsx(Re.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});s8.displayName=n8;function a8(e,t){return`${e}-trigger-${t}`}function i8(e,t){return`${e}-content-${t}`}var Aoe=J6,o8=e8,l8=r8,c8=s8;const Vs=Aoe,ws=x.forwardRef(({className:e,...t},r)=>s.jsx(o8,{ref:r,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ws.displayName=o8.displayName;const Lt=x.forwardRef(({className:e,...t},r)=>s.jsx(l8,{ref:r,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Lt.displayName=l8.displayName;const Ft=x.forwardRef(({className:e,...t},r)=>s.jsx(c8,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ft.displayName=c8.displayName;function Ooe(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...y}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,j=x.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:j,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Toe(a,...t)]}function Toe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ioe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],K2=Ioe.reduce((e,t)=>{const r=Lb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Roe(){return p5.useSyncExternalStore(Moe,()=>!0,()=>!1)}function Moe(){return()=>{}}var H2="Avatar",[$oe]=Ooe(H2),[Doe,u8]=$oe(H2),d8=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return s.jsx(Doe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(K2.span,{...n,ref:t})})});d8.displayName=H2;var f8="AvatarImage",h8=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=u8(f8,r),l=Loe(n,i),c=Ur(u=>{a(u),o.onImageLoadingStatusChange(u)});return Br(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(K2.img,{...i,ref:t,src:n}):null});h8.displayName=f8;var m8="AvatarFallback",p8=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=u8(m8,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(K2.span,{...a,ref:t}):null});p8.displayName=m8;function GO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Loe(e,{referrerPolicy:t,crossOrigin:r}){const n=Roe(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>GO(i,e));return Br(()=>{l(GO(i,e))},[i,e]),Br(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var g8=d8,x8=h8,v8=p8;const zd=x.forwardRef(({className:e,...t},r)=>s.jsx(g8,{ref:r,className:je(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));zd.displayName=g8.displayName;const Wd=x.forwardRef(({className:e,...t},r)=>s.jsx(x8,{ref:r,className:je("aspect-square h-full w-full",e),...t}));Wd.displayName=x8.displayName;const Kd=x.forwardRef(({className:e,...t},r)=>s.jsx(v8,{ref:r,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kd.displayName=v8.displayName;function Foe(){var C,P;qr({title:"My Profile",description:"Manage your Quarterdeck account, view bookings, notifications, and membership status."});const{user:e,isLoading:t,isAuthenticated:r}=bl(),n=N5(),i=new URLSearchParams(n).get("tab")||"account",o=x.useRef(null),{toast:l}=mt(),{data:c,refetch:u}=de({queryKey:["/api/memberships/my"],enabled:r,staleTime:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:!1}),{data:d=[]}=de({queryKey:["/api/bookings/my"],enabled:r}),{data:f=[],isLoading:h}=de({queryKey:["/api/notifications"],enabled:r}),p=be({mutationFn:async k=>{await ye("POST",`/api/notifications/${k}/read`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),y=be({mutationFn:async()=>{await ye("POST","/api/notifications/read-all")},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),m=be({mutationFn:async k=>{await ye("DELETE",`/api/notifications/${k}`)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/notifications"]}),re.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),j=be({mutationFn:async k=>{const A=new FormData;A.append("photo",k);const O=await fetch("/api/user/profile-photo",{method:"POST",body:A,credentials:"include"});if(!O.ok){const R=await O.json();throw new Error(R.message||"Failed to upload photo")}return O.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Photo updated",description:"Your profile photo has been updated successfully."}),o.current&&(o.current.value="")},onError:k=>{l({title:"Upload failed",description:k.message,variant:"destructive"})}}),b=k=>{var O;const A=(O=k.target.files)==null?void 0:O[0];if(A){if(A.size>5*1024*1024){l({title:"File too large",description:"Maximum file size is 5MB",variant:"destructive"});return}j.mutate(A)}},v=new Date().toISOString().split("T")[0],{upcomingBookings:g,pastBookings:w}=x.useMemo(()=>{const k=d.filter(O=>O.date>=v).sort((O,R)=>O.date.localeCompare(R.date)),A=d.filter(O=>O.date<v).sort((O,R)=>R.date.localeCompare(O.date));return{upcomingBookings:k,pastBookings:A}},[d,v]),N=f.filter(k=>!k.isRead).length;if(t)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})})]}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Le,{className:"h-12 w-64 mb-8"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(Le,{className:"h-64"}),s.jsx(Le,{className:"h-64"})]})]})]}),s.jsx(or,{})]});if(!r)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx(se,{className:"max-w-md w-full mx-4",children:s.jsxs(ae,{className:"pt-6 text-center",children:[s.jsx(gs,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to view your profile and booking history."}),s.jsx(ge,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-login-prompt",children:"Sign In"})})]})})}),s.jsx(or,{})]});const _=k=>{switch(k){case"booking":return"bg-blue-500";case"payment":return"bg-green-500";case"membership":return"bg-purple-500";case"event":return"bg-orange-500";default:return"bg-gray-500"}},S=k=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-xl","data-testid":`booking-entry-${k.id}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:k.venue}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.date," at ",k.startTime," - ",k.endTime]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ue,{variant:k.status==="CONFIRMED"?"default":"secondary",children:k.status}),s.jsx("div",{className:"text-sm font-semibold text-sky-600 mt-1",children:Zs(k.totalPrice)})]})]},k.id);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[20vh] min-h-[150px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40"}),s.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:s.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-profile-title",children:"My Profile"})})]}),s.jsx("div",{className:"qd-container py-6",children:s.jsxs(Vs,{defaultValue:i,className:"space-y-6",children:[s.jsxs(ws,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Lt,{value:"account","data-testid":"tab-account",children:[s.jsx(gs,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Account"]}),s.jsxs(Lt,{value:"bookings","data-testid":"tab-bookings",children:[s.jsx(xr,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Bookings"]}),s.jsxs(Lt,{value:"notifications",className:"relative","data-testid":"tab-notifications",children:[s.jsx(_c,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Notifications",N>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[16px] h-[16px] px-1 text-[10px] font-medium text-white bg-red-500 rounded-full",children:N})]}),s.jsxs(Lt,{value:"membership","data-testid":"tab-membership",children:[s.jsx(di,{className:"w-4 h-4 mr-2 hidden sm:inline"}),"Membership"]})]}),s.jsxs(Ft,{value:"account",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"w-5 h-5"}),"Account Information"]})}),s.jsxs(ae,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(zd,{className:"w-24 h-24",children:[s.jsx(Wd,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`}),s.jsxs(Kd,{className:"text-2xl bg-primary/10 text-primary",children:[(C=e==null?void 0:e.firstName)==null?void 0:C[0],(P=e==null?void 0:e.lastName)==null?void 0:P[0]]})]}),s.jsx("button",{type:"button",onClick:()=>{var k;return(k=o.current)==null?void 0:k.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",disabled:j.isPending,"data-testid":"button-change-photo",children:j.isPending?s.jsx(Ie,{className:"w-6 h-6 text-white animate-spin"}):s.jsx(h3,{className:"w-6 h-6 text-white"})}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:b,className:"hidden","data-testid":"input-profile-photo"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:e==null?void 0:e.email}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on photo to change"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(gs,{className:"w-3 h-3"})," Name"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-user-name",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Ef,{className:"w-3 h-3"})," Email"]}),s.jsx("p",{className:"font-semibold text-sm truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(ll,{className:"w-3 h-3"})," Credit Balance"]}),s.jsx("p",{className:"font-semibold text-sky-600","data-testid":"text-credit-balance",children:Zs((e==null?void 0:e.creditBalance)||0)})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Bt,{className:"w-3 h-3"})," Total Hours Played"]}),s.jsxs("p",{className:"font-semibold","data-testid":"text-hours-played",children:[(e==null?void 0:e.totalHoursPlayed)||0," hrs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(gi,{className:"w-3 h-3"})," Safety Certified"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.isSafetyCertified?"text-green-600":"text-red-600"}`,children:e!=null&&e.isSafetyCertified?"Yes":"No"})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Qk,{className:"w-3 h-3"})," Waiver Signed"]}),s.jsx("p",{className:`font-semibold ${e!=null&&e.hasSignedWaiver?"text-green-600":"text-red-600"}`,children:e!=null&&e.hasSignedWaiver?"Yes":"No"})]})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/api/logout",children:s.jsx($,{variant:"outline",className:"rounded-full","data-testid":"button-logout",children:"Sign Out"})})})]}),s.jsxs(Ft,{value:"bookings",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Your Bookings"}),s.jsx(ge,{href:"/booking",children:s.jsx($,{size:"sm","data-testid":"button-new-booking",children:"New Booking"})})]}),s.jsxs(Vs,{defaultValue:"upcoming",className:"space-y-4",children:[s.jsxs(ws,{children:[s.jsxs(Lt,{value:"upcoming",className:"gap-2","data-testid":"tab-upcoming-bookings",children:[s.jsx(gv,{className:"w-4 h-4"}),"Upcoming (",g.length,")"]}),s.jsxs(Lt,{value:"past",className:"gap-2","data-testid":"tab-past-bookings",children:[s.jsx(yA,{className:"w-4 h-4"}),"Past (",w.length,")"]})]}),s.jsx(Ft,{value:"upcoming",className:"space-y-3",children:g.length>0?g.map(S):s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(xr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming bookings"}),s.jsx(ge,{href:"/booking",children:s.jsx($,{"data-testid":"button-make-first-booking",children:"Book a Facility"})})]})})}),s.jsx(Ft,{value:"past",className:"space-y-3",children:w.length>0?w.map(S):s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(yA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No past bookings"})]})})})]})]}),s.jsxs(Ft,{value:"notifications",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"}),N>0&&s.jsxs($,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,"data-testid":"button-mark-all-notifications-read",children:[y.isPending?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(pr,{className:"w-4 h-4 mr-2"}),"Mark all read"]})]}),h?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Le,{className:"h-20"}),s.jsx(Le,{className:"h-20"}),s.jsx(Le,{className:"h-20"})]}):f.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(_c,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]})}):s.jsx("div",{className:"space-y-3",children:f.map(k=>s.jsx(se,{className:k.isRead?"":"ring-1 ring-primary/20","data-testid":`notification-card-${k.id}`,children:s.jsx(ae,{className:"py-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${_(k.type)}`}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[k.link?s.jsx(ge,{href:k.link,children:s.jsx("p",{className:"font-semibold hover:underline cursor-pointer",children:k.title})}):s.jsx("p",{className:"font-semibold",children:k.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:k.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:k.createdAt?_F(new Date(k.createdAt),{addSuffix:!0}):""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!k.isRead&&s.jsx($,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>p.mutate(k.id),disabled:p.isPending,"data-testid":`button-mark-notification-read-${k.id}`,children:p.isPending?s.jsx(Ie,{className:"w-4 h-4 animate-spin"}):s.jsx(pr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>m.mutate(k.id),disabled:m.isPending,"data-testid":`button-delete-notification-${k.id}`,children:m.isPending?s.jsx(Ie,{className:"w-4 h-4 animate-spin"}):s.jsx(ur,{className:"w-4 h-4"})})]})]})})]})})},k.id))})]}),s.jsx(Ft,{value:"membership",className:"space-y-6",children:s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(di,{className:"w-5 h-5"}),"Membership Details"]})}),s.jsx(ae,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-700 dark:to-slate-600 rounded-xl text-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Member ID"}),s.jsx("span",{className:"font-mono font-bold","data-testid":"text-membership-number",children:c.membershipNumber})]}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[c.tier," Tier"]}),s.jsxs("div",{className:"text-xs opacity-70",children:["Valid until: ",new Date(c.validTo).toLocaleDateString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Status"}),s.jsx(ue,{variant:c.status==="ACTIVE"?"default":"secondary",children:c.status})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(Nr,{className:"w-3 h-3"})," Guest Passes"]}),s.jsxs("p",{className:"font-semibold",children:[c.guestPasses," remaining"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(di,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No active membership"}),s.jsx(ge,{href:"/membership",children:s.jsx($,{variant:"outline","data-testid":"button-view-membership-options",children:"View Membership Options"})})]})})]})})]})})]}),s.jsx(or,{})]})}var dg=e=>e.type==="checkbox",Xl=e=>e instanceof Date,fs=e=>e==null;const y8=e=>typeof e=="object";var en=e=>!fs(e)&&!Array.isArray(e)&&y8(e)&&!Xl(e),b8=e=>en(e)&&e.target?dg(e.target)?e.target.checked:e.target.value:e,Uoe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,j8=(e,t)=>e.has(Uoe(t)),Boe=e=>{const t=e.constructor&&e.constructor.prototype;return en(t)&&t.hasOwnProperty("isPrototypeOf")},G2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(G2&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(en(e)&&Boe(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=dn(e[a]));return n}var n0=e=>/^\w*$/.test(e),Lr=e=>e===void 0,Q2=e=>Array.isArray(e)?e.filter(Boolean):[],Y2=e=>Q2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!en(e))return r;const n=(n0(t)?[t]:Y2(t)).reduce((a,i)=>fs(a)?a:a[i],e);return Lr(n)||n===e?Lr(e[t])?r:e[t]:n},As=e=>typeof e=="boolean",Yn=e=>typeof e=="function",Xt=(e,t,r)=>{let n=-1;const a=n0(t)?[t]:Y2(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=en(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Vv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Da={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},X2=F.createContext(null);X2.displayName="HookFormContext";const s0=()=>F.useContext(X2),Voe=e=>{const{children:t,...r}=e;return F.createElement(X2.Provider,{value:r},t)};var w8=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Da.all&&(t._proxyFormState[o]=!n||Da.all),r&&(r[o]=!0),e[o]}});return a};const J2=typeof window<"u"?F.useLayoutEffect:F.useEffect;function qoe(e){const t=s0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=F.useState(r._formState),c=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return J2(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),F.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),F.useMemo(()=>w8(o,r,c.current,!1),[o,r])}var Rs=e=>typeof e=="string",GN=(e,t,r,n,a)=>Rs(e)?(n&&t.watch.add(e),Te(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Te(r,i))):(n&&(t.watchAll=!0),r),QN=e=>fs(e)||!y8(e);function La(e,t,r=new WeakSet){if(QN(e)||QN(t))return Object.is(e,t);if(Xl(e)&&Xl(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Xl(o)&&Xl(l)||en(o)&&en(l)||Array.isArray(o)&&Array.isArray(l)?!La(o,l,r):!Object.is(o,l))return!1}}return!0}function zoe(e){const t=s0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=F.useRef(a),u=F.useRef(l),d=F.useRef(void 0),f=F.useRef(r),h=F.useRef(n);u.current=l;const[p,y]=F.useState(()=>{const w=r._getWatch(n,c.current);return u.current?u.current(w):w}),m=F.useCallback(w=>{const N=GN(n,r._names,w||r._formValues,!1,c.current);return u.current?u.current(N):N},[r._formValues,r._names,n]),j=F.useCallback(w=>{if(!i){const N=GN(n,r._names,w||r._formValues,!1,c.current);if(u.current){const _=u.current(N);La(_,d.current)||(y(_),d.current=_)}else y(N)}},[r._formValues,r._names,i,n]);J2(()=>((f.current!==r||!La(h.current,n))&&(f.current=r,h.current=n,j()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{j(w.values)}})),[r,o,n,j]),F.useEffect(()=>r._removeUnmounted());const b=f.current!==r,v=h.current,g=F.useMemo(()=>{if(i)return null;const w=!b&&!La(v,n);return b||w?m():null},[i,b,n,v,m]);return g!==null?g:p}function Woe(e){const t=s0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=j8(a._names.array,r),u=F.useMemo(()=>Te(a._formValues,r,Te(a._defaultValues,r,o)),[a,r,o]),d=zoe({control:a,name:r,defaultValue:u,exact:l}),f=qoe({control:a,name:r,exact:l}),h=F.useRef(e),p=F.useRef(void 0),y=F.useRef(a.register(r,{...e.rules,value:d,...As(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(f.validatingFields,r)},error:{enumerable:!0,get:()=>Te(f.errors,r)}}),[f,r]),j=F.useCallback(w=>y.current.onChange({target:{value:b8(w),name:r},type:Vv.CHANGE}),[r]),b=F.useCallback(()=>y.current.onBlur({target:{value:Te(a._formValues,r),name:r},type:Vv.BLUR}),[r,a._formValues]),v=F.useCallback(w=>{const N=Te(a._fields,r);N&&N._f&&w&&(N._f.ref={focus:()=>Yn(w.focus)&&w.focus(),select:()=>Yn(w.select)&&w.select(),setCustomValidity:_=>Yn(w.setCustomValidity)&&w.setCustomValidity(_),reportValidity:()=>Yn(w.reportValidity)&&w.reportValidity()})},[a._fields,r]),g=F.useMemo(()=>({name:r,value:d,...As(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:j,onBlur:b,ref:v}),[r,n,f.disabled,j,b,v,d]);return F.useEffect(()=>{const w=a._options.shouldUnregister||i,N=p.current;N&&N!==r&&!c&&a.unregister(N),a.register(r,{...h.current.rules,...As(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,C)=>{const P=Te(a._fields,S);P&&P._f&&(P._f.mount=C)};if(_(r,!0),w){const S=dn(Te(a._options.defaultValues,r,h.current.defaultValue));Xt(a._defaultValues,r,S),Lr(Te(a._formValues,r))&&Xt(a._formValues,r,S)}return!c&&a.register(r),p.current=r,()=>{(c?w&&!a._state.action:w)?a.unregister(r):_(r,!1)}},[r,a,c,i]),F.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),F.useMemo(()=>({field:g,formState:f,fieldState:m}),[g,f,m])}const Koe=e=>e.render(Woe(e));var N8=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},sm=e=>Array.isArray(e)?e:[e],QO=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function _8(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&en(a)&&i){const o=_8(a,i);en(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Hn=e=>en(e)&&!Object.keys(e).length,Z2=e=>e.type==="file",qv=e=>{if(!G2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},S8=e=>e.type==="select-multiple",eC=e=>e.type==="radio",Hoe=e=>eC(e)||dg(e),kw=e=>qv(e)&&e.isConnected;function Goe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Lr(e)?n++:e[t[n++]];return e}function Qoe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Lr(e[t]))return!1;return!0}function Hr(e,t){const r=Array.isArray(t)?t:n0(t)?[t]:Y2(t),n=r.length===1?e:Goe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(en(n)&&Hn(n)||Array.isArray(n)&&Qoe(n))&&Hr(e,r.slice(0,-1)),e}var Yoe=e=>{for(const t in e)if(Yn(e[t]))return!0;return!1};function k8(e){return Array.isArray(e)||en(e)&&!Yoe(e)}function YN(e,t={}){for(const r in e){const n=e[r];k8(n)?(t[r]=Array.isArray(n)?[]:{},YN(n,t[r])):Lr(n)||(t[r]=!0)}return t}function Ru(e,t,r){r||(r=YN(t));for(const n in e){const a=e[n];if(k8(a))Lr(t)||QN(r[n])?r[n]=YN(a,Array.isArray(a)?[]:{}):Ru(a,fs(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!La(a,i)}}return r}const YO={value:!1,isValid:!1},XO={value:!0,isValid:!0};var C8=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Lr(e[0].attributes.value)?Lr(e[0].value)||e[0].value===""?XO:{value:e[0].value,isValid:!0}:XO:YO}return YO},P8=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Lr(e)?e:t?e===""?NaN:e&&+e:r&&Rs(e)?new Date(e):n?n(e):e;const JO={isValid:!1,value:null};var E8=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,JO):JO;function ZO(e){const t=e.ref;return Z2(t)?t.files:eC(t)?E8(e.refs).value:S8(t)?[...t.selectedOptions].map(({value:r})=>r):dg(t)?C8(e.refs).value:P8(Lr(t.value)?e.ref.value:t.value,e)}var Xoe=(e,t,r,n)=>{const a={};for(const i of e){const o=Te(t,i);o&&Xt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},zv=e=>e instanceof RegExp,vh=e=>Lr(e)?e:zv(e)?e.source:en(e)?zv(e.value)?e.value.source:e.value:e,eT=e=>({isOnSubmit:!e||e===Da.onSubmit,isOnBlur:e===Da.onBlur,isOnChange:e===Da.onChange,isOnAll:e===Da.all,isOnTouch:e===Da.onTouched});const tT="AsyncFunction";var Joe=e=>!!e&&!!e.validate&&!!(Yn(e.validate)&&e.validate.constructor.name===tT||en(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===tT)),Zoe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const am=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Te(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(am(l,t))break}else if(en(l)&&am(l,t))break}}};function nT(e,t,r){const n=Te(e,r);if(n||n0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Te(t,i),l=Te(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var ele=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Hn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Da.all))},tle=(e,t,r)=>!e||!t||e===t||sm(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),rle=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,nle=(e,t)=>!Q2(Te(e,t)).length&&Hr(e,t),sle=(e,t,r)=>{const n=sm(Te(e,r));return Xt(n,"root",t[r]),Xt(e,r,n),e};function sT(e,t,r="validate"){if(Rs(e)||Array.isArray(e)&&e.every(Rs)||As(e)&&!e)return{type:r,message:Rs(e)?e:"",ref:t}}var ku=e=>en(e)&&!zv(e)?e:{value:e,message:""},aT=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:j,mount:b}=e._f,v=Te(r,m);if(!b||t.has(m))return{};const g=l?l[0]:o,w=O=>{a&&g.reportValidity&&(g.setCustomValidity(As(O)?"":O||""),g.reportValidity())},N={},_=eC(o),S=dg(o),C=_||S,P=(j||Z2(o))&&Lr(o.value)&&Lr(v)||qv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,k=N8.bind(null,m,n,N),A=(O,R,M,L=Pi.maxLength,T=Pi.minLength)=>{const W=O?R:M;N[m]={type:O?L:T,message:W,ref:o,...k(O?L:T,W)}};if(i?!Array.isArray(v)||!v.length:c&&(!C&&(P||fs(v))||As(v)&&!v||S&&!C8(l).isValid||_&&!E8(l).isValid)){const{value:O,message:R}=Rs(c)?{value:!!c,message:c}:ku(c);if(O&&(N[m]={type:Pi.required,message:R,ref:g,...k(Pi.required,R)},!n))return w(R),N}if(!P&&(!fs(f)||!fs(h))){let O,R;const M=ku(h),L=ku(f);if(!fs(v)&&!isNaN(v)){const T=o.valueAsNumber||v&&+v;fs(M.value)||(O=T>M.value),fs(L.value)||(R=T<L.value)}else{const T=o.valueAsDate||new Date(v),W=G=>new Date(new Date().toDateString()+" "+G),E=o.type=="time",D=o.type=="week";Rs(M.value)&&v&&(O=E?W(v)>W(M.value):D?v>M.value:T>new Date(M.value)),Rs(L.value)&&v&&(R=E?W(v)<W(L.value):D?v<L.value:T<new Date(L.value))}if((O||R)&&(A(!!O,M.message,L.message,Pi.max,Pi.min),!n))return w(N[m].message),N}if((u||d)&&!P&&(Rs(v)||i&&Array.isArray(v))){const O=ku(u),R=ku(d),M=!fs(O.value)&&v.length>+O.value,L=!fs(R.value)&&v.length<+R.value;if((M||L)&&(A(M,O.message,R.message),!n))return w(N[m].message),N}if(p&&!P&&Rs(v)){const{value:O,message:R}=ku(p);if(zv(O)&&!v.match(O)&&(N[m]={type:Pi.pattern,message:R,ref:o,...k(Pi.pattern,R)},!n))return w(R),N}if(y){if(Yn(y)){const O=await y(v,r),R=sT(O,g);if(R&&(N[m]={...R,...k(Pi.validate,R.message)},!n))return w(R.message),N}else if(en(y)){let O={};for(const R in y){if(!Hn(O)&&!n)break;const M=sT(await y[R](v,r),g,R);M&&(O={...M,...k(R,M.message)},w(M.message),n&&(N[m]=O))}if(!Hn(O)&&(N[m]={ref:g,...O},!n))return N}}return w(!0),N};const ale={mode:Da.onSubmit,reValidateMode:Da.onChange,shouldFocusError:!0};function ile(e={}){let t={...ale,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=en(t.defaultValues)||en(t.values)?dn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:dn(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:QO(),state:QO()},y=t.criteriaMode===Da.all,m=K=>Z=>{clearTimeout(u),u=setTimeout(K,Z)},j=async K=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||K)){let Z;t.resolver?(Z=Hn((await C()).errors),b()):Z=await k(n,!0),Z!==r.isValid&&p.state.next({isValid:Z})}},b=(K,Z)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((K||Array.from(l.mount)).forEach(le=>{le&&(Z?Xt(r.validatingFields,le,Z):Hr(r.validatingFields,le))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Hn(r.validatingFields)}))},v=(K,Z=[],le,Ee,ke=!0,we=!0)=>{if(Ee&&le&&!t.disabled){if(o.action=!0,we&&Array.isArray(Te(n,K))){const Ke=le(Te(n,K),Ee.argA,Ee.argB);ke&&Xt(n,K,Ke)}if(we&&Array.isArray(Te(r.errors,K))){const Ke=le(Te(r.errors,K),Ee.argA,Ee.argB);ke&&Xt(r.errors,K,Ke),nle(r.errors,K)}if((f.touchedFields||h.touchedFields)&&we&&Array.isArray(Te(r.touchedFields,K))){const Ke=le(Te(r.touchedFields,K),Ee.argA,Ee.argB);ke&&Xt(r.touchedFields,K,Ke)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ru(a,i)),p.state.next({name:K,isDirty:O(K,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xt(i,K,Z)},g=(K,Z)=>{Xt(r.errors,K,Z),p.state.next({errors:r.errors})},w=K=>{r.errors=K,p.state.next({errors:r.errors,isValid:!1})},N=(K,Z,le,Ee)=>{const ke=Te(n,K);if(ke){const we=Te(i,K,Lr(le)?Te(a,K):le);Lr(we)||Ee&&Ee.defaultChecked||Z?Xt(i,K,Z?we:ZO(ke._f)):L(K,we),o.mount&&!o.action&&j()}},_=(K,Z,le,Ee,ke)=>{let we=!1,Ke=!1;const Dt={name:K};if(!t.disabled){if(!le||Ee){(f.isDirty||h.isDirty)&&(Ke=r.isDirty,r.isDirty=Dt.isDirty=O(),we=Ke!==Dt.isDirty);const Rt=La(Te(a,K),Z);Ke=!!Te(r.dirtyFields,K),Rt?Hr(r.dirtyFields,K):Xt(r.dirtyFields,K,!0),Dt.dirtyFields=r.dirtyFields,we=we||(f.dirtyFields||h.dirtyFields)&&Ke!==!Rt}if(le){const Rt=Te(r.touchedFields,K);Rt||(Xt(r.touchedFields,K,le),Dt.touchedFields=r.touchedFields,we=we||(f.touchedFields||h.touchedFields)&&Rt!==le)}we&&ke&&p.state.next(Dt)}return we?Dt:{}},S=(K,Z,le,Ee)=>{const ke=Te(r.errors,K),we=(f.isValid||h.isValid)&&As(Z)&&r.isValid!==Z;if(t.delayError&&le?(c=m(()=>g(K,le)),c(t.delayError)):(clearTimeout(u),c=null,le?Xt(r.errors,K,le):Hr(r.errors,K)),(le?!La(ke,le):ke)||!Hn(Ee)||we){const Ke={...Ee,...we&&As(Z)?{isValid:Z}:{},errors:r.errors,name:K};r={...r,...Ke},p.state.next(Ke)}},C=async K=>(b(K,!0),await t.resolver(i,t.context,Xoe(K||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async K=>{const{errors:Z}=await C(K);if(b(K),K)for(const le of K){const Ee=Te(Z,le);Ee?Xt(r.errors,le,Ee):Hr(r.errors,le)}else r.errors=Z;return Z},k=async(K,Z,le={valid:!0})=>{for(const Ee in K){const ke=K[Ee];if(ke){const{_f:we,...Ke}=ke;if(we){const Dt=l.array.has(we.name),Rt=ke._f&&Joe(ke._f);Rt&&f.validatingFields&&b([we.name],!0);const Rr=await aT(ke,l.disabled,i,y,t.shouldUseNativeValidation&&!Z,Dt);if(Rt&&f.validatingFields&&b([we.name]),Rr[we.name]&&(le.valid=!1,Z))break;!Z&&(Te(Rr,we.name)?Dt?sle(r.errors,Rr,we.name):Xt(r.errors,we.name,Rr[we.name]):Hr(r.errors,we.name))}!Hn(Ke)&&await k(Ke,Z,le)}}return le.valid},A=()=>{for(const K of l.unMount){const Z=Te(n,K);Z&&(Z._f.refs?Z._f.refs.every(le=>!kw(le)):!kw(Z._f.ref))&&ve(K)}l.unMount=new Set},O=(K,Z)=>!t.disabled&&(K&&Z&&Xt(i,K,Z),!La(J(),a)),R=(K,Z,le)=>GN(K,l,{...o.mount?i:Lr(Z)?a:Rs(K)?{[K]:Z}:Z},le,Z),M=K=>Q2(Te(o.mount?i:a,K,t.shouldUnregister?Te(a,K,[]):[])),L=(K,Z,le={})=>{const Ee=Te(n,K);let ke=Z;if(Ee){const we=Ee._f;we&&(!we.disabled&&Xt(i,K,P8(Z,we)),ke=qv(we.ref)&&fs(Z)?"":Z,S8(we.ref)?[...we.ref.options].forEach(Ke=>Ke.selected=ke.includes(Ke.value)):we.refs?dg(we.ref)?we.refs.forEach(Ke=>{(!Ke.defaultChecked||!Ke.disabled)&&(Array.isArray(ke)?Ke.checked=!!ke.find(Dt=>Dt===Ke.value):Ke.checked=ke===Ke.value||!!ke)}):we.refs.forEach(Ke=>Ke.checked=Ke.value===ke):Z2(we.ref)?we.ref.value="":(we.ref.value=ke,we.ref.type||p.state.next({name:K,values:dn(i)})))}(le.shouldDirty||le.shouldTouch)&&_(K,ke,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&G(K)},T=(K,Z,le)=>{for(const Ee in Z){if(!Z.hasOwnProperty(Ee))return;const ke=Z[Ee],we=K+"."+Ee,Ke=Te(n,we);(l.array.has(K)||en(ke)||Ke&&!Ke._f)&&!Xl(ke)?T(we,ke,le):L(we,ke,le)}},W=(K,Z,le={})=>{const Ee=Te(n,K),ke=l.array.has(K),we=dn(Z);Xt(i,K,we),ke?(p.array.next({name:K,values:dn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&le.shouldDirty&&p.state.next({name:K,dirtyFields:Ru(a,i),isDirty:O(K,we)})):Ee&&!Ee._f&&!fs(we)?T(K,we,le):L(K,we,le),rT(K,l)&&p.state.next({...r,name:K}),p.state.next({name:o.mount?K:void 0,values:dn(i)})},E=async K=>{o.mount=!0;const Z=K.target;let le=Z.name,Ee=!0;const ke=Te(n,le),we=Rt=>{Ee=Number.isNaN(Rt)||Xl(Rt)&&isNaN(Rt.getTime())||La(Rt,Te(i,le,Rt))},Ke=eT(t.mode),Dt=eT(t.reValidateMode);if(ke){let Rt,Rr;const Qs=Z.type?ZO(ke._f):b8(K),sn=K.type===Vv.BLUR||K.type===Vv.FOCUS_OUT,Na=!Zoe(ke._f)&&!t.resolver&&!Te(r.errors,le)&&!ke._f.deps||rle(sn,Te(r.touchedFields,le),r.isSubmitted,Dt,Ke),Xa=rT(le,l,sn);Xt(i,le,Qs),sn?(!Z||!Z.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(K),c&&c(0)):ke._f.onChange&&ke._f.onChange(K);const xo=_(le,Qs,sn),cu=!Hn(xo)||Xa;if(!sn&&p.state.next({name:le,type:K.type,values:dn(i)}),Na)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?sn&&j():sn||j()),cu&&p.state.next({name:le,...Xa?{}:xo});if(!sn&&Xa&&p.state.next({...r}),t.resolver){const{errors:cs}=await C([le]);if(b([le]),we(Qs),Ee){const vo=nT(r.errors,n,le),vr=nT(cs,n,vo.name||le);Rt=vr.error,le=vr.name,Rr=Hn(cs)}}else b([le],!0),Rt=(await aT(ke,l.disabled,i,y,t.shouldUseNativeValidation))[le],b([le]),we(Qs),Ee&&(Rt?Rr=!1:(f.isValid||h.isValid)&&(Rr=await k(n,!0)));Ee&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&G(ke._f.deps),S(le,Rr,Rt,xo))}},D=(K,Z)=>{if(Te(r.errors,Z)&&K.focus)return K.focus(),1},G=async(K,Z={})=>{let le,Ee;const ke=sm(K);if(t.resolver){const we=await P(Lr(K)?K:ke);le=Hn(we),Ee=K?!ke.some(Ke=>Te(we,Ke)):le}else K?(Ee=(await Promise.all(ke.map(async we=>{const Ke=Te(n,we);return await k(Ke&&Ke._f?{[we]:Ke}:Ke)}))).every(Boolean),!(!Ee&&!r.isValid)&&j()):Ee=le=await k(n);return p.state.next({...!Rs(K)||(f.isValid||h.isValid)&&le!==r.isValid?{}:{name:K},...t.resolver||!K?{isValid:le}:{},errors:r.errors}),Z.shouldFocus&&!Ee&&am(n,D,K?ke:l.mount),Ee},J=(K,Z)=>{let le={...o.mount?i:a};return Z&&(le=_8(Z.dirtyFields?r.dirtyFields:r.touchedFields,le)),Lr(K)?le:Rs(K)?Te(le,K):K.map(Ee=>Te(le,Ee))},I=(K,Z)=>({invalid:!!Te((Z||r).errors,K),isDirty:!!Te((Z||r).dirtyFields,K),error:Te((Z||r).errors,K),isValidating:!!Te(r.validatingFields,K),isTouched:!!Te((Z||r).touchedFields,K)}),Y=K=>{K&&sm(K).forEach(Z=>Hr(r.errors,Z)),p.state.next({errors:K?r.errors:{}})},V=(K,Z,le)=>{const Ee=(Te(n,K,{_f:{}})._f||{}).ref,ke=Te(r.errors,K)||{},{ref:we,message:Ke,type:Dt,...Rt}=ke;Xt(r.errors,K,{...Rt,...Z,ref:Ee}),p.state.next({name:K,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},ee=(K,Z)=>Yn(K)?p.state.subscribe({next:le=>"values"in le&&K(R(void 0,Z),le)}):R(K,Z,!0),pe=K=>p.state.subscribe({next:Z=>{tle(K.name,Z.name,K.exact)&&ele(Z,K.formState||f,Wt,K.reRenderRoot)&&K.callback({values:{...i},...r,...Z,defaultValues:a})}}).unsubscribe,te=K=>(o.mount=!0,h={...h,...K.formState},pe({...K,formState:{...d,...K.formState}})),ve=(K,Z={})=>{for(const le of K?sm(K):l.mount)l.mount.delete(le),l.array.delete(le),Z.keepValue||(Hr(n,le),Hr(i,le)),!Z.keepError&&Hr(r.errors,le),!Z.keepDirty&&Hr(r.dirtyFields,le),!Z.keepTouched&&Hr(r.touchedFields,le),!Z.keepIsValidating&&Hr(r.validatingFields,le),!t.shouldUnregister&&!Z.keepDefaultValue&&Hr(a,le);p.state.next({values:dn(i)}),p.state.next({...r,...Z.keepDirty?{isDirty:O()}:{}}),!Z.keepIsValid&&j()},ie=({disabled:K,name:Z})=>{(As(K)&&o.mount||K||l.disabled.has(Z))&&(K?l.disabled.add(Z):l.disabled.delete(Z))},B=(K,Z={})=>{let le=Te(n,K);const Ee=As(Z.disabled)||As(t.disabled);return Xt(n,K,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:K}},name:K,mount:!0,...Z}}),l.mount.add(K),le?ie({disabled:As(Z.disabled)?Z.disabled:t.disabled,name:K}):N(K,!0,Z.value),{...Ee?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:vh(Z.min),max:vh(Z.max),minLength:vh(Z.minLength),maxLength:vh(Z.maxLength),pattern:vh(Z.pattern)}:{},name:K,onChange:E,onBlur:E,ref:ke=>{if(ke){B(K,Z),le=Te(n,K);const we=Lr(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,Ke=Hoe(we),Dt=le._f.refs||[];if(Ke?Dt.find(Rt=>Rt===we):we===le._f.ref)return;Xt(n,K,{_f:{...le._f,...Ke?{refs:[...Dt.filter(kw),we,...Array.isArray(Te(a,K))?[{}]:[]],ref:{type:we.type,name:K}}:{ref:we}}}),N(K,!1,void 0,we)}else le=Te(n,K,{}),le._f&&(le._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(j8(l.array,K)&&o.action)&&l.unMount.add(K)}}},me=()=>t.shouldFocusError&&am(n,D,l.mount),Q=K=>{As(K)&&(p.state.next({disabled:K}),am(n,(Z,le)=>{const Ee=Te(n,le);Ee&&(Z.disabled=Ee._f.disabled||K,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ke=>{ke.disabled=Ee._f.disabled||K}))},0,!1))},q=(K,Z)=>async le=>{let Ee;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let ke=dn(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:Ke}=await C();b(),r.errors=we,ke=dn(Ke)}else await k(n);if(l.disabled.size)for(const we of l.disabled)Hr(ke,we);if(Hr(r.errors,"root"),Hn(r.errors)){p.state.next({errors:{}});try{await K(ke,le)}catch(we){Ee=we}}else Z&&await Z({...r.errors},le),me(),setTimeout(me);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},xe=(K,Z={})=>{Te(n,K)&&(Lr(Z.defaultValue)?W(K,dn(Te(a,K))):(W(K,Z.defaultValue),Xt(a,K,dn(Z.defaultValue))),Z.keepTouched||Hr(r.touchedFields,K),Z.keepDirty||(Hr(r.dirtyFields,K),r.isDirty=Z.defaultValue?O(K,dn(Te(a,K))):O()),Z.keepError||(Hr(r.errors,K),f.isValid&&j()),p.state.next({...r}))},tt=(K,Z={})=>{const le=K?dn(K):a,Ee=dn(le),ke=Hn(K),we=ke?a:Ee;if(Z.keepDefaultValues||(a=le),!Z.keepValues){if(Z.keepDirtyValues){const Ke=new Set([...l.mount,...Object.keys(Ru(a,i))]);for(const Dt of Array.from(Ke))Te(r.dirtyFields,Dt)?Xt(we,Dt,Te(i,Dt)):W(Dt,Te(we,Dt))}else{if(G2&&Lr(K))for(const Ke of l.mount){const Dt=Te(n,Ke);if(Dt&&Dt._f){const Rt=Array.isArray(Dt._f.refs)?Dt._f.refs[0]:Dt._f.ref;if(qv(Rt)){const Rr=Rt.closest("form");if(Rr){Rr.reset();break}}}}if(Z.keepFieldsRef)for(const Ke of l.mount)W(Ke,Te(we,Ke));else n={}}i=t.shouldUnregister?Z.keepDefaultValues?dn(a):{}:dn(we),p.array.next({values:{...we}}),p.state.next({values:{...we}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues||!t.shouldUnregister&&!Hn(we),o.watch=!!t.shouldUnregister,o.keepIsValid=!!Z.keepIsValid,o.action=!1,Z.keepErrors||(r.errors={}),p.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:ke?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!La(K,a)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ke?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?Ru(a,i):r.dirtyFields:Z.keepDefaultValues&&K?Ru(a,K):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},at=(K,Z)=>tt(Yn(K)?K(i):K,{...t.resetOptions,...Z}),ft=(K,Z={})=>{const le=Te(n,K),Ee=le&&le._f;if(Ee){const ke=Ee.refs?Ee.refs[0]:Ee.ref;ke.focus&&setTimeout(()=>{ke.focus(),Z.shouldSelect&&Yn(ke.select)&&ke.select()})}},Wt=K=>{r={...r,...K}},nn={control:{register:B,unregister:ve,getFieldState:I,handleSubmit:q,setError:V,_subscribe:pe,_runSchema:C,_updateIsValidating:b,_focusError:me,_getWatch:R,_getDirty:O,_setValid:j,_setFieldArray:v,_setDisabledField:ie,_setErrors:w,_getFieldArray:M,_reset:tt,_resetDefaultValues:()=>Yn(t.defaultValues)&&t.defaultValues().then(K=>{at(K,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Q,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(K){o=K},get _defaultValues(){return a},get _names(){return l},set _names(K){l=K},get _formState(){return r},get _options(){return t},set _options(K){t={...t,...K}}},subscribe:te,trigger:G,register:B,handleSubmit:q,watch:ee,setValue:W,getValues:J,reset:at,resetField:xe,clearErrors:Y,unregister:ve,setError:V,setFocus:ft,getFieldState:I};return{...nn,formControl:nn}}function qs(e={}){const t=F.useRef(void 0),r=F.useRef(void 0),[n,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:Yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Yn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=ile(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,J2(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),F.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),F.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),F.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),F.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),F.useEffect(()=>{var o;e.values&&!La(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),F.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=w8(n,i),t.current}const iT=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},A8=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?iT(n.ref,r,e):n.refs&&n.refs.forEach(a=>iT(a,r,e))}},ole=(e,t)=>{t.shouldUseNativeValidation&&A8(e,t);const r={};for(const n in e){const a=Te(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(lle(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));Xt(o,"root",i),Xt(r,n,o)}else Xt(r,n,i)}return r},lle=(e,t)=>e.some(r=>r.startsWith(t+"."));var cle=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=N8(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},zs=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&A8({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:ole(cle(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},qt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(qt||(qt={}));var oT;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(oT||(oT={}));const ze=qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Po=e=>{switch(typeof e){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return Number.isNaN(e)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(e)?ze.array:e===null?ze.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ze.promise:typeof Map<"u"&&e instanceof Map?ze.map:typeof Set<"u"&&e instanceof Set?ze.set:typeof Date<"u"&&e instanceof Date?ze.date:ze.object;default:return ze.unknown}},Ce=qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class no extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof no))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}no.create=e=>new no(e);const XN=(e,t)=>{let r;switch(e.code){case Ce.invalid_type:e.received===ze.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,qt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${qt.joinValues(e.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qt.joinValues(e.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${qt.joinValues(e.options)}, received '${e.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:qt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,qt.assertNever(e)}return{message:r}};let ule=XN;function dle(){return ule}const fle=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function De(e,t){const r=dle(),n=fle({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===XN?void 0:XN].filter(a=>!!a)});e.common.issues.push(n)}class Ws{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return pt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ws.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return pt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const pt=Object.freeze({status:"aborted"}),Uh=e=>({status:"dirty",value:e}),ya=e=>({status:"valid",value:e}),lT=e=>e.status==="aborted",cT=e=>e.status==="dirty",Hd=e=>e.status==="valid",Wv=e=>typeof Promise<"u"&&e instanceof Promise;var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));class hl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uT=(e,t)=>{if(Hd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new no(e.common.issues);return this._error=r,this._error}}};function Et(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Vt{get description(){return this._def.description}_getType(t){return Po(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Po(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ws,ctx:{common:t.parent.common,data:t.data,parsedType:Po(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Wv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Po(t)},a=this._parseSync({data:t,path:n.path,parent:n});return uT(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Po(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Hd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Hd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Po(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Wv(a)?a:Promise.resolve(a));return uT(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ce.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Yd({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rl.create(this,this._def)}nullable(){return Xd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hi.create(this)}promise(){return Qv.create(this,this._def)}or(t){return Hv.create([this,t],this._def)}and(t){return Gv.create(this,t,this._def)}transform(t){return new Yd({...Et(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new e_({...Et(this._def),innerType:this,defaultValue:r,typeName:xt.ZodDefault})}brand(){return new Mle({typeName:xt.ZodBranded,type:this,...Et(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new t_({...Et(this._def),innerType:this,catchValue:r,typeName:xt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return tC.create(this,t)}readonly(){return r_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hle=/^c[^\s-]{8,}$/i,mle=/^[0-9a-z]+$/,ple=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xle=/^[a-z0-9_-]{21}$/i,vle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yle=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ble=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cw;const wle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_le=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cle=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ple=new RegExp(`^${O8}$`);function T8(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Ele(e){return new RegExp(`^${T8(e)}$`)}function Ale(e){let t=`${O8}T${T8(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Ole(e,t){return!!((t==="v4"||!t)&&wle.test(e)||(t==="v6"||!t)&&_le.test(e))}function Tle(e,t){if(!vle.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Ile(e,t){return!!((t==="v4"||!t)&&Nle.test(e)||(t==="v6"||!t)&&Sle.test(e))}class Bi extends Vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ze.string){const i=this._getOrReturnCtx(t);return De(i,{code:Ce.invalid_type,expected:ze.string,received:i.parsedType}),pt}const n=new Ws;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?De(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&De(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")ble.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"email",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Cw||(Cw=new RegExp(jle,"u")),Cw.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"emoji",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")gle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"uuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")xle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"nanoid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")hle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"cuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")mle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"cuid2",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")ple.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"ulid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),De(a,{validation:"url",code:Ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"regex",code:Ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ale(i).test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Ple.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ele(i).test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?yle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"duration",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ole(t.data,i.version)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"ip",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Tle(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"jwt",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Ile(t.data,i.version)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"cidr",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?kle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"base64",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Cle.test(t.data)||(a=this._getOrReturnCtx(t,a),De(a,{validation:"base64url",code:Ce.invalid_string,message:i.message}),n.dirty()):qt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ce.invalid_string,...Ge.errToObj(n)})}_addCheck(t){return new Bi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ge.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ge.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ge.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ge.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ge.errToObj(r)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new Bi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bi.create=e=>new Bi({checks:[],typeName:xt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Et(e)});function Rle(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Ec extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ze.number){const i=this._getOrReturnCtx(t);return De(i,{code:Ce.invalid_type,expected:ze.number,received:i.parsedType}),pt}let n;const a=new Ws;for(const i of this._def.checks)i.kind==="int"?qt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Rle(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.not_finite,message:i.message}),a.dirty()):qt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new Ec({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new Ec({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&qt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ec.create=e=>new Ec({checks:[],typeName:xt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Et(e)});class Ac extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ze.bigint)return this._getInvalidInput(t);let n;const a=new Ws;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),De(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):qt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return De(r,{code:Ce.invalid_type,expected:ze.bigint,received:r.parsedType}),pt}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,a){return new Ac({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(a)}]})}_addCheck(t){return new Ac({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ac.create=e=>new Ac({checks:[],typeName:xt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Et(e)});class Kv extends Vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ze.boolean){const n=this._getOrReturnCtx(t);return De(n,{code:Ce.invalid_type,expected:ze.boolean,received:n.parsedType}),pt}return ya(t.data)}}Kv.create=e=>new Kv({typeName:xt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Et(e)});class Gd extends Vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ze.date){const i=this._getOrReturnCtx(t);return De(i,{code:Ce.invalid_type,expected:ze.date,received:i.parsedType}),pt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return De(i,{code:Ce.invalid_date}),pt}const n=new Ws;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),De(a,{code:Ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):qt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Gd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Gd.create=e=>new Gd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:xt.ZodDate,...Et(e)});class dT extends Vt{_parse(t){if(this._getType(t)!==ze.symbol){const n=this._getOrReturnCtx(t);return De(n,{code:Ce.invalid_type,expected:ze.symbol,received:n.parsedType}),pt}return ya(t.data)}}dT.create=e=>new dT({typeName:xt.ZodSymbol,...Et(e)});class fT extends Vt{_parse(t){if(this._getType(t)!==ze.undefined){const n=this._getOrReturnCtx(t);return De(n,{code:Ce.invalid_type,expected:ze.undefined,received:n.parsedType}),pt}return ya(t.data)}}fT.create=e=>new fT({typeName:xt.ZodUndefined,...Et(e)});class hT extends Vt{_parse(t){if(this._getType(t)!==ze.null){const n=this._getOrReturnCtx(t);return De(n,{code:Ce.invalid_type,expected:ze.null,received:n.parsedType}),pt}return ya(t.data)}}hT.create=e=>new hT({typeName:xt.ZodNull,...Et(e)});class mT extends Vt{constructor(){super(...arguments),this._any=!0}_parse(t){return ya(t.data)}}mT.create=e=>new mT({typeName:xt.ZodAny,...Et(e)});class pT extends Vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ya(t.data)}}pT.create=e=>new pT({typeName:xt.ZodUnknown,...Et(e)});class ml extends Vt{_parse(t){const r=this._getOrReturnCtx(t);return De(r,{code:Ce.invalid_type,expected:ze.never,received:r.parsedType}),pt}}ml.create=e=>new ml({typeName:xt.ZodNever,...Et(e)});class gT extends Vt{_parse(t){if(this._getType(t)!==ze.undefined){const n=this._getOrReturnCtx(t);return De(n,{code:Ce.invalid_type,expected:ze.void,received:n.parsedType}),pt}return ya(t.data)}}gT.create=e=>new gT({typeName:xt.ZodVoid,...Et(e)});class hi extends Vt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ze.array)return De(r,{code:Ce.invalid_type,expected:ze.array,received:r.parsedType}),pt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(De(r,{code:o?Ce.too_big:Ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(De(r,{code:Ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(De(r,{code:Ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new hl(r,o,r.path,l)))).then(o=>Ws.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new hl(r,o,r.path,l)));return Ws.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new hi({...this._def,minLength:{value:t,message:Ge.toString(r)}})}max(t,r){return new hi({...this._def,maxLength:{value:t,message:Ge.toString(r)}})}length(t,r){return new hi({...this._def,exactLength:{value:t,message:Ge.toString(r)}})}nonempty(t){return this.min(1,t)}}hi.create=(e,t)=>new hi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...Et(t)});function Mu(e){if(e instanceof Yr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=rl.create(Mu(n))}return new Yr({...e._def,shape:()=>t})}else return e instanceof hi?new hi({...e._def,type:Mu(e.element)}):e instanceof rl?rl.create(Mu(e.unwrap())):e instanceof Xd?Xd.create(Mu(e.unwrap())):e instanceof Oc?Oc.create(e.items.map(t=>Mu(t))):e}class Yr extends Vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=qt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ze.object){const u=this._getOrReturnCtx(t);return De(u,{code:Ce.invalid_type,expected:ze.object,received:u.parsedType}),pt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ml&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new hl(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ml){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(De(a,{code:Ce.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new hl(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ws.mergeObjectSync(n,u)):Ws.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new Yr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ge.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Yr({...this._def,unknownKeys:"strip"})}passthrough(){return new Yr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Yr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Yr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Yr({...this._def,catchall:t})}pick(t){const r={};for(const n of qt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Yr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of qt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Yr({...this._def,shape:()=>r})}deepPartial(){return Mu(this)}partial(t){const r={};for(const n of qt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Yr({...this._def,shape:()=>r})}required(t){const r={};for(const n of qt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof rl;)i=i._def.innerType;r[n]=i}return new Yr({...this._def,shape:()=>r})}keyof(){return I8(qt.objectKeys(this.shape))}}Yr.create=(e,t)=>new Yr({shape:()=>e,unknownKeys:"strip",catchall:ml.create(),typeName:xt.ZodObject,...Et(t)});Yr.strictCreate=(e,t)=>new Yr({shape:()=>e,unknownKeys:"strict",catchall:ml.create(),typeName:xt.ZodObject,...Et(t)});Yr.lazycreate=(e,t)=>new Yr({shape:e,unknownKeys:"strip",catchall:ml.create(),typeName:xt.ZodObject,...Et(t)});class Hv extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new no(l.ctx.common.issues));return De(r,{code:Ce.invalid_union,unionErrors:o}),pt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new no(c));return De(r,{code:Ce.invalid_union,unionErrors:l}),pt}}get options(){return this._def.options}}Hv.create=(e,t)=>new Hv({options:e,typeName:xt.ZodUnion,...Et(t)});function JN(e,t){const r=Po(e),n=Po(t);if(e===t)return{valid:!0,data:e};if(r===ze.object&&n===ze.object){const a=qt.objectKeys(t),i=qt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=JN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ze.array&&n===ze.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=JN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ze.date&&n===ze.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gv extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(lT(i)||lT(o))return pt;const l=JN(i.value,o.value);return l.valid?((cT(i)||cT(o))&&r.dirty(),{status:r.value,value:l.data}):(De(n,{code:Ce.invalid_intersection_types}),pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gv.create=(e,t,r)=>new Gv({left:e,right:t,typeName:xt.ZodIntersection,...Et(r)});class Oc extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.array)return De(n,{code:Ce.invalid_type,expected:ze.array,received:n.parsedType}),pt;if(n.data.length<this._def.items.length)return De(n,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pt;!this._def.rest&&n.data.length>this._def.items.length&&(De(n,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new hl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ws.mergeArray(r,o)):Ws.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Oc({...this._def,rest:t})}}Oc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oc({items:e,typeName:xt.ZodTuple,rest:null,...Et(t)})};class xT extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.map)return De(n,{code:Ce.invalid_type,expected:ze.map,received:n.parsedType}),pt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new hl(n,l,n.path,[u,"key"])),value:i._parse(new hl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}xT.create=(e,t,r)=>new xT({valueType:t,keyType:e,typeName:xt.ZodMap,...Et(r)});class Jm extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ze.set)return De(n,{code:Ce.invalid_type,expected:ze.set,received:n.parsedType}),pt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(De(n,{code:Ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(De(n,{code:Ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return pt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new hl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Jm({...this._def,minSize:{value:t,message:Ge.toString(r)}})}max(t,r){return new Jm({...this._def,maxSize:{value:t,message:Ge.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Jm.create=(e,t)=>new Jm({valueType:e,minSize:null,maxSize:null,typeName:xt.ZodSet,...Et(t)});class vT extends Vt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}vT.create=(e,t)=>new vT({getter:e,typeName:xt.ZodLazy,...Et(t)});class ZN extends Vt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return De(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZN.create=(e,t)=>new ZN({value:e,typeName:xt.ZodLiteral,...Et(t)});function I8(e,t){return new Qd({values:e,typeName:xt.ZodEnum,...Et(t)})}class Qd extends Vt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return De(r,{expected:qt.joinValues(n),received:r.parsedType,code:Ce.invalid_type}),pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return De(r,{received:r.data,code:Ce.invalid_enum_value,options:n}),pt}return ya(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Qd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Qd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Qd.create=I8;class yT extends Vt{_parse(t){const r=qt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ze.string&&n.parsedType!==ze.number){const a=qt.objectValues(r);return De(n,{expected:qt.joinValues(a),received:n.parsedType,code:Ce.invalid_type}),pt}if(this._cache||(this._cache=new Set(qt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=qt.objectValues(r);return De(n,{received:n.data,code:Ce.invalid_enum_value,options:a}),pt}return ya(t.data)}get enum(){return this._def.values}}yT.create=(e,t)=>new yT({values:e,typeName:xt.ZodNativeEnum,...Et(t)});class Qv extends Vt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ze.promise&&r.common.async===!1)return De(r,{code:Ce.invalid_type,expected:ze.promise,received:r.parsedType}),pt;const n=r.parsedType===ze.promise?r.data:Promise.resolve(r.data);return ya(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Qv.create=(e,t)=>new Qv({type:e,typeName:xt.ZodPromise,...Et(t)});class Yd extends Vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{De(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return pt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?pt:c.status==="dirty"||r.value==="dirty"?Uh(c.value):c});{if(r.value==="aborted")return pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?pt:l.status==="dirty"||r.value==="dirty"?Uh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Hd(o))return pt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Hd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):pt);qt.assertNever(a)}}Yd.create=(e,t,r)=>new Yd({schema:e,typeName:xt.ZodEffects,effect:t,...Et(r)});Yd.createWithPreprocess=(e,t,r)=>new Yd({schema:t,effect:{type:"preprocess",transform:e},typeName:xt.ZodEffects,...Et(r)});class rl extends Vt{_parse(t){return this._getType(t)===ze.undefined?ya(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rl.create=(e,t)=>new rl({innerType:e,typeName:xt.ZodOptional,...Et(t)});class Xd extends Vt{_parse(t){return this._getType(t)===ze.null?ya(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xd.create=(e,t)=>new Xd({innerType:e,typeName:xt.ZodNullable,...Et(t)});class e_ extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}e_.create=(e,t)=>new e_({innerType:e,typeName:xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Et(t)});class t_ extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Wv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new no(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new no(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}t_.create=(e,t)=>new t_({innerType:e,typeName:xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Et(t)});class bT extends Vt{_parse(t){if(this._getType(t)!==ze.nan){const n=this._getOrReturnCtx(t);return De(n,{code:Ce.invalid_type,expected:ze.nan,received:n.parsedType}),pt}return{status:"valid",value:t.data}}}bT.create=e=>new bT({typeName:xt.ZodNaN,...Et(e)});class Mle extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class tC extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?pt:i.status==="dirty"?(r.dirty(),Uh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?pt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new tC({in:t,out:r,typeName:xt.ZodPipeline})}}class r_ extends Vt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Hd(a)&&(a.value=Object.freeze(a.value)),a);return Wv(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}r_.create=(e,t)=>new r_({innerType:e,typeName:xt.ZodReadonly,...Et(t)});var xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xt||(xt={}));const gt=Bi.create,R8=Ec.create;Ac.create;const rC=Kv.create;Gd.create;ml.create;hi.create;const ba=Yr.create;Hv.create;Gv.create;Oc.create;const jT=ZN.create,M8=Qd.create;Qv.create;rl.create;Xd.create;const a0={string:e=>Bi.create({...e,coerce:!0}),number:e=>Ec.create({...e,coerce:!0}),boolean:e=>Kv.create({...e,coerce:!0}),bigint:e=>Ac.create({...e,coerce:!0}),date:e=>Gd.create({...e,coerce:!0})};var $le=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dle=$le.reduce((e,t)=>{const r=Lb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Lle="Label",$8=x.forwardRef((e,t)=>s.jsx(Dle.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$8.displayName=Lle;var D8=$8;const Fle=Kp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=x.forwardRef(({className:e,...t},r)=>s.jsx(D8,{ref:r,className:je(Fle(),e),...t}));z.displayName=D8.displayName;const Ks=Voe,L8=x.createContext({}),et=({...e})=>s.jsx(L8.Provider,{value:{name:e.name},children:s.jsx(Koe,{...e})}),i0=()=>{const e=x.useContext(L8),t=x.useContext(F8),{getFieldState:r,formState:n}=s0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},F8=x.createContext({}),Qe=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return s.jsx(F8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:je("space-y-2",e),...t})})});Qe.displayName="FormItem";const Xe=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=i0();return s.jsx(z,{ref:r,className:je(n&&"text-destructive",e),htmlFor:a,...t})});Xe.displayName="FormLabel";const Je=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=i0();return s.jsx(m2,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Je.displayName="FormControl";const Ule=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=i0();return s.jsx("p",{ref:r,id:n,className:je("text-sm text-muted-foreground",e),...t})});Ule.displayName="FormDescription";const nt=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=i0(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:je("text-sm font-medium text-destructive",e),...r,children:o}):null});nt.displayName="FormMessage";const ct=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ct.displayName="Textarea";function o0(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nC="Radio",[Ble,U8]=gn(nC),[Vle,qle]=Ble(nC),B8=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=x.useState(null),p=ut(t,j=>h(j)),y=x.useRef(!1),m=f?u||!!f.closest("form"):!0;return s.jsxs(Vle,{scope:r,checked:a,disabled:o,children:[s.jsx(Re.button,{type:"button",role:"radio","aria-checked":a,"data-state":W8(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:Ne(e.onClick,j=>{a||c==null||c(),m&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})}),m&&s.jsx(z8,{control:f,bubbles:!y.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});B8.displayName=nC;var V8="RadioIndicator",q8=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=qle(V8,r);return s.jsx(rn,{present:n||i.checked,children:s.jsx(Re.span,{"data-state":W8(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});q8.displayName=V8;var zle="RadioBubbleInput",z8=x.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),l=ut(o,i),c=o0(r),u=Eb(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx(Re.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z8.displayName=zle;function W8(e){return e?"checked":"unchecked"}var Wle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],l0="RadioGroup",[Kle]=gn(l0,[$f,U8]),K8=$f(),H8=U8(),[Hle,Gle]=Kle(l0),G8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=K8(r),y=Gc(u),[m,j]=ss({prop:i,defaultProp:a??null,onChange:f,caller:l0});return s.jsx(Hle,{scope:r,name:n,required:o,disabled:l,value:m,onValueChange:j,children:s.jsx(j2,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:s.jsx(Re.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...h,ref:t})})})});G8.displayName=l0;var Q8="RadioGroupItem",Y8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=Gle(Q8,r),o=i.disabled||n,l=K8(r),c=H8(r),u=x.useRef(null),d=ut(t,u),f=i.value===a.value,h=x.useRef(!1);return x.useEffect(()=>{const p=m=>{Wle.includes(m.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(w2,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(B8,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ne(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ne(a.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});Y8.displayName=Q8;var Qle="RadioGroupIndicator",X8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=H8(r);return s.jsx(q8,{...a,...n,ref:t})});X8.displayName=Qle;var J8=G8,Z8=Y8,Yle=X8;const eU=x.forwardRef(({className:e,...t},r)=>s.jsx(J8,{className:je("grid gap-2",e),...t,ref:r}));eU.displayName=J8.displayName;const n_=x.forwardRef(({className:e,...t},r)=>s.jsx(Z8,{ref:r,className:je("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Yle,{className:"flex items-center justify-center",children:s.jsx(m3,{className:"h-2.5 w-2.5 fill-current text-current"})})}));n_.displayName=Z8.displayName;const tU=x.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));tU.displayName="Breadcrumb";const rU=x.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:je("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));rU.displayName="BreadcrumbList";const s_=x.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:je("inline-flex items-center gap-1.5",e),...t}));s_.displayName="BreadcrumbItem";const a_=x.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?m2:"a";return s.jsx(a,{ref:n,className:je("transition-colors hover:text-foreground",t),...r})});a_.displayName="BreadcrumbLink";const nU=x.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:je("font-normal text-foreground",e),...t}));nU.displayName="BreadcrumbPage";const sU=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:je("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(pa,{})});sU.displayName="BreadcrumbSeparator";const Xle={"":"Home",facilities:"Facilities",events:"Events",roadmap:"Roadmap",gallery:"Gallery",booking:"Book a Facility",leaderboard:"Leaderboard",rules:"Rules & Safety",careers:"Careers",contact:"Contact Us",vision:"Our Vision",privacy:"Privacy Policy",terms:"Terms & Conditions",profile:"My Profile"};function Ga({items:e,currentPage:t}){const[r]=Mn(),a=(()=>{if(e)return e;const i=r.split("/").filter(Boolean),o=[];let l="";for(let c=0;c<i.length;c++){const u=i[c];l+=`/${u}`;const d=c===i.length-1,f=Xle[u]||u.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");o.push({label:d&&t?t:f,href:d?void 0:l})}return o})();return a.length===0?null:s.jsx(tU,{className:"mb-4","data-testid":"breadcrumb-nav",children:s.jsxs(rU,{children:[s.jsx(s_,{children:s.jsx(a_,{asChild:!0,children:s.jsxs(ge,{href:"/",className:"flex items-center gap-1.5",children:[s.jsx(Yk,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"sr-only sm:not-sr-only",children:"Home"})]})})}),a.map((i,o)=>s.jsxs("span",{className:"contents",children:[s.jsx(sU,{}),s.jsx(s_,{children:i.href?s.jsx(a_,{asChild:!0,children:s.jsx(ge,{href:i.href,children:i.label})}):s.jsx(nU,{children:i.label})})]},o))]})})}function qn({title:e,subtitle:t,testId:r,subtitleTestId:n}){return s.jsxs("div",{className:"relative overflow-hidden py-8 md:py-12",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-[0.15] dark:opacity-[0.25]",style:{backgroundImage:`url(${Av})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/90 via-primary/95 to-primary dark:from-slate-900/90 dark:via-slate-900/95 dark:to-slate-900"}),s.jsxs("div",{className:"qd-container relative z-10 text-center text-primary-foreground",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2","data-testid":r||"text-page-title",children:e}),t&&s.jsx("p",{className:"text-sm opacity-80 max-w-2xl mx-auto","data-testid":n,children:t})]})]})}const Jle=ba({fullName:gt().min(2,"Name must be at least 2 characters"),email:gt().email("Please enter a valid email"),phone:gt().optional(),guestCount:R8().min(0).max(10).default(0),notes:gt().optional(),paymentMethod:M8(["bank_transfer","cash"]).optional()});function Zle(){var W;qr({title:"Events & Tournaments",description:"Discover upcoming events, tournaments, and classes at The Quarterdeck. Register for sports competitions, training clinics, and social events in Islamabad."});const{user:e}=bl(),{toast:t}=mt(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState(0),[y,m]=x.useState(null),[j,b]=x.useState(!1),v=x.useRef(null),g=x.useRef(!0);x.useEffect(()=>(g.current=!0,()=>{g.current=!1}),[]);const{getValue:w}=Vr(["page_events_title","page_events_subtitle","page_events_upcoming_title","page_events_no_events","page_events_register_cta"],Ae),N=qs({resolver:zs(Jle),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:"",paymentMethod:"bank_transfer"}}),{data:_=[],isLoading:S}=de({queryKey:["/api/events"]}),{data:C=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!e}),P=be({mutationFn:async E=>{const D=await ye("POST",`/api/events/${E.eventId}/register`,E),G=await D.json().catch(()=>({}));if(!D.ok)throw new Error(G.message||"Failed to register for event");return G},onSuccess:(E,D)=>{if(!g.current)return;re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]});const G=r&&(r.price||0)>0,J=D.paymentMethod==="bank_transfer";G&&J&&(E!=null&&E.id)?(f(E.id),p((r==null?void 0:r.price)||0),m(null),u(!0),t({title:"Registration Submitted!",description:"Please upload your payment receipt to complete the registration."})):G&&D.paymentMethod==="cash"?t({title:"Registration Submitted!",description:"Please pay at the facility. Your registration will be confirmed upon payment verification."}):t({title:"Registration Successful",description:"You have been registered for this event."}),i(!1),n(null),N.reset()},onError:E=>{t({title:"Registration Failed",description:E.message||"Unable to register for this event.",variant:"destructive"})}}),k=be({mutationFn:async E=>await ye("DELETE",`/api/events/${E}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),t({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:E=>{t({title:"Cancellation Failed",description:E.message||"Unable to cancel registration.",variant:"destructive"})}}),A=E=>C.some(D=>D.eventId===E),O=E=>E?new Date(E).toLocaleDateString("en-PK",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"TBD",R={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300"},M=E=>{if(n(E),!e){l(!0);return}N.setValue("fullName",e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName||""),N.setValue("email",e.email||""),i(!0)},L=E=>{r&&P.mutate({...E,eventId:r.id})},T=E=>{k.mutate(E)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:w("page_events_title"),subtitle:w("page_events_subtitle"),testId:"text-events-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),S?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(E=>s.jsx(Le,{className:"h-64 rounded-xl"},E))}):_.length>0?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(E=>{var I;const D=A(E.id),G=(E.enrolledCount||0)>=(E.capacity||0),J=P.isPending||k.isPending;return s.jsxs(se,{className:"overflow-hidden hover-elevate","data-testid":`card-event-${E.id}`,children:[s.jsx(ge,{href:`/events/${E.slug||E.id}`,children:s.jsx("div",{className:"h-40 bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center cursor-pointer",children:s.jsx(ms,{className:"w-16 h-16 text-amber-400/50"})})}),s.jsx(Be,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(ge,{href:`/events/${E.slug||E.id}`,children:s.jsx(We,{className:"text-lg cursor-pointer hover:text-primary transition-colors",children:E.title})}),s.jsx(ue,{className:R[E.type]||R.SOCIAL,children:E.type})]})}),s.jsxs(ae,{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:E.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(xr,{className:"w-4 h-4"}),s.jsxs("span",{children:[E.scheduleDay," ",E.scheduleTime||""]})]}),E.instructor&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Instructor: ",E.instructor]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsxs("span",{children:[E.enrolledCount||0," / ",E.capacity," enrolled"]})]}),E.enrollmentDeadline&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Register by ",O(E.enrollmentDeadline)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t gap-2",children:[s.jsxs("div",{className:"font-semibold text-sky-600",children:["PKR ",((I=E.price)==null?void 0:I.toLocaleString())||"Free"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{href:`/events/${E.slug||E.id}`,children:s.jsx($,{size:"sm",variant:"ghost","data-testid":`button-view-event-${E.id}`,children:"View"})}),D?s.jsx($,{size:"sm",variant:"outline",onClick:Y=>{Y.stopPropagation(),T(E.id)},disabled:J,"data-testid":`button-cancel-event-${E.id}`,children:J?s.jsx(Ie,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"w-4 h-4 mr-1"}),"Registered"]})}):s.jsx($,{size:"sm",onClick:Y=>{Y.stopPropagation(),M(E)},disabled:G,"data-testid":`button-register-event-${E.id}`,children:G?"Full":"Register"})]})]})]})]},E.id)})}):s.jsx(se,{children:s.jsxs(ae,{className:"py-16 text-center",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Events"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Check back soon for tournaments, leagues, and training programs."}),s.jsx(ge,{href:"/",children:s.jsx($,{variant:"outline","data-testid":"button-back-to-home",children:"Back to Home"})})]})})]})]}),s.jsx(or,{}),s.jsx(yt,{open:a,onOpenChange:i,children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsxs(bt,{children:[s.jsx(jt,{"data-testid":"text-registration-title",children:"Event Registration"}),s.jsxs(_n,{children:[(r==null?void 0:r.title)&&s.jsx("span",{className:"font-medium text-foreground",children:r.title}),r!=null&&r.price?` - PKR ${r.price.toLocaleString()}`:" - Free"]})]}),s.jsx(Ks,{...N,children:s.jsxs("form",{onSubmit:N.handleSubmit(L),className:"space-y-4",children:[s.jsx(et,{control:N.control,name:"fullName",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"Enter your full name",...E,"data-testid":"input-reg-fullname"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:N.control,name:"email",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email *"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"your@email.com",...E,"data-testid":"input-reg-email"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:N.control,name:"phone",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"+92 300 1234567",...E,"data-testid":"input-reg-phone"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:N.control,name:"guestCount",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Number of Guests"}),s.jsx(Je,{children:s.jsx(X,{type:"number",min:0,max:10,placeholder:"0",...E,onChange:D=>E.onChange(parseInt(D.target.value)||0),"data-testid":"input-reg-guests"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:N.control,name:"notes",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Additional Notes"}),s.jsx(Je,{children:s.jsx(ct,{placeholder:"Any special requirements or notes...",className:"resize-none",...E,"data-testid":"textarea-reg-notes"})}),s.jsx(nt,{})]})}),r&&(r.price||0)>0&&s.jsx(et,{control:N.control,name:"paymentMethod",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Payment Method *"}),s.jsx(Je,{children:s.jsxs(eU,{value:E.value||"bank_transfer",onValueChange:E.onChange,className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-md hover-elevate",children:[s.jsx(n_,{value:"bank_transfer",id:"evt-bank","data-testid":"radio-event-bank-transfer"}),s.jsxs(z,{htmlFor:"evt-bank",className:"flex items-center gap-2 cursor-pointer flex-1",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Bank Transfer"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Transfer to our bank account"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-md hover-elevate",children:[s.jsx(n_,{value:"cash",id:"evt-cash","data-testid":"radio-event-cash"}),s.jsxs(z,{htmlFor:"evt-cash",className:"flex items-center gap-2 cursor-pointer flex-1",children:[s.jsx(aQ,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Cash Payment"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Pay at the facility"})]})]})]})]})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-registration",children:"Cancel"}),s.jsx($,{type:"submit",disabled:P.isPending,"data-testid":"button-submit-registration",children:P.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]})})]})}),s.jsx(yt,{open:o,onOpenChange:l,children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2","data-testid":"text-login-prompt-title",children:[s.jsx(wN,{className:"w-5 h-5"}),"Sign In Required"]}),s.jsx(_n,{children:"Please sign in to register for this event."})]}),s.jsxs("div",{className:"py-4",children:[r&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-semibold",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.scheduleDay," ",r.scheduleTime||""]}),s.jsxs("p",{className:"text-sm font-medium text-sky-600 mt-2",children:["PKR ",((W=r.price)==null?void 0:W.toLocaleString())||"Free"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create an account or sign in to complete your registration. Your membership will be set up automatically."})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ge,{href:"/login",className:"w-full",children:s.jsxs($,{className:"w-full","data-testid":"button-login-to-register",children:[s.jsx(wN,{className:"w-4 h-4 mr-2"}),"Sign In"]})}),s.jsx($,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-login-prompt",children:"Maybe Later"})]})]})}),s.jsx(yt,{open:c,onOpenChange:E=>{!E&&!j&&(u(!1),f(null),m(null))},children:s.jsxs(vt,{className:"sm:max-w-md",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2","data-testid":"text-proof-upload-title",children:[s.jsx(lr,{className:"w-5 h-5"}),"Upload Payment Receipt"]}),s.jsx(_n,{children:"Please upload a screenshot or photo of your bank transfer receipt."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-sky-50 dark:bg-sky-900/20 rounded-lg border border-sky-200 dark:border-sky-800",children:[s.jsx("p",{className:"text-sm font-medium text-sky-800 dark:text-sky-200",children:"Amount to Transfer"}),s.jsxs("p",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:["PKR ",h.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Bank details will be provided in your confirmation email"})]}),s.jsx("input",{ref:v,type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:E=>{var G;const D=(G=E.target.files)==null?void 0:G[0];if(D){if(D.size>5*1024*1024){t({title:"File too large",description:"Please upload a file smaller than 5MB",variant:"destructive"});return}m(D)}},className:"hidden","data-testid":"input-event-proof-file"}),y?s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[s.jsx(ts,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:y.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(y.size/1024).toFixed(1)," KB"]})]}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(null),"data-testid":"button-remove-event-proof",children:s.jsx(xi,{className:"w-4 h-4"})})]}):s.jsxs($,{variant:"outline",className:"w-full",onClick:()=>{var E;return(E=v.current)==null?void 0:E.click()},"data-testid":"button-select-event-proof",children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Select File"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Accepted formats: JPG, PNG, PDF (max 5MB)"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx($,{variant:"outline",onClick:()=>{u(!1),f(null),m(null),t({title:"Reminder",description:"You can upload your payment receipt later from My Profile."})},disabled:j,"data-testid":"button-skip-event-proof",children:"Upload Later"}),s.jsx($,{onClick:async()=>{if(!(!y||!d||j)){b(!0);try{const E=new FormData;E.append("proof",y);const D=await fetch(`/api/event-registrations/${d}/upload-proof`,{method:"POST",body:E,credentials:"include"});if(!D.ok){const G=await D.json().catch(()=>({}));throw new Error(G.message||"Failed to upload proof")}g.current&&(t({title:"Receipt Uploaded!",description:"Your payment proof has been submitted for verification."}),u(!1),f(null),m(null),re.invalidateQueries({queryKey:["/api/user/event-registrations"]}))}catch(E){g.current&&t({title:"Upload Failed",description:E.message||"Failed to upload payment proof",variant:"destructive"})}finally{g.current&&b(!1)}}},disabled:!y||j,"data-testid":"button-submit-event-proof",children:j?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Submit Receipt"})]})]})})]})}const ece=Kp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Tc=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:je(ece({variant:t}),e),...r}));Tc.displayName="Alert";const tce=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",e),...t}));tce.displayName="AlertTitle";const Ic=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",e),...t}));Ic.displayName="AlertDescription";const rce=ba({fullName:gt().min(2,"Name must be at least 2 characters"),email:gt().email("Please enter a valid email"),phone:gt().optional(),guestCount:R8().min(0).max(10).default(0),notes:gt().optional(),paymentMethod:M8(["bank_transfer","cash"]).optional()}),wT={TOURNAMENT:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300",CLASS:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",ACADEMY:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",SOCIAL:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",WORKSHOP:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"},nce={TOURNAMENT:"Tournament",CLASS:"Class",ACADEMY:"Academy",SOCIAL:"Social Event",WORKSHOP:"Workshop"};function sce(){const{slug:e}=pb(),{user:t}=bl(),{toast:r}=mt(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,y]=x.useState("bank_transfer"),m=x.useRef(null),{data:j}=de({queryKey:["/api/site-settings"],select:E=>E.filter(D=>["bank_name","bank_account_title","bank_account_number","bank_iban","bank_branch_code","bank_swift_code"].includes(D.key))}),b=E=>{const D=j==null?void 0:j.find(G=>G.key===E);return(D==null?void 0:D.value)||""},v=qs({resolver:zs(rce),defaultValues:{fullName:"",email:"",phone:"",guestCount:0,notes:""}}),{data:g,isLoading:w}=de({queryKey:["/api/events",e],queryFn:async()=>{const E=await fetch(`/api/events/${e}`);if(!E.ok)throw new Error("Event not found");return E.json()},enabled:!!e});qr({title:(g==null?void 0:g.title)||"Event Details",description:(g==null?void 0:g.description)||"View event details and register for events at The Quarterdeck sports complex.",ogImage:(g==null?void 0:g.imageUrl)||void 0});const{data:N=[]}=de({queryKey:["/api/user/event-registrations"],enabled:!!t});x.useEffect(()=>{t&&(v.setValue("fullName",`${t.firstName||""} ${t.lastName||""}`.trim()),v.setValue("email",t.email||""))},[t,v]);const _=be({mutationFn:async E=>await(await ye("POST",`/api/events/${E.eventId}/register`,E)).json(),onSuccess:E=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),a(!1),v.reset(),E.isPaidEvent?(d({id:E.id,isPaid:!0}),p==="bank_transfer"?(c(!0),r({title:"Registration Initiated",description:"Please upload your payment proof to confirm your spot."})):r({title:"Registration Successful",description:"Your registration is pending. Please pay at the venue to confirm your spot."})):r({title:"Registration Successful",description:"You have been registered for this event."})},onError:E=>{r({title:"Registration Failed",description:E.message||"Unable to register for this event.",variant:"destructive"})}}),S=async E=>{if(u){h(!0);try{const D=new FormData;D.append("proof",E);const G=await fetch(`/api/event-registrations/${u.id}/upload-proof`,{method:"POST",body:D,credentials:"include"});if(!G.ok){const J=await G.json();throw new Error(J.message||"Upload failed")}r({title:"Proof Uploaded",description:"Your payment proof has been submitted for verification."}),c(!1),d(null),re.invalidateQueries({queryKey:["/api/user/event-registrations"]})}catch(D){r({title:"Upload Failed",description:D.message||"Failed to upload payment proof.",variant:"destructive"})}finally{h(!1)}}},C=(E,D)=>{navigator.clipboard.writeText(E),r({title:"Copied",description:`${D} copied to clipboard`})},P=be({mutationFn:async E=>await ye("DELETE",`/api/events/${E}/register`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/user/event-registrations"]}),re.invalidateQueries({queryKey:["/api/events"]}),r({title:"Registration Cancelled",description:"Your registration has been cancelled."})},onError:E=>{r({title:"Cancellation Failed",description:E.message||"Unable to cancel registration.",variant:"destructive"})}}),k=g?N.some(E=>E.eventId===g.id):!1,A=E=>E?new Date(E).toLocaleDateString("en-PK",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"TBD",O=E=>E||"TBD",R=()=>{if(!t){o(!0);return}a(!0)},M=E=>{if(!g)return;const D=p==="bank_transfer"?"BANK_TRANSFER":"CASH",G={...E,eventId:g.id,paymentMethod:g.price&&g.price>0?D:void 0};_.mutate(G)},L=()=>{navigator.share&&g?navigator.share({title:g.title,text:g.description||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Event link copied to clipboard"}))};if(w)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1 qd-container py-8",children:[s.jsx(Le,{className:"h-[300px] w-full rounded-xl mb-8"}),s.jsx(Le,{className:"h-8 w-1/2 mb-4"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-3/4"})]}),s.jsx(or,{})]});if(!g)return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1 qd-container py-16 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or has been removed."}),s.jsx(ge,{href:"/events",children:s.jsxs($,{"data-testid":"button-back-events",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Back to Events"]})})]}),s.jsx(or,{})]});const T=(g.capacity||0)-(g.enrolledCount||0),W=T<=0;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:g.title,subtitle:g.description||"Join us for this exciting event at The Quarterdeck",testId:"text-event-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{items:[{label:"Events",href:"/events"},{label:g.title}]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mt-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.imageUrl&&s.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-video",children:[s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover","data-testid":"img-event-banner"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(ue,{className:wT[g.type]||wT.SOCIAL,children:nce[g.type]||g.type})})]}),s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Nb,{className:"w-5 h-5"}),"About This Event"]})}),s.jsxs(ae,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:g.description||"Join us for an exciting event at The Quarterdeck Sports Complex. Whether you're a beginner or experienced player, this event offers something for everyone."}),g.instructor&&s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(gs,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor / Host"}),s.jsx("p",{className:"font-medium",children:g.instructor})]})]})]})]}),s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(gv,{className:"w-5 h-5"}),"Schedule & Details"]})}),s.jsx(ae,{children:s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(xr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:A(g.scheduleDatetime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Bt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-medium",children:O(g.scheduleTime)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Nr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),s.jsxs("p",{className:"font-medium",children:[g.capacity||"Unlimited"," participants"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(js,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:"The Quarterdeck, Islamabad"})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(se,{className:"sticky top-24",children:s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:g.price===0?"Free":`PKR ${(g.price||0).toLocaleString()}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per person"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Spots Available"}),s.jsx("span",{className:`font-medium ${W?"text-destructive":T<=5?"text-amber-600":""}`,children:W?"Full":`${T} left`})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Enrolled"}),s.jsxs("span",{className:"font-medium",children:[g.enrolledCount||0," / ",g.capacity||""]})]}),g.enrollmentDeadline&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Deadline"}),s.jsx("span",{className:"font-medium",children:A(g.enrollmentDeadline)})]})]}),k?s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ue,{className:"w-full justify-center py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),"You're Registered"]}),s.jsxs($,{variant:"outline",className:"w-full",onClick:()=>P.mutate(g.id),disabled:P.isPending,"data-testid":"button-cancel-registration",children:[P.isPending?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Cancel Registration"]})]}):s.jsx($,{className:"w-full",onClick:R,disabled:W,"data-testid":"button-register-event",children:W?"Event Full":"Register Now"}),s.jsxs($,{variant:"ghost",className:"w-full mt-3",onClick:L,"data-testid":"button-share-event",children:[s.jsx(IQ,{className:"w-4 h-4 mr-2"}),"Share Event"]})]})}),s.jsx(ge,{href:"/events",children:s.jsxs($,{variant:"outline",className:"w-full","data-testid":"button-back-events",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Back to All Events"]})})]})]})]})]}),s.jsx(yt,{open:i,onOpenChange:o,children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2",children:[s.jsx(wN,{className:"w-5 h-5"}),"Login Required"]}),s.jsx(_n,{children:"Please log in to register for this event."})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(ge,{href:"/login",className:"flex-1",children:s.jsx($,{className:"w-full","data-testid":"button-login-prompt",children:"Log In"})}),s.jsx(ge,{href:"/signup",className:"flex-1",children:s.jsx($,{variant:"outline",className:"w-full","data-testid":"button-signup-prompt",children:"Sign Up"})})]})]})}),s.jsx(yt,{open:n,onOpenChange:a,children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[s.jsxs(jt,{children:["Register for ",g.title]}),s.jsx(_n,{children:"Complete the form below to register for this event."})]}),s.jsx(Ks,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(M),className:"space-y-4",children:[s.jsx(et,{control:v.control,name:"fullName",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(X,{...E,"data-testid":"input-reg-name"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:v.control,name:"email",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email *"}),s.jsx(Je,{children:s.jsx(X,{type:"email",...E,"data-testid":"input-reg-email"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:v.control,name:"phone",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone (Optional)"}),s.jsx(Je,{children:s.jsx(X,{...E,"data-testid":"input-reg-phone"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:v.control,name:"notes",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Notes (Optional)"}),s.jsx(Je,{children:s.jsx(ct,{...E,"data-testid":"input-reg-notes"})}),s.jsx(nt,{})]})}),g.price&&g.price>0&&s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsxs(Tc,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:[s.jsx(vv,{className:"h-4 w-4 text-amber-600"}),s.jsx(Ic,{className:"text-amber-800 dark:text-amber-300",children:s.jsxs("span",{className:"font-semibold",children:["Registration Fee: PKR ",g.price.toLocaleString()]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Payment Method *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>y("cash"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition border ${p==="cash"?"bg-green-500 text-white border-green-500":"bg-muted text-foreground border-border hover:bg-muted/80"}`,"data-testid":"button-payment-cash-reg",children:"Pay On-Site (Cash)"}),s.jsx("button",{type:"button",onClick:()=>y("bank_transfer"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition border ${p==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-muted text-foreground border-border hover:bg-muted/80"}`,"data-testid":"button-payment-bank-reg",children:"Bank Transfer"})]})]}),p==="cash"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pay in cash when you arrive at the event. Your registration is pending until payment."}),p==="bank_transfer"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"After registration, you'll see bank details and can upload your payment proof."})]}),s.jsx($,{type:"submit",className:"w-full",disabled:_.isPending,"data-testid":"button-submit-registration",children:_.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Registering..."]}):g.price&&g.price>0?"Register & Proceed to Payment":"Complete Registration"})]})})]})}),s.jsx(yt,{open:l,onOpenChange:c,children:s.jsxs(vt,{className:"max-w-md",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-5 h-5"}),"Complete Payment"]}),s.jsx(_n,{children:"Choose your payment method and complete the registration fee."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Tc,{children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsxs(Ic,{children:[s.jsxs("span",{className:"font-semibold",children:["Amount: PKR ",((g==null?void 0:g.price)||0).toLocaleString()]}),s.jsx("br",{}),"Your spot will be confirmed once payment is verified."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>y("cash"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition border ${p==="cash"?"bg-green-500 text-white border-green-500":"bg-muted text-foreground border-border hover:bg-muted/80"}`,"data-testid":"button-payment-cash",children:"Pay On-Site (Cash)"}),s.jsx("button",{type:"button",onClick:()=>y("bank_transfer"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition border ${p==="bank_transfer"?"bg-purple-600 text-white border-purple-600":"bg-muted text-foreground border-border hover:bg-muted/80"}`,"data-testid":"button-payment-bank",children:"Bank Transfer"})]})]}),p==="cash"&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-800 dark:text-green-300 mb-2",children:"Pay On-Site Instructions"}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"You can pay in cash when you arrive at the event. Please arrive early to complete payment and registration."}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-500 mt-2",children:"Your registration is pending until payment is received."})]}),p==="bank_transfer"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-purple-800 dark:text-purple-300",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Bank Details"]}),b("bank_name")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"Bank"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-purple-800 dark:text-purple-300",children:b("bank_name")}),s.jsx($,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>C(b("bank_name"),"Bank name"),children:s.jsx(Wg,{className:"h-3 w-3"})})]})]}),b("bank_account_title")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"Account Title"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-purple-800 dark:text-purple-300",children:b("bank_account_title")}),s.jsx($,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>C(b("bank_account_title"),"Account title"),children:s.jsx(Wg,{className:"h-3 w-3"})})]})]}),b("bank_account_number")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"Account No."}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium font-mono text-purple-800 dark:text-purple-300",children:b("bank_account_number")}),s.jsx($,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>C(b("bank_account_number"),"Account number"),children:s.jsx(Wg,{className:"h-3 w-3"})})]})]}),b("bank_iban")&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"IBAN"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium font-mono text-xs text-purple-800 dark:text-purple-300",children:b("bank_iban")}),s.jsx($,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>C(b("bank_iban"),"IBAN"),children:s.jsx(Wg,{className:"h-3 w-3"})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Upload Payment Proof"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a screenshot or photo of your transfer receipt."}),s.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/png,image/webp,application/pdf",className:"hidden",onChange:E=>{var G;const D=(G=E.target.files)==null?void 0:G[0];D&&S(D)},"data-testid":"input-payment-proof"}),s.jsx($,{variant:"outline",className:"w-full",onClick:()=>{var E;return(E=m.current)==null?void 0:E.click()},disabled:f,"data-testid":"button-upload-proof",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-4 h-4 mr-2"})," Select File"]})})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx($,{variant:"ghost",className:"flex-1",onClick:()=>{c(!1),d(null)},"data-testid":"button-close-payment",children:"Close"}),p==="cash"&&s.jsx($,{className:"flex-1 bg-green-500 hover:bg-green-600",onClick:()=>{r({title:"Registration Complete!",description:"Please pay in cash when you arrive at the event."}),c(!1),d(null)},"data-testid":"button-confirm-cash",children:"Confirm Registration"})]})]})]})}),s.jsx(or,{})]})}const ace=[{id:"all",name:"All Sports",icon:ms},{id:"padel-tennis",name:"Padel",icon:ca},{id:"squash",name:"Squash",icon:ca},{id:"air-rifle-range",name:"Air Rifle",icon:ca}];function ice(){qr({title:"Leaderboard",description:"View The Quarterdeck's sports leaderboard rankings. Track top players and compete in Padel Tennis, Squash, and Air Rifle competitions."});const[e,t]=x.useState("all"),{getValue:r}=Vr(["page_leaderboard_title","page_leaderboard_subtitle","page_leaderboard_coming_soon"],Ae),{data:n=[],isLoading:a}=de({queryKey:["/api/leaderboard",e!=="all"?`?facilitySlug=${e}`:""],queryFn:async()=>{const l=e!=="all"?`/api/leaderboard?facilitySlug=${e}`:"/api/leaderboard",c=await fetch(l);if(!c.ok)throw new Error("Failed to fetch leaderboard");return c.json()}}),i=l=>{switch(l){case 1:return"bg-gradient-to-r from-amber-400 to-yellow-500 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800";case 3:return"bg-gradient-to-r from-amber-600 to-amber-700 text-white";default:return"bg-gray-100 dark:bg-slate-700 text-foreground"}},o=l=>l<=3?s.jsx(yQ,{className:`w-5 h-5 ${l===1?"text-amber-400":l===2?"text-gray-400":"text-amber-600"}`}):s.jsx("span",{className:"text-sm font-bold",children:l});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:r("page_leaderboard_title"),subtitle:r("page_leaderboard_subtitle"),testId:"text-leaderboard-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:ace.map(l=>s.jsxs($,{variant:e===l.id?"default":"outline",size:"sm",onClick:()=>t(l.id),className:"gap-2","data-testid":`button-filter-${l.id}`,children:[s.jsx(l.icon,{className:"w-4 h-4"}),l.name]},l.id))}),a?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(l=>s.jsx(Le,{className:"h-20 rounded-xl"},l))}):n.length>0?s.jsx("div",{className:"space-y-3",children:n.map((l,c)=>{var u,d;return s.jsx(se,{className:`overflow-visible ${c<3?"border-2":""} ${c===0?"border-amber-400":c===1?"border-gray-400":c===2?"border-amber-600":""}`,"data-testid":`leaderboard-entry-${l.id}`,children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i(c+1)}`,children:o(c+1)}),s.jsxs(zd,{className:"w-12 h-12",children:[s.jsx(Wd,{src:l.profileImageUrl||""}),s.jsx(Kd,{children:((u=l.playerName)==null?void 0:u.split(" ").map(f=>f[0]).join(""))||"P"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:l.playerName||"Anonymous Player"}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{children:[l.wins,"W - ",l.losses,"L"]}),l.winRate&&s.jsxs(ue,{variant:"secondary",className:"text-xs",children:[(l.winRate*100).toFixed(0),"% WR"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-sky-600",children:((d=l.rankingPoints)==null?void 0:d.toLocaleString())||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"points"})]})]})})},l.id)})}):s.jsx(se,{children:s.jsxs(ae,{className:"py-16 text-center",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Rankings Yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Play matches to appear on the leaderboard!"}),s.jsx(ge,{href:"/booking",children:s.jsx($,{"data-testid":"button-book-now",children:"Book a Court"})})]})})]})]}),s.jsx(or,{})]})}const NT=[{id:"all",label:"All Photos"},{id:"Renders",label:"Architectural Renders"},{id:"Construction",label:"Construction Progress"},{id:"Facilities",label:"Facilities"}];function oce(){qr({title:"Gallery",description:"View The Quarterdeck's photo gallery featuring architectural renders, construction progress, and facility images of Islamabad's premier sports complex."});const e=N5(),t=new URLSearchParams(e).get("category"),[r,n]=x.useState(t||"all"),[a,i]=x.useState(null),{getValue:o}=Vr(["page_gallery_title","page_gallery_subtitle"],Ae),{data:l,isLoading:c,error:u}=de({queryKey:["/api/gallery"]}),d=x.useMemo(()=>{if(!l)return[];const h=l.filter(p=>p.isActive!==!1);return r==="all"?h:h.filter(p=>{var y;return((y=p.category)==null?void 0:y.toLowerCase())===r.toLowerCase()})},[r,l]),f=x.useMemo(()=>{if(!l)return NT;const h=new Set(l.filter(p=>p.isActive!==!1).map(p=>{var y;return(y=p.category)==null?void 0:y.toLowerCase()}).filter(Boolean));return NT.filter(p=>p.id==="all"||h.has(p.id.toLowerCase()))},[l]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:o("page_gallery_title"),subtitle:o("page_gallery_subtitle"),testId:"text-gallery-page-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),c?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(h=>s.jsx(Le,{className:"aspect-[4/3] rounded-xl"},h))}):u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Unable to load gallery images."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8","data-testid":"gallery-filters",children:[s.jsx(g3,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),f.map(h=>s.jsx($,{variant:r===h.id?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>n(h.id),"data-testid":`filter-${h.id}`,children:h.label},h.id))]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>s.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>i(h),"data-testid":`gallery-image-${h.id}`,children:[s.jsx("img",{src:h.imageUrl,alt:h.title||"Gallery image",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:h.title||"Untitled"}),h.category&&s.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded-full bg-primary/80 text-white uppercase tracking-wide",children:h.category})]})]},h.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bA,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No images found in this category."})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>i(null),"data-testid":"gallery-lightbox",children:s.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh]",children:[s.jsx("img",{src:a.imageUrl,alt:a.title||"Gallery image",className:"w-full h-full object-contain rounded-lg"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[s.jsx("h3",{className:"text-white text-xl font-semibold",children:a.title||"Untitled"}),a.description&&s.jsx("p",{className:"text-white/80 mt-2",children:a.description})]}),s.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-white/80 text-3xl font-light",onClick:h=>{h.stopPropagation(),i(null)},"data-testid":"close-lightbox",children:"x"})]})}),s.jsx(or,{})]})}function lce(){qr({title:"Our Vision",description:"Learn about The Quarterdeck's mission, values, and vision for creating a world-class sports and recreation community in Islamabad, Pakistan."});const{getValue:e}=Vr(["page_vision_title","page_vision_subtitle"],Ae);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:e("page_vision_title"),subtitle:e("page_vision_subtitle"),testId:"text-vision-title",subtitleTestId:"text-vision-subtitle"}),s.jsx("div",{className:"qd-container py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-mission-title",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"The Quarterdeck aims to create a world-class sports and recreation complex that brings together Islamabad's community through premium facilities, professional coaching, and a commitment to excellence in every aspect of the member experience."}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We believe that access to quality sports facilities should be available to all who seek it, and we're building a space where professionals, families, and enthusiasts can pursue their passion for sports in a safe, welcoming environment."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-8","data-testid":"text-values-title",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(se,{"data-testid":"card-value-excellence",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ms,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Excellence"}),s.jsx("p",{className:"text-muted-foreground",children:"We strive for excellence in our facilities, services, and member experiences."})]})]})})}),s.jsx(se,{"data-testid":"card-value-community",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Nr,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Community"}),s.jsx("p",{className:"text-muted-foreground",children:"Building connections through sports and shared experiences."})]})]})})}),s.jsx(se,{"data-testid":"card-value-integrity",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(gi,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Safety & Integrity"}),s.jsx("p",{className:"text-muted-foreground",children:"Maintaining the highest standards of safety and ethical conduct."})]})]})})}),s.jsx(se,{"data-testid":"card-value-wellness",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center flex-shrink-0",children:s.jsx(wb,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Wellness"}),s.jsx("p",{className:"text-muted-foreground",children:"Promoting physical and mental well-being through active lifestyles."})]})]})})})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary dark:text-sky-400 mb-6","data-testid":"text-future-title",children:"Looking Ahead"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-6",children:"With our Q4 2026 launch approaching, The Quarterdeck is set to transform the sports and recreation landscape in Islamabad. Our early members will be the first to experience our world-class facilities and exclusive benefits."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(ge,{href:"/roadmap",children:s.jsxs($,{"data-testid":"button-view-roadmap",children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"})," View Our Roadmap"]})}),s.jsx(ge,{href:"/facilities",children:s.jsx($,{variant:"outline","data-testid":"button-explore-facilities",children:"Explore Facilities"})})]})]})]})})]}),s.jsx(or,{})]})}const cce="/assets/padel_tennis_court_i_a0e484ae-Dqizodew.jpg",uce="/assets/professional_squash__c4dca43a-DYvE2Lp8.jpg",dce="/assets/bridge_card_game_clu_6f83cf65-D9nP8IVw.jpg",fce="/assets/multipurpose_event_h_e7c6ac62-D3KmV09D.jpg",_T={"padel-tennis":fl,squash:ig,"air-rifle-range":Hc,"bridge-room":_b,"multipurpose-hall":Wr},ST={"padel-tennis":cce,squash:uce,"air-rifle-range":M2,"bridge-room":dce,"multipurpose-hall":fce},hce=[{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts with LED lighting and premium surfaces.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade turf, and state-of-the-art LED lighting for evening play.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0},{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards with glass back walls.",longDescription:"Our squash courts meet international competition standards with specially designed floors, glass back walls for viewing, and professional lighting systems. Perfect for casual games or serious training.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental"],requiresCertification:!1,isActive:!0},{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with 6 lanes, electronic scoring, and professional supervision.",longDescription:"Our state-of-the-art air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our safety certification course before using the range.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental"],requiresCertification:!0,isActive:!0},{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for corporate events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. Features include a professional sound system, adjustable lighting, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout"],requiresCertification:!1,isActive:!0}];function mce(){qr({title:"Our Facilities",description:"Explore world-class sports facilities at The Quarterdeck - Padel Tennis courts, Squash courts, Air Rifle Range, Bridge Room, and Multipurpose Hall in Islamabad."});const{getValue:e}=Vr(["page_facilities_title","page_facilities_subtitle","page_facilities_ready_title","page_facilities_ready_description","page_facilities_book_cta","page_facilities_contact_cta"],Ae),{data:t}=de({queryKey:["/api/facilities"]}),n=(t&&t.length>0?t.filter(a=>!a.isHidden).map(a=>({...a,courtCount:a.resourceCount||a.courtCount||1,operatingHours:a.operatingHours||"6:00 AM - 11:00 PM",maxPlayers:a.maxPlayers||a.minPlayers||4,basePrice:String(a.basePrice||0),isActive:a.status!=="CLOSED"})):hce).filter(a=>a.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:e("page_facilities_title"),subtitle:e("page_facilities_subtitle"),testId:"text-facilities-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),s.jsxs("div",{className:"max-w-5xl mx-auto mt-4",children:[s.jsx("div",{className:"grid gap-6",children:n.map(a=>s.jsx(ge,{href:`/facilities/${a.slug}`,children:s.jsx(se,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`card-facility-${a.slug}`,children:s.jsx(ae,{className:"p-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"md:w-1/3 h-48 md:h-auto relative overflow-hidden",children:a.imageUrl||ST[a.slug]?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a.imageUrl||ST[a.slug],alt:a.name,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-10 h-10 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:(()=>{const i=_T[a.slug]||fl;return s.jsx(i,{className:"w-5 h-5 text-white"})})()})]}):s.jsx("div",{className:"w-full h-full bg-primary/10 flex items-center justify-center",children:(()=>{const i=_T[a.slug]||fl;return s.jsx(i,{className:"w-12 h-12 text-primary/50"})})()})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-xl mb-1",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xa,{className:"w-4 h-4"})," ",a.courtCount," ",a.courtCount===1?"Unit":"Courts/Lanes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-4 h-4"})," ",a.minPlayers,"-",a.maxPlayers," players"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bt,{className:"w-4 h-4"})," ",a.operatingHours]})]})]}),a.requiresCertification&&s.jsx(ue,{variant:"destructive",className:"flex-shrink-0",children:"Certification Required"})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a.description}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"From "}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(a.basePrice).toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs($,{variant:"ghost",size:"sm",className:"text-primary",children:["View Details ",s.jsx(pa,{className:"w-4 h-4 ml-1"})]})]})]})]})})})},a.id))}),s.jsxs("div",{className:"mt-12 mb-16 md:mb-24 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary mb-4",children:e("page_facilities_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:e("page_facilities_ready_description")}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(ge,{href:"/booking",children:s.jsx($,{"data-testid":"button-book-now",children:e("page_facilities_book_cta")})}),s.jsx(ge,{href:"/contact",children:s.jsx($,{variant:"outline","data-testid":"button-contact-us",children:e("page_facilities_contact_cta")})})]})]})]})]})]}),s.jsx(or,{})]})}const pce="/assets/indoor_squash_court__3447d74a-DPwnnr4G.jpg",gce="/assets/air_rifle_shooting_r_931e6002-CX81Opd3.jpg",xce="/assets/elegant_card_game_ro_42b0454d-y4j-Rn8N.jpg",vce="/assets/large_event_hall_int_32ffc7ae-BCjqhoII.jpg",yce={"padel-tennis":fl,squash:ig,"air-rifle-range":Hc,"bridge-room":_b,"multipurpose-hall":Wr},bce={"padel-tennis":Lf,squash:pce,"air-rifle-range":gce,"bridge-room":xce,"multipurpose-hall":vce},jce={"padel-tennis":{id:1,name:"Padel Tennis",slug:"padel-tennis",description:"Experience the fastest-growing racquet sport on our 4 international-standard courts.",longDescription:"Padel Tennis combines elements of tennis and squash in an exciting, social game format. Our courts feature tempered glass walls, professional-grade artificial turf, and state-of-the-art LED lighting for evening play. Whether you're a beginner or seasoned player, our facilities provide the perfect environment for this dynamic sport.",courtCount:4,basePrice:"6000",peakPrice:"8000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:4,maxPlayers:4,amenities:["LED Lighting","Climate Control","Locker Rooms","Equipment Rental","Coaching Available","Video Analysis","Pro Shop"],requiresCertification:!1,isActive:!0,features:["4 International-standard courts","Tempered glass walls","Professional-grade artificial turf","LED lighting system for night play","Covered and climate-controlled"],addOns:[{id:"racket",name:"Rent Racket",price:500},{id:"balls",name:"Sleeve of Balls",price:1500},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},squash:{id:2,name:"Squash Courts",slug:"squash",description:"Two championship-grade squash courts built to World Squash Federation standards.",longDescription:"Our squash courts meet international competition standards with specially designed maple floors, glass back walls for viewing, and professional lighting systems. The courts are perfect for casual games, serious training, or competitive matches.",courtCount:2,basePrice:"4000",peakPrice:"6000",operatingHours:"6:00 AM - 11:00 PM",minPlayers:2,maxPlayers:2,amenities:["Glass Back Wall","Pro Lighting","Locker Rooms","Equipment Rental","Coaching Available"],requiresCertification:!1,isActive:!0,features:["2 Championship-grade courts","World Squash Federation compliant","Glass back walls for spectating","Professional maple flooring","Climate-controlled environment"],addOns:[{id:"sq_racket",name:"Squash Racket Rental",price:500},{id:"sq_balls",name:"Squash Balls (Tube)",price:1200},{id:"water",name:"Mineral Water",price:100},{id:"towel",name:"Fresh Towel",price:300}]},"air-rifle-range":{id:3,name:"Air Rifle Range",slug:"air-rifle-range",description:"Pakistan's premier 10-meter air rifle range with professional supervision.",longDescription:"Our state-of-the-art 10-meter air rifle range features electronic scoring systems, professional-grade targets, and comprehensive safety measures. All shooters must complete our mandatory safety certification course before using the range. Professional supervision is provided at all times.",courtCount:6,basePrice:"6000",peakPrice:"8000",operatingHours:"9:00 AM - 9:00 PM",minPlayers:1,maxPlayers:6,amenities:["Electronic Scoring","Safety Equipment","Professional Supervision","Rifle Rental","Certification Course"],requiresCertification:!0,isActive:!0,features:["6 Shooting lanes","10-meter Olympic distance","Electronic scoring system","Professional-grade air rifles","Full safety equipment provided"],addOns:[{id:"ear_protection",name:"Ear Protection",price:300},{id:"safety_glasses",name:"Safety Glasses",price:400},{id:"water",name:"Mineral Water",price:100}]},"multipurpose-hall":{id:5,name:"Multipurpose Hall",slug:"multipurpose-hall",description:"Versatile 500-capacity hall for events, fitness classes, and private functions.",longDescription:"Our multipurpose hall offers flexible space for a variety of activities from aerobics classes to corporate events and private functions. The venue features a professional sound system, adjustable lighting, projector facilities, and full catering support.",courtCount:1,basePrice:"6000",peakPrice:"150000",operatingHours:"8:00 AM - 10:00 PM",minPlayers:10,maxPlayers:500,amenities:["Sound System","Projector","Catering Available","Flexible Layout","Stage Available"],requiresCertification:!1,isActive:!0,features:["500-person capacity","Professional sound system","HD Projector and screen","Flexible seating arrangements","Full catering kitchen"],addOns:[{id:"mats",name:"Floor Mats",price:500},{id:"speaker",name:"Speaker & Mic Setup",price:1500},{id:"water",name:"Mineral Water",price:100}]}};function wce(){var c,u,d,f;const{slug:e}=pb(),{data:t}=de({queryKey:["/api/facilities",e],enabled:!!e}),{data:r=[]}=de({queryKey:["/api/pricing-tiers"]}),n=x.useMemo(()=>{const h={};return r.forEach(p=>{const m=(p.benefits||[]).find(j=>j.toLowerCase().includes("discount")&&j.toLowerCase().includes("off-peak"));if(m){const j=m.match(/(\d+)%/);j&&(h[p.tier]=j[1])}}),h},[r]),a=jce[e||""],i=t?{...a,...t,features:(c=t.features)!=null&&c.length?t.features:a==null?void 0:a.features,amenities:(u=t.amenities)!=null&&u.length?t.amenities:a==null?void 0:a.amenities,longDescription:t.aboutContent||(a==null?void 0:a.longDescription),aboutContent:t.aboutContent||(a==null?void 0:a.longDescription),operatingHours:t.operatingHours||(a==null?void 0:a.operatingHours),addOns:t.addOns||(a==null?void 0:a.addOns),courtCount:t.resourceCount||t.courtCount||(a==null?void 0:a.courtCount),pricingNotes:t.pricingNotes,certificationInfo:t.certificationInfo,galleryImages:t.galleryImages,keywords:t.keywords,quickInfo:t.quickInfo}:a;if(!i)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(se,{className:"max-w-md",children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Facility Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The facility you're looking for doesn't exist or has been removed."}),s.jsx(ge,{href:"/facilities",children:s.jsx($,{children:"View All Facilities"})})]})})});const o=yce[e||""]||fl,l=i.imageUrl||bce[e||""]||Lf;return qr({title:i.name,description:i.description||`Book ${i.name} at The Quarterdeck sports complex in Islamabad.`,ogImage:l}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"relative h-[50vh] min-h-[400px] bg-primary overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70"}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white px-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur flex items-center justify-center mb-4",children:s.jsx(o,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-facility-name",children:i.name}),i.requiresCertification&&s.jsx(ue,{variant:"destructive",className:"mb-4",children:"Safety Certification Required"}),i.restricted&&s.jsx(ue,{className:"bg-amber-500 mb-4",children:"Founding & Forces Members Only"}),s.jsx("p",{className:"text-xl max-w-3xl opacity-90",children:i.description})]})]}),s.jsxs("div",{className:"container mx-auto px-6 py-12",children:[s.jsx(ge,{href:"/facilities",children:s.jsxs($,{variant:"ghost",className:"mb-8","data-testid":"button-back-facilities",children:[s.jsx(On,{className:"w-4 h-4 mr-2"})," Back to Facilities"]})}),s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"About This Facility"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.longDescription})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Features"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:(d=i.features)==null?void 0:d.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:h})]},p))})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(f=i.amenities)==null?void 0:f.map((h,p)=>s.jsx(ue,{variant:"secondary",children:h},p))})]}),i.addOns&&i.addOns.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Available Add-Ons"}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:i.addOns.map(h=>s.jsx(se,{children:s.jsxs(ae,{className:"p-4 flex items-center justify-between",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",h.price.toLocaleString()]})]})},h.id))})]}),i.galleryImages&&i.galleryImages.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.galleryImages.map((h,p)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:h,alt:`${i.name} gallery image ${p+1}`,className:"w-full h-full object-cover","data-testid":`img-gallery-${p}`})},p))})]}),(t==null?void 0:t.howToPlayContent)&&s.jsxs("section",{"data-testid":"section-how-to-play",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"How To Play"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.howToPlayContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.scoringRulesContent)&&s.jsxs("section",{"data-testid":"section-scoring-rules",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Scoring Rules"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.scoringRulesContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.winningCriteriaContent)&&s.jsxs("section",{"data-testid":"section-winning-criteria",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Winning Criteria"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.winningCriteriaContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]}),(t==null?void 0:t.pointsSystemContent)&&s.jsxs("section",{"data-testid":"section-points-system",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Points & Ranking System"}),s.jsx("ul",{className:"space-y-2 text-muted-foreground",children:t.pointsSystemContent.split(`
`).filter(h=>h.trim()).map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(pr,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-1"}),s.jsx("span",{children:h.replace(/^[\-\*]\s*/,"")})]},p))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(Be,{children:s.jsx(We,{children:"Quick Info"})}),s.jsx(ae,{className:"space-y-4",children:i.quickInfo&&Object.keys(i.quickInfo).length>0?Object.entries(i.quickInfo).map(([h,p])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),s.jsx("p",{className:"font-medium",children:String(p)})]})]},h)):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Hours"}),s.jsx("p",{className:"font-medium",children:i.operatingHours})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Players"}),s.jsxs("p",{className:"font-medium",children:[i.minPlayers," - ",i.maxPlayers," players"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(js,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Units"}),s.jsxs("p",{className:"font-medium",children:[i.courtCount," ",i.courtCount===1?"Unit":"Courts/Lanes"]})]})]})]})})]}),s.jsxs(se,{children:[s.jsx(Be,{children:s.jsx(We,{children:"Pricing"})}),s.jsx(ae,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Off-Peak (10AM-5PM)"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.basePrice||"0").toLocaleString(),"/hr"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Peak Hours"}),s.jsxs("span",{className:"font-semibold text-primary",children:["PKR ",parseInt(i.peakPrice||"0").toLocaleString(),"/hr"]})]}),Object.keys(n).length>0?s.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Member discounts during off-peak hours (10AM-5PM):",s.jsx("br",{}),n.FOUNDING&&`Founding: ${n.FOUNDING}%`,n.FOUNDING&&n.GOLD&&" | ",n.GOLD&&`Gold: ${n.GOLD}%`,n.GOLD&&n.SILVER&&" | ",n.SILVER&&`Silver: ${n.SILVER}%`]}):s.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:"Members enjoy off-peak discounts (10AM-5PM)"}),i.pricingNotes&&s.jsx("p",{className:"text-xs text-muted-foreground pt-2 mt-2 border-t",children:i.pricingNotes})]})})]}),i.requiresCertification&&s.jsx(se,{className:"border-amber-500/50 bg-amber-500/5",children:s.jsx(ae,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Gp,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Certification Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.certificationInfo||"Safety certification is mandatory before using this facility. Please complete the certification course first."})]})]})})}),s.jsx(ge,{href:"/booking",children:s.jsxs($,{className:"w-full",size:"lg","data-testid":"button-book-facility",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"})," Book This Facility"]})})]})]})})]})]}),s.jsx(or,{})]})}const Nce=e=>e.isComplete?s.jsx(ue,{className:"bg-green-500",children:"Completed"}):e.isActive?s.jsxs(ue,{className:"bg-amber-500",children:["In Progress - ",e.progress,"%"]}):s.jsx(ue,{variant:"secondary",children:"Upcoming"}),kT=e=>e.isComplete?s.jsx(Tm,{className:"w-8 h-8 text-green-500"}):e.isActive?s.jsx(Bt,{className:"w-8 h-8 text-amber-500"}):s.jsx(xr,{className:"w-8 h-8 text-muted-foreground"});function _ce(){qr({title:"Construction Roadmap",description:"Follow The Quarterdeck's construction progress in Islamabad. View milestones, timeline, and development phases for our sports complex launch in Q4 2026."});const{getValue:e}=Vr(["page_roadmap_title","page_roadmap_subtitle"],Ae),{data:t=[],isLoading:r}=de({queryKey:["/api/construction-phases"]}),n=x.useMemo(()=>[...t].sort((i,o)=>i.sortOrder-o.sortOrder),[t]),a=x.useMemo(()=>n.length===0?0:n.reduce((i,o)=>i+o.progress,0)/n.length,[n]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:e("page_roadmap_title"),subtitle:e("page_roadmap_subtitle"),testId:"text-roadmap-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),s.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:s.jsx("div",{className:"p-6 rounded-xl bg-card border shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap gap-6 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Overall Progress"}),s.jsxs("div",{className:"text-2xl font-bold text-primary dark:text-white mt-1",children:[Math.round(a),"% Complete"]})]}),s.jsx("div",{className:"flex-1 max-w-md",children:s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:n.filter(i=>i.isComplete).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-amber-600",children:n.filter(i=>i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:n.filter(i=>!i.isComplete&&!i.isActive).length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Upcoming"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[r?s.jsx("div",{className:"space-y-8",children:[1,2,3,4].map(i=>s.jsx("div",{className:"relative",children:s.jsx("div",{className:"md:ml-16",children:s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsx(Le,{className:"h-6 w-48"}),s.jsx(Le,{className:"h-4 w-32 mt-2"})]}),s.jsxs(ae,{children:[s.jsx(Le,{className:"h-4 w-full mb-4"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(Le,{className:"h-4 w-full"},o))}),s.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>s.jsx(Le,{className:"h-4 w-full"},o))})]})]})]})})},i))}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Roadmap Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"Our development timeline will be available shortly."})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border hidden md:block"}),s.jsx("div",{className:"space-y-8",children:n.map((i,o)=>s.jsx("div",{id:i.id,className:"relative","data-testid":`card-phase-${i.id}`,children:s.jsxs("div",{className:"md:ml-16",children:[s.jsx("div",{className:"absolute left-4 top-6 hidden md:block",children:kT(i)}),s.jsxs(se,{className:i.isActive?"border-amber-500/50 border-2":"",children:[s.jsxs(Be,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"md:hidden",children:kT(i)}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-xl",children:[i.label,": ",i.title]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.timeframe||"Timeline TBD"})]})]}),Nce(i)]}),i.isActive&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${i.progress}%`}})})})]}),s.jsx(ae,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.milestones&&i.milestones.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Tm,{className:"w-4 h-4"})," Milestones"]}),s.jsx("ul",{className:"space-y-2",children:i.milestones.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.isComplete?s.jsx(Tm,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30 flex-shrink-0"}),s.jsx("span",{className:i.isComplete?"":"text-muted-foreground",children:l})]},c))})]}),i.highlights&&i.highlights.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.icon==="rocket"?s.jsx(AQ,{className:"w-4 h-4"}):s.jsx(Wr,{className:"w-4 h-4"}),"Key Highlights"]}),s.jsx("ul",{className:"space-y-2",children:i.highlights.map((l,c)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[s.jsx("span",{className:"text-primary dark:text-sky-400",children:""}),l]},c))})]})]})})]})]})},i.id))})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Follow our progress and be the first to know about new developments, preview events, and exclusive opportunities."}),s.jsx(ge,{href:"/contact",children:s.jsx($,{"data-testid":"button-register-interest",children:"Register Your Interest"})})]})]})]})]}),s.jsx(or,{})]})}var c0="Collapsible",[Sce,aU]=gn(c0),[kce,sC]=Sce(c0),iU=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=ss({prop:n,defaultProp:a??!1,onChange:o,caller:c0});return s.jsx(kce,{scope:r,disabled:i,contentId:Jr(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Re.div,{"data-state":iC(c),"data-disabled":i?"":void 0,...l,ref:t})})});iU.displayName=c0;var oU="CollapsibleTrigger",lU=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=sC(oU,r);return s.jsx(Re.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":iC(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ne(e.onClick,a.onOpenToggle)})});lU.displayName=oU;var aC="CollapsibleContent",cU=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=sC(aC,e.__scopeCollapsible);return s.jsx(rn,{present:r||a.open,children:({present:i})=>s.jsx(Cce,{...n,ref:t,present:i})})});cU.displayName=aC;var Cce=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=sC(aC,r),[l,c]=x.useState(n),u=x.useRef(null),d=ut(t,u),f=x.useRef(0),h=f.current,p=x.useRef(0),y=p.current,m=o.open||l,j=x.useRef(m),b=x.useRef(void 0);return x.useEffect(()=>{const v=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(v)},[]),Br(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const g=v.getBoundingClientRect();f.current=g.height,p.current=g.width,j.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),s.jsx(Re.div,{"data-state":iC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&a})});function iC(e){return e?"open":"closed"}var Pce=iU,Ece=lU,Ace=cU,Qa="Accordion",Oce=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[oC,Tce,Ice]=zp(Qa),[u0]=gn(Qa,[Ice,aU]),lC=aU(),uU=F.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(oC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(Dce,{...i,ref:t}):s.jsx($ce,{...a,ref:t})})});uU.displayName=Qa;var[dU,Rce]=u0(Qa),[fU,Mce]=u0(Qa,{collapsible:!1}),$ce=F.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=ss({prop:r,defaultProp:n??"",onChange:a,caller:Qa});return s.jsx(dU,{scope:e.__scopeAccordion,value:F.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:F.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(fU,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(hU,{...o,ref:t})})})}),Dce=F.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=ss({prop:r,defaultProp:n??[],onChange:a,caller:Qa}),c=F.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=F.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(dU,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(fU,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(hU,{...i,ref:t})})})}),[Lce,d0]=u0(Qa),hU=F.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=F.useRef(null),c=ut(l,t),u=Tce(r),f=Gc(a)==="ltr",h=Ne(e.onKeyDown,p=>{var C;if(!Oce.includes(p.key))return;const y=p.target,m=u().filter(P=>{var k;return!((k=P.ref.current)!=null&&k.disabled)}),j=m.findIndex(P=>P.ref.current===y),b=m.length;if(j===-1)return;p.preventDefault();let v=j;const g=0,w=b-1,N=()=>{v=j+1,v>w&&(v=g)},_=()=>{v=j-1,v<g&&(v=w)};switch(p.key){case"Home":v=g;break;case"End":v=w;break;case"ArrowRight":i==="horizontal"&&(f?N():_());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?_():N());break;case"ArrowUp":i==="vertical"&&_();break}const S=v%b;(C=m[S].ref.current)==null||C.focus()});return s.jsx(Lce,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(oC.Slot,{scope:r,children:s.jsx(Re.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Yv="AccordionItem",[Fce,cC]=u0(Yv),mU=F.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=d0(Yv,r),o=Rce(Yv,r),l=lC(r),c=Jr(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(Fce,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Pce,{"data-orientation":i.orientation,"data-state":bU(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});mU.displayName=Yv;var pU="AccordionHeader",gU=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=d0(Qa,r),i=cC(pU,r);return s.jsx(Re.h3,{"data-orientation":a.orientation,"data-state":bU(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});gU.displayName=pU;var i_="AccordionTrigger",xU=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=d0(Qa,r),i=cC(i_,r),o=Mce(i_,r),l=lC(r);return s.jsx(oC.ItemSlot,{scope:r,children:s.jsx(Ece,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});xU.displayName=i_;var vU="AccordionContent",yU=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=d0(Qa,r),i=cC(vU,r),o=lC(r);return s.jsx(Ace,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});yU.displayName=vU;function bU(e){return e?"open":"closed"}var Uce=uU,Bce=mU,Vce=gU,jU=xU,wU=yU;const NU=Uce,Xu=x.forwardRef(({className:e,...t},r)=>s.jsx(Bce,{ref:r,className:je("border-b",e),...t}));Xu.displayName="AccordionItem";const Ju=x.forwardRef(({className:e,children:t,...r},n)=>s.jsx(Vce,{className:"flex",children:s.jsxs(jU,{ref:n,className:je("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(ma,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ju.displayName=jU.displayName;const Zu=x.forwardRef(({className:e,children:t,...r},n)=>s.jsx(wU,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:je("pb-4 pt-0",e),children:t})}));Zu.displayName=wU.displayName;const qce={general:{title:"General Rules",icon:gi},booking:{title:"Booking & Scheduling",icon:Bt},conduct:{title:"Conduct & Behavior",icon:Nr},safety:{title:"Safety Requirements",icon:Gp},dresscode:{title:"Dress Code",icon:RQ},equipment:{title:"Equipment & Facilities",icon:sQ},guests:{title:"Guest Policy",icon:wb},emergency:{title:"Emergency Procedures",icon:Im}},zce=["general","booking","conduct","safety","dresscode","equipment","guests","emergency"];function Wce(){qr({title:"Club Rules & Guidelines",description:"Review The Quarterdeck's club rules, safety requirements, dress code, booking policies, and guest guidelines for our sports facilities."});const{getValue:e}=Vr(["page_rules_title","page_rules_subtitle"],Ae),{data:t=[],isLoading:r}=de({queryKey:["/api/rules"]}),n=t.reduce((i,o)=>{const l=o.category||"general";return i[l]||(i[l]=[]),i[l].push(o),i},{}),a=zce.filter(i=>{var o;return((o=n[i])==null?void 0:o.length)>0});return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:e("page_rules_title"),subtitle:e("page_rules_subtitle"),testId:"text-rules-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(se,{className:"mb-8 border-amber-500/50 bg-amber-500/5",children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Gp,{className:"w-6 h-6 text-amber-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Safety Notice"}),s.jsx("p",{className:"text-muted-foreground",children:"Certain facilities require mandatory safety certifications before use. The Air Rifle Range requires completion of our safety course. Please contact reception to schedule your certification session."})]})]})})}),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Rules are being updated. Please check back soon."})]}):s.jsx(NU,{type:"multiple",className:"space-y-4",children:a.map(i=>{const o=qce[i]||{title:i,icon:gi},l=o.icon,c=n[i]||[];return s.jsxs(Xu,{value:i,className:"border rounded-md px-4","data-testid":`accordion-${i}`,children:[s.jsx(Ju,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center",children:s.jsx(l,{className:"w-5 h-5 text-primary dark:text-sky-400"})}),s.jsx("span",{className:"font-semibold",children:o.title})]})}),s.jsx(Zu,{children:s.jsx("ul",{className:"space-y-3 pl-13 py-4",children:c.map((u,d)=>s.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[s.jsxs("span",{className:"text-primary dark:text-sky-400 font-bold",children:[d+1,"."]}),s.jsxs("div",{children:[u.title&&s.jsxs("span",{className:"font-medium text-foreground",children:[u.title,": "]}),u.content]})]},u.id))})})]},i)})}),s.jsxs(se,{className:"mt-8",children:[s.jsx(Be,{children:s.jsx(We,{children:"Questions About Our Rules?"})}),s.jsxs(ae,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about our rules and policies, or need clarification on any point, please don't hesitate to contact us."}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(ge,{href:"/contact",children:s.jsx($,{"data-testid":"button-contact-us",children:"Contact Us"})}),s.jsx(ge,{href:"/terms",children:s.jsx($,{variant:"outline","data-testid":"button-view-terms",children:"View Terms & Conditions"})})]})]})]})]})]})]}),s.jsx(or,{})]})}const CT=ba({name:gt().min(2,"Name must be at least 2 characters"),email:gt().email("Please enter a valid email"),phone:gt().min(10,"Please enter a valid phone number"),cvUrl:gt().optional().or(jT("")),linkedinUrl:gt().url("Please enter a valid LinkedIn URL").optional().or(jT("")),coverLetter:gt().min(50,"Cover letter should be at least 50 characters")}),Kce=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],Hce=[".pdf",".doc",".docx"],Gce=[{id:"1",title:"Sports Facility Manager",department:"Operations",location:"Islamabad",type:"Full-time",description:"Lead the day-to-day operations of our sports facilities, ensuring excellent member experience and efficient facility management.",requirements:"5+ years experience in sports facility management. Strong leadership and communication skills. Knowledge of sports equipment maintenance.",salary:"PKR 150,000 - 200,000 / month",isActive:!0},{id:"2",title:"Padel Tennis Coach",department:"Sports",location:"Islamabad",type:"Full-time",description:"Provide professional coaching for our Padel Tennis program, conducting group classes and private lessons for members of all skill levels.",requirements:"Certified Padel Tennis instructor. 3+ years coaching experience. Fluent in English and Urdu.",salary:"PKR 80,000 - 120,000 / month",isActive:!0},{id:"3",title:"Member Relations Officer",department:"Customer Service",location:"Islamabad",type:"Full-time",description:"Serve as the primary point of contact for members, handling inquiries, feedback, and ensuring exceptional service standards.",requirements:"2+ years customer service experience. Excellent communication skills. Proficiency in CRM systems.",salary:"PKR 50,000 - 70,000 / month",isActive:!0},{id:"4",title:"Range Safety Officer",department:"Safety",location:"Islamabad",type:"Full-time",description:"Ensure safe operations of the Air Rifle Range, conduct safety certifications, and supervise shooting sessions.",requirements:"Military or law enforcement background preferred. Safety certification required. First aid trained.",salary:"PKR 60,000 - 90,000 / month",isActive:!0},{id:"5",title:"Events Coordinator",department:"Events",location:"Islamabad",type:"Part-time",description:"Plan and execute tournaments, social events, and corporate functions at The Quarterdeck.",requirements:"Event management experience. Strong organizational skills. Weekend availability required.",salary:"PKR 40,000 - 60,000 / month",isActive:!0}];function Qce(){qr({title:"Careers",description:"Join The Quarterdeck team. Explore career opportunities at Islamabad's premier sports and recreation complex. Apply for positions in operations, coaching, and hospitality."});const{toast:e}=mt(),{user:t}=bl(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(!1),y=x.useRef(null),[m,j]=x.useState(null),[b,v]=x.useState(""),[g,w]=x.useState(!1),N=x.useRef(null),{getValue:_}=Vr(["page_careers_title","page_careers_subtitle","page_careers_positions_title","page_careers_apply_cta","page_careers_no_positions"],Ae),S=(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",{data:C}=de({queryKey:["/api/careers"]}),P=qs({resolver:zs(CT),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),k=qs({resolver:zs(CT),defaultValues:{name:"",email:"",phone:"",cvUrl:"",linkedinUrl:"",coverLetter:""}}),A=be({mutationFn:async V=>await ye("POST",`/api/careers/${V.careerId}/apply`,{fullName:V.name,email:V.email,phone:V.phone,cvUrl:V.cvUrl||null,linkedinUrl:V.linkedinUrl||null,coverLetter:V.coverLetter}),onSuccess:()=>{e({title:"Application Submitted",description:"Thank you for your application. We will review it and get back to you soon."}),i(!1),P.reset()},onError:V=>{e({title:"Submission Failed",description:V.message||"Unable to submit application. Please try again.",variant:"destructive"})}}),O=be({mutationFn:async V=>await ye("POST","/api/careers/general-application",{fullName:V.name,email:V.email,phone:V.phone,cvUrl:V.cvUrl||null,linkedinUrl:V.linkedinUrl||null,coverLetter:V.coverLetter}),onSuccess:()=>{e({title:"CV Submitted",description:"Thank you for your interest! We will keep your CV on file for future opportunities."}),l(!1),k.reset()},onError:V=>{e({title:"Submission Failed",description:V.message||"Unable to submit CV. Please try again.",variant:"destructive"})}}),R=V=>{if(!Kce.includes(V.type)){const ee=V.name.toLowerCase().slice(V.name.lastIndexOf("."));if(!Hce.includes(ee))return e({title:"Invalid File Type",description:"Please upload a PDF, DOC, or DOCX file.",variant:"destructive"}),!1}return V.size>10*1024*1024?(e({title:"File Too Large",description:"Maximum file size is 10MB.",variant:"destructive"}),!1):!0},M=async V=>{const ee=new FormData;ee.append("cv",V);const pe=await fetch("/api/careers/upload-cv",{method:"POST",body:ee});if(!pe.ok){const ve=await pe.json();throw new Error(ve.message||"Failed to upload CV")}return(await pe.json()).cvUrl},L=V=>{var pe;const ee=(pe=V.target.files)==null?void 0:pe[0];ee&&R(ee)&&(u(ee),f(ee.name))},T=V=>{var pe;const ee=(pe=V.target.files)==null?void 0:pe[0];ee&&R(ee)&&(j(ee),v(ee.name))},W=()=>{u(null),f(""),y.current&&(y.current.value="")},E=()=>{j(null),v(""),N.current&&(N.current.value="")},D=async V=>{if(r)try{let ee=V.cvUrl||null;c&&(p(!0),ee=await M(c)),A.mutate({...V,careerId:r.id,cvUrl:ee||""})}catch(ee){e({title:"Upload Failed",description:ee.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{p(!1)}},G=async V=>{try{let ee=V.cvUrl||null;m&&(w(!0),ee=await M(m)),O.mutate({...V,cvUrl:ee||""})}catch(ee){e({title:"Upload Failed",description:ee.message||"Failed to upload CV. Please try again.",variant:"destructive"})}finally{w(!1)}},J=V=>{n(V),W(),i(!0)},Y=(C&&C.length>0?C:Gce).filter(V=>V.isActive);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:_("page_careers_title"),subtitle:_("page_careers_subtitle"),testId:"text-careers-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),s.jsxs("div",{className:"max-w-4xl mx-auto mt-4",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:"Why Work at The Quarterdeck?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Om,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Career Growth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Opportunities for advancement and professional development"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(js,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Prime Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work in a beautiful, state-of-the-art facility in Islamabad"})]})}),s.jsx(se,{children:s.jsxs(ae,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 dark:bg-sky-400/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Bt,{className:"w-6 h-6 text-primary dark:text-sky-400"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"Flexible Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Various shift options to accommodate work-life balance"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-6",children:"Open Positions"}),Y.length===0?s.jsx(se,{children:s.jsx(ae,{className:"p-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No open positions at the moment. Check back soon or send us your CV for future opportunities."})})}):s.jsx("div",{className:"space-y-4",children:Y.map(V=>s.jsx(se,{className:"hover-elevate","data-testid":`card-job-${V.id}`,children:s.jsx(ae,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:V.title}),s.jsx(ue,{variant:"secondary",className:"text-xs",children:V.type})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Om,{className:"w-4 h-4"})," ",V.department]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(js,{className:"w-4 h-4"})," ",V.location]}),S&&V.salary&&s.jsx("span",{className:"text-primary dark:text-sky-400 font-medium",children:V.salary})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:V.description}),V.requirements&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Requirements: "}),s.jsx("span",{className:"text-muted-foreground",children:V.requirements})]})]}),s.jsxs($,{className:" flex-shrink-0",onClick:()=>J(V),"data-testid":`button-apply-${V.id}`,children:["Apply Now ",s.jsx(pa,{className:"w-4 h-4 ml-1"})]})]})})},V.id))})]}),s.jsxs(se,{className:"mt-12",children:[s.jsx(Be,{children:s.jsx(We,{children:"Don't See the Right Fit?"})}),s.jsxs(ae,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"We're always looking for talented individuals to join our team. Send us your CV and we'll keep you in mind for future opportunities."}),s.jsxs($,{className:"",onClick:()=>l(!0),"data-testid":"button-submit-cv",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"})," Send Your CV"]})]})]})]})]})]}),s.jsx(or,{}),s.jsx(yt,{open:a,onOpenChange:i,children:s.jsxs(vt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(bt,{children:[s.jsxs(jt,{children:["Apply for ",r==null?void 0:r.title]}),s.jsx(_n,{children:"Fill out the form below to submit your application"})]}),s.jsx(Ks,{...P,children:s.jsxs("form",{onSubmit:P.handleSubmit(D),className:"space-y-4",children:[s.jsx(et,{control:P.control,name:"name",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"John Doe",...V,"data-testid":"input-applicant-name"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:P.control,name:"email",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"john@example.com",...V,"data-testid":"input-applicant-email"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:P.control,name:"phone",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"+92 300 1234567",...V,"data-testid":"input-applicant-phone"})}),s.jsx(nt,{})]})}),s.jsxs(Qe,{children:[s.jsx(Xe,{children:"CV/Resume (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:y,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:L,className:"hidden","data-testid":"input-applicant-cv-file"}),d?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(ts,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-cv-filename",children:d}),s.jsx($,{type:"button",variant:"ghost",size:"icon",onClick:W,"data-testid":"button-clear-cv",children:s.jsx(xi,{className:"w-4 h-4"})})]}):s.jsxs($,{type:"button",variant:"outline",onClick:()=>{var V;return(V=y.current)==null?void 0:V.click()},className:"w-full","data-testid":"button-upload-cv",children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(et,{control:P.control,name:"linkedinUrl",render:({field:V})=>s.jsxs(Qe,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(jA,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(Je,{children:s.jsx(X,{placeholder:"https://linkedin.com/in/...",...V,"data-testid":"input-applicant-linkedin"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:P.control,name:"coverLetter",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Cover Letter"}),s.jsx(Je,{children:s.jsx(ct,{placeholder:"Tell us why you're interested in this position and what makes you a great fit...",className:"min-h-[120px]",...V,"data-testid":"input-applicant-cover-letter"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-application",children:"Cancel"}),s.jsxs($,{type:"submit",disabled:A.isPending||h,className:"","data-testid":"button-submit-application",children:[A.isPending||h?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(yv,{className:"w-4 h-4 mr-2"}),h?"Uploading CV...":"Submit Application"]})]})]})})]})}),s.jsx(yt,{open:o,onOpenChange:l,children:s.jsxs(vt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(bt,{children:[s.jsx(jt,{children:"Send Your CV"}),s.jsx(_n,{children:"Submit your CV for future opportunities at The Quarterdeck"})]}),s.jsx(Ks,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(G),className:"space-y-4",children:[s.jsx(et,{control:k.control,name:"name",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"John Doe",...V,"data-testid":"input-cv-name"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:k.control,name:"email",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"john@example.com",...V,"data-testid":"input-cv-email"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:k.control,name:"phone",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"+92 300 1234567",...V,"data-testid":"input-cv-phone"})}),s.jsx(nt,{})]})}),s.jsxs(Qe,{children:[s.jsx(Xe,{children:"CV/Resume"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{ref:N,type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:T,className:"hidden","data-testid":"input-general-cv-file"}),b?s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[s.jsx(ts,{className:"w-4 h-4 text-primary dark:text-sky-400"}),s.jsx("span",{className:"flex-1 text-sm truncate","data-testid":"text-general-cv-filename",children:b}),s.jsx($,{type:"button",variant:"ghost",size:"icon",onClick:E,"data-testid":"button-clear-general-cv",children:s.jsx(xi,{className:"w-4 h-4"})})]}):s.jsxs($,{type:"button",variant:"outline",onClick:()=>{var V;return(V=N.current)==null?void 0:V.click()},className:"w-full","data-testid":"button-upload-general-cv",children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Upload CV/Resume"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, DOC, DOCX (max 10MB)"})]})]}),s.jsx(et,{control:k.control,name:"linkedinUrl",render:({field:V})=>s.jsxs(Qe,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(jA,{className:"w-4 h-4"}),"LinkedIn Profile (Optional)"]}),s.jsx(Je,{children:s.jsx(X,{placeholder:"https://linkedin.com/in/...",...V,"data-testid":"input-cv-linkedin"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:k.control,name:"coverLetter",render:({field:V})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Message / Cover Letter"}),s.jsx(Je,{children:s.jsx(ct,{placeholder:"Tell us about yourself, your skills, and what kind of role you're looking for...",className:"min-h-[120px]",...V,"data-testid":"input-cv-cover-letter"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-cv",children:"Cancel"}),s.jsxs($,{type:"submit",disabled:O.isPending||g,className:"","data-testid":"button-submit-cv-form",children:[O.isPending||g?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(yv,{className:"w-4 h-4 mr-2"}),g?"Uploading CV...":"Submit CV"]})]})]})})]})})]})}function Yce(){qr({title:"Terms & Conditions",description:"The Quarterdeck's terms and conditions. Review our policies for membership, facility usage, bookings, and member conduct."});const{getValue:e}=Vr(["page_terms_title","page_terms_subtitle"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="terms_conditions");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse terms content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:e("page_terms_title"),subtitle:e("page_terms_subtitle"),testId:"text-terms-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(ts,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Terms & Conditions are being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>s.jsx("li",{children:l},c))})]},o))})})]}),s.jsx(or,{})]})}function Xce(){qr({title:"Privacy Policy",description:"The Quarterdeck's privacy policy. Learn how we collect, use, and protect your personal information at our sports complex."});const{getValue:e}=Vr(["page_privacy_title","page_privacy_subtitle"],Ae),{data:t,isLoading:r}=de({queryKey:["/api/cms/bulk"]}),n=t==null?void 0:t.find(i=>i.key==="privacy_policy");let a=[];try{n!=null&&n.content&&(a=JSON.parse(n.content))}catch{console.error("Failed to parse privacy policy content")}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:e("page_privacy_title"),subtitle:e("page_privacy_subtitle"),testId:"text-privacy-title"}),s.jsx("div",{className:"qd-container py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto prose prose-slate dark:prose-invert",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):a.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Fd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Privacy policy is being updated. Please check back soon."})]}):a.map((i,o)=>s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-primary dark:text-sky-400 mb-4",children:i.section}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:i.content}),i.items&&i.items.length>0&&s.jsx("ul",{className:"list-disc pl-6 text-muted-foreground space-y-2",children:i.items.map((l,c)=>{const u=l.indexOf(":");if(u>-1&&u<30){const d=l.slice(0,u),f=l.slice(u+1);return s.jsxs("li",{children:[s.jsxs("strong",{children:[d,":"]}),f]},c)}return s.jsx("li",{children:l},c)})})]},o))})})]}),s.jsx(or,{})]})}const Jce=[{key:"coming-soon-1",src:E6,alt:"Complex Exterior Render",caption:"Premium Sports Complex Design"},{key:"coming-soon-2",src:Lf,alt:"Padel Tennis Courts",caption:"World-Class Padel Courts"},{key:"coming-soon-3",src:Yb,alt:"Squash Court",caption:"Professional Squash Facility"},{key:"coming-soon-4",src:A6,alt:"Sports Arena",caption:"Modern Architecture"},{key:"coming-soon-5",src:O6,alt:"Construction Progress",caption:"Building Your Future"}];function Zce(){qr({title:"Coming Soon",description:"The Quarterdeck is coming to Islamabad in Q4 2026. Join our waitlist for exclusive early access to Pakistan's premier sports and recreation complex."});const{toast:e}=mt(),[t,r]=x.useState(""),[n,a]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[i,o]=x.useState(!1),{getValue:l}=Vr(["coming_soon_title","coming_soon_subtitle","coming_soon_launch_date","coming_soon_location","site_name","hero_eyebrow"],Ae),{data:c=[]}=de({queryKey:["/api/site-images","coming-soon"],queryFn:async()=>{const j=await(await fetch("/api/site-images?page=coming-soon")).json();return Array.isArray(j)?j:[]},staleTime:1e3*60*5}),u=x.useMemo(()=>Jce.map(m=>{const j=c.find(b=>b.section===m.key&&b.isActive);return{...m,src:(j==null?void 0:j.imageUrl)||m.src,alt:(j==null?void 0:j.alt)||m.alt,caption:(j==null?void 0:j.title)||m.caption}}),[c]),d=l("coming_soon_launch_date")||Ae.coming_soon_launch_date||"2026-10-01",f=new Date(d);x.useEffect(()=>{const m=()=>{const b=+f-+new Date;return b>0?(o(!1),{days:Math.floor(b/864e5),hours:Math.floor(b/36e5%24),minutes:Math.floor(b/1e3/60%60),seconds:Math.floor(b/1e3%60)}):(o(!0),{days:0,hours:0,minutes:0,seconds:0})};a(m());const j=setInterval(()=>{a(m())},1e3);return()=>clearInterval(j)},[d]);const h=be({mutationFn:async m=>await ye("POST","/api/contact",{name:"Early Interest Subscriber",email:m,subject:"Coming Soon - Early Interest",message:"I would like to receive updates about The Quarterdeck launch."}),onSuccess:()=>{e({title:"Successfully Subscribed",description:"You'll be the first to know when we launch!"}),r("")},onError:m=>{e({title:"Subscription Failed",description:m.message||"Please try again later.",variant:"destructive"})}}),p=m=>{m.preventDefault(),t&&h.mutate(t)},y=({value:m,label:j})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 flex items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tabular-nums",children:m.toString().padStart(2,"0")})}),s.jsx("span",{className:"mt-2 text-sm sm:text-base text-white/80 uppercase tracking-widest font-medium",children:j})]});return s.jsxs("div",{className:"min-h-screen bg-[#1a2a40] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-amber-500/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("header",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"Q"})}),s.jsx("span",{className:"text-xl font-semibold text-white hidden sm:block",children:l("site_name")||Ae.site_name})]})}),s.jsx(ge,{href:"/",children:s.jsxs($,{variant:"outline",className:"text-white border-white/30 bg-white/10 backdrop-blur-sm",children:["Full Website ",s.jsx(yb,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("main",{className:"container mx-auto px-6 py-12 md:py-24",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("span",{className:"inline-block px-4 py-1.5 bg-amber-500/20 text-amber-300 rounded-full text-sm font-medium",children:l("hero_eyebrow")||Ae.hero_eyebrow}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight",children:l("coming_soon_title")||Ae.coming_soon_title}),s.jsx("p",{className:"text-lg text-white/70 max-w-lg",children:l("coming_soon_subtitle")||Ae.coming_soon_subtitle})]}),s.jsxs("div",{className:"flex items-center gap-4 text-white/70",children:[s.jsx(js,{className:"w-5 h-5"}),s.jsx("span",{children:l("coming_soon_location")||Ae.coming_soon_location||"Islamabad, Pakistan"})]}),i?s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-xl",children:[s.jsx(Sn,{className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold",children:"We're Live!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[s.jsx(xr,{className:"w-5 h-5"}),s.jsx("span",{children:"Expected Launch: Q4 2026"})]}),s.jsxs("div",{className:"flex gap-3 sm:gap-4 md:gap-6",children:[s.jsx(y,{value:n.days,label:"Days"}),s.jsx(y,{value:n.hours,label:"Hours"}),s.jsx(y,{value:n.minutes,label:"Mins"}),s.jsx(y,{value:n.seconds,label:"Secs"})]})]}),s.jsx(se,{className:"bg-white/10 border-white/20 backdrop-blur",children:s.jsxs(ae,{className:"p-6",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ef,{className:"w-5 h-5"}),"Get Early Access Updates"]}),s.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(X,{type:"email",placeholder:"your@email.com",value:t,onChange:m=>r(m.target.value),className:"flex-1 bg-white/10 border-white/20 text-white placeholder:text-white/50",required:!0,"data-testid":"input-email-subscribe"}),s.jsx($,{type:"submit",disabled:h.isPending,className:"bg-amber-500 text-white","data-testid":"button-subscribe",children:h.isPending?s.jsx(Ie,{className:"w-4 h-4 animate-spin"}):"Notify Me"})]}),s.jsx("p",{className:"text-xs text-white/50 mt-3",children:"Join the waitlist for exclusive pre-launch offers and founding member benefits."})]})})]}),s.jsx("div",{className:"lg:pl-8",children:s.jsx(lg,{opts:{loop:!0},plugins:[Df({delay:4e3,stopOnInteraction:!0,stopOnMouseEnter:!0})],className:"w-full",children:s.jsx(cg,{children:u.map((m,j)=>s.jsx(ug,{children:s.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden",children:[s.jsx("img",{src:m.src,alt:m.alt,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:s.jsx("p",{className:"text-white font-medium text-lg",children:m.caption})})]})},j))})})})]})}),s.jsx("footer",{className:"container mx-auto px-6 py-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-white/50 text-sm",children:"2024-2027 The Quarterdeck. All rights reserved."}),s.jsxs("div",{className:"flex items-center gap-4 text-white/50 text-sm",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Pre-launch Phase"})]})]})})]})]})}const eue=ba({name:gt().min(2,"Name must be at least 2 characters"),email:gt().email("Please enter a valid email address"),phone:gt().optional(),subject:gt().min(3,"Subject must be at least 3 characters"),message:gt().min(10,"Message must be at least 10 characters")});function tue(){qr({title:"Contact Us",description:"Get in touch with The Quarterdeck. Contact us for facility inquiries, membership questions, event bookings, or general information about our sports complex in Islamabad."});const{toast:e}=mt(),[t,r]=x.useState(!1),{getValue:n}=Vr(["page_contact_title","page_contact_subtitle","page_contact_form_title","page_contact_success_title","page_contact_success_message","page_contact_info_title","page_contact_social_title","page_contact_faq_title"],Ae),{data:a={}}=de({queryKey:["/api/site-settings"],queryFn:async()=>{try{const d=await fetch("/api/site-settings");if(!d.ok)return{};const f=await d.json();return f&&typeof f=="object"&&!f.message?f:{}}catch{return{}}}}),i=d=>a[d]||"",o=qs({resolver:zs(eue),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),l=be({mutationFn:async d=>await ye("POST","/api/contact",d),onSuccess:()=>{e({title:"Message Sent",description:"Thank you for your message. We'll get back to you soon!"}),r(!0),o.reset()},onError:d=>{e({title:"Error",description:d.message||"Failed to send message. Please try again.",variant:"destructive"})}}),c=d=>{l.mutate(d)},u=[{icon:xr,title:"Book a Facility",description:"Reserve courts, halls, and more",href:"/booking"},{icon:Nr,title:"Membership",description:"Join The Quarterdeck community",href:"/membership"},{icon:Wr,title:"Our Facilities",description:"Explore what we offer",href:"/facilities"}];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:n("page_contact_title"),subtitle:n("page_contact_subtitle"),testId:"text-contact-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Jk,{className:"w-5 h-5"}),n("page_contact_form_title")]})}),s.jsx(ae,{children:t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mx-auto mb-4",children:s.jsx(yv,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("page_contact_success_title")}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n("page_contact_success_message")}),s.jsx($,{onClick:()=>r(!1),variant:"outline",children:"Send Another Message"})]}):s.jsx(Ks,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(et,{control:o.control,name:"name",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Full Name *"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"Your name",...d,"data-testid":"input-contact-name"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:o.control,name:"email",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email Address *"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"your@email.com",...d,"data-testid":"input-contact-email"})}),s.jsx(nt,{})]})})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsx(et,{control:o.control,name:"phone",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone Number"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"+92 xxx xxxxxxx",...d,"data-testid":"input-contact-phone"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:o.control,name:"subject",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Subject *"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"What's this about?",...d,"data-testid":"input-contact-subject"})}),s.jsx(nt,{})]})})]}),s.jsx(et,{control:o.control,name:"message",render:({field:d})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Message *"}),s.jsx(Je,{children:s.jsx(ct,{placeholder:"How can we help you?",rows:5,...d,"data-testid":"input-contact-message"})}),s.jsx(nt,{})]})}),s.jsx($,{type:"submit",className:"w-full sm:w-auto",disabled:l.isPending,"data-testid":"button-contact-submit",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yv,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),s.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:u.map(d=>s.jsx(ge,{href:d.href,children:s.jsx(se,{className:"h-full hover-elevate cursor-pointer","data-testid":`link-quick-${d.title.toLowerCase().replace(/\s/g,"-")}`,children:s.jsxs(ae,{className:"p-4",children:[s.jsx(d.icon,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-1",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})})},d.href))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(Be,{children:s.jsx(We,{children:n("page_contact_info_title")})}),s.jsxs(ae,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(js,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("address")||"The Quarterdeck Sports Complex, Islamabad, Pakistan"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Im,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("phone")||"+92 51 XXX XXXX"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ef,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("email")||"info@thequarterdeck.pk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Bt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Operating Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i("operating_hours")||"6:00 AM - 11:00 PM Daily"})]})]})]})]}),s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"w-5 h-5"}),n("page_contact_faq_title")]})}),s.jsxs(ae,{className:"space-y-1",children:[s.jsxs(NU,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(Xu,{value:"booking",className:"border-b-0",children:[s.jsx(Ju,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-booking",children:"How do I book a facility?"}),s.jsx(Zu,{className:"text-sm text-muted-foreground",children:"You can book facilities through our booking page. Simply select the facility, choose your preferred date and time slot, and confirm your reservation. Members get priority booking windows based on their tier."})]}),s.jsxs(Xu,{value:"membership",className:"border-b-0",children:[s.jsx(Ju,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-membership",children:"What membership options are available?"}),s.jsx(Zu,{className:"text-sm text-muted-foreground",children:"We offer Founding Member, Gold, Silver, and Pay-to-Play options. Each tier includes different benefits like booking windows, discounts, and guest passes. Visit our membership page for details."})]}),s.jsxs(Xu,{value:"rules",className:"border-b-0",children:[s.jsx(Ju,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-rules",children:"What are the facility rules?"}),s.jsx(Zu,{className:"text-sm text-muted-foreground",children:"All members must follow our facility guidelines including proper attire, court etiquette, and safety protocols. Visit our Rules page for the complete list."})]}),s.jsxs(Xu,{value:"events",className:"border-b-0",children:[s.jsx(Ju,{className:"text-sm py-3 hover:no-underline text-left","data-testid":"faq-events",children:"How do I join events?"}),s.jsx(Zu,{className:"text-sm text-muted-foreground",children:"Check our Events page for upcoming tournaments and activities. Members can register directly through the event details page. Some events may have limited spots."})]})]}),s.jsx("div",{className:"pt-3 border-t",children:s.jsx(ge,{href:"/faq",children:s.jsx($,{variant:"outline",size:"sm",className:"w-full","data-testid":"link-view-more-faq",children:"View All FAQs"})})})]})]})]})]})]})]}),s.jsx(or,{})]})}const rue={"help-circle":Ls,users:Nr,calendar:xr,"credit-card":ll,clock:Bt,"building-2":Wr,shield:gi,settings:Rm};function nue({item:e,isOpen:t,onToggle:r}){return s.jsxs("div",{className:"border-b border-border last:border-b-0",children:[s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between py-4 text-left hover-elevate","data-testid":`button-faq-${e.id}`,children:[s.jsx("span",{className:"font-medium text-foreground pr-4",children:e.question}),s.jsx(ma,{className:`w-5 h-5 text-muted-foreground shrink-0 transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"pb-4 text-muted-foreground animate-qd-fade-in",children:e.answer})]})}function sue(){qr({title:"Frequently Asked Questions",description:"Find answers to common questions about The Quarterdeck - membership, booking, facilities, payments, and policies at Islamabad's sports complex."});const[e,t]=x.useState({}),{getValue:r}=Vr(["page_faq_title","page_faq_subtitle","page_faq_contact_cta"],Ae),{data:n=[],isLoading:a}=de({queryKey:["/api/faq"]}),i=l=>{t(c=>({...c,[l]:!c[l]}))},o=l=>rue[l||"help-circle"]||Ls;return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:r("page_faq_title"),subtitle:r("page_faq_subtitle"),testId:"text-faq-title"}),s.jsx("section",{className:"py-12 md:py-16",children:s.jsxs("div",{className:"qd-container max-w-5xl mx-auto",children:[s.jsx(Ga,{items:[{label:"FAQ"}]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsx(se,{className:"overflow-visible",children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(Ls,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQs Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Check back later for frequently asked questions."})]})}):s.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:n.map(l=>{const c=o(l.icon);return s.jsx(se,{className:"overflow-visible","data-testid":`card-faq-${l.id}`,children:s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsx("h2",{className:"text-lg font-semibold",children:l.title})]}),s.jsx("div",{children:l.items.length===0?s.jsx("p",{className:"text-muted-foreground text-sm",children:"No questions in this category yet."}):l.items.map(u=>s.jsx(nue,{item:u,isOpen:e[u.id]||!1,onToggle:()=>i(u.id)},u.id))})]})},l.id)})}),s.jsx("div",{className:"mt-12 text-center",children:s.jsx(se,{className:"inline-block overflow-visible",children:s.jsxs(ae,{className:"p-8",children:[s.jsx(Ls,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Still have questions?"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Our team is here to help. Get in touch and we'll respond as soon as possible."}),s.jsx(ge,{href:"/contact",children:s.jsx($,{"data-testid":"button-contact-us",children:"Contact Us"})})]})})})]})})]}),s.jsx(or,{})]})}function aue(e){const t=iue(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(lue);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function iue(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=uue(a),l=cue(i,a.props);return a.type!==x.Fragment&&(l.ref=n?ns(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oue=Symbol("radix.slottable");function lue(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oue}function cue(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function uue(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var due=[" ","Enter","ArrowUp","ArrowDown"],fue=[" ","Enter"],Rc="Select",[f0,h0,hue]=zp(Rc),[Ff]=gn(Rc,[hue,yl]),m0=yl(),[mue,wl]=Ff(Rc),[pue,gue]=Ff(Rc),_U=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=m0(t),[j,b]=x.useState(null),[v,g]=x.useState(null),[w,N]=x.useState(!1),_=Gc(u),[S,C]=ss({prop:n,defaultProp:a??!1,onChange:i,caller:Rc}),[P,k]=ss({prop:o,defaultProp:l,onChange:c,caller:Rc}),A=x.useRef(null),O=j?y||!!j.closest("form"):!0,[R,M]=x.useState(new Set),L=Array.from(R).map(T=>T.props.value).join(";");return s.jsx(Ab,{...m,children:s.jsxs(mue,{required:p,scope:t,trigger:j,onTriggerChange:b,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Jr(),value:P,onValueChange:k,open:S,onOpenChange:C,dir:_,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(f0.Provider,{scope:t,children:s.jsx(pue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(T=>{M(W=>new Set(W).add(T))},[]),onNativeOptionRemove:x.useCallback(T=>{M(W=>{const E=new Set(W);return E.delete(T),E})},[]),children:r})}),O?s.jsxs(GU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:T=>k(T.target.value),disabled:h,form:y,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},L):null]})})};_U.displayName=Rc;var SU="SelectTrigger",kU=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=m0(r),o=wl(SU,r),l=o.disabled||n,c=ut(t,o.onTriggerChange),u=h0(r),d=x.useRef("touch"),[f,h,p]=YU(m=>{const j=u().filter(g=>!g.disabled),b=j.find(g=>g.value===o.value),v=XU(j,m,b);v!==void 0&&o.onValueChange(v.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Yp,{asChild:!0,...i,children:s.jsx(Re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QU(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Ne(a.onPointerDown,m=>{d.current=m.pointerType;const j=m.target;j.hasPointerCapture(m.pointerId)&&j.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Ne(a.onKeyDown,m=>{const j=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(j&&m.key===" ")&&due.includes(m.key)&&(y(),m.preventDefault())})})})});kU.displayName=SU;var CU="SelectValue",PU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=wl(CU,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ut(t,c.onValueNodeChange);return Br(()=>{u(d)},[u,d]),s.jsx(Re.span,{...l,ref:f,style:{pointerEvents:"none"},children:QU(c.value)?s.jsx(s.Fragment,{children:o}):i})});PU.displayName=CU;var xue="SelectIcon",EU=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Re.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});EU.displayName=xue;var vue="SelectPortal",AU=e=>s.jsx(Pf,{asChild:!0,...e});AU.displayName=vue;var Mc="SelectContent",OU=x.forwardRef((e,t)=>{const r=wl(Mc,e.__scopeSelect),[n,a]=x.useState();if(Br(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Wc.createPortal(s.jsx(TU,{scope:e.__scopeSelect,children:s.jsx(f0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(IU,{...e,ref:t})});OU.displayName=Mc;var Ca=10,[TU,Nl]=Ff(Mc),yue="SelectContentImpl",bue=aue("SelectContent.RemoveScroll"),IU=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:j,...b}=e,v=wl(Mc,r),[g,w]=x.useState(null),[N,_]=x.useState(null),S=ut(t,te=>w(te)),[C,P]=x.useState(null),[k,A]=x.useState(null),O=h0(r),[R,M]=x.useState(!1),L=x.useRef(!1);x.useEffect(()=>{if(g)return Ub(g)},[g]),Fb();const T=x.useCallback(te=>{const[ve,...ie]=O().map(Q=>Q.ref.current),[B]=ie.slice(-1),me=document.activeElement;for(const Q of te)if(Q===me||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===ve&&N&&(N.scrollTop=0),Q===B&&N&&(N.scrollTop=N.scrollHeight),Q==null||Q.focus(),document.activeElement!==me))return},[O,N]),W=x.useCallback(()=>T([C,g]),[T,C,g]);x.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:E,triggerPointerDownPosRef:D}=v;x.useEffect(()=>{if(g){let te={x:0,y:0};const ve=B=>{var me,Q;te={x:Math.abs(Math.round(B.pageX)-(((me=D.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(B.pageY)-(((Q=D.current)==null?void 0:Q.y)??0))}},ie=B=>{te.x<=10&&te.y<=10?B.preventDefault():g.contains(B.target)||E(!1),document.removeEventListener("pointermove",ve),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",ie,{capture:!0})}}},[g,E,D]),x.useEffect(()=>{const te=()=>E(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[E]);const[G,J]=YU(te=>{const ve=O().filter(me=>!me.disabled),ie=ve.find(me=>me.ref.current===document.activeElement),B=XU(ve,te,ie);B&&setTimeout(()=>B.ref.current.focus())}),I=x.useCallback((te,ve,ie)=>{const B=!L.current&&!ie;(v.value!==void 0&&v.value===ve||B)&&(P(te),B&&(L.current=!0))},[v.value]),Y=x.useCallback(()=>g==null?void 0:g.focus(),[g]),V=x.useCallback((te,ve,ie)=>{const B=!L.current&&!ie;(v.value!==void 0&&v.value===ve||B)&&A(te)},[v.value]),ee=n==="popper"?o_:RU,pe=ee===o_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:j}:{};return s.jsx(TU,{scope:r,content:g,viewport:N,onViewportChange:_,itemRefCallback:I,selectedItem:C,onItemLeave:Y,itemTextRefCallback:V,focusSelectedItem:W,selectedItemText:k,position:n,isPositioned:R,searchRef:G,children:s.jsx(eg,{as:bue,allowPinchZoom:!0,children:s.jsx(Zp,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ne(a,te=>{var ve;(ve=v.trigger)==null||ve.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...b,...pe,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ne(b.onKeyDown,te=>{const ve=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ve&&te.key.length===1&&J(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let B=O().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(te.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const me=te.target,Q=B.indexOf(me);B=B.slice(Q+1)}setTimeout(()=>T(B)),te.preventDefault()}})})})})})})});IU.displayName=yue;var jue="SelectItemAlignedPosition",RU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=wl(Mc,r),o=Nl(Mc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=ut(t,S=>d(S)),h=h0(r),p=x.useRef(!1),y=x.useRef(!0),{viewport:m,selectedItem:j,selectedItemText:b,focusSelectedItem:v}=o,g=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&j&&b){const S=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(i.dir!=="rtl"){const me=k.left-C.left,Q=P.left-me,q=S.left-Q,xe=S.width+q,tt=Math.max(xe,C.width),at=window.innerWidth-Ca,ft=BN(Q,[Ca,Math.max(Ca,at-tt)]);l.style.minWidth=xe+"px",l.style.left=ft+"px"}else{const me=C.right-k.right,Q=window.innerWidth-P.right-me,q=window.innerWidth-S.right-Q,xe=S.width+q,tt=Math.max(xe,C.width),at=window.innerWidth-Ca,ft=BN(Q,[Ca,Math.max(Ca,at-tt)]);l.style.minWidth=xe+"px",l.style.right=ft+"px"}const A=h(),O=window.innerHeight-Ca*2,R=m.scrollHeight,M=window.getComputedStyle(u),L=parseInt(M.borderTopWidth,10),T=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),E=parseInt(M.paddingBottom,10),D=L+T+R+E+W,G=Math.min(j.offsetHeight*5,D),J=window.getComputedStyle(m),I=parseInt(J.paddingTop,10),Y=parseInt(J.paddingBottom,10),V=S.top+S.height/2-Ca,ee=O-V,pe=j.offsetHeight/2,te=j.offsetTop+pe,ve=L+T+te,ie=D-ve;if(ve<=V){const me=A.length>0&&j===A[A.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-m.offsetTop-m.offsetHeight,q=Math.max(ee,pe+(me?Y:0)+Q+W),xe=ve+q;l.style.height=xe+"px"}else{const me=A.length>0&&j===A[0].ref.current;l.style.top="0px";const q=Math.max(V,L+m.offsetTop+(me?I:0)+pe)+ie;l.style.height=q+"px",m.scrollTop=ve-V+m.offsetTop}l.style.margin=`${Ca}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,j,b,i.dir,n]);Br(()=>g(),[g]);const[w,N]=x.useState();Br(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(S=>{S&&y.current===!0&&(g(),v==null||v(),y.current=!1)},[g,v]);return s.jsx(Nue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(Re.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});RU.displayName=jue;var wue="SelectPopperPosition",o_=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ca,...i}=e,o=m0(r);return s.jsx(Ob,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o_.displayName=wue;var[Nue,uC]=Ff(Mc,{}),l_="SelectViewport",MU=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Nl(l_,r),o=uC(l_,r),l=ut(t,i.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(f0.Slot,{scope:r,children:s.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Ca*2,m=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),b=Math.max(m,j);if(b<y){const v=b+p,g=Math.min(y,v),w=v-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});MU.displayName=l_;var $U="SelectGroup",[_ue,Sue]=Ff($U),kue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Jr();return s.jsx(_ue,{scope:r,id:a,children:s.jsx(Re.div,{role:"group","aria-labelledby":a,...n,ref:t})})});kue.displayName=$U;var DU="SelectLabel",LU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sue(DU,r);return s.jsx(Re.div,{id:a.id,...n,ref:t})});LU.displayName=DU;var Xv="SelectItem",[Cue,FU]=Ff(Xv),UU=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=wl(Xv,r),c=Nl(Xv,r),u=l.value===n,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),y=ut(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,n,a)}),m=Jr(),j=x.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Cue,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:x.useCallback(v=>{f(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(f0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Re.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{j.current!=="mouse"&&b()}),onPointerUp:Ne(o.onPointerUp,()=>{j.current==="mouse"&&b()}),onPointerDown:Ne(o.onPointerDown,v=>{j.current=v.pointerType}),onPointerMove:Ne(o.onPointerMove,v=>{var g;j.current=v.pointerType,a?(g=c.onItemLeave)==null||g.call(c):j.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:Ne(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(fue.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});UU.displayName=Xv;var Bh="SelectItemText",BU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=wl(Bh,r),l=Nl(Bh,r),c=FU(Bh,r),u=gue(Bh,r),[d,f]=x.useState(null),h=ut(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:j}=u;return Br(()=>(m(y),()=>j(y)),[m,j,y]),s.jsxs(s.Fragment,{children:[s.jsx(Re.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wc.createPortal(i.children,o.valueNode):null]})});BU.displayName=Bh;var VU="SelectItemIndicator",qU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return FU(VU,r).isSelected?s.jsx(Re.span,{"aria-hidden":!0,...n,ref:t}):null});qU.displayName=VU;var c_="SelectScrollUpButton",zU=x.forwardRef((e,t)=>{const r=Nl(c_,e.__scopeSelect),n=uC(c_,e.__scopeSelect),[a,i]=x.useState(!1),o=ut(t,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(KU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zU.displayName=c_;var u_="SelectScrollDownButton",WU=x.forwardRef((e,t)=>{const r=Nl(u_,e.__scopeSelect),n=uC(u_,e.__scopeSelect),[a,i]=x.useState(!1),o=ut(t,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(KU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});WU.displayName=u_;var KU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Nl("SelectScrollButton",r),o=x.useRef(null),l=h0(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Br(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Re.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),Pue="SelectSeparator",HU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Re.div,{"aria-hidden":!0,...n,ref:t})});HU.displayName=Pue;var d_="SelectArrow",Eue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=m0(r),i=wl(d_,r),o=Nl(d_,r);return i.open&&o.position==="popper"?s.jsx(Tb,{...a,...n,ref:t}):null});Eue.displayName=d_;var Aue="SelectBubbleInput",GU=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=ut(n,a),o=o0(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Re.select,{...r,style:{...W5,...r.style},ref:i,defaultValue:t})});GU.displayName=Aue;function QU(e){return e===""||e===void 0}function YU(e){const t=Ur(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function XU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Oue(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Oue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Tue=_U,JU=kU,Iue=PU,Rue=EU,Mue=AU,ZU=OU,$ue=MU,eB=LU,tB=UU,Due=BU,Lue=qU,rB=zU,nB=WU,sB=HU;const kt=Tue,Ct=Iue,Nt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(JU,{ref:n,className:je("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Rue,{asChild:!0,children:s.jsx(ma,{className:"h-4 w-4 opacity-50"})})]}));Nt.displayName=JU.displayName;const aB=x.forwardRef(({className:e,...t},r)=>s.jsx(rB,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Sc,{className:"h-4 w-4"})}));aB.displayName=rB.displayName;const iB=x.forwardRef(({className:e,...t},r)=>s.jsx(nB,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ma,{className:"h-4 w-4"})}));iB.displayName=nB.displayName;const _t=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Mue,{children:s.jsxs(ZU,{ref:a,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(aB,{}),s.jsx($ue,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(iB,{})]})}));_t.displayName=ZU.displayName;const Fue=x.forwardRef(({className:e,...t},r)=>s.jsx(eB,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Fue.displayName=eB.displayName;const Se=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tB,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Lue,{children:s.jsx(pr,{className:"h-4 w-4"})})}),s.jsx(Due,{children:t})]}));Se.displayName=tB.displayName;const Uue=x.forwardRef(({className:e,...t},r)=>s.jsx(sB,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));Uue.displayName=sB.displayName;const PT={FOUNDING:35e3,GOLD:15e3,SILVER:5e3};function Bue({onSuccess:e}){const{toast:t}=mt(),[r,n]=x.useState(""),[a,i]=x.useState("bank_transfer"),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(null),h=x.useRef(null),{data:p}=de({queryKey:["/api/site-settings"]}),y=p||{},m={bankName:(y==null?void 0:y.bank_name)||"Bank Details Loading...",accountTitle:(y==null?void 0:y.bank_account_title)||"-",accountNumber:(y==null?void 0:y.bank_account_number)||"-",iban:(y==null?void 0:y.bank_iban)||"-",branchCode:(y==null?void 0:y.bank_branch_code)||"-"},{data:j,isLoading:b}=de({queryKey:["/api/membership-applications/mine"]}),v=j==null?void 0:j.find(P=>P.status==="PENDING"),g=be({mutationFn:async P=>await ye("POST","/api/membership-applications",P),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Application submitted",description:"Please upload your payment proof to complete the application."}),e==null||e()},onError:P=>{t({title:"Failed to submit application",description:P.message||"An error occurred",variant:"destructive"})}}),w=be({mutationFn:async({id:P,data:k})=>await ye("PATCH",`/api/membership-applications/${P}`,k),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/membership-applications/mine"]}),t({title:"Payment proof uploaded",description:"Your application is now under review. We'll notify you once it's processed."})},onError:P=>{t({title:"Failed to upload payment proof",description:P.message||"An error occurred",variant:"destructive"})}}),N=async P=>{var O;const k=(O=P.target.files)==null?void 0:O[0];if(!k)return;if(k.size>10*1024*1024){t({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(k.type)){t({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}u(!0);try{const R=new FormData;R.append("file",k);const M=await fetch("/api/membership/upload-payment-proof",{method:"POST",body:R,credentials:"include"});if(!M.ok)throw new Error("Upload failed");const L=await M.json();f({name:k.name,url:L.url}),t({title:"File uploaded successfully"})}catch{t({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{u(!1)}},_=()=>{if(!r){t({title:"Please select a membership tier",variant:"destructive"});return}g.mutate({tierDesired:r,paymentMethod:a,paymentAmount:PT[r]||0})},S=()=>{!v||!d||w.mutate({id:v.id,data:{paymentProofUrl:d.url,paymentReference:o}})},C=P=>{switch(P){case"PENDING":return s.jsxs(ue,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Bt,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"APPROVED":return s.jsxs(ue,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(Sn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ue,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(xv,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ue,{variant:"secondary",children:P})}};if(b)return s.jsx(se,{children:s.jsx(ae,{className:"p-6 flex items-center justify-center",children:s.jsx(Ie,{className:"w-6 h-6 animate-spin text-muted-foreground"})})});if(v){const P=!v.paymentProofUrl;return s.jsxs(se,{"data-testid":"card-pending-application",children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-5 h-5"}),"Your Membership Application"]}),s.jsx(It,{children:P?"Please complete your payment and upload proof to proceed":"Your application is being reviewed by our team"})]}),s.jsxs(ae,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[v.tierDesired," Membership"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied on ",v.createdAt?rs(new Date(v.createdAt),"PPP"):"N/A"]})]}),C(v.status||"PENDING")]}),P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"Bank Transfer Details"})]}),s.jsxs("div",{className:"grid gap-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Bank Name:"}),s.jsx("span",{className:"font-medium",children:m.bankName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Title:"}),s.jsx("span",{className:"font-medium",children:m.accountTitle})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),s.jsx("span",{className:"font-medium",children:m.accountNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"IBAN:"}),s.jsx("span",{className:"font-medium text-xs sm:text-sm",children:m.iban})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-bold text-primary",children:["PKR ",(v.paymentAmount||0).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"paymentReference",children:"Payment Reference / Transaction ID"}),s.jsx(X,{id:"paymentReference",value:o,onChange:k=>l(k.target.value),placeholder:"Enter your transaction reference number",className:"mt-1","data-testid":"input-payment-reference"})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Payment Proof (Screenshot/Receipt)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{ref:h,type:"file",accept:"image/*,.pdf",onChange:N,className:"hidden"}),s.jsxs($,{variant:"outline",onClick:()=>{var k;return(k=h.current)==null?void 0:k.click()},disabled:c,className:"w-full","data-testid":"button-upload-proof",children:[c?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(lr,{className:"w-4 h-4 mr-2"}),d?d.name:"Upload Payment Proof"]}),d&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-600",children:[s.jsx(Sn,{className:"w-4 h-4"}),s.jsxs("span",{children:["File uploaded: ",d.name]})]})]})]}),s.jsxs($,{onClick:S,disabled:!d||w.isPending,className:"w-full","data-testid":"button-submit-proof",children:[w.isPending&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Submit Payment Proof"]})]})]}),!P&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[s.jsx(ts,{className:"w-10 h-10 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment proof has been submitted. Our team will review your application and notify you once approved."})]})]})]})}return s.jsxs(se,{"data-testid":"card-new-application",children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-5 h-5"}),"Apply for Membership"]}),s.jsx(It,{children:"Choose your membership tier and complete the payment to join The Quarterdeck"})]}),s.jsxs(ae,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"tier",children:"Select Membership Tier"}),s.jsxs(kt,{value:r,onValueChange:n,children:[s.jsx(Nt,{className:"mt-1","data-testid":"select-tier",children:s.jsx(Ct,{placeholder:"Choose a membership tier"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"GOLD",children:"Gold Membership - PKR 15,000/month"}),s.jsx(Se,{value:"SILVER",children:"Silver Membership - PKR 5,000/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(kt,{value:a,onValueChange:i,children:[s.jsx(Nt,{className:"mt-1","data-testid":"select-payment-method",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(Se,{value:"cash",children:"Cash (at reception)"})]})]})]}),r&&s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"text-xl font-bold",children:["PKR ",(PT[r]||0).toLocaleString()]})]})}),s.jsxs($,{onClick:_,disabled:!r||g.isPending,className:"w-full","data-testid":"button-submit-application",children:[g.isPending&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Start Application"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After submitting, you'll receive bank details for payment. Upload your payment proof to complete the application."})]})]})}const Vue={clock:Bt,gift:jb,award:di,shield:gi,target:ca,zap:N3,heart:wb,ticket:bv,calendar:xr,trophy:ms,star:xa,crown:bb,users:Nr,check:pr,helpCircle:Ls};function que(e){if(!e)return Ls;const t=e.toLowerCase();return Vue[t]||Ls}const zue={FOUNDING:bb,GOLD:xa,SILVER:w3,GUEST:Nr},ET={FOUNDING:{bg:"bg-amber-500/10 dark:bg-amber-500/20",text:"text-amber-600 dark:text-amber-400",border:"border-amber-500/30"},GOLD:{bg:"bg-yellow-500/10 dark:bg-yellow-500/20",text:"text-yellow-600 dark:text-yellow-400",border:"border-yellow-500/30"},SILVER:{bg:"bg-gray-500/10 dark:bg-gray-500/20",text:"text-gray-600 dark:text-gray-400",border:"border-gray-500/30"},GUEST:{bg:"bg-blue-500/10 dark:bg-blue-500/20",text:"text-blue-600 dark:text-blue-400",border:"border-blue-500/30"}},Wue=[{id:"founding",name:"Founding Member",tier:"FOUNDING",tagline:"Limited & Exclusive",description:"For early supporters and investors who believe in our vision.",price:35e3,billingPeriod:"monthly",featured:!0,closed:!0,benefits:["Lifetime priority booking (14-day window)","25% discount on off-peak bookings (10 AM - 5 PM)","10 guest passes per month","Permanent credit bonus (10%)","VIP parking & locker","Invitation to all exclusive events","Founding member recognition wall"],isActive:!0,sortOrder:1},{id:"gold",name:"Gold Membership",tier:"GOLD",tagline:"Premium Access",description:"For serious athletes and frequent players who want the best experience.",price:15e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["7-day advance booking window","20% discount on off-peak bookings (10 AM - 5 PM)","4 guest passes per month","Priority event registration","15% off coaching & clinics","Free equipment rental (2x/month)","Access to member lounge"],isActive:!0,sortOrder:2},{id:"silver",name:"Silver Membership",tier:"SILVER",tagline:"Standard Access",description:"Perfect for recreational players who want regular access at great value.",price:5e3,billingPeriod:"monthly",featured:!1,closed:!1,benefits:["5-day advance booking window","10% discount on off-peak bookings (10 AM - 5 PM)","2 guest passes per month","10% off coaching & clinics","Member newsletter & updates","Discounted event entry"],isActive:!0,sortOrder:3},{id:"guest",name:"Pay-to-Play",tier:"GUEST",tagline:"Non-Member Access",description:"Try our facilities without commitment. Subject to availability.",price:0,billingPeriod:"per visit",featured:!1,closed:!1,benefits:["2-day advance booking window","Access after member priority","Equipment rental available","Guest registration required","Can be upgraded to membership"],isActive:!0,sortOrder:4}],Kue=[{feature:"Advance Booking Window",foundingValue:"14 days",goldValue:"7 days",silverValue:"5 days",guestValue:"2 days"},{feature:"Off-Peak Discount (10 AM - 5 PM)",foundingValue:"25%",goldValue:"20%",silverValue:"10%",guestValue:"None"},{feature:"Monthly Guest Passes",foundingValue:"10",goldValue:"4",silverValue:"2",guestValue:"N/A"},{feature:"Coaching Discount",foundingValue:"20%",goldValue:"15%",silverValue:"10%",guestValue:"None"},{feature:"Event Priority",foundingValue:"VIP",goldValue:"Priority",silverValue:"Standard",guestValue:"Last"}],Hue=[{icon:"clock",title:"Priority Booking",description:"Book your preferred time slots ahead of non-members"},{icon:"gift",title:"Exclusive Discounts",description:"Save on bookings, events, and coaching sessions"},{icon:"award",title:"Guest Passes",description:"Share the experience with friends and family"},{icon:"shield",title:"Member-Only Events",description:"Access exclusive tournaments and social gatherings"}];function Gue(){qr({title:"Membership Plans",description:"Join The Quarterdeck with exclusive membership tiers - Founding, Gold, Silver, and Guest. Enjoy priority booking, discounts, and premium benefits at Islamabad's premier sports complex."});const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[,o]=Mn(),{isAuthenticated:l}=bl(),{data:c}=de({queryKey:["/api/memberships/my"],enabled:l}),u=g=>{l?c?o("/profile?tab=membership"):i(!0):o(`/signup?redirect=/membership&tier=${g.tier}`)},{getValue:d}=Vr(["page_membership_title","page_membership_subtitle","page_membership_why_title","page_membership_why_description","page_membership_tiers_title","page_membership_tiers_description","page_membership_ready_title","page_membership_ready_description","page_membership_create_cta","page_membership_contact_cta"],Ae),{data:f,isLoading:h}=de({queryKey:["/api/pricing-tiers"],queryFn:async()=>{const g=await fetch("/api/pricing-tiers");if(!g.ok)throw new Error("Failed to fetch pricing tiers");return g.json()}}),{data:p}=de({queryKey:["/api/comparison-features"]}),{data:y}=de({queryKey:["/api/member-benefits"]}),m=x.useMemo(()=>p&&p.length>0?p:Kue,[p]),j=x.useMemo(()=>y&&y.length>0?y:Hue,[y]),b=x.useMemo(()=>f&&f.length>0?f.filter(g=>g.isActive).sort((g,w)=>(g.sortOrder||0)-(w.sortOrder||0)).map(g=>({...g,tagline:g.tier==="FOUNDING"?"Limited & Exclusive":g.tier==="GOLD"?"Premium Access":g.tier==="SILVER"?"Standard Access":"Non-Member Access",closed:g.tier==="FOUNDING"})):Wue,[f]),v=g=>{t(e===g?null:g)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:d("page_membership_title"),subtitle:d("page_membership_subtitle"),testId:"text-membership-title"}),s.jsxs("div",{className:"qd-container py-8",children:[s.jsx(Ga,{}),s.jsxs("section",{className:"mt-8 mb-16",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:d("page_membership_why_title")}),s.jsx("p",{className:"text-muted-foreground",children:d("page_membership_why_description")})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:j.map((g,w)=>{const N=que(g.icon);return s.jsx(se,{className:"text-center","data-testid":`card-benefit-${w}`,children:s.jsxs(ae,{className:"p-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(N,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold mb-2",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})},w)})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:d("page_membership_tiers_title")}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:d("page_membership_tiers_description")})]}),h?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[1,2,3,4].map(g=>s.jsx(se,{children:s.jsxs(ae,{className:"p-6 space-y-4",children:[s.jsx(Le,{className:"h-8 w-24"}),s.jsx(Le,{className:"h-10 w-32"}),s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-3/4"})]})},g))}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:b.map(g=>{var S,C,P,k;const w=zue[g.tier]||xa,N=ET[g.tier]||ET.SILVER,_=e===g.id;return s.jsxs(se,{className:`relative overflow-visible ${g.featured?"ring-2 ring-primary":""}`,"data-testid":`card-tier-${(S=g.tier)==null?void 0:S.toLowerCase()}`,children:[g.featured&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Most Popular"})}),g.closed&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs font-medium px-3 py-1 rounded-full",children:"Closed"})}),s.jsxs(ae,{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${N.bg} flex items-center justify-center mb-4`,children:s.jsx(w,{className:`w-6 h-6 ${N.text}`})}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:g.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:g.tagline}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:g.price===0?"Free":`PKR ${g.price.toLocaleString()}`}),g.price>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",g.billingPeriod]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:g.description}),s.jsxs("button",{onClick:()=>v(g.id),className:"flex items-center gap-1 text-sm text-primary hover:underline mb-4","data-testid":`button-toggle-benefits-${(C=g.tier)==null?void 0:C.toLowerCase()}`,children:[_?"Hide":"View"," Benefits",_?s.jsx(Sc,{className:"w-4 h-4"}):s.jsx(ma,{className:"w-4 h-4"})]}),_&&s.jsx("ul",{className:"space-y-2 mb-4 animate-qd-fade-in",children:(P=g.benefits)==null?void 0:P.map((A,O)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(pr,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{children:A})]},O))}),g.closed?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Registration Closed"}):s.jsx($,{variant:g.featured?"default":"outline",className:"w-full",onClick:()=>u(g),"data-testid":`button-join-${(k=g.tier)==null?void 0:k.toLowerCase()}`,children:l?c?"View My Membership":"Apply for Membership":g.price===0?"Register Free":"Join Now"})]})]},g.id)})})]}),s.jsxs("section",{className:"mb-16 max-w-5xl mx-auto",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 text-lg font-semibold mx-auto mb-6 hover:text-primary transition-colors","data-testid":"button-toggle-comparison",children:["Compare Membership Tiers",r?s.jsx(Sc,{className:"w-5 h-5"}):s.jsx(ma,{className:"w-5 h-5"})]}),r&&s.jsx(se,{className:"overflow-visible animate-qd-fade-in",children:s.jsx(ae,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-center p-4 font-medium text-amber-600 dark:text-amber-400",children:"Founding"}),s.jsx("th",{className:"text-center p-4 font-medium text-yellow-600 dark:text-yellow-400",children:"Gold"}),s.jsx("th",{className:"text-center p-4 font-medium text-gray-600 dark:text-gray-400",children:"Silver"}),s.jsx("th",{className:"text-center p-4 font-medium text-blue-600 dark:text-blue-400",children:"Guest"})]})}),s.jsx("tbody",{children:m.map((g,w)=>s.jsxs("tr",{className:"border-b last:border-b-0",children:[s.jsx("td",{className:"p-4 text-sm",children:g.feature}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.foundingValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.goldValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.silverValue}),s.jsx("td",{className:"text-center p-4 text-sm font-medium",children:g.guestValue})]},w))})]})})})})]}),s.jsx(yt,{open:a,onOpenChange:i,children:s.jsxs(vt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(bt,{children:[s.jsx(jt,{children:"Apply for Membership"}),s.jsx(_n,{children:"Choose your membership tier and complete the payment to join The Quarterdeck"})]}),s.jsx(Bue,{onSuccess:()=>i(!1)})]})}),s.jsx("section",{className:"text-center max-w-2xl mx-auto",children:s.jsx(se,{children:s.jsxs(ae,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:d("page_membership_ready_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:d("page_membership_ready_description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l?c?s.jsx(ge,{href:"/profile?tab=membership",children:s.jsx($,{"data-testid":"button-view-my-membership",children:"View My Membership"})}):s.jsx($,{onClick:()=>i(!0),"data-testid":"button-apply-membership",children:"Apply for Membership"}):s.jsx(ge,{href:"/signup?redirect=/membership",children:s.jsx($,{"data-testid":"button-create-account",children:d("page_membership_create_cta")})}),s.jsx(ge,{href:"/contact",children:s.jsx($,{variant:"outline","data-testid":"button-contact-membership",children:d("page_membership_contact_cta")})})]})]})})})]})]}),s.jsx(or,{})]})}function Que(){qr({title:"Certifications & Training",description:"Get certified for specialized facilities at The Quarterdeck. Enroll in training classes and obtain required certifications for Air Rifle Range and other facilities."});const{isAuthenticated:e}=bl(),{toast:t}=mt(),[r,n]=x.useState("overview"),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),{data:d=[],isLoading:f}=de({queryKey:["/api/certifications"]}),{data:h=[],isLoading:p}=de({queryKey:["/api/certification-classes"]}),{data:y=[],isLoading:m}=de({queryKey:["/api/my-certifications"],enabled:e}),{data:j=[],isLoading:b}=de({queryKey:["/api/my-enrollments"],enabled:e}),v=be({mutationFn:async k=>{const A=await fetch(`/api/certification-classes/${k}/enroll`,{method:"POST",credentials:"include"});if(!A.ok){const O=await A.json();throw new Error(O.message||"Enrollment failed")}return A.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-enrollments"]}),re.invalidateQueries({queryKey:["/api/certification-classes"]}),t({title:"Success",description:"You have been enrolled in the class."})},onError:k=>{t({title:"Error",description:k.message,variant:"destructive"})}}),g=be({mutationFn:async k=>{const A=await fetch("/api/my-certifications/submit",{method:"POST",body:k,credentials:"include"});if(!A.ok){const O=await A.json();throw new Error(O.message||"Submission failed")}return A.json()},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/my-certifications"]}),i(!1),u({certificateNumber:"",expiresAt:"",notes:"",proofFile:null}),l(null),t({title:"Submitted",description:"Your certification has been submitted for verification."})},onError:k=>{t({title:"Error",description:k.message,variant:"destructive"})}}),w=()=>{if(!o)return;const k=new FormData;k.append("certificationId",o.id),c.certificateNumber&&k.append("certificateNumber",c.certificateNumber),c.expiresAt&&k.append("expiresAt",c.expiresAt),c.notes&&k.append("notes",c.notes),c.proofFile&&k.append("proofDocument",c.proofFile),g.mutate(k)},N=k=>d.find(A=>A.id===k.certificationId),_=k=>j.some(A=>A.classId===k),S=k=>{switch(k){case"ACTIVE":return s.jsxs(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:[s.jsx(Sn,{className:"w-3 h-3 mr-1"})," Active"]});case"PENDING":return s.jsxs(ue,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:[s.jsx(Bt,{className:"w-3 h-3 mr-1"})," Pending Verification"]});case"REVOKED":case"EXPIRED":return s.jsxs(ue,{className:"bg-red-500/20 text-red-700 dark:text-red-400",children:[s.jsx(Gp,{className:"w-3 h-3 mr-1"})," ",k]});default:return s.jsx(ue,{variant:"secondary",children:k})}},C=y.filter(k=>k.status==="ACTIVE"),P=y.filter(k=>k.status==="PENDING");return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsx(qn,{title:"Certifications & Training",subtitle:"Some facilities require safety certifications. View available classes or submit your existing credentials."}),s.jsx(Ga,{items:[{label:"Home",href:"/"},{label:"Certifications"}]}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:s.jsxs(Vs,{value:r,onValueChange:n,className:"space-y-6",children:[s.jsxs(ws,{className:"grid w-full max-w-md mx-auto grid-cols-3",children:[s.jsx(Lt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Lt,{value:"classes","data-testid":"tab-classes",children:"Classes"}),s.jsx(Lt,{value:"my-certs","data-testid":"tab-my-certs",children:"My Certs"})]}),s.jsxs(Ft,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Available Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"These certifications may be required for certain facilities"})]}),f?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(k=>s.jsx(se,{children:s.jsx(ae,{className:"p-6",children:s.jsx(Le,{className:"h-32"})})},k))}):d.length===0?s.jsx(se,{children:s.jsx(ae,{className:"p-8 text-center text-muted-foreground",children:"No certifications available at this time."})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(k=>{const A=C.some(R=>R.certificationId===k.id),O=P.some(R=>R.certificationId===k.id);return s.jsxs(se,{"data-testid":`card-certification-${k.id}`,className:A?"border-green-500/50":"",children:[s.jsxs(Be,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(di,{className:"w-8 h-8 text-primary shrink-0"}),A&&s.jsx(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Certified"}),O&&s.jsx(ue,{className:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:"Pending"})]}),s.jsx(We,{className:"text-lg",children:k.name}),s.jsx(It,{children:k.description})]}),s.jsxs(ae,{className:"space-y-3",children:[k.validityMonths&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Valid for ",k.validityMonths," months"]})]}),k.facilityId&&s.jsx(ue,{variant:"destructive",children:"Required for facility access"})]}),s.jsx(Bv,{children:e?A?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Certified"}):O?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Verification Pending"}):s.jsxs($,{className:"w-full",onClick:()=>{l(k),i(!0)},"data-testid":`button-submit-cert-${k.id}`,children:[s.jsx(lr,{className:"w-4 h-4 mr-2"})," Submit Certification"]}):s.jsx($,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to submit"})})})]},k.id)})})]}),s.jsxs(Ft,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Upcoming Training Classes"}),s.jsx("p",{className:"text-muted-foreground",children:"Enroll in a class to get certified at our facility"})]}),p?s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[1,2].map(k=>s.jsx(se,{children:s.jsx(ae,{className:"p-6",children:s.jsx(Le,{className:"h-40"})})},k))}):h.length===0?s.jsx(se,{children:s.jsx(ae,{className:"p-8 text-center text-muted-foreground",children:"No upcoming classes scheduled. Check back later."})}):s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:h.map(k=>{const A=N(k),O=_(k.id),R=(k.enrolledCount||0)>=(k.capacity||1/0);return s.jsxs(se,{"data-testid":`card-class-${k.id}`,children:[s.jsxs(Be,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[s.jsx(bN,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(ue,{variant:"secondary",children:(A==null?void 0:A.name)||"Certification"}),O&&s.jsx(ue,{className:"bg-green-500/20 text-green-700 dark:text-green-400",children:"Enrolled"})]})]}),s.jsx(We,{children:k.title}),s.jsx(It,{children:k.description})]}),s.jsxs(ae,{className:"space-y-3",children:[k.scheduledDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:rs(new Date(k.scheduledDate),"PPP 'at' p")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Nr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[k.enrolledCount||0," / ",k.capacity||"Unlimited"," enrolled"]})]}),k.location&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",k.location]}),k.price&&Number(k.price)>0&&s.jsxs("div",{className:"text-lg font-semibold",children:["PKR ",Number(k.price).toLocaleString()]})]}),s.jsx(Bv,{children:e?O?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Already Enrolled"}):R?s.jsx($,{variant:"secondary",className:"w-full",disabled:!0,children:"Class Full"}):s.jsx($,{className:"w-full",onClick:()=>v.mutate(k.id),disabled:v.isPending,"data-testid":`button-enroll-${k.id}`,children:"Enroll Now"}):s.jsx($,{variant:"outline",className:"w-full",asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign in to enroll"})})})]},k.id)})})]}),s.jsx(Ft,{value:"my-certs",className:"space-y-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"My Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your certifications and class enrollments"})]}),m||b?s.jsx("div",{className:"space-y-4",children:[1,2].map(k=>s.jsx(se,{children:s.jsx(ae,{className:"p-6",children:s.jsx(Le,{className:"h-20"})})},k))}):y.length===0&&j.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Qk,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"You don't have any certifications yet."}),s.jsx("p",{className:"mt-2",children:"Submit your existing certificates or enroll in a training class."})]})}):s.jsxs("div",{className:"space-y-6",children:[y.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Issued Certifications"}),y.map(k=>{const A=d.find(O=>O.id===k.certificationId);return s.jsx(se,{"data-testid":`card-my-cert-${k.id}`,children:s.jsxs(ae,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(di,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(A==null?void 0:A.name)||"Certification"}),k.certificateNumber&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",k.certificateNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[S(k.status),k.expiresAt&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Expires: ",rs(new Date(k.expiresAt),"PP")]})]})]})},k.id)})]}),j.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Class Enrollments"}),j.map(k=>{const A=h.find(O=>O.id===k.classId);return s.jsx(se,{"data-testid":`card-enrollment-${k.id}`,children:s.jsxs(ae,{className:"p-4 flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bN,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(A==null?void 0:A.title)||"Training Class"}),(A==null?void 0:A.scheduledDate)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:rs(new Date(A.scheduledDate),"PPP 'at' p")})]})]}),s.jsx(ue,{variant:"secondary",children:k.status})]})},k.id)})]})]})]}):s.jsx(se,{children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in to view your certifications"}),s.jsx($,{asChild:!0,children:s.jsx("a",{href:"/login",children:"Sign In"})})]})})})]})}),s.jsx(yt,{open:a,onOpenChange:i,children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[s.jsx(jt,{children:"Submit Certification"}),s.jsxs(_n,{children:["Upload proof of your ",o==null?void 0:o.name," certification for verification."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"certificateNumber",children:"Certificate Number (optional)"}),s.jsx(X,{id:"certificateNumber",value:c.certificateNumber,onChange:k=>u(A=>({...A,certificateNumber:k.target.value})),placeholder:"Enter your certificate number","data-testid":"input-certificate-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"expiresAt",children:"Expiration Date (optional)"}),s.jsx(X,{id:"expiresAt",type:"date",value:c.expiresAt,onChange:k=>u(A=>({...A,expiresAt:k.target.value})),"data-testid":"input-expires-at"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"proofFile",children:"Proof Document"}),s.jsx(X,{id:"proofFile",type:"file",accept:"image/*,.pdf",onChange:k=>u(A=>{var O;return{...A,proofFile:((O=k.target.files)==null?void 0:O[0])||null}}),"data-testid":"input-proof-file"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload an image or PDF of your certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"notes",children:"Additional Notes (optional)"}),s.jsx(ct,{id:"notes",value:c.notes,onChange:k=>u(A=>({...A,notes:k.target.value})),placeholder:"Any additional information...","data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx($,{onClick:w,disabled:g.isPending,"data-testid":"button-submit-certification",children:g.isPending?"Submitting...":"Submit for Verification"})]})]})}),s.jsx(or,{})]})}function Yue(){const[,e]=Mn();return x.useEffect(()=>{e("/roadmap")},[e]),null}function Xue(){return qr({title:"Page Not Found",description:"The page you're looking for doesn't exist or has been moved. Visit The Quarterdeck homepage to explore our sports complex."}),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center py-16",children:s.jsx(se,{className:"w-full max-w-lg mx-4",children:s.jsxs(ae,{className:"pt-8 pb-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl font-bold text-muted-foreground mb-2",children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2","data-testid":"text-error-title",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Here are some helpful links:"}),s.jsx(ge,{href:"/",children:s.jsxs($,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-home",children:[s.jsx(Yk,{className:"h-4 w-4"}),"Go to Homepage"]})}),s.jsx(ge,{href:"/facilities",children:s.jsxs($,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-facilities",children:[s.jsx(xr,{className:"h-4 w-4"}),"View Facilities"]})}),s.jsx(ge,{href:"/#membership",children:s.jsxs($,{variant:"outline",className:"w-full justify-start gap-2","data-testid":"link-membership",children:[s.jsx(Nr,{className:"h-4 w-4"}),"Membership Plans"]})})]}),s.jsx("div",{className:"text-center",children:s.jsxs($,{variant:"ghost",onClick:()=>window.history.back(),className:"gap-2","data-testid":"button-go-back",children:[s.jsx(On,{className:"h-4 w-4"}),"Go Back"]})})]})})}),s.jsx(or,{})]})}function oB(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Jue(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function Zue(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function ede(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function tde(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function lB(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function rde(e){return uo({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const nde=[{id:"twitter",name:"X",icon:lB},{id:"github",name:"GitHub",icon:Jue},{id:"facebook",name:"Facebook",icon:oB}];function cB({mode:e}){const{signInWithOAuth:t,isSupabaseConfigured:r}=Mf(),{toast:n}=mt(),[a,i]=x.useState(null),o=async c=>{if(!r){n({title:"Configuration Error",description:"Social login is not properly configured.",variant:"destructive"});return}i(c);try{const{error:u}=await t(c);u&&n({title:`${c.charAt(0).toUpperCase()+c.slice(1)} login failed`,description:u.message||"Failed to connect with provider",variant:"destructive"})}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{i(null)}},l=e==="signin"?"Sign in":"Sign up";return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:nde.map(c=>{const u=c.icon,d=a===c.id;return s.jsxs($,{type:"button",variant:"outline",className:"gap-2",disabled:a!==null,onClick:()=>o(c.id),"data-testid":`button-oauth-${c.id}`,children:[d?s.jsx(Ie,{className:"h-4 w-4 animate-spin"}):s.jsx(u,{className:"h-4 w-4"}),c.name]},c.id)})}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l," with a social account for instant verification"]})]})}var sde=({as:e="div",...t},r)=>s.jsx(e,{...t,ref:r}),ade=x.forwardRef(sde),ide="https://challenges.cloudflare.com/turnstile/v0/api.js",dC="cf-turnstile-script",ode="cf-turnstile",fC="onloadTurnstileCallback",uB=e=>!!document.getElementById(e),lde=({render:e="explicit",onLoadCallbackName:t=fC,scriptOptions:{nonce:r="",defer:n=!0,async:a=!0,id:i="",appendTo:o,onError:l,crossOrigin:c=""}={}})=>{let u=i||dC;if(uB(u))return;let d=document.createElement("script");d.id=u,d.src=`${ide}?onload=${t}&render=${e}`,!document.querySelector(`script[src="${d.src}"]`)&&(d.defer=!!n,d.async=!!a,r&&(d.nonce=r),c&&(d.crossOrigin=c),l&&(d.onerror=l,delete window[t]),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},Tl={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function cde(e){if(e!=="invisible"&&e!=="interactionOnly")return e}function ude(e=dC){let[t,r]=x.useState(!1);return x.useEffect(()=>{let n=()=>{uB(e)&&r(!0)},a=new MutationObserver(n);return a.observe(document,{childList:!0,subtree:!0}),n(),()=>{a.disconnect()}},[e]),t}var im="unloaded",dB,dde=new Promise((e,t)=>{dB={resolve:e,reject:t},im==="ready"&&e(void 0)}),fde=(e=fC)=>(im==="unloaded"&&(im="loading",window[e]=()=>{dB.resolve(),im="ready",delete window[e]}),dde),hC=x.forwardRef((e,t)=>{let{scriptOptions:r,options:n={},siteKey:a,onWidgetLoad:i,onSuccess:o,onExpire:l,onError:c,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h,onLoadScript:p,id:y,style:m,as:j="div",injectScript:b=!0,rerenderOnCallbackChange:v=!1,...g}=e,w=n.size,N=x.useCallback(()=>typeof w>"u"?{}:n.execution==="execute"?Tl.invisible:n.appearance==="interaction-only"?Tl.interactionOnly:Tl[w],[n.execution,w,n.appearance]),[_,S]=x.useState(N()),C=x.useRef(null),[P,k]=x.useState(!1),A=x.useRef(void 0),O=x.useRef(!1),R=y||ode,M=x.useRef({onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h});x.useEffect(()=>{v||(M.current={onSuccess:o,onError:c,onExpire:l,onBeforeInteractive:u,onAfterInteractive:d,onUnsupported:f,onTimeout:h})});let L=(r==null?void 0:r.id)||dC,T=ude(L),W=(r==null?void 0:r.onLoadCallbackName)||fC,E=n.appearance||"always",D=x.useMemo(()=>({sitekey:a,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:cde(w),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:J=>{var I,Y;O.current=!0,v?o==null||o(J):(Y=(I=M.current).onSuccess)==null||Y.call(I,J)},"error-callback":v?c:(...J)=>{var I,Y;return(Y=(I=M.current).onError)==null?void 0:Y.call(I,...J)},"expired-callback":v?l:(...J)=>{var I,Y;return(Y=(I=M.current).onExpire)==null?void 0:Y.call(I,...J)},"before-interactive-callback":v?u:(...J)=>{var I,Y;return(Y=(I=M.current).onBeforeInteractive)==null?void 0:Y.call(I,...J)},"after-interactive-callback":v?d:(...J)=>{var I,Y;return(Y=(I=M.current).onAfterInteractive)==null?void 0:Y.call(I,...J)},"unsupported-callback":v?f:(...J)=>{var I,Y;return(Y=(I=M.current).onUnsupported)==null?void 0:Y.call(I,...J)},"timeout-callback":v?h:(...J)=>{var I,Y;return(Y=(I=M.current).onTimeout)==null?void 0:Y.call(I,...J)}}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,a,w,v,v?o:null,v?c:null,v?l:null,v?u:null,v?d:null,v?f:null,v?h:null]),G=x.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return x.useEffect(function(){b&&!P&&lde({onLoadCallbackName:W,scriptOptions:{...r,id:L}})},[b,P,r,L]),x.useEffect(function(){im!=="ready"&&fde(W).then(()=>k(!0)).catch(console.error)},[]),x.useEffect(function(){if(!C.current||!P)return;let J=!1;return(async()=>{if(J||!C.current)return;let I=window.turnstile.render(C.current,D);A.current=I,A.current&&(i==null||i(A.current))})(),()=>{J=!0,A.current&&(window.turnstile.remove(A.current),O.current=!1)}},[R,P,D]),x.useImperativeHandle(t,()=>{let{turnstile:J}=window;return{getResponse(){if(!(J!=null&&J.getResponse)||!A.current||!G()){console.warn("Turnstile has not been loaded");return}return J.getResponse(A.current)},async getResponsePromise(I=3e4,Y=100){return new Promise((V,ee)=>{let pe,te=async()=>{if(O.current&&window.turnstile&&A.current)try{let ve=window.turnstile.getResponse(A.current);return pe&&clearTimeout(pe),ve?V(ve):ee(new Error("No response received"))}catch(ve){return pe&&clearTimeout(pe),console.warn("Failed to get response",ve),ee(new Error("Failed to get response"))}pe||(pe=setTimeout(()=>{pe&&clearTimeout(pe),ee(new Error("Timeout"))},I)),await new Promise(ve=>setTimeout(ve,Y)),await te()};te()})},reset(){if(!(J!=null&&J.reset)||!A.current||!G()){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&S(Tl.invisible);try{O.current=!1,J.reset(A.current)}catch(I){console.warn(`Failed to reset Turnstile widget ${A}`,I)}},remove(){if(!(J!=null&&J.remove)||!A.current||!G()){console.warn("Turnstile has not been loaded");return}S(Tl.invisible),O.current=!1,J.remove(A.current),A.current=null},render(){if(!(J!=null&&J.render)||!C.current||!G()||A.current){console.warn("Turnstile has not been loaded or container not found");return}let I=J.render(C.current,D);return A.current=I,A.current&&(i==null||i(A.current)),n.execution!=="execute"&&S(w?Tl[w]:{}),I},execute(){if(n.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!(J!=null&&J.execute)||!C.current||!A.current||!G()){console.warn("Turnstile has not been loaded or container not found");return}J.execute(C.current,D),S(w?Tl[w]:{})},isExpired(){return!(J!=null&&J.isExpired)||!A.current||!G()?(console.warn("Turnstile has not been loaded"),!1):J.isExpired(A.current)}}},[A,n.execution,w,D,C,G,P,i]),x.useEffect(()=>{T&&!P&&window.turnstile&&k(!0)},[P,T]),x.useEffect(()=>{S(N())},[n.execution,w,E]),x.useEffect(()=>{!T||typeof p!="function"||p()},[T]),s.jsx(ade,{ref:C,as:j,id:R,style:{..._,...m},...g})});hC.displayName="Turnstile";const hde=ba({email:gt().email("Please enter a valid email address"),password:gt().min(1,"Password is required")});function mde(){const[,e]=Mn(),{toast:t}=mt(),{signIn:r,isSupabaseConfigured:n,isLoading:a}=Mf(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{fetch("/api/public-config").then(j=>j.json()).then(j=>{j.turnstileSiteKey&&h(j.turnstileSiteKey)}).catch(()=>{})},[]);const y=qs({resolver:zs(hde),defaultValues:{email:"",password:""}}),m=async j=>{var b;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(f&&!u){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}c(!0);try{const{error:v,requiresEmailVerification:g}=await r(j.email,j.password);v?(t(g?{title:"Email Verification Required",description:"Please check your inbox and verify your email address before signing in.",variant:"destructive"}:{title:"Login failed",description:v.message||"Invalid email or password",variant:"destructive"}),(b=p.current)==null||b.reset(),d(null)):(t({title:"Welcome back!",description:"You have successfully logged in."}),e("/"))}catch{t({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{c(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(se,{className:"w-full max-w-md",children:s.jsx(ae,{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(ge,{href:"/",children:s.jsxs($,{variant:"ghost",size:"sm",className:"gap-1","data-testid":"button-back",children:[s.jsx(On,{className:"w-4 h-4"}),"Back"]})}),s.jsx(ge,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})}),s.jsx("div",{className:"w-16"})]}),s.jsx(We,{className:"text-2xl font-bold",children:"Welcome Back"}),s.jsx(It,{children:"Sign in to your Quarterdeck account"})]}),s.jsxs(ae,{children:[s.jsx(Ks,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(m),className:"space-y-4",children:[s.jsx(et,{control:y.control,name:"email",render:({field:j})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...j})}),s.jsx(nt,{})]})}),s.jsx(et,{control:y.control,name:"password",render:({field:j})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(X,{type:i?"text":"password",placeholder:"Enter your password","data-testid":"input-password",...j}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ge,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:underline","data-testid":"link-forgot-password",children:"Forgot password?"})}),f&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(hC,{ref:p,siteKey:f,options:{theme:"dark"},onSuccess:j=>d(j),onError:()=>d(null),onExpire:()=>d(null)})}),s.jsx($,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-login",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(cB,{mode:"signin"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),s.jsx(ge,{href:"/signup",className:"font-medium hover:underline","data-testid":"link-signup",children:"Sign up"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsx(Be,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(ae,{children:[s.jsxs(Tc,{variant:"destructive",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx(Ic,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/",children:s.jsx($,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}var p0="Checkbox",[pde]=gn(p0),[gde,mC]=pde(p0);function xde(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ss({prop:r,defaultProp:a??!1,onChange:c,caller:p0}),[y,m]=x.useState(null),[j,b]=x.useState(null),v=x.useRef(!1),g=y?!!o||!!y.closest("form"):!0,w={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:nl(a)?!1:a,isFormControl:g,bubbleInput:j,setBubbleInput:b};return s.jsx(gde,{scope:t,...w,children:vde(f)?f(w):n})}var fB="CheckboxTrigger",hB=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=mC(fB,e),m=ut(a,d),j=x.useRef(c);return x.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const v=()=>f(j.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[i,f]),s.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":nl(c)?"mixed":c,"aria-required":u,"data-state":vB(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:Ne(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ne(r,b=>{f(v=>nl(v)?!0:!v),y&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});hB.displayName=fB;var pC=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(xde,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(hB,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(xB,{__scopeCheckbox:r})]})})});pC.displayName=p0;var mB="CheckboxIndicator",pB=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=mC(mB,r);return s.jsx(rn,{present:n||nl(i.checked)||i.checked===!0,children:s.jsx(Re.span,{"data-state":vB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pB.displayName=mB;var gB="CheckboxBubbleInput",xB=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=mC(gB,e),y=ut(r,p),m=o0(i),j=Eb(n);x.useEffect(()=>{const v=h;if(!v)return;const g=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(g,"checked").set,_=!a.current;if(m!==i&&N){const S=new Event("click",{bubbles:_});v.indeterminate=nl(i),N.call(v,nl(i)?!1:i),v.dispatchEvent(S)}},[h,m,i,a]);const b=x.useRef(nl(i)?!1:i);return s.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xB.displayName=gB;function vde(e){return typeof e=="function"}function nl(e){return e==="indeterminate"}function vB(e){return nl(e)?"indeterminate":e?"checked":"unchecked"}const yB=x.forwardRef(({className:e,...t},r)=>s.jsx(pC,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(pB,{className:je("flex items-center justify-center text-current"),children:s.jsx(pr,{className:"h-4 w-4"})})}));yB.displayName=pC.displayName;const yde=ba({email:gt().email("Please enter a valid email address"),password:gt().min(8,"Password must be at least 8 characters"),confirmPassword:gt(),firstName:gt().min(1,"First name is required"),lastName:gt().min(1,"Last name is required"),phone:gt().optional(),termsAccepted:rC().refine(e=>e===!0,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function bde(){const[,e]=Mn(),{toast:t}=mt(),{signUp:r,isSupabaseConfigured:n,isLoading:a}=Mf(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,y]=x.useState(null),m=x.useRef(null);x.useEffect(()=>{fetch("/api/public-config").then(v=>v.json()).then(v=>{v.turnstileSiteKey&&y(v.turnstileSiteKey)}).catch(()=>{})},[]);const j=qs({resolver:zs(yde),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",termsAccepted:!1}}),b=async v=>{var g;if(!n){t({title:"Configuration Error",description:"Authentication is not properly configured. Please contact support.",variant:"destructive"});return}if(p&&!f){t({title:"Verification Required",description:"Please complete the security verification.",variant:"destructive"});return}d(!0);try{const{error:w}=await r(v.email,v.password,{firstName:v.firstName,lastName:v.lastName});w?(t({title:"Signup failed",description:w.message||"Failed to create account",variant:"destructive"}),(g=m.current)==null||g.reset(),h(null)):(t({title:"Account created!",description:"Please check your email to verify your account."}),e("/login"))}catch{t({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(se,{className:"w-full max-w-md",children:s.jsx(ae,{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ge,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Create Account"}),s.jsx(It,{children:"Join The Quarterdeck community"})]}),s.jsxs(ae,{children:[s.jsx(Ks,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(b),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{control:j.control,name:"firstName",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"First Name"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"John","data-testid":"input-first-name",...v})}),s.jsx(nt,{})]})}),s.jsx(et,{control:j.control,name:"lastName",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Last Name"}),s.jsx(Je,{children:s.jsx(X,{placeholder:"Doe","data-testid":"input-last-name",...v})}),s.jsx(nt,{})]})})]}),s.jsx(et,{control:j.control,name:"email",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...v})}),s.jsx(nt,{})]})}),s.jsx(et,{control:j.control,name:"phone",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Phone (Optional)"}),s.jsx(Je,{children:s.jsx(X,{type:"tel",placeholder:"+92 300 1234567","data-testid":"input-phone",...v})}),s.jsx(nt,{})]})}),s.jsx(et,{control:j.control,name:"password",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(X,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...v}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(et,{control:j.control,name:"confirmPassword",render:({field:v})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Confirm Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(X,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...v}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(et,{control:j.control,name:"termsAccepted",render:({field:v})=>s.jsxs(Qe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Je,{children:s.jsx(yB,{checked:v.value,onCheckedChange:v.onChange,"data-testid":"checkbox-terms"})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(Xe,{className:"text-sm font-normal",children:["I agree to the"," ",s.jsx(ge,{href:"/terms",className:"underline hover:no-underline","data-testid":"link-terms",children:"Terms of Service"})," ","and"," ",s.jsx(ge,{href:"/privacy",className:"underline hover:no-underline","data-testid":"link-privacy",children:"Privacy Policy"})]}),s.jsx(nt,{})]})]})}),p&&s.jsx("div",{className:"flex justify-center","data-testid":"turnstile-container",children:s.jsx(hC,{ref:m,siteKey:p,options:{theme:"dark"},onSuccess:v=>h(v),onError:()=>h(null),onExpire:()=>h(null)})}),s.jsx($,{type:"submit",className:"w-full",disabled:u,"data-testid":"button-signup",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),s.jsx("div",{className:"mt-6",children:s.jsx(cB,{mode:"signup"})}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(ge,{href:"/login",className:"font-medium hover:underline","data-testid":"link-login",children:"Sign in"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsx(Be,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Authentication Unavailable"})}),s.jsxs(ae,{children:[s.jsxs(Tc,{variant:"destructive",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx(Ic,{children:"Authentication services are currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/",children:s.jsx($,{variant:"outline","data-testid":"button-back-home",children:"Back to Home"})})})]})]})})}const jde=ba({email:gt().email("Please enter a valid email address")});function wde(){const{toast:e}=mt(),{resetPassword:t,isSupabaseConfigured:r}=Mf(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),l=qs({resolver:zs(jde),defaultValues:{email:""}}),c=async u=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}o(!0);try{const{error:d}=await t(u.email);d?e({title:"Error",description:d.message||"Failed to send reset email",variant:"destructive"}):a(!0)}catch{e({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}};return r?n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(Sn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(It,{children:"If an account exists with that email, we've sent password reset instructions."})]}),s.jsxs(ae,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 60 minutes."}),s.jsxs("p",{className:"mt-2",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{onClick:()=>a(!1),className:"font-medium underline hover:no-underline","data-testid":"button-try-again",children:"try again"})]})]}),s.jsx(ge,{href:"/login",children:s.jsxs($,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:[s.jsx(On,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(Ef,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Forgot Password?"}),s.jsx(It,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs(ae,{children:[s.jsx(Ks,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(et,{control:l.control,name:"email",render:({field:u})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Email"}),s.jsx(Je,{children:s.jsx(X,{type:"email",placeholder:"your@email.com","data-testid":"input-email",...u})}),s.jsx(nt,{})]})}),s.jsx($,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-send-reset",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(ge,{href:"/login",className:"text-sm text-muted-foreground hover:underline inline-flex items-center gap-1","data-testid":"link-back-to-login",children:[s.jsx(On,{className:"h-3 w-3"}),"Back to Sign In"]})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsx(Be,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(ae,{children:[s.jsxs(Tc,{variant:"destructive",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx(Ic,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/login",children:s.jsx($,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}const Nde=ba({password:gt().min(8,"Password must be at least 8 characters"),confirmPassword:gt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function _de(){Mn();const{toast:e}=mt(),{updatePassword:t,isSupabaseConfigured:r,isAuthenticated:n,isLoading:a}=Mf(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[p,y]=x.useState(!0),m=qs({resolver:zs(Nde),defaultValues:{password:"",confirmPassword:""}});x.useEffect(()=>{if(!a){const b=setTimeout(()=>{y(!1)},1e3);return()=>clearTimeout(b)}},[a]);const j=async b=>{if(!r){e({title:"Configuration Error",description:"Password reset is not available. Please contact support.",variant:"destructive"});return}h(!0);try{const{error:v}=await t(b.password);v?e({title:"Reset failed",description:v.message||"Failed to reset password",variant:"destructive"}):d(!0)}catch{e({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return p||a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(se,{className:"w-full max-w-md",children:s.jsxs(ae,{className:"flex flex-col items-center justify-center py-8 gap-3",children:[s.jsx(Ie,{className:"h-8 w-8 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying your session..."})]})})}):r?n?u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(Sn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Password Reset!"}),s.jsx(It,{children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsx(ae,{children:s.jsx(ge,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-go-to-login",children:"Sign In"})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ge,{href:"/",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#2a4060] to-[#1f2937] flex items-center justify-center","data-testid":"link-logo",children:s.jsx("span",{className:"text-white font-extrabold text-lg",children:"Q"})})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Reset Password"}),s.jsx(It,{children:"Enter your new password below"})]}),s.jsx(ae,{children:s.jsx(Ks,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(j),className:"space-y-4",children:[s.jsx(et,{control:m.control,name:"password",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"New Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(X,{type:i?"text":"password",placeholder:"Min. 8 characters","data-testid":"input-password",...b}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!i),"data-testid":"button-toggle-password",children:i?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx(et,{control:m.control,name:"confirmPassword",render:({field:b})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Confirm New Password"}),s.jsx(Je,{children:s.jsxs("div",{className:"relative",children:[s.jsx(X,{type:l?"text":"password",placeholder:"Confirm your password","data-testid":"input-confirm-password",...b}),s.jsx($,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>c(!l),"data-testid":"button-toggle-confirm-password",children:l?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(as,{className:"h-4 w-4"})})]})}),s.jsx(nt,{})]})}),s.jsx($,{type:"submit",className:"w-full",disabled:f,"data-testid":"button-reset-password",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Tn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Session Expired"}),s.jsx(It,{children:"Your password reset link has expired or is invalid. Please request a new one."})]}),s.jsxs(ae,{className:"space-y-4",children:[s.jsx(ge,{href:"/forgot-password",children:s.jsx($,{className:"w-full","data-testid":"button-request-new-link",children:"Request New Reset Link"})}),s.jsx(ge,{href:"/login",children:s.jsx($,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsx(Be,{className:"text-center",children:s.jsx(We,{className:"text-2xl font-bold",children:"Service Unavailable"})}),s.jsxs(ae,{children:[s.jsxs(Tc,{variant:"destructive",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx(Ic,{children:"Password reset is currently unavailable. Please try again later or contact support."})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ge,{href:"/login",children:s.jsx($,{variant:"outline","data-testid":"button-back-to-login",children:"Back to Sign In"})})})]})]})})}function Sde(){const[,e]=Mn(),{isAuthenticated:t,isLoading:r}=Mf(),[n,a]=x.useState("checking");return x.useEffect(()=>{(async()=>{const o=window.location.hash;o&&o.includes("access_token"),r||(t?(a("verified"),setTimeout(()=>{e("/")},2e3)):a("pending"))})()},[t,r,e]),n==="checking"||r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(se,{className:"w-full max-w-md",children:s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ie,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(We,{className:"text-2xl font-bold",children:"Verifying Email"}),s.jsx(It,{children:"Please wait while we verify your email address..."})]})})}):n==="verified"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(Sn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(It,{children:"Your email has been successfully verified. Redirecting you shortly..."})]}),s.jsx(ae,{children:s.jsx(ge,{href:"/",children:s.jsx($,{className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})})]})}):n==="error"||!RL()?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Tn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Verification Failed"}),s.jsx(It,{children:"This verification link is invalid or has expired."})]}),s.jsxs(ae,{className:"space-y-4",children:[s.jsx(ge,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})}),s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Need a new verification link? Sign up again or contact support."})]})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(Ef,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(It,{children:"We've sent a verification link to your email address. Click the link in the email to verify your account."})]}),s.jsxs(ae,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"The link will expire in 24 hours."}),s.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder."})]}),s.jsx(ge,{href:"/login",children:s.jsx($,{variant:"outline",className:"w-full","data-testid":"button-back-to-login",children:"Back to Sign In"})})]})]})})}function kde(){const[,e]=Mn(),[t,r]=x.useState("loading"),[n,a]=x.useState("");return x.useEffect(()=>{const o=setTimeout(async()=>{{r("error"),a("Authentication is not configured.");return}},100);return()=>clearTimeout(o)},[e]),t==="loading"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(se,{className:"w-full max-w-md",children:s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ie,{className:"h-12 w-12 animate-spin text-muted-foreground"})}),s.jsx(We,{className:"text-2xl font-bold",children:"Processing"}),s.jsx(It,{children:"Please wait while we complete your request..."})]})})}):t==="success"?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(se,{className:"w-full max-w-md",children:s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(Sn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Success!"}),s.jsx(It,{children:n})]})})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-md",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Tn,{className:"h-8 w-8 text-destructive"})})}),s.jsx(We,{className:"text-2xl font-bold",children:"Something Went Wrong"}),s.jsx(It,{children:n})]}),s.jsx(ae,{className:"space-y-4",children:s.jsx(ge,{href:"/login",children:s.jsx($,{className:"w-full","data-testid":"button-go-to-login",children:"Go to Sign In"})})})]})})}var AT=1,Cde=.9,Pde=.8,Ede=.17,Pw=.1,Ew=.999,Ade=.9999,Ode=.99,Tde=/[\\\/_+.#"@\[\(\{&]/,Ide=/[\\\/_+.#"@\[\(\{&]/g,Rde=/[\s-]/,bB=/[\s-]/g;function f_(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?AT:Ode;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,p,y;u>=0;)f=f_(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=AT:Tde.test(e.charAt(u-1))?(f*=Pde,p=e.slice(a,u-1).match(Ide),p&&a>0&&(f*=Math.pow(Ew,p.length))):Rde.test(e.charAt(u-1))?(f*=Cde,y=e.slice(a,u-1).match(bB),y&&a>0&&(f*=Math.pow(Ew,y.length))):(f*=Ede,a>0&&(f*=Math.pow(Ew,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=Ade)),(f<Pw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=f_(e,t,r,n,u+1,i+2,o),h*Pw>f&&(f=h*Pw)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function OT(e){return e.toLowerCase().replace(bB," ")}function Mde(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,f_(e,t,OT(e),OT(t),0,0,{})}var yh='[cmdk-group=""]',Aw='[cmdk-group-items=""]',$de='[cmdk-group-heading=""]',jB='[cmdk-item=""]',TT=`${jB}:not([aria-disabled="true"])`,h_="cmdk-item-select",$u="data-value",Dde=(e,t,r)=>Mde(e,t,r),wB=x.createContext(void 0),fg=()=>x.useContext(wB),NB=x.createContext(void 0),gC=()=>x.useContext(NB),_B=x.createContext(void 0),SB=x.forwardRef((e,t)=>{let r=Du(()=>{var I,Y;return{search:"",value:(Y=(I=e.value)!=null?I:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Du(()=>new Set),a=Du(()=>new Map),i=Du(()=>new Map),o=Du(()=>new Set),l=kB(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:y,disablePointerSelection:m=!1,vimBindings:j=!0,...b}=e,v=Jr(),g=Jr(),w=Jr(),N=x.useRef(null),_=Gde();$c(()=>{if(d!==void 0){let I=d.trim();r.current.value=I,S.emit()}},[d]),$c(()=>{_(6,R)},[]);let S=x.useMemo(()=>({subscribe:I=>(o.current.add(I),()=>o.current.delete(I)),snapshot:()=>r.current,setState:(I,Y,V)=>{var ee,pe,te,ve;if(!Object.is(r.current[I],Y)){if(r.current[I]=Y,I==="search")O(),k(),_(1,A);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(w);ie?ie.focus():(ee=document.getElementById(v))==null||ee.focus()}if(_(7,()=>{var ie;r.current.selectedItemId=(ie=M())==null?void 0:ie.id,S.emit()}),V||_(5,R),((pe=l.current)==null?void 0:pe.value)!==void 0){let ie=Y??"";(ve=(te=l.current).onValueChange)==null||ve.call(te,ie);return}}S.emit()}},emit:()=>{o.current.forEach(I=>I())}}),[]),C=x.useMemo(()=>({value:(I,Y,V)=>{var ee;Y!==((ee=i.current.get(I))==null?void 0:ee.value)&&(i.current.set(I,{value:Y,keywords:V}),r.current.filtered.items.set(I,P(Y,V)),_(2,()=>{k(),S.emit()}))},item:(I,Y)=>(n.current.add(I),Y&&(a.current.has(Y)?a.current.get(Y).add(I):a.current.set(Y,new Set([I]))),_(3,()=>{O(),k(),r.current.value||A(),S.emit()}),()=>{i.current.delete(I),n.current.delete(I),r.current.filtered.items.delete(I);let V=M();_(4,()=>{O(),(V==null?void 0:V.getAttribute("id"))===I&&A(),S.emit()})}),group:I=>(a.current.has(I)||a.current.set(I,new Set),()=>{i.current.delete(I),a.current.delete(I)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:w,labelId:g,listInnerRef:N}),[]);function P(I,Y){var V,ee;let pe=(ee=(V=l.current)==null?void 0:V.filter)!=null?ee:Dde;return I?pe(I,r.current.search,Y):0}function k(){if(!r.current.search||l.current.shouldFilter===!1)return;let I=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(ee=>{let pe=a.current.get(ee),te=0;pe.forEach(ve=>{let ie=I.get(ve);te=Math.max(ie,te)}),Y.push([ee,te])});let V=N.current;L().sort((ee,pe)=>{var te,ve;let ie=ee.getAttribute("id"),B=pe.getAttribute("id");return((te=I.get(B))!=null?te:0)-((ve=I.get(ie))!=null?ve:0)}).forEach(ee=>{let pe=ee.closest(Aw);pe?pe.appendChild(ee.parentElement===pe?ee:ee.closest(`${Aw} > *`)):V.appendChild(ee.parentElement===V?ee:ee.closest(`${Aw} > *`))}),Y.sort((ee,pe)=>pe[1]-ee[1]).forEach(ee=>{var pe;let te=(pe=N.current)==null?void 0:pe.querySelector(`${yh}[${$u}="${encodeURIComponent(ee[0])}"]`);te==null||te.parentElement.appendChild(te)})}function A(){let I=L().find(V=>V.getAttribute("aria-disabled")!=="true"),Y=I==null?void 0:I.getAttribute($u);S.setState("value",Y||void 0)}function O(){var I,Y,V,ee;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let pe=0;for(let te of n.current){let ve=(Y=(I=i.current.get(te))==null?void 0:I.value)!=null?Y:"",ie=(ee=(V=i.current.get(te))==null?void 0:V.keywords)!=null?ee:[],B=P(ve,ie);r.current.filtered.items.set(te,B),B>0&&pe++}for(let[te,ve]of a.current)for(let ie of ve)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=pe}function R(){var I,Y,V;let ee=M();ee&&(((I=ee.parentElement)==null?void 0:I.firstChild)===ee&&((V=(Y=ee.closest(yh))==null?void 0:Y.querySelector($de))==null||V.scrollIntoView({block:"nearest"})),ee.scrollIntoView({block:"nearest"}))}function M(){var I;return(I=N.current)==null?void 0:I.querySelector(`${jB}[aria-selected="true"]`)}function L(){var I;return Array.from(((I=N.current)==null?void 0:I.querySelectorAll(TT))||[])}function T(I){let Y=L()[I];Y&&S.setState("value",Y.getAttribute($u))}function W(I){var Y;let V=M(),ee=L(),pe=ee.findIndex(ve=>ve===V),te=ee[pe+I];(Y=l.current)!=null&&Y.loop&&(te=pe+I<0?ee[ee.length-1]:pe+I===ee.length?ee[0]:ee[pe+I]),te&&S.setState("value",te.getAttribute($u))}function E(I){let Y=M(),V=Y==null?void 0:Y.closest(yh),ee;for(;V&&!ee;)V=I>0?Kde(V,yh):Hde(V,yh),ee=V==null?void 0:V.querySelector(TT);ee?S.setState("value",ee.getAttribute($u)):W(I)}let D=()=>T(L().length-1),G=I=>{I.preventDefault(),I.metaKey?D():I.altKey?E(1):W(1)},J=I=>{I.preventDefault(),I.metaKey?T(0):I.altKey?E(-1):W(-1)};return x.createElement(Re.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:I=>{var Y;(Y=b.onKeyDown)==null||Y.call(b,I);let V=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||V))switch(I.key){case"n":case"j":{j&&I.ctrlKey&&G(I);break}case"ArrowDown":{G(I);break}case"p":case"k":{j&&I.ctrlKey&&J(I);break}case"ArrowUp":{J(I);break}case"Home":{I.preventDefault(),T(0);break}case"End":{I.preventDefault(),D();break}case"Enter":{I.preventDefault();let ee=M();if(ee){let pe=new Event(h_);ee.dispatchEvent(pe)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Yde},c),g0(e,I=>x.createElement(NB.Provider,{value:S},x.createElement(wB.Provider,{value:C},I))))}),Lde=x.forwardRef((e,t)=>{var r,n;let a=Jr(),i=x.useRef(null),o=x.useContext(_B),l=fg(),c=kB(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;$c(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=CB(a,i,[e.value,e.children,i],e.keywords),f=gC(),h=pl(_=>_.value&&_.value===d.current),p=pl(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);x.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(h_,y),()=>_.removeEventListener(h_,y)},[p,e.onSelect,e.disabled]);function y(){var _,S;m(),(S=(_=c.current).onSelect)==null||S.call(_,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:j,value:b,onSelect:v,forceMount:g,keywords:w,...N}=e;return x.createElement(Re.div,{ref:ns(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!h,"data-disabled":!!j,"data-selected":!!h,onPointerMove:j||l.getDisablePointerSelection()?void 0:m,onClick:j?void 0:y},e.children)}),Fde=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Jr(),l=x.useRef(null),c=x.useRef(null),u=Jr(),d=fg(),f=pl(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);$c(()=>d.group(o),[]),CB(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(Re.div,{ref:ns(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),g0(e,p=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(_B.Provider,{value:h},p))))}),Ude=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),i=pl(o=>!o.search);return!r&&!i?null:x.createElement(Re.div,{ref:ns(a,t),...n,"cmdk-separator":"",role:"separator"})}),Bde=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=gC(),o=pl(u=>u.search),l=pl(u=>u.selectedItemId),c=fg();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(Re.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Vde=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=x.useRef(null),o=x.useRef(null),l=pl(u=>u.selectedItemId),c=fg();return x.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(Re.div,{ref:ns(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},g0(e,u=>x.createElement("div",{ref:ns(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),qde=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return x.createElement(U2,{open:r,onOpenChange:n},x.createElement(B2,{container:o},x.createElement(e0,{"cmdk-overlay":"",className:a}),x.createElement(t0,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(SB,{ref:t,...l}))))}),zde=x.forwardRef((e,t)=>pl(r=>r.filtered.count===0)?x.createElement(Re.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Wde=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return x.createElement(Re.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},g0(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Ns=Object.assign(SB,{List:Vde,Item:Lde,Input:Bde,Group:Fde,Separator:Ude,Dialog:qde,Empty:zde,Loading:Wde});function Kde(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Hde(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function kB(e){let t=x.useRef(e);return $c(()=>{t.current=e}),t}var $c=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Du(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function pl(e){let t=gC(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function CB(e,t,r,n=[]){let a=x.useRef(),i=fg();return $c(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute($u,l),a.current=l}),a}var Gde=()=>{let[e,t]=x.useState(),r=Du(()=>new Map);return $c(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Qde(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function g0({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(Qde(t),{ref:t.ref},r(t.props.children)):r(t)}var Yde={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const PB=x.forwardRef(({className:e,...t},r)=>s.jsx(Ns,{ref:r,className:je("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));PB.displayName=Ns.displayName;const Xde=({children:e,...t})=>s.jsx(yt,{...t,children:s.jsx(vt,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(PB,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),EB=x.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Hp,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Ns.Input,{ref:r,className:je("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));EB.displayName=Ns.Input.displayName;const AB=x.forwardRef(({className:e,...t},r)=>s.jsx(Ns.List,{ref:r,className:je("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));AB.displayName=Ns.List.displayName;const OB=x.forwardRef((e,t)=>s.jsx(Ns.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));OB.displayName=Ns.Empty.displayName;const Vh=x.forwardRef(({className:e,...t},r)=>s.jsx(Ns.Group,{ref:r,className:je("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Vh.displayName=Ns.Group.displayName;const Jde=x.forwardRef(({className:e,...t},r)=>s.jsx(Ns.Separator,{ref:r,className:je("-mx-1 h-px bg-border",e),...t}));Jde.displayName=Ns.Separator.displayName;const qh=x.forwardRef(({className:e,...t},r)=>s.jsx(Ns.Item,{ref:r,className:je("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));qh.displayName=Ns.Item.displayName;const Zde=3e4,IT=["mousemove","keydown","click","scroll","touchstart"],efe=5e3;function tfe(){const[,e]=Mn(),{toast:t}=mt(),[r,n]=x.useState(null),a=x.useRef(Date.now()),i=x.useRef(null),o=x.useRef(!1),l=x.useCallback((d,f)=>{i.current&&clearInterval(i.current),t({variant:"destructive",title:"Session Expired",description:d||"Please log in again to continue."}),setTimeout(()=>{e("/login")},1500)},[t,e]),c=x.useCallback(async()=>{try{const f=await(await ye("POST","/api/admin/heartbeat")).json();f.success&&(n({sessionRemainingMs:f.sessionRemainingMs,inactivityTimeoutMs:f.inactivityTimeoutMs,reauthTimeoutMs:f.reauthTimeoutMs,isActive:!0}),o.current=!1)}catch(d){(d==null?void 0:d.code)==="ADMIN_REAUTH_REQUIRED"||(d==null?void 0:d.code)==="ADMIN_INACTIVITY_TIMEOUT"?l(d.reason||d.message,d.code):((d==null?void 0:d.status)===401||(d==null?void 0:d.status)===403)&&l("Your session has expired. Please log in again.","SESSION_EXPIRED")}},[l]),u=x.useCallback(()=>{const d=Date.now();d-a.current>efe&&(a.current=d,c())},[c]);return x.useEffect(()=>(c(),i.current=setInterval(c,Zde),IT.forEach(d=>{window.addEventListener(d,u,{passive:!0})}),()=>{i.current&&clearInterval(i.current),IT.forEach(d=>{window.removeEventListener(d,u)})}),[c,u]),x.useEffect(()=>{if(r&&r.sessionRemainingMs<6e4&&!o.current){o.current=!0;const d=Math.ceil(r.sessionRemainingMs/6e4);t({variant:"default",title:"Session Expiring Soon",description:`Your admin session will expire in ${d} minute(s). You will need to log in again.`})}},[r,t]),{sessionState:r,sendHeartbeat:c}}const RT={USER:0,EDITOR:1,ADMIN:2,SUPER_ADMIN:3};function MT(e,t){return RT[e]>=RT[t]}function rfe(e){return[{path:e,label:"Dashboard",icon:vQ,minRole:"EDITOR"},{path:`${e}/bookings`,label:"Bookings",icon:ll,minRole:"EDITOR"},{path:`${e}/members`,label:"Members",icon:Nr,minRole:"EDITOR"},{path:`${e}/membership-applications`,label:"Membership Applications",icon:lQ,minRole:"EDITOR"},{path:`${e}/certifications`,label:"Certifications",icon:di,minRole:"EDITOR"},{path:`${e}/user-management`,label:"User Roles",icon:Fd,minRole:"SUPER_ADMIN"},{path:`${e}/branding`,label:"Branding & Nav",icon:EQ,minRole:"ADMIN"},{path:`${e}/homepage`,label:"Site Content",icon:Yk,minRole:"ADMIN"},{path:`${e}/coming-soon`,label:"Coming Soon",icon:Bt,minRole:"ADMIN"},{path:`${e}/venues`,label:"Venues & Locations",icon:js,minRole:"ADMIN"},{path:`${e}/facilities`,label:"Facilities",icon:Wr,minRole:"ADMIN"},{path:`${e}/comparison-features`,label:"Comparison Features",icon:y3,minRole:"ADMIN"},{path:`${e}/member-benefits`,label:"Member Benefits",icon:jb,minRole:"ADMIN"},{path:`${e}/blogs`,label:"Blog / News",icon:dQ,minRole:"ADMIN"},{path:`${e}/testimonials`,label:"Testimonials",icon:jQ,minRole:"ADMIN"},{path:`${e}/roadmap`,label:"Construction Status",icon:v3,minRole:"ADMIN"},{path:`${e}/events`,label:"Events & Academies",icon:xr,minRole:"ADMIN"},{path:`${e}/pricing`,label:"Pricing Tiers",icon:vv,minRole:"ADMIN"},{path:`${e}/announcements`,label:"Announcements",icon:_c,minRole:"ADMIN"},{path:`${e}/careers`,label:"Careers",icon:Om,minRole:"ADMIN"},{path:`${e}/rules`,label:"Rules & Safety",icon:ts,minRole:"ADMIN"},{path:`${e}/faq`,label:"FAQ",icon:Ls,minRole:"ADMIN"},{path:`${e}/policies`,label:"Privacy & Terms",icon:Fd,minRole:"ADMIN"},{path:`${e}/gallery`,label:"Gallery",icon:la,minRole:"ADMIN"},{path:`${e}/site-images`,label:"Site Images",icon:la,minRole:"ADMIN"},{path:`${e}/hero-sections`,label:"Hero Sections",icon:la,minRole:"ADMIN"},{path:`${e}/ctas`,label:"CTAs",icon:SQ,minRole:"ADMIN"},{path:`${e}/site-settings`,label:"Site Settings",icon:Rm,minRole:"ADMIN"}]}function st({children:e,title:t}){var w,N;const[r,n]=Mn(),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{adminPath:c}=Jp();tfe();const u=`/${c}`,d=x.useMemo(()=>rfe(u),[u]),{data:f,isLoading:h}=de({queryKey:["/api/auth/user"]}),{data:p}=de({queryKey:["/api/admin/users"]}),{data:y}=de({queryKey:["/api/admin/bookings"]}),{data:m}=de({queryKey:["/api/admin/facilities"]});x.useEffect(()=>{const _=S=>{S.key==="k"&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),l(C=>!C))};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[]);const j=x.useCallback(_=>{l(!1),n(_)},[n]);if(h)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const b=f==null?void 0:f.role,v=b&&MT(b,"EDITOR");if(!f||!v)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need staff privileges to access this page."}),s.jsx(ge,{href:"/",children:s.jsxs($,{children:[s.jsx(On,{className:"w-4 h-4 mr-2"})," Return to Home"]})})]})});const g=d.filter(_=>MT(b,_.minRole));return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx($,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>i(!a),"data-testid":"button-mobile-menu",children:a?s.jsx(xi,{className:"h-5 w-5"}):s.jsx(b3,{className:"h-5 w-5"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),s.jsx("aside",{className:`
        fixed top-0 left-0 z-40 h-screen w-64 bg-card border-r transition-transform duration-300
        lg:translate-x-0
        ${a?"translate-x-0":"-translate-x-full"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs(ge,{href:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-md bg-[#2a4060] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"Q"})}),s.jsx("span",{className:"font-semibold",children:"Quarterdeck Admin"})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:g.map(_=>{const S=_.icon,C=r===_.path||_.path!=="/admin"&&r.startsWith(_.path);return s.jsx(ge,{href:_.path,children:s.jsxs("div",{className:`
                      flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors cursor-pointer
                      ${C?"bg-[#2a4060] text-white":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                    `,onClick:()=>i(!1),"data-testid":`nav-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(S,{className:"w-4 h-4"}),_.label]})},_.path)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(ge,{href:"/",children:s.jsxs($,{variant:"outline",className:"w-full","data-testid":"button-back-to-site",children:[s.jsx(On,{className:"w-4 h-4 mr-2"})," Back to Site"]})})})]})}),s.jsxs("main",{className:"lg:ml-64",children:[s.jsx("header",{className:"sticky top-0 z-30 bg-background border-b px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold ml-12 lg:ml-0","data-testid":"text-admin-title",children:t}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs($,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:w-64 lg:w-80",onClick:()=>l(!0),"data-testid":"button-global-search",children:[s.jsx(Hp,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Search bookings, users, facilities..."}),s.jsx("span",{className:"inline sm:hidden",children:"Search..."}),s.jsxs("kbd",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:"Ctrl"}),"K"]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground hidden md:block",children:[f.firstName," ",f.lastName]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:f.profileImageUrl?s.jsx("img",{src:f.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(w=f.firstName)==null?void 0:w[0],(N=f.lastName)==null?void 0:N[0]]})})]})]})}),s.jsxs(Xde,{open:o,onOpenChange:l,children:[s.jsx(EB,{placeholder:"Search bookings, users, facilities...","data-testid":"input-global-search"}),s.jsxs(AB,{children:[s.jsx(OB,{children:"No results found."}),s.jsx(Vh,{heading:"Navigation",children:g.map(_=>s.jsxs(qh,{value:_.label,onSelect:()=>j(_.path),"data-testid":`search-nav-${_.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(_.icon,{className:"mr-2 h-4 w-4"}),_.label]},_.path))}),m&&m.length>0&&s.jsx(Vh,{heading:"Facilities",children:m.slice(0,5).map(_=>s.jsxs(qh,{value:`facility ${_.name} ${_.slug}`,onSelect:()=>j("/admin/facilities"),"data-testid":`search-facility-${_.id}`,children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),_.name]},_.id))}),p&&p.length>0&&s.jsx(Vh,{heading:"Users",children:p.slice(0,5).map(_=>s.jsxs(qh,{value:`user ${_.firstName} ${_.lastName} ${_.email}`,onSelect:()=>j("/admin/bookings"),"data-testid":`search-user-${_.id}`,children:[s.jsx(Nr,{className:"mr-2 h-4 w-4"}),_.firstName," ",_.lastName," - ",_.email]},_.id))}),y&&y.length>0&&s.jsx(Vh,{heading:"Recent Bookings",children:y.slice(0,5).map(_=>{const S=m==null?void 0:m.find(C=>C.id===_.facilityId);return s.jsxs(qh,{value:`booking ${_.id} ${S==null?void 0:S.name} ${_.date}`,onSelect:()=>j("/admin/bookings"),"data-testid":`search-booking-${_.id}`,children:[s.jsx(xr,{className:"mr-2 h-4 w-4"}),S==null?void 0:S.name," - ",_.date," at ",_.startTime]},_.id)})})]})]}),s.jsx("div",{className:"p-6",children:e})]})]})}const Ar=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:je("w-full caption-bottom text-sm",e),...t})}));Ar.displayName="Table";const Or=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:je("[&_tr]:border-b",e),...t}));Or.displayName="TableHeader";const Tr=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:je("[&_tr:last-child]:border-0",e),...t}));Tr.displayName="TableBody";const nfe=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nfe.displayName="TableFooter";const Ze=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ze.displayName="TableRow";const ce=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ce.displayName="TableHead";const ne=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ne.displayName="TableCell";const sfe=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:je("mt-4 text-sm text-muted-foreground",e),...t}));sfe.displayName="TableCaption";var afe=Array.isArray,_s=afe,ife=typeof _g=="object"&&_g&&_g.Object===Object&&_g,TB=ife,ofe=TB,lfe=typeof self=="object"&&self&&self.Object===Object&&self,cfe=ofe||lfe||Function("return this")(),wi=cfe,ufe=wi,dfe=ufe.Symbol,hg=dfe,$T=hg,IB=Object.prototype,ffe=IB.hasOwnProperty,hfe=IB.toString,bh=$T?$T.toStringTag:void 0;function mfe(e){var t=ffe.call(e,bh),r=e[bh];try{e[bh]=void 0;var n=!0}catch{}var a=hfe.call(e);return n&&(t?e[bh]=r:delete e[bh]),a}var pfe=mfe,gfe=Object.prototype,xfe=gfe.toString;function vfe(e){return xfe.call(e)}var yfe=vfe,DT=hg,bfe=pfe,jfe=yfe,wfe="[object Null]",Nfe="[object Undefined]",LT=DT?DT.toStringTag:void 0;function _fe(e){return e==null?e===void 0?Nfe:wfe:LT&&LT in Object(e)?bfe(e):jfe(e)}var fo=_fe;function Sfe(e){return e!=null&&typeof e=="object"}var ho=Sfe,kfe=fo,Cfe=ho,Pfe="[object Symbol]";function Efe(e){return typeof e=="symbol"||Cfe(e)&&kfe(e)==Pfe}var Uf=Efe,Afe=_s,Ofe=Uf,Tfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ife=/^\w*$/;function Rfe(e,t){if(Afe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ofe(e)?!0:Ife.test(e)||!Tfe.test(e)||t!=null&&e in Object(t)}var xC=Rfe;function Mfe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _l=Mfe;const Bf=Yt(_l);var $fe=fo,Dfe=_l,Lfe="[object AsyncFunction]",Ffe="[object Function]",Ufe="[object GeneratorFunction]",Bfe="[object Proxy]";function Vfe(e){if(!Dfe(e))return!1;var t=$fe(e);return t==Ffe||t==Ufe||t==Lfe||t==Bfe}var vC=Vfe;const ht=Yt(vC);var qfe=wi,zfe=qfe["__core-js_shared__"],Wfe=zfe,Ow=Wfe,FT=function(){var e=/[^.]+$/.exec(Ow&&Ow.keys&&Ow.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Kfe(e){return!!FT&&FT in e}var Hfe=Kfe,Gfe=Function.prototype,Qfe=Gfe.toString;function Yfe(e){if(e!=null){try{return Qfe.call(e)}catch{}try{return e+""}catch{}}return""}var RB=Yfe,Xfe=vC,Jfe=Hfe,Zfe=_l,ehe=RB,the=/[\\^$.*+?()[\]{}|]/g,rhe=/^\[object .+?Constructor\]$/,nhe=Function.prototype,she=Object.prototype,ahe=nhe.toString,ihe=she.hasOwnProperty,ohe=RegExp("^"+ahe.call(ihe).replace(the,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lhe(e){if(!Zfe(e)||Jfe(e))return!1;var t=Xfe(e)?ohe:rhe;return t.test(ehe(e))}var che=lhe;function uhe(e,t){return e==null?void 0:e[t]}var dhe=uhe,fhe=che,hhe=dhe;function mhe(e,t){var r=hhe(e,t);return fhe(r)?r:void 0}var Xc=mhe,phe=Xc,ghe=phe(Object,"create"),x0=ghe,UT=x0;function xhe(){this.__data__=UT?UT(null):{},this.size=0}var vhe=xhe;function yhe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bhe=yhe,jhe=x0,whe="__lodash_hash_undefined__",Nhe=Object.prototype,_he=Nhe.hasOwnProperty;function She(e){var t=this.__data__;if(jhe){var r=t[e];return r===whe?void 0:r}return _he.call(t,e)?t[e]:void 0}var khe=She,Che=x0,Phe=Object.prototype,Ehe=Phe.hasOwnProperty;function Ahe(e){var t=this.__data__;return Che?t[e]!==void 0:Ehe.call(t,e)}var Ohe=Ahe,The=x0,Ihe="__lodash_hash_undefined__";function Rhe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=The&&t===void 0?Ihe:t,this}var Mhe=Rhe,$he=vhe,Dhe=bhe,Lhe=khe,Fhe=Ohe,Uhe=Mhe;function Vf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vf.prototype.clear=$he;Vf.prototype.delete=Dhe;Vf.prototype.get=Lhe;Vf.prototype.has=Fhe;Vf.prototype.set=Uhe;var Bhe=Vf;function Vhe(){this.__data__=[],this.size=0}var qhe=Vhe;function zhe(e,t){return e===t||e!==e&&t!==t}var yC=zhe,Whe=yC;function Khe(e,t){for(var r=e.length;r--;)if(Whe(e[r][0],t))return r;return-1}var v0=Khe,Hhe=v0,Ghe=Array.prototype,Qhe=Ghe.splice;function Yhe(e){var t=this.__data__,r=Hhe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Qhe.call(t,r,1),--this.size,!0}var Xhe=Yhe,Jhe=v0;function Zhe(e){var t=this.__data__,r=Jhe(t,e);return r<0?void 0:t[r][1]}var eme=Zhe,tme=v0;function rme(e){return tme(this.__data__,e)>-1}var nme=rme,sme=v0;function ame(e,t){var r=this.__data__,n=sme(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ime=ame,ome=qhe,lme=Xhe,cme=eme,ume=nme,dme=ime;function qf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qf.prototype.clear=ome;qf.prototype.delete=lme;qf.prototype.get=cme;qf.prototype.has=ume;qf.prototype.set=dme;var y0=qf,fme=Xc,hme=wi,mme=fme(hme,"Map"),bC=mme,BT=Bhe,pme=y0,gme=bC;function xme(){this.size=0,this.__data__={hash:new BT,map:new(gme||pme),string:new BT}}var vme=xme;function yme(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bme=yme,jme=bme;function wme(e,t){var r=e.__data__;return jme(t)?r[typeof t=="string"?"string":"hash"]:r.map}var b0=wme,Nme=b0;function _me(e){var t=Nme(this,e).delete(e);return this.size-=t?1:0,t}var Sme=_me,kme=b0;function Cme(e){return kme(this,e).get(e)}var Pme=Cme,Eme=b0;function Ame(e){return Eme(this,e).has(e)}var Ome=Ame,Tme=b0;function Ime(e,t){var r=Tme(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Rme=Ime,Mme=vme,$me=Sme,Dme=Pme,Lme=Ome,Fme=Rme;function zf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zf.prototype.clear=Mme;zf.prototype.delete=$me;zf.prototype.get=Dme;zf.prototype.has=Lme;zf.prototype.set=Fme;var jC=zf,MB=jC,Ume="Expected a function";function wC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ume);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(wC.Cache||MB),r}wC.Cache=MB;var $B=wC;const Bme=Yt($B);var Vme=$B,qme=500;function zme(e){var t=Vme(e,function(n){return r.size===qme&&r.clear(),n}),r=t.cache;return t}var Wme=zme,Kme=Wme,Hme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gme=/\\(\\)?/g,Qme=Kme(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hme,function(r,n,a,i){t.push(a?i.replace(Gme,"$1"):n||r)}),t}),Yme=Qme;function Xme(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var NC=Xme,VT=hg,Jme=NC,Zme=_s,epe=Uf,qT=VT?VT.prototype:void 0,zT=qT?qT.toString:void 0;function DB(e){if(typeof e=="string")return e;if(Zme(e))return Jme(e,DB)+"";if(epe(e))return zT?zT.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var tpe=DB,rpe=tpe;function npe(e){return e==null?"":rpe(e)}var LB=npe,spe=_s,ape=xC,ipe=Yme,ope=LB;function lpe(e,t){return spe(e)?e:ape(e,t)?[e]:ipe(ope(e))}var FB=lpe,cpe=Uf;function upe(e){if(typeof e=="string"||cpe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var j0=upe,dpe=FB,fpe=j0;function hpe(e,t){t=dpe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[fpe(t[r++])];return r&&r==n?e:void 0}var _C=hpe,mpe=_C;function ppe(e,t,r){var n=e==null?void 0:mpe(e,t);return n===void 0?r:n}var UB=ppe;const Us=Yt(UB);function gpe(e){return e==null}var xpe=gpe;const At=Yt(xpe);var vpe=fo,ype=_s,bpe=ho,jpe="[object String]";function wpe(e){return typeof e=="string"||!ype(e)&&bpe(e)&&vpe(e)==jpe}var Npe=wpe;const Dc=Yt(Npe);var BB={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=Symbol.for("react.element"),kC=Symbol.for("react.portal"),w0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),k0=Symbol.for("react.context"),_pe=Symbol.for("react.server_context"),C0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),E0=Symbol.for("react.suspense_list"),A0=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),Spe=Symbol.for("react.offscreen"),VB;VB=Symbol.for("react.module.reference");function ja(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case SC:switch(e=e.type,e){case w0:case _0:case N0:case P0:case E0:return e;default:switch(e=e&&e.$$typeof,e){case _pe:case k0:case C0:case O0:case A0:case S0:return e;default:return t}}case kC:return t}}}sr.ContextConsumer=k0;sr.ContextProvider=S0;sr.Element=SC;sr.ForwardRef=C0;sr.Fragment=w0;sr.Lazy=O0;sr.Memo=A0;sr.Portal=kC;sr.Profiler=_0;sr.StrictMode=N0;sr.Suspense=P0;sr.SuspenseList=E0;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(e){return ja(e)===k0};sr.isContextProvider=function(e){return ja(e)===S0};sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===SC};sr.isForwardRef=function(e){return ja(e)===C0};sr.isFragment=function(e){return ja(e)===w0};sr.isLazy=function(e){return ja(e)===O0};sr.isMemo=function(e){return ja(e)===A0};sr.isPortal=function(e){return ja(e)===kC};sr.isProfiler=function(e){return ja(e)===_0};sr.isStrictMode=function(e){return ja(e)===N0};sr.isSuspense=function(e){return ja(e)===P0};sr.isSuspenseList=function(e){return ja(e)===E0};sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===w0||e===_0||e===N0||e===P0||e===E0||e===Spe||typeof e=="object"&&e!==null&&(e.$$typeof===O0||e.$$typeof===A0||e.$$typeof===S0||e.$$typeof===k0||e.$$typeof===C0||e.$$typeof===VB||e.getModuleId!==void 0)};sr.typeOf=ja;BB.exports=sr;var kpe=BB.exports,Cpe=fo,Ppe=ho,Epe="[object Number]";function Ape(e){return typeof e=="number"||Ppe(e)&&Cpe(e)==Epe}var qB=Ape;const Ope=Yt(qB);var Tpe=qB;function Ipe(e){return Tpe(e)&&e!=+e}var Rpe=Ipe;const mg=Yt(Rpe);var Xn=function(t){return t===0?0:t>0?1:-1},Jl=function(t){return Dc(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return Ope(t)&&!mg(t)},Mpe=function(t){return At(t)},pn=function(t){return Pe(t)||Dc(t)},$pe=0,pg=function(t){var r=++$pe;return"".concat(t||"").concat(r)},Jn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!Dc(t))return n;var i;if(Jl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return mg(i)&&(i=n),a&&i>r&&(i=r),i},Ro=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Dpe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Eo=function(t,r){return Pe(t)&&Pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function m_(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Us(n,t))===r})}var Lpe=function(t,r){return Pe(t)&&Pe(r)?t-r:Dc(t)&&Dc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function md(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function p_(e){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}var Fpe=["viewBox","children"],Upe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WT=["points","pathLength"],Tw={svg:Fpe,polygon:WT,polyline:WT},CC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Bf(n))return null;var a={};return Object.keys(n).forEach(function(i){CC.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Bpe=function(t,r,n){return function(a){return t(r,n,a),null}},Lc=function(t,r,n){if(!Bf(t)||p_(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];CC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Bpe(o,r,n))}),a},Vpe=["children"],qpe=["children"];function KT(e,t){if(e==null)return{};var r=zpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ki=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GT=null,Iw=null,PC=function e(t){if(t===GT&&Array.isArray(Iw))return Iw;var r=[];return x.Children.forEach(t,function(n){At(n)||(kpe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Iw=r,GT=t,r};function da(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ki(a)}):n=[Ki(t)],PC(e).forEach(function(a){var i=Us(a,"type.displayName")||Us(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Es(e,t){var r=da(e,t);return r&&r[0]}var QT=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Pe(n)||n<=0||!Pe(a)||a<=0)},Wpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Kpe=function(t){return t&&t.type&&Dc(t.type)&&Wpe.indexOf(t.type)>=0},Hpe=function(t,r,n,a){var i,o=(i=Tw==null?void 0:Tw[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ht(t)&&(a&&o.includes(r)||Upe.includes(r))||n&&CC.includes(r)},dt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Bf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Hpe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},g_=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return YT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!YT(i,o))return!1}return!0},YT=function(t,r){if(At(t)&&At(r))return!0;if(!At(t)&&!At(r)){var n=t.props||{},a=n.children,i=KT(n,Vpe),o=r.props||{},l=o.children,c=KT(o,qpe);return a&&l?md(i,c)&&g_(a,l):!a&&!l?md(i,c):!1}return!1},XT=function(t,r){var n=[],a={};return PC(t).forEach(function(i,o){if(Kpe(i))n.push(i);else if(i){var l=Ki(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Gpe=function(t){var r=t&&t.type;return r&&HT[r]?HT[r]:null},Qpe=function(t,r){return PC(r).indexOf(t)},Ype=["children","width","height","viewBox","className","style","title","desc"];function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(this,arguments)}function Xpe(e,t){if(e==null)return{};var r=Jpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v_(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Xpe(e,Ype),d=a||{width:r,height:n,x:0,y:0},f=wt("recharts-surface",i);return F.createElement("svg",x_({},dt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var Zpe=["children","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function ege(e,t){if(e==null)return{};var r=tge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zt=F.forwardRef(function(e,t){var r=e.children,n=e.className,a=ege(e,Zpe),i=wt("recharts-layer",n);return F.createElement("g",y_({className:i},dt(a,!0),{ref:t}),r)}),qa=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function rge(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var nge=rge,sge=nge;function age(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:sge(e,t,r)}var ige=age,oge="\\ud800-\\udfff",lge="\\u0300-\\u036f",cge="\\ufe20-\\ufe2f",uge="\\u20d0-\\u20ff",dge=lge+cge+uge,fge="\\ufe0e\\ufe0f",hge="\\u200d",mge=RegExp("["+hge+oge+dge+fge+"]");function pge(e){return mge.test(e)}var zB=pge;function gge(e){return e.split("")}var xge=gge,WB="\\ud800-\\udfff",vge="\\u0300-\\u036f",yge="\\ufe20-\\ufe2f",bge="\\u20d0-\\u20ff",jge=vge+yge+bge,wge="\\ufe0e\\ufe0f",Nge="["+WB+"]",b_="["+jge+"]",j_="\\ud83c[\\udffb-\\udfff]",_ge="(?:"+b_+"|"+j_+")",KB="[^"+WB+"]",HB="(?:\\ud83c[\\udde6-\\uddff]){2}",GB="[\\ud800-\\udbff][\\udc00-\\udfff]",Sge="\\u200d",QB=_ge+"?",YB="["+wge+"]?",kge="(?:"+Sge+"(?:"+[KB,HB,GB].join("|")+")"+YB+QB+")*",Cge=YB+QB+kge,Pge="(?:"+[KB+b_+"?",b_,HB,GB,Nge].join("|")+")",Ege=RegExp(j_+"(?="+j_+")|"+Pge+Cge,"g");function Age(e){return e.match(Ege)||[]}var Oge=Age,Tge=xge,Ige=zB,Rge=Oge;function Mge(e){return Ige(e)?Rge(e):Tge(e)}var $ge=Mge,Dge=ige,Lge=zB,Fge=$ge,Uge=LB;function Bge(e){return function(t){t=Uge(t);var r=Lge(t)?Fge(t):void 0,n=r?r[0]:t.charAt(0),a=r?Dge(r,1).join(""):t.slice(1);return n[e]()+a}}var Vge=Bge,qge=Vge,zge=qge("toUpperCase"),Wge=zge;const T0=Yt(Wge);function hr(e){return function(){return e}}const XB=Math.cos,Zv=Math.sin,Ya=Math.sqrt,ey=Math.PI,I0=2*ey,w_=Math.PI,N_=2*w_,Ul=1e-6,Kge=N_-Ul;function JB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Hge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JB;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Gge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JB:Hge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ul)if(!(Math.abs(f*c-u*d)>Ul)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,m=c*c+u*u,j=p*p+y*y,b=Math.sqrt(m),v=Math.sqrt(h),g=i*Math.tan((w_-Math.acos((m+h-j)/(2*b*v)))/2),w=g/v,N=g/b;Math.abs(w-1)>Ul&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ul||Math.abs(this._y1-d)>Ul)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%N_+N_),h>Kge?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ul&&this._append`A${n},${n},0,${+(h>=w_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function EC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Gge(t)}function AC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZB(e){this._context=e}ZB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function R0(e){return new ZB(e)}function eV(e){return e[0]}function tV(e){return e[1]}function rV(e,t){var r=hr(!0),n=null,a=R0,i=null,o=EC(l);e=typeof e=="function"?e:e===void 0?eV:hr(e),t=typeof t=="function"?t:t===void 0?tV:hr(t);function l(c){var u,d=(c=AC(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:hr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:hr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:hr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function cx(e,t,r){var n=null,a=hr(!0),i=null,o=R0,l=null,c=EC(u);e=typeof e=="function"?e:e===void 0?eV:hr(+e),t=typeof t=="function"?t:hr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tV:hr(+r);function u(f){var h,p,y,m=(f=AC(f)).length,j,b=!1,v,g=new Array(m),w=new Array(m);for(i==null&&(l=o(v=c())),h=0;h<=m;++h){if(!(h<m&&a(j=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(g[y],w[y]);l.lineEnd(),l.areaEnd()}b&&(g[h]=+e(j,h,f),w[h]=+t(j,h,f),l.point(n?+n(j,h,f):g[h],r?+r(j,h,f):w[h]))}if(v)return l=null,v+""||null}function d(){return rV().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:hr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:hr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:hr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:hr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:hr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:hr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:hr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class nV{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Qge(e){return new nV(e,!0)}function Yge(e){return new nV(e,!1)}const OC={draw(e,t){const r=Ya(t/ey);e.moveTo(r,0),e.arc(0,0,r,0,I0)}},Xge={draw(e,t){const r=Ya(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sV=Ya(1/3),Jge=sV*2,Zge={draw(e,t){const r=Ya(t/Jge),n=r*sV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},exe={draw(e,t){const r=Ya(t),n=-r/2;e.rect(n,n,r,r)}},txe=.8908130915292852,aV=Zv(ey/10)/Zv(7*ey/10),rxe=Zv(I0/10)*aV,nxe=-XB(I0/10)*aV,sxe={draw(e,t){const r=Ya(t*txe),n=rxe*r,a=nxe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=I0*i/5,l=XB(o),c=Zv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Rw=Ya(3),axe={draw(e,t){const r=-Ya(t/(Rw*3));e.moveTo(0,r*2),e.lineTo(-Rw*r,-r),e.lineTo(Rw*r,-r),e.closePath()}},Ys=-.5,Xs=Ya(3)/2,__=1/Ya(12),ixe=(__/2+1)*3,oxe={draw(e,t){const r=Ya(t/ixe),n=r/2,a=r*__,i=n,o=r*__+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ys*n-Xs*a,Xs*n+Ys*a),e.lineTo(Ys*i-Xs*o,Xs*i+Ys*o),e.lineTo(Ys*l-Xs*c,Xs*l+Ys*c),e.lineTo(Ys*n+Xs*a,Ys*a-Xs*n),e.lineTo(Ys*i+Xs*o,Ys*o-Xs*i),e.lineTo(Ys*l+Xs*c,Ys*c-Xs*l),e.closePath()}};function lxe(e,t){let r=null,n=EC(a);e=typeof e=="function"?e:hr(e||OC),t=typeof t=="function"?t:hr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:hr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:hr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function ty(){}function ry(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iV(e){this._context=e}iV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ry(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ry(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cxe(e){return new iV(e)}function oV(e){this._context=e}oV.prototype={areaStart:ty,areaEnd:ty,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ry(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uxe(e){return new oV(e)}function lV(e){this._context=e}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ry(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dxe(e){return new lV(e)}function cV(e){this._context=e}cV.prototype={areaStart:ty,areaEnd:ty,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fxe(e){return new cV(e)}function JT(e){return e<0?-1:1}function ZT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(JT(i)+JT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function e4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function ny(e){this._context=e}ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mw(this,this._t0,e4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mw(this,e4(this,r=ZT(this,e,t)),r);break;default:Mw(this,this._t0,r=ZT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uV(e){this._context=new dV(e)}(uV.prototype=Object.create(ny.prototype)).point=function(e,t){ny.prototype.point.call(this,t,e)};function dV(e){this._context=e}dV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function hxe(e){return new ny(e)}function mxe(e){return new uV(e)}function fV(e){this._context=e}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=t4(e),a=t4(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function t4(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function pxe(e){return new fV(e)}function M0(e,t){this._context=e,this._t=t}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gxe(e){return new M0(e,.5)}function xxe(e){return new M0(e,0)}function vxe(e){return new M0(e,1)}function Jd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function S_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yxe(e,t){return e[t]}function bxe(e){const t=[];return t.key=e,t}function jxe(){var e=hr([]),t=S_,r=Jd,n=yxe;function a(i){var o=Array.from(e.apply(this,arguments),bxe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=AC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:hr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:hr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?S_:typeof i=="function"?i:hr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Jd,a):r},a}function wxe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Jd(e,t)}}function Nxe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Jd(e,t)}}function _xe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],j=m[n][1]||0,b=m[n-1][1]||0;p+=j-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Jd(e,t)}}function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}var Sxe=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kxe(e,t,r){return t=Cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Pxe(e,"string");return Zm(t)=="symbol"?t:t+""}function Pxe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Exe(e,t){if(e==null)return{};var r=Axe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Axe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hV={symbolCircle:OC,symbolCross:Xge,symbolDiamond:Zge,symbolSquare:exe,symbolStar:sxe,symbolTriangle:axe,symbolWye:oxe},Oxe=Math.PI/180,Txe=function(t){var r="symbol".concat(T0(t));return hV[r]||OC},Ixe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Oxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Rxe=function(t,r){hV["symbol".concat(T0(t))]=r},TC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Exe(t,Sxe),u=n4(n4({},c),{},{type:n,size:i,sizeType:l}),d=function(){var j=Txe(n),b=lxe().type(j).size(Ixe(i,l,n));return b()},f=u.className,h=u.cx,p=u.cy,y=dt(u,!0);return h===+h&&p===+p&&i===+i?F.createElement("path",k_({},y,{className:wt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};TC.registerSymbol=Rxe;function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(this,arguments)}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pV(n.key),n)}}function Lxe(e,t,r){return t&&Dxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fxe(e,t,r){return t=sy(t),Uxe(e,mV()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function Uxe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bxe(e)}function Bxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function Vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P_(e,t)}function ep(e,t,r){return t=pV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=qxe(e,"string");return Zd(t)=="symbol"?t:t+""}function qxe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Js=32,IC=function(e){function t(){return $xe(this,t),Fxe(this,t,arguments)}return Vxe(t,e),Lxe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Js/2,o=Js/6,l=Js/3,c=n.inactive?a:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Js,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Js,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-Js,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=Mxe({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(TC,{fill:c,cx:i,cy:i,size:Js,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Js,height:Js},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,j=wt(ep(ep({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ht(p.value)?null:p.value;qa(!ht(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return F.createElement("li",C_({className:j,style:f,key:"legend-item-".concat(y)},Lc(n.props,p,y)),F.createElement(v_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(b,p,y):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);ep(IC,"displayName","Legend");ep(IC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zxe=y0;function Wxe(){this.__data__=new zxe,this.size=0}var Kxe=Wxe;function Hxe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Gxe=Hxe;function Qxe(e){return this.__data__.get(e)}var Yxe=Qxe;function Xxe(e){return this.__data__.has(e)}var Jxe=Xxe,Zxe=y0,eve=bC,tve=jC,rve=200;function nve(e,t){var r=this.__data__;if(r instanceof Zxe){var n=r.__data__;if(!eve||n.length<rve-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new tve(n)}return r.set(e,t),this.size=r.size,this}var sve=nve,ave=y0,ive=Kxe,ove=Gxe,lve=Yxe,cve=Jxe,uve=sve;function Wf(e){var t=this.__data__=new ave(e);this.size=t.size}Wf.prototype.clear=ive;Wf.prototype.delete=ove;Wf.prototype.get=lve;Wf.prototype.has=cve;Wf.prototype.set=uve;var gV=Wf,dve="__lodash_hash_undefined__";function fve(e){return this.__data__.set(e,dve),this}var hve=fve;function mve(e){return this.__data__.has(e)}var pve=mve,gve=jC,xve=hve,vve=pve;function ay(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gve;++t<r;)this.add(e[t])}ay.prototype.add=ay.prototype.push=xve;ay.prototype.has=vve;var xV=ay;function yve(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vV=yve;function bve(e,t){return e.has(t)}var yV=bve,jve=xV,wve=vV,Nve=yV,_ve=1,Sve=2;function kve(e,t,r,n,a,i){var o=r&_ve,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Sve?new jve:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var j=o?n(m,y,f,t,e,i):n(y,m,f,e,t,i);if(j!==void 0){if(j)continue;h=!1;break}if(p){if(!wve(t,function(b,v){if(!Nve(p,v)&&(y===b||a(y,b,r,n,i)))return p.push(v)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var bV=kve,Cve=wi,Pve=Cve.Uint8Array,Eve=Pve;function Ave(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Ove=Ave;function Tve(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var RC=Tve,a4=hg,i4=Eve,Ive=yC,Rve=bV,Mve=Ove,$ve=RC,Dve=1,Lve=2,Fve="[object Boolean]",Uve="[object Date]",Bve="[object Error]",Vve="[object Map]",qve="[object Number]",zve="[object RegExp]",Wve="[object Set]",Kve="[object String]",Hve="[object Symbol]",Gve="[object ArrayBuffer]",Qve="[object DataView]",o4=a4?a4.prototype:void 0,$w=o4?o4.valueOf:void 0;function Yve(e,t,r,n,a,i,o){switch(r){case Qve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Gve:return!(e.byteLength!=t.byteLength||!i(new i4(e),new i4(t)));case Fve:case Uve:case qve:return Ive(+e,+t);case Bve:return e.name==t.name&&e.message==t.message;case zve:case Kve:return e==t+"";case Vve:var l=Mve;case Wve:var c=n&Dve;if(l||(l=$ve),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Lve,o.set(e,t);var d=Rve(l(e),l(t),n,a,i,o);return o.delete(e),d;case Hve:if($w)return $w.call(e)==$w.call(t)}return!1}var Xve=Yve;function Jve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var jV=Jve,Zve=jV,eye=_s;function tye(e,t,r){var n=t(e);return eye(e)?n:Zve(n,r(e))}var rye=tye;function nye(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var sye=nye;function aye(){return[]}var iye=aye,oye=sye,lye=iye,cye=Object.prototype,uye=cye.propertyIsEnumerable,l4=Object.getOwnPropertySymbols,dye=l4?function(e){return e==null?[]:(e=Object(e),oye(l4(e),function(t){return uye.call(e,t)}))}:lye,fye=dye;function hye(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mye=hye,pye=fo,gye=ho,xye="[object Arguments]";function vye(e){return gye(e)&&pye(e)==xye}var yye=vye,c4=yye,bye=ho,wV=Object.prototype,jye=wV.hasOwnProperty,wye=wV.propertyIsEnumerable,Nye=c4(function(){return arguments}())?c4:function(e){return bye(e)&&jye.call(e,"callee")&&!wye.call(e,"callee")},MC=Nye,iy={exports:{}};function _ye(){return!1}var Sye=_ye;iy.exports;(function(e,t){var r=wi,n=Sye,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(iy,iy.exports);var NV=iy.exports,kye=9007199254740991,Cye=/^(?:0|[1-9]\d*)$/;function Pye(e,t){var r=typeof e;return t=t??kye,!!t&&(r=="number"||r!="symbol"&&Cye.test(e))&&e>-1&&e%1==0&&e<t}var $C=Pye,Eye=9007199254740991;function Aye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Eye}var DC=Aye,Oye=fo,Tye=DC,Iye=ho,Rye="[object Arguments]",Mye="[object Array]",$ye="[object Boolean]",Dye="[object Date]",Lye="[object Error]",Fye="[object Function]",Uye="[object Map]",Bye="[object Number]",Vye="[object Object]",qye="[object RegExp]",zye="[object Set]",Wye="[object String]",Kye="[object WeakMap]",Hye="[object ArrayBuffer]",Gye="[object DataView]",Qye="[object Float32Array]",Yye="[object Float64Array]",Xye="[object Int8Array]",Jye="[object Int16Array]",Zye="[object Int32Array]",ebe="[object Uint8Array]",tbe="[object Uint8ClampedArray]",rbe="[object Uint16Array]",nbe="[object Uint32Array]",br={};br[Qye]=br[Yye]=br[Xye]=br[Jye]=br[Zye]=br[ebe]=br[tbe]=br[rbe]=br[nbe]=!0;br[Rye]=br[Mye]=br[Hye]=br[$ye]=br[Gye]=br[Dye]=br[Lye]=br[Fye]=br[Uye]=br[Bye]=br[Vye]=br[qye]=br[zye]=br[Wye]=br[Kye]=!1;function sbe(e){return Iye(e)&&Tye(e.length)&&!!br[Oye(e)]}var abe=sbe;function ibe(e){return function(t){return e(t)}}var _V=ibe,oy={exports:{}};oy.exports;(function(e,t){var r=TB,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(oy,oy.exports);var obe=oy.exports,lbe=abe,cbe=_V,u4=obe,d4=u4&&u4.isTypedArray,ube=d4?cbe(d4):lbe,SV=ube,dbe=mye,fbe=MC,hbe=_s,mbe=NV,pbe=$C,gbe=SV,xbe=Object.prototype,vbe=xbe.hasOwnProperty;function ybe(e,t){var r=hbe(e),n=!r&&fbe(e),a=!r&&!n&&mbe(e),i=!r&&!n&&!a&&gbe(e),o=r||n||a||i,l=o?dbe(e.length,String):[],c=l.length;for(var u in e)(t||vbe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pbe(u,c)))&&l.push(u);return l}var bbe=ybe,jbe=Object.prototype;function wbe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jbe;return e===r}var Nbe=wbe;function _be(e,t){return function(r){return e(t(r))}}var kV=_be,Sbe=kV,kbe=Sbe(Object.keys,Object),Cbe=kbe,Pbe=Nbe,Ebe=Cbe,Abe=Object.prototype,Obe=Abe.hasOwnProperty;function Tbe(e){if(!Pbe(e))return Ebe(e);var t=[];for(var r in Object(e))Obe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ibe=Tbe,Rbe=vC,Mbe=DC;function $be(e){return e!=null&&Mbe(e.length)&&!Rbe(e)}var gg=$be,Dbe=bbe,Lbe=Ibe,Fbe=gg;function Ube(e){return Fbe(e)?Dbe(e):Lbe(e)}var $0=Ube,Bbe=rye,Vbe=fye,qbe=$0;function zbe(e){return Bbe(e,qbe,Vbe)}var Wbe=zbe,f4=Wbe,Kbe=1,Hbe=Object.prototype,Gbe=Hbe.hasOwnProperty;function Qbe(e,t,r,n,a,i){var o=r&Kbe,l=f4(e),c=l.length,u=f4(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Gbe.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var j=o;++f<c;){h=l[f];var b=e[h],v=t[h];if(n)var g=o?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(g===void 0?b===v||a(b,v,r,n,i):g)){m=!1;break}j||(j=h=="constructor")}if(m&&!j){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(m=!1)}return i.delete(e),i.delete(t),m}var Ybe=Qbe,Xbe=Xc,Jbe=wi,Zbe=Xbe(Jbe,"DataView"),e0e=Zbe,t0e=Xc,r0e=wi,n0e=t0e(r0e,"Promise"),s0e=n0e,a0e=Xc,i0e=wi,o0e=a0e(i0e,"Set"),CV=o0e,l0e=Xc,c0e=wi,u0e=l0e(c0e,"WeakMap"),d0e=u0e,E_=e0e,A_=bC,O_=s0e,T_=CV,I_=d0e,PV=fo,Kf=RB,h4="[object Map]",f0e="[object Object]",m4="[object Promise]",p4="[object Set]",g4="[object WeakMap]",x4="[object DataView]",h0e=Kf(E_),m0e=Kf(A_),p0e=Kf(O_),g0e=Kf(T_),x0e=Kf(I_),Bl=PV;(E_&&Bl(new E_(new ArrayBuffer(1)))!=x4||A_&&Bl(new A_)!=h4||O_&&Bl(O_.resolve())!=m4||T_&&Bl(new T_)!=p4||I_&&Bl(new I_)!=g4)&&(Bl=function(e){var t=PV(e),r=t==f0e?e.constructor:void 0,n=r?Kf(r):"";if(n)switch(n){case h0e:return x4;case m0e:return h4;case p0e:return m4;case g0e:return p4;case x0e:return g4}return t});var v0e=Bl,Dw=gV,y0e=bV,b0e=Xve,j0e=Ybe,v4=v0e,y4=_s,b4=NV,w0e=SV,N0e=1,j4="[object Arguments]",w4="[object Array]",ux="[object Object]",_0e=Object.prototype,N4=_0e.hasOwnProperty;function S0e(e,t,r,n,a,i){var o=y4(e),l=y4(t),c=o?w4:v4(e),u=l?w4:v4(t);c=c==j4?ux:c,u=u==j4?ux:u;var d=c==ux,f=u==ux,h=c==u;if(h&&b4(e)){if(!b4(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Dw),o||w0e(e)?y0e(e,t,r,n,a,i):b0e(e,t,c,r,n,a,i);if(!(r&N0e)){var p=d&&N4.call(e,"__wrapped__"),y=f&&N4.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,j=y?t.value():t;return i||(i=new Dw),a(m,j,r,n,i)}}return h?(i||(i=new Dw),j0e(e,t,r,n,a,i)):!1}var k0e=S0e,C0e=k0e,_4=ho;function EV(e,t,r,n,a){return e===t?!0:e==null||t==null||!_4(e)&&!_4(t)?e!==e&&t!==t:C0e(e,t,r,n,EV,a)}var LC=EV,P0e=gV,E0e=LC,A0e=1,O0e=2;function T0e(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new P0e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?E0e(d,u,A0e|O0e,n,f):h))return!1}}return!0}var I0e=T0e,R0e=_l;function M0e(e){return e===e&&!R0e(e)}var AV=M0e,$0e=AV,D0e=$0;function L0e(e){for(var t=D0e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,$0e(a)]}return t}var F0e=L0e;function U0e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var OV=U0e,B0e=I0e,V0e=F0e,q0e=OV;function z0e(e){var t=V0e(e);return t.length==1&&t[0][2]?q0e(t[0][0],t[0][1]):function(r){return r===e||B0e(r,e,t)}}var W0e=z0e;function K0e(e,t){return e!=null&&t in Object(e)}var H0e=K0e,G0e=FB,Q0e=MC,Y0e=_s,X0e=$C,J0e=DC,Z0e=j0;function eje(e,t,r){t=G0e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Z0e(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&J0e(a)&&X0e(o,a)&&(Y0e(e)||Q0e(e)))}var tje=eje,rje=H0e,nje=tje;function sje(e,t){return e!=null&&nje(e,t,rje)}var aje=sje,ije=LC,oje=UB,lje=aje,cje=xC,uje=AV,dje=OV,fje=j0,hje=1,mje=2;function pje(e,t){return cje(e)&&uje(t)?dje(fje(e),t):function(r){var n=oje(r,e);return n===void 0&&n===t?lje(r,e):ije(t,n,hje|mje)}}var gje=pje;function xje(e){return e}var Hf=xje;function vje(e){return function(t){return t==null?void 0:t[e]}}var yje=vje,bje=_C;function jje(e){return function(t){return bje(t,e)}}var wje=jje,Nje=yje,_je=wje,Sje=xC,kje=j0;function Cje(e){return Sje(e)?Nje(kje(e)):_je(e)}var Pje=Cje,Eje=W0e,Aje=gje,Oje=Hf,Tje=_s,Ije=Pje;function Rje(e){return typeof e=="function"?e:e==null?Oje:typeof e=="object"?Tje(e)?Aje(e[0],e[1]):Eje(e):Ije(e)}var Ni=Rje;function Mje(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var TV=Mje;function $je(e){return e!==e}var Dje=$je;function Lje(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Fje=Lje,Uje=TV,Bje=Dje,Vje=Fje;function qje(e,t,r){return t===t?Vje(e,t,r):Uje(e,Bje,r)}var zje=qje,Wje=zje;function Kje(e,t){var r=e==null?0:e.length;return!!r&&Wje(e,t,0)>-1}var Hje=Kje;function Gje(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Qje=Gje;function Yje(){}var Xje=Yje,Lw=CV,Jje=Xje,Zje=RC,ewe=1/0,twe=Lw&&1/Zje(new Lw([,-0]))[1]==ewe?function(e){return new Lw(e)}:Jje,rwe=twe,nwe=xV,swe=Hje,awe=Qje,iwe=yV,owe=rwe,lwe=RC,cwe=200;function uwe(e,t,r){var n=-1,a=swe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=awe;else if(i>=cwe){var u=t?null:owe(e);if(u)return lwe(u);o=!1,a=iwe,c=new nwe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var dwe=uwe,fwe=Ni,hwe=dwe;function mwe(e,t){return e&&e.length?hwe(e,fwe(t)):[]}var pwe=mwe;const S4=Yt(pwe);function IV(e,t,r){return t===!0?S4(e,r):ht(t)?S4(e,t):e}function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}var gwe=["ref"];function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){D0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MV(n.key),n)}}function vwe(e,t,r){return t&&C4(e.prototype,t),r&&C4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ywe(e,t,r){return t=ly(t),bwe(e,RV()?Reflect.construct(t,r||[],ly(e).constructor):t.apply(e,r))}function bwe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(e)}function jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ly(e)}function wwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R_(e,t)}function D0(e,t,r){return t=MV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=Nwe(e,"string");return ef(t)=="symbol"?t:t+""}function Nwe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _we(e,t){if(e==null)return{};var r=Swe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Swe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kwe(e){return e.value}function Cwe(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=_we(t,gwe);return F.createElement(IC,r)}var P4=1,mc=function(e){function t(){var r;xwe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ywe(this,t,[].concat(a)),D0(r,"lastBoundingBox",{width:-1,height:-1}),r}return wwe(t,e),vwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>P4||Math.abs(a.height-this.lastBoundingBox.height)>P4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ei({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ei(Ei({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ei(Ei({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Cwe(i,Ei(Ei({},this.props),{},{payload:IV(d,u,kwe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ei(Ei({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);D0(mc,"displayName","Legend");D0(mc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E4=hg,Pwe=MC,Ewe=_s,A4=E4?E4.isConcatSpreadable:void 0;function Awe(e){return Ewe(e)||Pwe(e)||!!(A4&&e&&e[A4])}var Owe=Awe,Twe=jV,Iwe=Owe;function $V(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Iwe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?$V(l,t-1,r,n,a):Twe(a,l):n||(a[a.length]=l)}return a}var DV=$V;function Rwe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Mwe=Rwe,$we=Mwe,Dwe=$we(),Lwe=Dwe,Fwe=Lwe,Uwe=$0;function Bwe(e,t){return e&&Fwe(e,t,Uwe)}var LV=Bwe,Vwe=gg;function qwe(e,t){return function(r,n){if(r==null)return r;if(!Vwe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var zwe=qwe,Wwe=LV,Kwe=zwe,Hwe=Kwe(Wwe),FC=Hwe,Gwe=FC,Qwe=gg;function Ywe(e,t){var r=-1,n=Qwe(e)?Array(e.length):[];return Gwe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var FV=Ywe;function Xwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Jwe=Xwe,O4=Uf;function Zwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=O4(e),o=t!==void 0,l=t===null,c=t===t,u=O4(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var e1e=Zwe,t1e=e1e;function r1e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=t1e(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var n1e=r1e,Fw=NC,s1e=_C,a1e=Ni,i1e=FV,o1e=Jwe,l1e=_V,c1e=n1e,u1e=Hf,d1e=_s;function f1e(e,t,r){t.length?t=Fw(t,function(i){return d1e(i)?function(o){return s1e(o,i.length===1?i[0]:i)}:i}):t=[u1e];var n=-1;t=Fw(t,l1e(a1e));var a=i1e(e,function(i,o,l){var c=Fw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return o1e(a,function(i,o){return c1e(i,o,r)})}var h1e=f1e;function m1e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var p1e=m1e,g1e=p1e,T4=Math.max;function x1e(e,t,r){return t=T4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=T4(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),g1e(e,this,l)}}var v1e=x1e;function y1e(e){return function(){return e}}var b1e=y1e,j1e=Xc,w1e=function(){try{var e=j1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),UV=w1e,N1e=b1e,I4=UV,_1e=Hf,S1e=I4?function(e,t){return I4(e,"toString",{configurable:!0,enumerable:!1,value:N1e(t),writable:!0})}:_1e,k1e=S1e,C1e=800,P1e=16,E1e=Date.now;function A1e(e){var t=0,r=0;return function(){var n=E1e(),a=P1e-(n-r);if(r=n,a>0){if(++t>=C1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var O1e=A1e,T1e=k1e,I1e=O1e,R1e=I1e(T1e),M1e=R1e,$1e=Hf,D1e=v1e,L1e=M1e;function F1e(e,t){return L1e(D1e(e,t,$1e),e+"")}var U1e=F1e,B1e=yC,V1e=gg,q1e=$C,z1e=_l;function W1e(e,t,r){if(!z1e(r))return!1;var n=typeof t;return(n=="number"?V1e(r)&&q1e(t,r.length):n=="string"&&t in r)?B1e(r[t],e):!1}var L0=W1e,K1e=DV,H1e=h1e,G1e=U1e,R4=L0,Q1e=G1e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&R4(e,t[0],t[1])?t=[]:r>2&&R4(t[0],t[1],t[2])&&(t=[t[0]]),H1e(e,K1e(t,1),[])}),Y1e=Q1e;const UC=Yt(Y1e);function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function X1e(e,t){return tNe(e)||eNe(e,t)||Z1e(e,t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(e,t){if(e){if(typeof e=="string")return M4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M4(e,t)}}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tNe(e){if(Array.isArray(e))return e}function $4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(r),!0).forEach(function(n){rNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rNe(e,t,r){return t=nNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nNe(e){var t=sNe(e,"string");return tp(t)=="symbol"?t:t+""}function sNe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aNe(e){return Array.isArray(e)&&pn(e[0])&&pn(e[1])?e.join(" ~ "):e}var iNe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,j=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,g=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?UC(d,h):d).map(function(M,L){if(M.type==="none")return null;var T=Uw({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),W=M.formatter||f||aNe,E=M.value,D=M.name,G=E,J=D;if(W&&G!=null&&J!=null){var I=W(E,D,M,L,d);if(Array.isArray(I)){var Y=X1e(I,2);G=Y[0],J=Y[1]}else G=I}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:T},pn(J)?F.createElement("span",{className:"recharts-tooltip-item-name"},J):null,pn(J)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},G),F.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},w=Uw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Uw({margin:0},u),_=!At(m),S=_?m:"",C=wt("recharts-default-tooltip",p),P=wt("recharts-tooltip-label",y);_&&j&&d!==void 0&&d!==null&&(S=j(m,d));var k=v?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",M_({className:C,style:w},k),F.createElement("p",{className:P,style:N},F.isValidElement(S)?S:"".concat(S)),g())};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function dx(e,t,r){return t=oNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oNe(e){var t=lNe(e,"string");return rp(t)=="symbol"?t:t+""}function lNe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jh="recharts-tooltip-wrapper",cNe={visibility:"hidden"};function uNe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return wt(jh,dx(dx(dx(dx({},"".concat(jh,"-right"),Pe(r)&&t&&Pe(t.x)&&r>=t.x),"".concat(jh,"-left"),Pe(r)&&t&&Pe(t.x)&&r<t.x),"".concat(jh,"-bottom"),Pe(n)&&t&&Pe(t.y)&&n>=t.y),"".concat(jh,"-top"),Pe(n)&&t&&Pe(t.y)&&n<t.y))}function D4(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function dNe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fNe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=D4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=D4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=dNe({translateX:d,translateY:f,useTranslate3d:l})):u=cNe,{cssProperties:u,cssClasses:uNe({translateX:d,translateY:f,coordinate:r})}}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function L4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(r),!0).forEach(function(n){D_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VV(n.key),n)}}function pNe(e,t,r){return t&&mNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gNe(e,t,r){return t=cy(t),xNe(e,BV()?Reflect.construct(t,r||[],cy(e).constructor):t.apply(e,r))}function xNe(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(e)}function vNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cy(e)}function yNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$_(e,t)}function D_(e,t,r){return t=VV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=bNe(e,"string");return tf(t)=="symbol"?t:t+""}function bNe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U4=1,jNe=function(e){function t(){var r;hNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gNe(this,t,[].concat(a)),D_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return yNe(t,e),pNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>U4||Math.abs(n.height-this.state.lastBoundingBox.height)>U4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,j=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,g=fNe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:b}),w=g.cssClasses,N=g.cssProperties,_=F4(F4({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return F.createElement("div",{tabIndex:-1,className:w,style:_,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),wNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gf={isSsr:wNe()};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(n){BC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zV(n.key),n)}}function SNe(e,t,r){return t&&_Ne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kNe(e,t,r){return t=uy(t),CNe(e,qV()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}function CNe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PNe(e)}function PNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(e)}function ENe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L_(e,t)}function BC(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=ANe(e,"string");return rf(t)=="symbol"?t:t+""}function ANe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ONe(e){return e.dataKey}function TNe(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(iNe,t)}var Ra=function(e){function t(){return NNe(this,t),kNe(this,t,arguments)}return ENe(t,e),SNe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,j=a.position,b=a.reverseDirection,v=a.useTranslate3d,g=a.viewBox,w=a.wrapperStyle,N=y??[];f&&N.length&&(N=IV(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,ONe));var _=N.length>0;return F.createElement(jNe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:j,reverseDirection:b,useTranslate3d:v,viewBox:g,wrapperStyle:w},TNe(u,V4(V4({},this.props),{},{payload:N})))}}])}(x.PureComponent);BC(Ra,"displayName","Tooltip");BC(Ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var INe=wi,RNe=function(){return INe.Date.now()},MNe=RNe,$Ne=/\s/;function DNe(e){for(var t=e.length;t--&&$Ne.test(e.charAt(t)););return t}var LNe=DNe,FNe=LNe,UNe=/^\s+/;function BNe(e){return e&&e.slice(0,FNe(e)+1).replace(UNe,"")}var VNe=BNe,qNe=VNe,q4=_l,zNe=Uf,z4=NaN,WNe=/^[-+]0x[0-9a-f]+$/i,KNe=/^0b[01]+$/i,HNe=/^0o[0-7]+$/i,GNe=parseInt;function QNe(e){if(typeof e=="number")return e;if(zNe(e))return z4;if(q4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=q4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qNe(e);var r=KNe.test(e);return r||HNe.test(e)?GNe(e.slice(2),r?2:8):WNe.test(e)?z4:+e}var WV=QNe,YNe=_l,Bw=MNe,W4=WV,XNe="Expected a function",JNe=Math.max,ZNe=Math.min;function e_e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(XNe);t=W4(t)||0,YNe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?JNe(W4(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var S=n,C=a;return n=a=void 0,u=_,o=e.apply(C,S),o}function y(_){return u=_,l=setTimeout(b,t),d?p(_):o}function m(_){var S=_-c,C=_-u,P=t-S;return f?ZNe(P,i-C):P}function j(_){var S=_-c,C=_-u;return c===void 0||S>=t||S<0||f&&C>=i}function b(){var _=Bw();if(j(_))return v(_);l=setTimeout(b,m(_))}function v(_){return l=void 0,h&&n?p(_):(n=a=void 0,o)}function g(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:v(Bw())}function N(){var _=Bw(),S=j(_);if(n=arguments,a=this,c=_,S){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return N.cancel=g,N.flush=w,N}var t_e=e_e,r_e=t_e,n_e=_l,s_e="Expected a function";function a_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(s_e);return n_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),r_e(e,t,{leading:n,maxWait:t,trailing:a})}var i_e=a_e;const KV=Yt(i_e);function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){o_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o_e(e,t,r){return t=l_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_e(e){var t=c_e(e,"string");return np(t)=="symbol"?t:t+""}function c_e(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u_e(e,t){return m_e(e)||h_e(e,t)||f_e(e,t)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(e,t){if(e){if(typeof e=="string")return H4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H4(e,t)}}function H4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function m_e(e){if(Array.isArray(e))return e}var G4=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,j=e.id,b=e.className,v=e.onResize,g=e.style,w=g===void 0?{}:g,N=x.useRef(null),_=x.useRef();_.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),C=u_e(S,2),P=C[0],k=C[1],A=x.useCallback(function(R,M){k(function(L){var T=Math.round(R),W=Math.round(M);return L.containerWidth===T&&L.containerHeight===W?L:{containerWidth:T,containerHeight:W}})},[]);x.useEffect(function(){var R=function(D){var G,J=D[0].contentRect,I=J.width,Y=J.height;A(I,Y),(G=_.current)===null||G===void 0||G.call(_,I,Y)};m>0&&(R=KV(R,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),L=N.current.getBoundingClientRect(),T=L.width,W=L.height;return A(T,W),M.observe(N.current),function(){M.disconnect()}},[A,m]);var O=x.useMemo(function(){var R=P.containerWidth,M=P.containerHeight;if(R<0||M<0)return null;qa(Jl(o)||Jl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Jl(o)?R:o,T=Jl(c)?M:c;r&&r>0&&(L?T=L/r:T&&(L=T*r),h&&T>h&&(T=h)),qa(L>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,T,o,c,d,f,r);var W=!Array.isArray(p)&&Ki(p.type).endsWith("Chart");return F.Children.map(p,function(E){return F.isValidElement(E)?x.cloneElement(E,fx({width:L,height:T},W?{style:fx({height:"100%",width:"100%",maxHeight:T,maxWidth:L},E.props.style)}:{})):E})},[r,p,c,h,f,d,P,o]);return F.createElement("div",{id:j?"".concat(j):void 0,className:wt("recharts-responsive-container",b),style:fx(fx({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},O)}),F0=function(t){return null};F0.displayName="Cell";function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){p_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_e(e,t,r){return t=g_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g_e(e){var t=x_e(e,"string");return sp(t)=="symbol"?t:t+""}function x_e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cu={widthCache:{},cacheCount:0},v_e=2e3,y_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y4="recharts_measurement_span";function b_e(e){var t=F_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var om=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gf.isSsr)return{width:0,height:0};var n=b_e(r),a=JSON.stringify({text:t,copyStyle:n});if(Cu.widthCache[a])return Cu.widthCache[a];try{var i=document.getElementById(Y4);i||(i=document.createElement("span"),i.setAttribute("id",Y4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=F_(F_({},y_e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Cu.widthCache[a]=c,++Cu.cacheCount>v_e&&(Cu.cacheCount=0,Cu.widthCache={}),c}catch{return{width:0,height:0}}},j_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function dy(e,t){return S_e(e)||__e(e,t)||N_e(e,t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N_e(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function __e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function S_e(e){if(Array.isArray(e))return e}function k_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P_e(n.key),n)}}function C_e(e,t,r){return t&&J4(e.prototype,t),r&&J4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P_e(e){var t=E_e(e,"string");return ap(t)=="symbol"?t:t+""}function E_e(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,O_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},T_e=Object.keys(HV),ed="NaN";function I_e(e,t){return e*HV[t]}var hx=function(){function e(t,r){k_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!A_e.test(r)&&(this.num=NaN,this.unit=""),T_e.includes(r)&&(this.num=I_e(t,r),this.unit="px")}return C_e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=O_e.exec(r))!==null&&n!==void 0?n:[],i=dy(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function GV(e){if(e.includes(ed))return ed;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Z4.exec(t))!==null&&r!==void 0?r:[],a=dy(n,4),i=a[1],o=a[2],l=a[3],c=hx.parse(i??""),u=hx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ed;t=t.replace(Z4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=eI.exec(t))!==null&&f!==void 0?f:[],p=dy(h,4),y=p[1],m=p[2],j=p[3],b=hx.parse(y??""),v=hx.parse(j??""),g=m==="+"?b.add(v):b.subtract(v);if(g.isNaN())return ed;t=t.replace(eI,g.toString())}return t}var tI=/\(([^()]*)\)/;function R_e(e){for(var t=e;t.includes("(");){var r=tI.exec(t),n=dy(r,2),a=n[1];t=t.replace(tI,GV(a))}return t}function M_e(e){var t=e.replace(/\s+/g,"");return t=R_e(t),t=GV(t),t}function $_e(e){try{return M_e(e)}catch{return ed}}function Vw(e){var t=$_e(e.slice(5,-1));return t===ed?"":t}var D_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],L_e=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U_.apply(this,arguments)}function rI(e,t){if(e==null)return{};var r=F_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nI(e,t){return q_e(e)||V_e(e,t)||B_e(e,t)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B_e(e,t){if(e){if(typeof e=="string")return sI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sI(e,t)}}function sI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function q_e(e){if(Array.isArray(e))return e}var QV=/[ \f\n\r\t\v\u2028\u2029]+/,YV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];At(r)||(n?i=r.toString().split(""):i=r.toString().split(QV));var o=i.map(function(c){return{word:c,width:om(c,a).width}}),l=n?0:om("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},z_e=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(T,W){var E=W.word,D=W.width,G=T[T.length-1];if(G&&(a==null||i||G.width+D+n<Number(a)))G.words.push(E),G.width+=D+n;else{var J={words:[E],width:D};T.push(J)}return T},[])},p=h(r),y=function(L){return L.reduce(function(T,W){return T.width>W.width?T:W})};if(!d)return p;for(var m="",j=function(L){var T=f.slice(0,L),W=YV({breakAll:u,style:c,children:T+m}).wordsWithComputedWidth,E=h(W),D=E.length>o||y(E).width>Number(a);return[D,E]},b=0,v=f.length-1,g=0,w;b<=v&&g<=f.length-1;){var N=Math.floor((b+v)/2),_=N-1,S=j(_),C=nI(S,2),P=C[0],k=C[1],A=j(N),O=nI(A,1),R=O[0];if(!P&&!R&&(b=N+1),P&&R&&(v=N-1),!P&&R){w=k;break}g++}return w||p},aI=function(t){var r=At(t)?[]:t.toString().split(QV);return[{words:r}]},W_e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Gf.isSsr){var c,u,d=YV({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return aI(a);return z_e({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return aI(a)},iI="#808080",Fc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,j=t.fill,b=j===void 0?iI:j,v=rI(t,D_e),g=x.useMemo(function(){return W_e({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),w=v.dx,N=v.dy,_=v.angle,S=v.className,C=v.breakAll,P=rI(v,L_e);if(!pn(n)||!pn(i))return null;var k=n+(Pe(w)?w:0),A=i+(Pe(N)?N:0),O;switch(m){case"start":O=Vw("calc(".concat(u,")"));break;case"middle":O=Vw("calc(".concat((g.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Vw("calc(".concat(g.length-1," * -").concat(l,")"));break}var R=[];if(f){var M=g[0].width,L=v.width;R.push("scale(".concat((Pe(L)?L/M:1)/M,")"))}return _&&R.push("rotate(".concat(_,", ").concat(k,", ").concat(A,")")),R.length&&(P.transform=R.join(" ")),F.createElement("text",U_({},dt(P,!0),{x:k,y:A,className:wt("recharts-text",S),textAnchor:p,fill:b.includes("url")?iI:b}),g.map(function(T,W){var E=T.words.join(C?"":" ");return F.createElement("tspan",{x:k,dy:W===0?O:l,key:"".concat(E,"-").concat(W)},E)}))};function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function K_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VC(e){let t,r,n;e.length!==2?(t=sl,r=(l,c)=>sl(e(l),c),n=(l,c)=>e(l)-c):(t=e===sl||e===K_e?e:H_e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function H_e(){return 0}function XV(e){return e===null?NaN:+e}function*G_e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q_e=VC(sl),xg=Q_e.right;VC(XV).center;class oI extends Map{constructor(t,r=J_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(lI(this,t))}has(t){return super.has(lI(this,t))}set(t,r){return super.set(Y_e(this,t),r)}delete(t){return super.delete(X_e(this,t))}}function lI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Y_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function X_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function J_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Z_e(e=sl){if(e===sl)return JV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function JV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eSe=Math.sqrt(50),tSe=Math.sqrt(10),rSe=Math.sqrt(2);function fy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=eSe?10:i>=tSe?5:i>=rSe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?fy(e,t,r*2):[l,c,u]}function B_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?fy(t,e,r):fy(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function V_(e,t,r){return t=+t,e=+e,r=+r,fy(e,t,r)[2]}function q_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?V_(t,e,r):V_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function cI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ZV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?JV:Z_e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));ZV(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(wh(e,r,t),a(e[n],i)>0&&wh(e,r,n);o<l;){for(wh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?wh(e,r,l):(++l,wh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function wh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nSe(e,t,r){if(e=Float64Array.from(G_e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return uI(e);if(t>=1)return cI(e);var n,a=(n-1)*t,i=Math.floor(a),o=cI(ZV(e,i).subarray(0,i+1)),l=uI(e.subarray(i+1));return o+(l-o)*(a-i)}}function sSe(e,t,r=XV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function aSe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function wa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const z_=Symbol("implicit");function qC(){var e=new oI,t=[],r=[],n=z_;function a(i){let o=e.get(i);if(o===void 0){if(n!==z_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new oI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qC(t,r).unknown(n)},wa.apply(a,arguments),a}function ip(){var e=qC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var j=aSe(h).map(function(b){return y+i*b});return r(p?j.reverse():j)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ip(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},wa.apply(f(),arguments)}function eq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return eq(t())},e}function lm(){return eq(ip.apply(null,arguments).paddingInner(1))}function zC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vg(){}var op=.7,hy=1/op,pd="\\s*([+-]?\\d+)\\s*",lp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iSe=/^#([0-9a-f]{3,8})$/,oSe=new RegExp(`^rgb\\(${pd},${pd},${pd}\\)$`),lSe=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),cSe=new RegExp(`^rgba\\(${pd},${pd},${pd},${lp}\\)$`),uSe=new RegExp(`^rgba\\(${mi},${mi},${mi},${lp}\\)$`),dSe=new RegExp(`^hsl\\(${lp},${mi},${mi}\\)$`),fSe=new RegExp(`^hsla\\(${lp},${mi},${mi},${lp}\\)$`),dI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zC(vg,cp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fI,formatHex:fI,formatHex8:hSe,formatHsl:mSe,formatRgb:hI,toString:hI});function fI(){return this.rgb().formatHex()}function hSe(){return this.rgb().formatHex8()}function mSe(){return rq(this).formatHsl()}function hI(){return this.rgb().formatRgb()}function cp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iSe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?mI(t):r===3?new xs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oSe.exec(e))?new xs(t[1],t[2],t[3],1):(t=lSe.exec(e))?new xs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cSe.exec(e))?mx(t[1],t[2],t[3],t[4]):(t=uSe.exec(e))?mx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dSe.exec(e))?xI(t[1],t[2]/100,t[3]/100,1):(t=fSe.exec(e))?xI(t[1],t[2]/100,t[3]/100,t[4]):dI.hasOwnProperty(e)?mI(dI[e]):e==="transparent"?new xs(NaN,NaN,NaN,0):null}function mI(e){return new xs(e>>16&255,e>>8&255,e&255,1)}function mx(e,t,r,n){return n<=0&&(e=t=r=NaN),new xs(e,t,r,n)}function pSe(e){return e instanceof vg||(e=cp(e)),e?(e=e.rgb(),new xs(e.r,e.g,e.b,e.opacity)):new xs}function W_(e,t,r,n){return arguments.length===1?pSe(e):new xs(e,t,r,n??1)}function xs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zC(xs,W_,tq(vg,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new xs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?op:Math.pow(op,e),new xs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xs(pc(this.r),pc(this.g),pc(this.b),my(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pI,formatHex:pI,formatHex8:gSe,formatRgb:gI,toString:gI}));function pI(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function gSe(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function gI(){const e=my(this.opacity);return`${e===1?"rgb(":"rgba("}${pc(this.r)}, ${pc(this.g)}, ${pc(this.b)}${e===1?")":`, ${e})`}`}function my(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zl(e){return e=pc(e),(e<16?"0":"")+e.toString(16)}function xI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fa(e,t,r,n)}function rq(e){if(e instanceof Fa)return new Fa(e.h,e.s,e.l,e.opacity);if(e instanceof vg||(e=cp(e)),!e)return new Fa;if(e instanceof Fa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Fa(o,l,c,e.opacity)}function xSe(e,t,r,n){return arguments.length===1?rq(e):new Fa(e,t,r,n??1)}function Fa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zC(Fa,xSe,tq(vg,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new Fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?op:Math.pow(op,e),new Fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xs(qw(e>=240?e-240:e+120,a,n),qw(e,a,n),qw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Fa(vI(this.h),px(this.s),px(this.l),my(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=my(this.opacity);return`${e===1?"hsl(":"hsla("}${vI(this.h)}, ${px(this.s)*100}%, ${px(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vI(e){return e=(e||0)%360,e<0?e+360:e}function px(e){return Math.max(0,Math.min(1,e||0))}function qw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const WC=e=>()=>e;function vSe(e,t){return function(r){return e+r*t}}function ySe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bSe(e){return(e=+e)==1?nq:function(t,r){return r-t?ySe(t,r,e):WC(isNaN(t)?r:t)}}function nq(e,t){var r=t-e;return r?vSe(e,r):WC(isNaN(e)?t:e)}const yI=function e(t){var r=bSe(t);function n(a,i){var o=r((a=W_(a)).r,(i=W_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=nq(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function jSe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function wSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NSe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Qf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function _Se(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function py(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SSe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Qf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var K_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zw=new RegExp(K_.source,"g");function kSe(e){return function(){return e}}function CSe(e){return function(t){return e(t)+""}}function PSe(e,t){var r=K_.lastIndex=zw.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=K_.exec(e))&&(a=zw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:py(n,a)})),r=zw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?CSe(c[0].x):kSe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Qf(e,t){var r=typeof t,n;return t==null||r==="boolean"?WC(t):(r==="number"?py:r==="string"?(n=cp(t))?(t=n,yI):PSe:t instanceof cp?yI:t instanceof Date?_Se:wSe(t)?jSe:Array.isArray(t)?NSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SSe:py)(e,t)}function KC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ESe(e,t){t===void 0&&(t=e,e=Qf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ASe(e){return function(){return e}}function gy(e){return+e}var bI=[0,1];function Zn(e){return e}function H_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ASe(isNaN(t)?NaN:.5)}function OSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TSe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=H_(a,n),i=r(o,i)):(n=H_(n,a),i=r(i,o)),function(l){return i(n(l))}}function ISe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=H_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=xg(e,l,1,n)-1;return i[c](a[c](l))}}function yg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function U0(){var e=bI,t=bI,r=Qf,n,a,i,o=Zn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Zn&&(o=OSe(e[0],e[h-1])),l=h>2?ISe:TSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),py)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,gy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=KC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Zn,d()):o!==Zn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function HC(){return U0()(Zn,Zn)}function RSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function nf(e){return e=xy(Math.abs(e)),e?e[1]:NaN}function MSe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function $Se(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function up(e){if(!(t=DSe.exec(e)))throw new Error("invalid format: "+e);var t;return new GC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}up.prototype=GC.prototype;function GC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}GC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LSe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sq;function FSe(e,t){var r=xy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(sq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+xy(e,Math.max(0,t+i-1))[0]}function jI(e,t){var r=xy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jI(e*100,t),r:jI,s:FSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function NI(e){return e}var _I=Array.prototype.map,SI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function USe(e){var t=e.grouping===void 0||e.thousands===void 0?NI:MSe(_I.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?NI:$Se(_I.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=up(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,j=f.zero,b=f.width,v=f.comma,g=f.precision,w=f.trim,N=f.type;N==="n"?(v=!0,N="g"):wI[N]||(g===void 0&&(g=12),w=!0,N="g"),(j||h==="0"&&p==="=")&&(j=!0,h="0",p="=");var _=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=m==="$"?n:/[%p]/.test(N)?o:"",C=wI[N],P=/[defgprs%]/.test(N);g=g===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function k(A){var O=_,R=S,M,L,T;if(N==="c")R=C(A)+R,A="";else{A=+A;var W=A<0||1/A<0;if(A=isNaN(A)?c:C(Math.abs(A),g),w&&(A=LSe(A)),W&&+A==0&&y!=="+"&&(W=!1),O=(W?y==="("?y:l:y==="-"||y==="("?"":y)+O,R=(N==="s"?SI[8+sq/3]:"")+R+(W&&y==="("?")":""),P){for(M=-1,L=A.length;++M<L;)if(T=A.charCodeAt(M),48>T||T>57){R=(T===46?a+A.slice(M+1):A.slice(M))+R,A=A.slice(0,M);break}}}v&&!j&&(A=t(A,1/0));var E=O.length+A.length+R.length,D=E<b?new Array(b-E+1).join(h):"";switch(v&&j&&(A=t(D+A,D.length?b-R.length:1/0),D=""),p){case"<":A=O+A+R+D;break;case"=":A=O+D+A+R;break;case"^":A=D.slice(0,E=D.length>>1)+O+A+R+D.slice(E);break;default:A=D+O+A+R;break}return i(A)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=up(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(nf(h)/3)))*3,m=Math.pow(10,-y),j=SI[8+y/3];return function(b){return p(m*b)+j}}return{format:u,formatPrefix:d}}var gx,QC,aq;BSe({thousands:",",grouping:[3],currency:["$",""]});function BSe(e){return gx=USe(e),QC=gx.format,aq=gx.formatPrefix,gx}function VSe(e){return Math.max(0,-nf(Math.abs(e)))}function qSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))*3-nf(Math.abs(e)))}function zSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nf(t)-nf(e))+1}function iq(e,t,r,n){var a=q_(e,t,r),i;switch(n=up(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=qSe(a,o))&&(n.precision=i),aq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=zSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=VSe(a))&&(n.precision=i-(n.type==="%")*2);break}}return QC(n)}function Sl(e){var t=e.domain;return e.ticks=function(r){var n=t();return B_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return iq(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=V_(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function vy(){var e=HC();return e.copy=function(){return yg(e,vy())},wa.apply(e,arguments),Sl(e)}function oq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return oq(e).unknown(t)},e=arguments.length?Array.from(e,gy):[0,1],Sl(r)}function lq(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function kI(e){return Math.log(e)}function CI(e){return Math.exp(e)}function WSe(e){return-Math.log(-e)}function KSe(e){return-Math.exp(-e)}function HSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GSe(e){return e===10?HSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PI(e){return(t,r)=>-e(-t,r)}function YC(e){const t=e(kI,CI),r=t.domain;let n=10,a,i;function o(){return a=QSe(n),i=GSe(n),r()[0]<0?(a=PI(a),i=PI(i),e(WSe,KSe)):e(kI,CI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,m;const j=l==null?10:+l;let b=[];if(!(n%1)&&p-h<j){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<j&&(b=B_(u,d,j))}else b=B_(h,p,Math.min(p-h,j)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=up(c)).precision==null&&(c.trim=!0),c=QC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(lq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function cq(){const e=YC(U0()).domain([1,10]);return e.copy=()=>yg(e,cq()).base(e.base()),wa.apply(e,arguments),e}function EI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function XC(e){var t=1,r=e(EI(t),AI(t));return r.constant=function(n){return arguments.length?e(EI(t=+n),AI(t)):t},Sl(r)}function uq(){var e=XC(U0());return e.copy=function(){return yg(e,uq()).constant(e.constant())},wa.apply(e,arguments)}function OI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function XSe(e){return e<0?-e*e:e*e}function JC(e){var t=e(Zn,Zn),r=1;function n(){return r===1?e(Zn,Zn):r===.5?e(YSe,XSe):e(OI(r),OI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Sl(t)}function ZC(){var e=JC(U0());return e.copy=function(){return yg(e,ZC()).exponent(e.exponent())},wa.apply(e,arguments),e}function JSe(){return ZC.apply(null,arguments).exponent(.5)}function TI(e){return Math.sign(e)*e*e}function ZSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dq(){var e=HC(),t=[0,1],r=!1,n;function a(i){var o=ZSe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(TI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,gy)).map(TI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dq(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wa.apply(a,arguments),Sl(a)}function fq(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=sSe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[xg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(sl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return fq().domain(e).range(t).unknown(n)},wa.apply(i,arguments)}function hq(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[xg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return hq().domain([e,t]).range(a).unknown(i)},wa.apply(Sl(o),arguments)}function mq(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[xg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return mq().domain(e).range(t).unknown(r)},wa.apply(a,arguments)}const Ww=new Date,Kw=new Date;function xn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>xn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Ww.setTime(+i),Kw.setTime(+o),e(Ww),e(Kw),Math.floor(r(Ww,Kw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const yy=xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yy);yy.range;const Vi=1e3,ia=Vi*60,qi=ia*60,so=qi*24,eP=so*7,II=so*30,Hw=so*365,ec=xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCSeconds());ec.range;const tP=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vi)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getMinutes());tP.range;const rP=xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCMinutes());rP.range;const nP=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vi-e.getMinutes()*ia)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getHours());nP.range;const sP=xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCHours());sP.range;const bg=xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ia)/so,e=>e.getDate()-1);bg.range;const B0=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/so,e=>e.getUTCDate()-1);B0.range;const pq=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/so,e=>Math.floor(e/so));pq.range;function Jc(e){return xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ia)/eP)}const V0=Jc(0),by=Jc(1),eke=Jc(2),tke=Jc(3),sf=Jc(4),rke=Jc(5),nke=Jc(6);V0.range;by.range;eke.range;tke.range;sf.range;rke.range;nke.range;function Zc(e){return xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/eP)}const q0=Zc(0),jy=Zc(1),ske=Zc(2),ake=Zc(3),af=Zc(4),ike=Zc(5),oke=Zc(6);q0.range;jy.range;ske.range;ake.range;af.range;ike.range;oke.range;const aP=xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aP.range;const iP=xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iP.range;const ao=xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ao.range;const io=xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());io.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});io.range;function gq(e,t,r,n,a,i){const o=[[ec,1,Vi],[ec,5,5*Vi],[ec,15,15*Vi],[ec,30,30*Vi],[i,1,ia],[i,5,5*ia],[i,15,15*ia],[i,30,30*ia],[a,1,qi],[a,3,3*qi],[a,6,6*qi],[a,12,12*qi],[n,1,so],[n,2,2*so],[r,1,eP],[t,1,II],[t,3,3*II],[e,1,Hw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=VC(([,,j])=>j).right(o,h);if(p===o.length)return e.every(q_(u/Hw,d/Hw,f));if(p===0)return yy.every(Math.max(q_(u,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[lke,cke]=gq(io,iP,q0,pq,sP,rP),[uke,dke]=gq(ao,aP,V0,bg,nP,tP);function Gw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fke(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=_h(a),d=Sh(a),f=_h(i),h=Sh(i),p=_h(o),y=Sh(o),m=_h(l),j=Sh(l),b=_h(c),v=Sh(c),g={a:W,A:E,b:D,B:G,c:null,d:FI,e:FI,f:Mke,g:Wke,G:Hke,H:Tke,I:Ike,j:Rke,L:xq,m:$ke,M:Dke,p:J,q:I,Q:VI,s:qI,S:Lke,u:Fke,U:Uke,V:Bke,w:Vke,W:qke,x:null,X:null,y:zke,Y:Kke,Z:Gke,"%":BI},w={a:Y,A:V,b:ee,B:pe,c:null,d:UI,e:UI,f:Jke,g:l2e,G:u2e,H:Qke,I:Yke,j:Xke,L:yq,m:Zke,M:e2e,p:te,q:ve,Q:VI,s:qI,S:t2e,u:r2e,U:n2e,V:s2e,w:a2e,W:i2e,x:null,X:null,y:o2e,Y:c2e,Z:d2e,"%":BI},N={a:k,A,b:O,B:R,c:M,d:DI,e:DI,f:Pke,g:$I,G:MI,H:LI,I:LI,j:_ke,L:Cke,m:Nke,M:Ske,p:P,q:wke,Q:Ake,s:Oke,S:kke,u:xke,U:vke,V:yke,w:gke,W:bke,x:L,X:T,y:$I,Y:MI,Z:jke,"%":Eke};g.x=_(r,g),g.X=_(n,g),g.c=_(t,g),w.x=_(r,w),w.X=_(n,w),w.c=_(t,w);function _(ie,B){return function(me){var Q=[],q=-1,xe=0,tt=ie.length,at,ft,Wt;for(me instanceof Date||(me=new Date(+me));++q<tt;)ie.charCodeAt(q)===37&&(Q.push(ie.slice(xe,q)),(ft=RI[at=ie.charAt(++q)])!=null?at=ie.charAt(++q):ft=at==="e"?" ":"0",(Wt=B[at])&&(at=Wt(me,ft)),Q.push(at),xe=q+1);return Q.push(ie.slice(xe,q)),Q.join("")}}function S(ie,B){return function(me){var Q=Nh(1900,void 0,1),q=C(Q,ie,me+="",0),xe,tt;if(q!=me.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(B&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(xe=Qw(Nh(Q.y,0,1)),tt=xe.getUTCDay(),xe=tt>4||tt===0?jy.ceil(xe):jy(xe),xe=B0.offset(xe,(Q.V-1)*7),Q.y=xe.getUTCFullYear(),Q.m=xe.getUTCMonth(),Q.d=xe.getUTCDate()+(Q.w+6)%7):(xe=Gw(Nh(Q.y,0,1)),tt=xe.getDay(),xe=tt>4||tt===0?by.ceil(xe):by(xe),xe=bg.offset(xe,(Q.V-1)*7),Q.y=xe.getFullYear(),Q.m=xe.getMonth(),Q.d=xe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),tt="Z"in Q?Qw(Nh(Q.y,0,1)).getUTCDay():Gw(Nh(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(tt+5)%7:Q.w+Q.U*7-(tt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Qw(Q)):Gw(Q)}}function C(ie,B,me,Q){for(var q=0,xe=B.length,tt=me.length,at,ft;q<xe;){if(Q>=tt)return-1;if(at=B.charCodeAt(q++),at===37){if(at=B.charAt(q++),ft=N[at in RI?B.charAt(q++):at],!ft||(Q=ft(ie,me,Q))<0)return-1}else if(at!=me.charCodeAt(Q++))return-1}return Q}function P(ie,B,me){var Q=u.exec(B.slice(me));return Q?(ie.p=d.get(Q[0].toLowerCase()),me+Q[0].length):-1}function k(ie,B,me){var Q=p.exec(B.slice(me));return Q?(ie.w=y.get(Q[0].toLowerCase()),me+Q[0].length):-1}function A(ie,B,me){var Q=f.exec(B.slice(me));return Q?(ie.w=h.get(Q[0].toLowerCase()),me+Q[0].length):-1}function O(ie,B,me){var Q=b.exec(B.slice(me));return Q?(ie.m=v.get(Q[0].toLowerCase()),me+Q[0].length):-1}function R(ie,B,me){var Q=m.exec(B.slice(me));return Q?(ie.m=j.get(Q[0].toLowerCase()),me+Q[0].length):-1}function M(ie,B,me){return C(ie,t,B,me)}function L(ie,B,me){return C(ie,r,B,me)}function T(ie,B,me){return C(ie,n,B,me)}function W(ie){return o[ie.getDay()]}function E(ie){return i[ie.getDay()]}function D(ie){return c[ie.getMonth()]}function G(ie){return l[ie.getMonth()]}function J(ie){return a[+(ie.getHours()>=12)]}function I(ie){return 1+~~(ie.getMonth()/3)}function Y(ie){return o[ie.getUTCDay()]}function V(ie){return i[ie.getUTCDay()]}function ee(ie){return c[ie.getUTCMonth()]}function pe(ie){return l[ie.getUTCMonth()]}function te(ie){return a[+(ie.getUTCHours()>=12)]}function ve(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var B=_(ie+="",g);return B.toString=function(){return ie},B},parse:function(ie){var B=S(ie+="",!1);return B.toString=function(){return ie},B},utcFormat:function(ie){var B=_(ie+="",w);return B.toString=function(){return ie},B},utcParse:function(ie){var B=S(ie+="",!0);return B.toString=function(){return ie},B}}}var RI={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,hke=/^%/,mke=/[\\^$*+?|[\]().{}]/g;function zt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function pke(e){return e.replace(mke,"\\$&")}function _h(e){return new RegExp("^(?:"+e.map(pke).join("|")+")","i")}function Sh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gke(e,t,r){var n=kn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xke(e,t,r){var n=kn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vke(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yke(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bke(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function MI(e,t,r){var n=kn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $I(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jke(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wke(e,t,r){var n=kn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Nke(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DI(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function _ke(e,t,r){var n=kn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LI(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ske(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kke(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Cke(e,t,r){var n=kn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Pke(e,t,r){var n=kn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Eke(e,t,r){var n=hke.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ake(e,t,r){var n=kn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Oke(e,t,r){var n=kn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function FI(e,t){return zt(e.getDate(),t,2)}function Tke(e,t){return zt(e.getHours(),t,2)}function Ike(e,t){return zt(e.getHours()%12||12,t,2)}function Rke(e,t){return zt(1+bg.count(ao(e),e),t,3)}function xq(e,t){return zt(e.getMilliseconds(),t,3)}function Mke(e,t){return xq(e,t)+"000"}function $ke(e,t){return zt(e.getMonth()+1,t,2)}function Dke(e,t){return zt(e.getMinutes(),t,2)}function Lke(e,t){return zt(e.getSeconds(),t,2)}function Fke(e){var t=e.getDay();return t===0?7:t}function Uke(e,t){return zt(V0.count(ao(e)-1,e),t,2)}function vq(e){var t=e.getDay();return t>=4||t===0?sf(e):sf.ceil(e)}function Bke(e,t){return e=vq(e),zt(sf.count(ao(e),e)+(ao(e).getDay()===4),t,2)}function Vke(e){return e.getDay()}function qke(e,t){return zt(by.count(ao(e)-1,e),t,2)}function zke(e,t){return zt(e.getFullYear()%100,t,2)}function Wke(e,t){return e=vq(e),zt(e.getFullYear()%100,t,2)}function Kke(e,t){return zt(e.getFullYear()%1e4,t,4)}function Hke(e,t){var r=e.getDay();return e=r>=4||r===0?sf(e):sf.ceil(e),zt(e.getFullYear()%1e4,t,4)}function Gke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zt(t/60|0,"0",2)+zt(t%60,"0",2)}function UI(e,t){return zt(e.getUTCDate(),t,2)}function Qke(e,t){return zt(e.getUTCHours(),t,2)}function Yke(e,t){return zt(e.getUTCHours()%12||12,t,2)}function Xke(e,t){return zt(1+B0.count(io(e),e),t,3)}function yq(e,t){return zt(e.getUTCMilliseconds(),t,3)}function Jke(e,t){return yq(e,t)+"000"}function Zke(e,t){return zt(e.getUTCMonth()+1,t,2)}function e2e(e,t){return zt(e.getUTCMinutes(),t,2)}function t2e(e,t){return zt(e.getUTCSeconds(),t,2)}function r2e(e){var t=e.getUTCDay();return t===0?7:t}function n2e(e,t){return zt(q0.count(io(e)-1,e),t,2)}function bq(e){var t=e.getUTCDay();return t>=4||t===0?af(e):af.ceil(e)}function s2e(e,t){return e=bq(e),zt(af.count(io(e),e)+(io(e).getUTCDay()===4),t,2)}function a2e(e){return e.getUTCDay()}function i2e(e,t){return zt(jy.count(io(e)-1,e),t,2)}function o2e(e,t){return zt(e.getUTCFullYear()%100,t,2)}function l2e(e,t){return e=bq(e),zt(e.getUTCFullYear()%100,t,2)}function c2e(e,t){return zt(e.getUTCFullYear()%1e4,t,4)}function u2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?af(e):af.ceil(e),zt(e.getUTCFullYear()%1e4,t,4)}function d2e(){return"+0000"}function BI(){return"%"}function VI(e){return+e}function qI(e){return Math.floor(+e/1e3)}var Pu,jq,wq;f2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f2e(e){return Pu=fke(e),jq=Pu.format,Pu.parse,wq=Pu.utcFormat,Pu.utcParse,Pu}function h2e(e){return new Date(e)}function m2e(e){return e instanceof Date?+e:+new Date(+e)}function oP(e,t,r,n,a,i,o,l,c,u){var d=HC(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),j=u("%I %p"),b=u("%a %d"),v=u("%b %d"),g=u("%B"),w=u("%Y");function N(_){return(c(_)<_?p:l(_)<_?y:o(_)<_?m:i(_)<_?j:n(_)<_?a(_)<_?b:v:r(_)<_?g:w)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,m2e)):h().map(h2e)},d.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?N:u(S)},d.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(lq(S,_)):d},d.copy=function(){return yg(d,oP(e,t,r,n,a,i,o,l,c,u))},d}function p2e(){return wa.apply(oP(uke,dke,ao,aP,V0,bg,nP,tP,ec,jq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g2e(){return wa.apply(oP(lke,cke,io,iP,q0,B0,sP,rP,ec,wq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function z0(){var e=0,t=1,r,n,a,i,o=Zn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Qf),u.rangeRound=d(KC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Nq(){var e=Sl(z0()(Zn));return e.copy=function(){return kl(e,Nq())},mo.apply(e,arguments)}function _q(){var e=YC(z0()).domain([1,10]);return e.copy=function(){return kl(e,_q()).base(e.base())},mo.apply(e,arguments)}function Sq(){var e=XC(z0());return e.copy=function(){return kl(e,Sq()).constant(e.constant())},mo.apply(e,arguments)}function lP(){var e=JC(z0());return e.copy=function(){return kl(e,lP()).exponent(e.exponent())},mo.apply(e,arguments)}function x2e(){return lP.apply(null,arguments).exponent(.5)}function kq(){var e=[],t=Zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((xg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(sl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>nSe(e,i/n))},r.copy=function(){return kq(t).domain(e)},mo.apply(r,arguments)}function W0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Zn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(j){var b,v,g;return arguments.length?([b,v,g]=j,u=ESe(m,[b,v,g]),p):[u(0),u(.5),u(1)]}}return p.range=y(Qf),p.rangeRound=y(KC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Cq(){var e=Sl(W0()(Zn));return e.copy=function(){return kl(e,Cq())},mo.apply(e,arguments)}function Pq(){var e=YC(W0()).domain([.1,1,10]);return e.copy=function(){return kl(e,Pq()).base(e.base())},mo.apply(e,arguments)}function Eq(){var e=XC(W0());return e.copy=function(){return kl(e,Eq()).constant(e.constant())},mo.apply(e,arguments)}function cP(){var e=JC(W0());return e.copy=function(){return kl(e,cP()).exponent(e.exponent())},mo.apply(e,arguments)}function v2e(){return cP.apply(null,arguments).exponent(.5)}const zI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ip,scaleDiverging:Cq,scaleDivergingLog:Pq,scaleDivergingPow:cP,scaleDivergingSqrt:v2e,scaleDivergingSymlog:Eq,scaleIdentity:oq,scaleImplicit:z_,scaleLinear:vy,scaleLog:cq,scaleOrdinal:qC,scalePoint:lm,scalePow:ZC,scaleQuantile:fq,scaleQuantize:hq,scaleRadial:dq,scaleSequential:Nq,scaleSequentialLog:_q,scaleSequentialPow:lP,scaleSequentialQuantile:kq,scaleSequentialSqrt:x2e,scaleSequentialSymlog:Sq,scaleSqrt:JSe,scaleSymlog:uq,scaleThreshold:mq,scaleTime:p2e,scaleUtc:g2e,tickFormat:iq},Symbol.toStringTag,{value:"Module"}));var y2e=Uf;function b2e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!y2e(o):r(o,l)))var l=o,c=i}return c}var K0=b2e;function j2e(e,t){return e>t}var Aq=j2e,w2e=K0,N2e=Aq,_2e=Hf;function S2e(e){return e&&e.length?w2e(e,_2e,N2e):void 0}var k2e=S2e;const H0=Yt(k2e);function C2e(e,t){return e<t}var Oq=C2e,P2e=K0,E2e=Oq,A2e=Hf;function O2e(e){return e&&e.length?P2e(e,A2e,E2e):void 0}var T2e=O2e;const G0=Yt(T2e);var I2e=NC,R2e=Ni,M2e=FV,$2e=_s;function D2e(e,t){var r=$2e(e)?I2e:M2e;return r(e,R2e(t))}var L2e=D2e,F2e=DV,U2e=L2e;function B2e(e,t){return F2e(U2e(e,t),1)}var V2e=B2e;const q2e=Yt(V2e);var z2e=LC;function W2e(e,t){return z2e(e,t)}var K2e=W2e;const Q0=Yt(K2e);var Yf=1e9,H2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dP,Sr=!0,ga="[DecimalError] ",gc=ga+"Invalid argument: ",uP=ga+"Exponent out of range: ",Xf=Math.floor,Vl=Math.pow,G2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ms,bn=1e7,jr=7,Tq=9007199254740991,wy=Xf(Tq/jr),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*jr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(e){return Hi(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,r=t.constructor;return cr(Hi(t,new r(e),0,1),r.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return tn(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ms))throw Error(ga+"NaN");if(r.s<1)throw Error(ga+(r.s?"NaN":"-Infinity"));return r.eq(Ms)?new n(0):(Sr=!1,t=Hi(dp(r,i),dp(e,i),i),Sr=!0,cr(t,a))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Mq(t,e):Iq(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ga+"NaN");return r.s?(Sr=!1,t=Hi(r,e,0,1).times(e),Sr=!0,r.minus(t)):cr(new n(r),a)};Ue.naturalExponential=Ue.exp=function(){return Rq(this)};Ue.naturalLogarithm=Ue.ln=function(){return dp(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Iq(t,e):Mq(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gc+e);if(t=tn(a)+1,n=a.d.length-1,r=n*jr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ue.squareRoot=Ue.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ga+"NaN")}for(e=tn(l),Sr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=li(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Xf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Hi(l,i,o+2)).times(.5),li(i.d).slice(0,o)===(t=li(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(cr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Sr=!0,cr(n,r)};Ue.times=Ue.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%bn|0,t=l/bn|0;i[a]=(i[a]+t)%bn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Sr?cr(e,f.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yi(e,0,Yf),t===void 0?t=n.rounding:yi(t,0,8),cr(r,e+tn(r)+1,t))};Ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Uc(n,!0):(yi(e,0,Yf),t===void 0?t=a.rounding:yi(t,0,8),n=cr(new a(n),e+1,t),r=Uc(n,!0,e+1)),r};Ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Uc(a):(yi(e,0,Yf),t===void 0?t=i.rounding:yi(t,0,8),n=cr(new i(a),e+tn(a)+1,t),r=Uc(n.abs(),!1,e+tn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return cr(new t(e),tn(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ms);if(l=new c(l),!l.s){if(e.s<1)throw Error(ga+"Infinity");return l}if(l.eq(Ms))return l;if(n=c.precision,e.eq(Ms))return cr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Tq){for(a=new c(Ms),t=Math.ceil(n/jr+4),Sr=!1;r%2&&(a=a.times(l),KI(a.d,t)),r=Xf(r/2),r!==0;)l=l.times(l),KI(l.d,t);return Sr=!0,e.s<0?new c(Ms).div(a):cr(a,n)}}else if(i<0)throw Error(ga+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Sr=!1,a=e.times(dp(l,n+u)),Sr=!0,a=Rq(a),a.s=i,a};Ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tn(a),n=Uc(a,r<=i.toExpNeg||r>=i.toExpPos)):(yi(e,1,Yf),t===void 0?t=i.rounding:yi(t,0,8),a=cr(new i(a),e,t),r=tn(a),n=Uc(a,e<=r||r<=i.toExpNeg,e)),n};Ue.toSignificantDigits=Ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yi(e,1,Yf),t===void 0?t=n.rounding:yi(t,0,8)),cr(new n(r),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tn(e),r=e.constructor;return Uc(e,t<=r.toExpNeg||t>=r.toExpPos)};function Iq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Sr?cr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/jr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/bn|0,c[i]%=bn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Sr?cr(t,f):t}function yi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gc+e)}function li(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=jr-n.length,r&&(i+=Ao(r)),i+=n;o=e[t],n=o+"",r=jr-n.length,r&&(i+=Ao(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Hi=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%bn|0,o=i/bn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*bn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,y,m,j,b,v,g,w,N,_,S,C,P=n.constructor,k=n.s==a.s?1:-1,A=n.d,O=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(ga+"Division by zero");for(c=n.e-a.e,S=O.length,N=A.length,p=new P(k),y=p.d=[],u=0;O[u]==(A[u]||0);)++u;if(O[u]>(A[u]||0)&&--c,i==null?v=i=P.precision:o?v=i+(tn(n)-tn(a))+1:v=i,v<0)return new P(0);if(v=v/jr+2|0,u=0,S==1)for(d=0,O=O[0],v++;(u<N||d)&&v--;u++)g=d*bn+(A[u]||0),y[u]=g/O|0,d=g%O|0;else{for(d=bn/(O[0]+1)|0,d>1&&(O=e(O,d),A=e(A,d),S=O.length,N=A.length),w=S,m=A.slice(0,S),j=m.length;j<S;)m[j++]=0;C=O.slice(),C.unshift(0),_=O[0],O[1]>=bn/2&&++_;do d=0,l=t(O,m,S,j),l<0?(b=m[0],S!=j&&(b=b*bn+(m[1]||0)),d=b/_|0,d>1?(d>=bn&&(d=bn-1),f=e(O,d),h=f.length,j=m.length,l=t(f,m,h,j),l==1&&(d--,r(f,S<h?C:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<j&&f.unshift(0),r(m,f,j),l==-1&&(j=m.length,l=t(O,m,S,j),l<1&&(d++,r(m,S<j?C:O,j))),j=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[j++]=A[w]||0:(m=[A[w]],j=1);while((w++<N||m[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=c,cr(p,o?i+tn(p)+1:i)}}();function Rq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(tn(e)>16)throw Error(uP+tn(e));if(!e.s)return new d(Ms);for(Sr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Vl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ms),d.precision=l;;){if(a=cr(a.times(e),l),r=r.times(++c),o=i.plus(Hi(a,r,l)),li(o.d).slice(0,l)===li(i.d).slice(0,l)){for(;u--;)i=cr(i.times(i),l);return d.precision=f,t==null?(Sr=!0,cr(i,f)):i}i=o}}function tn(e){for(var t=e.e*jr,r=e.d[0];r>=10;r/=10)t++;return t}function Yw(e,t,r){if(t>e.LN10.sd())throw Sr=!0,r&&(e.precision=r),Error(ga+"LN10 precision limit exceeded");return cr(new e(e.LN10),t)}function Ao(e){for(var t="";e--;)t+="0";return t}function dp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,j=m.precision;if(p.s<1)throw Error(ga+(p.s?"NaN":"-Infinity"));if(p.eq(Ms))return new m(0);if(t==null?(Sr=!1,u=j):u=t,p.eq(10))return t==null&&(Sr=!0),Yw(m,u);if(u+=h,m.precision=u,r=li(y),n=r.charAt(0),i=tn(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=li(p.d),n=r.charAt(0),f++;i=tn(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Yw(m,u+2,j).times(i+""),p=dp(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=j,t==null?(Sr=!0,cr(p,j)):p;for(l=o=p=Hi(p.minus(Ms),p.plus(Ms),u),d=cr(p.times(p),u),a=3;;){if(o=cr(o.times(d),u),c=l.plus(Hi(o,new m(a),u)),li(c.d).slice(0,u)===li(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Yw(m,u+2,j).times(i+""))),l=Hi(l,new m(f),u),m.precision=j,t==null?(Sr=!0,cr(l,j)):l;l=c,a+=2}}function WI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Xf(r/jr),e.d=[],n=(r+1)%jr,r<0&&(n+=jr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=jr;n<a;)e.d.push(+t.slice(n,n+=jr));t=t.slice(n),n=jr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Sr&&(e.e>wy||e.e<-wy))throw Error(uP+r)}else e.s=0,e.e=0,e.d=[0];return e}function cr(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=jr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/jr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=jr,a=n-jr+o}if(r!==void 0&&(i=Vl(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Vl(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=tn(e),f.length=1,t=t-i-1,f[0]=Vl(10,(jr-t%jr)%jr),e.e=Xf(-t/jr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Vl(10,jr-n),f[d]=a>0?(u/Vl(10,o-a)%Vl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==bn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=bn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Sr&&(e.e>wy||e.e<-wy))throw Error(uP+tn(e));return e}function Mq(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Sr?cr(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/jr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=bn-1;--c[i],c[a]+=bn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Sr?cr(t,p):t):new h(0)}function Uc(e,t,r){var n,a=tn(e),i=li(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ao(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ao(-a-1)+i,r&&(n=r-o)>0&&(i+=Ao(n))):a>=o?(i+=Ao(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ao(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ao(n))),e.s<0?"-"+i:i}function KI(e,t){if(e.length>t)return e.length=t,!0}function $q(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return WI(o,i.toString())}else if(typeof i!="string")throw Error(gc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,G2e.test(i))WI(o,i);else throw Error(gc+i)}if(a.prototype=Ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$q,a.config=a.set=Q2e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Q2e(e){if(!e||typeof e!="object")throw Error(ga+"Object expected");var t,r,n,a=["precision",1,Yf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Xf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(gc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gc+r+": "+n);return this}var dP=$q(H2e);Ms=new dP(1);const ar=dP;function Y2e(e){return eCe(e)||Z2e(e)||J2e(e)||X2e()}function X2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J2e(e,t){if(e){if(typeof e=="string")return G_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G_(e,t)}}function Z2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eCe(e){if(Array.isArray(e))return G_(e)}function G_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tCe=function(t){return t},Dq={},Lq=function(t){return t===Dq},HI=function(t){return function r(){return arguments.length===0||arguments.length===1&&Lq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},rCe=function e(t,r){return t===1?r:HI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Dq}).length;return o>=t?r.apply(void 0,a):e(t-o,HI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Lq(f)?c.shift():f});return r.apply(void 0,Y2e(d).concat(c))}))})},Y0=function(t){return rCe(t.length,t)},Q_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},nCe=Y0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),sCe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tCe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Y_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Fq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function aCe(e){var t;return e===0?t=1:t=Math.floor(new ar(e).abs().log(10).toNumber())+1,t}function iCe(e,t,r){for(var n=new ar(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var oCe=Y0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),lCe=Y0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),cCe=Y0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const X0={rangeStep:iCe,getDigitCount:aCe,interpolateNumber:oCe,uninterpolateNumber:lCe,uninterpolateTruncation:cCe};function X_(e){return fCe(e)||dCe(e)||Uq(e)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fCe(e){if(Array.isArray(e))return J_(e)}function fp(e,t){return pCe(e)||mCe(e,t)||Uq(e,t)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(e,t){if(e){if(typeof e=="string")return J_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(e,t)}}function J_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mCe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function pCe(e){if(Array.isArray(e))return e}function Bq(e){var t=fp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Vq(e,t,r){if(e.lte(0))return new ar(0);var n=X0.getDigitCount(e.toNumber()),a=new ar(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ar(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ar(Math.ceil(c))}function gCe(e,t,r){var n=1,a=new ar(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ar(10).pow(X0.getDigitCount(e)-1),a=new ar(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ar(Math.floor(e)))}else e===0?a=new ar(Math.floor((t-1)/2)):r||(a=new ar(Math.floor(e)));var o=Math.floor((t-1)/2),l=sCe(nCe(function(c){return a.add(new ar(c-o).mul(n)).toNumber()}),Q_);return l(0,t)}function qq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var i=Vq(new ar(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ar(0):(o=new ar(e).add(t).div(2),o=o.sub(new ar(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ar(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?qq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new ar(l).mul(i)),tickMax:o.add(new ar(c).mul(i))})}function xCe(e){var t=fp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Bq([r,n]),c=fp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(X_(Q_(0,a-1).map(function(){return 1/0}))):[].concat(X_(Q_(0,a-1).map(function(){return-1/0})),[d]);return r>n?Y_(f):f}if(u===d)return gCe(u,a,i);var h=qq(u,d,o,i),p=h.step,y=h.tickMin,m=h.tickMax,j=X0.rangeStep(y,m.add(new ar(.1).mul(p)),p);return r>n?Y_(j):j}function vCe(e,t){var r=fp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Bq([n,a]),l=fp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=Vq(new ar(u).sub(c).div(d-1),i,0),h=[].concat(X_(X0.rangeStep(new ar(c),new ar(u).sub(new ar(.99).mul(f)),f)),[u]);return n>a?Y_(h):h}var yCe=Fq(xCe),bCe=Fq(vCe),jCe="Invariant failed";function Bc(e,t){throw new Error(jCe)}var wCe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function NCe(e,t){return CCe(e)||kCe(e,t)||SCe(e,t)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(e,t){if(e){if(typeof e=="string")return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}}function GI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CCe(e){if(Array.isArray(e))return e}function PCe(e,t){if(e==null)return{};var r=ECe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ECe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ACe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kq(n.key),n)}}function TCe(e,t,r){return t&&OCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ICe(e,t,r){return t=_y(t),RCe(e,zq()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function RCe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MCe(e)}function MCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function $Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z_(e,t)}function Wq(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=DCe(e,"string");return of(t)=="symbol"?t:t+""}function DCe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J0=function(e){function t(){return ACe(this,t),ICe(this,t,arguments)}return $Ce(t,e),TCe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=PCe(n,wCe),p=dt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Bc();var y=c.map(function(m){var j=u(m,l),b=j.x,v=j.y,g=j.value,w=j.errorVal;if(!w)return null;var N=[],_,S;if(Array.isArray(w)){var C=NCe(w,2);_=C[0],S=C[1]}else _=S=w;if(i==="vertical"){var P=d.scale,k=v+a,A=k+o,O=k-o,R=P(g-_),M=P(g+S);N.push({x1:M,y1:A,x2:M,y2:O}),N.push({x1:R,y1:k,x2:M,y2:k}),N.push({x1:R,y1:A,x2:R,y2:O})}else if(i==="horizontal"){var L=f.scale,T=b+a,W=T-o,E=T+o,D=L(g-_),G=L(g+S);N.push({x1:W,y1:G,x2:E,y2:G}),N.push({x1:T,y1:D,x2:T,y2:G}),N.push({x1:W,y1:D,x2:E,y2:D})}return F.createElement(Zt,Ny({className:"recharts-errorBar",key:"bar-".concat(N.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),N.map(function(J){return F.createElement("line",Ny({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return F.createElement(Zt,{className:"recharts-errorBars"},y)}}])}(F.Component);Wq(J0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wq(J0,"displayName","ErrorBar");function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){LCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LCe(e,t,r){return t=FCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FCe(e){var t=UCe(e,"string");return hp(t)=="symbol"?t:t+""}function UCe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Es(r,mc);if(!o)return null;var l=mc.defaultProps,c=l!==void 0?Il(Il({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Il(Il({},h),f.props):{},y=p.dataKey,m=p.name,j=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:c.iconType||j||"square",color:fP(f),value:m||y,payload:p}}),Il(Il(Il({},c),mc.getWithHeight(o,a)),{},{payload:u,item:o})};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function YI(e){return zCe(e)||qCe(e)||VCe(e)||BCe()}function BCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VCe(e,t){if(e){if(typeof e=="string")return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function qCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zCe(e){if(Array.isArray(e))return eS(e)}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){gd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gd(e,t,r){return t=WCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WCe(e){var t=KCe(e,"string");return mp(t)=="symbol"?t:t+""}function KCe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(e,t,r){return At(e)||At(t)?r:pn(t)?Us(e,t,r):ht(t)?t(e):r}function cm(e,t,r,n){var a=q2e(e,function(l){return Bn(l,t)});if(r==="number"){var i=a.filter(function(l){return Pe(l)||parseFloat(l)});return i.length?[G0(i),H0(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!At(l)}):a;return o.map(function(l){return pn(l)||l instanceof Date?l:""})}var HCe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Xn(f-d)!==Xn(h-f)){var y=[];if(Xn(h-f)===Xn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var j=h+c[1]-c[0];y[0]=Math.min(f,(j+f)/2),y[1]=Math.max(f,(j+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var v=Math.min(d,h),g=Math.max(d,h);if(t>(v+f)/2&&t<=(g+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},fP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},GCe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,j=y.cateAxisId,b=m.filter(function(S){return Ki(S.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,g=v!==void 0?Fr(Fr({},v),b[0].props):b[0].props,w=g.barSize,N=g[j];o[N]||(o[N]=[]);var _=At(w)?r:w;o[N].push({item:b[0],stackList:b.slice(1),barSize:At(_)?void 0:Jn(_,n,0)})}}return o},QCe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Jn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(w,N){return w+N.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,j={offset:m-u,size:0};d=o.reduce(function(w,N){var _={item:N.item,position:{offset:j.offset+j.size+u,size:h?p:N.barSize}},S=[].concat(YI(w),[_]);return j=S[S.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){S.push({item:C,position:j})}),S},f)}else{var b=Jn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var v=(a-2*b-(c-1)*u)/c;v>1&&(v>>=0);var g=l===+l?Math.min(v,l):v;d=o.reduce(function(w,N,_){var S=[].concat(YI(w),[{item:N.item,position:{offset:b+(v+u)*_+(v-g)/2,size:g}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return d},YCe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Hq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&Pe(t[p]))return Fr(Fr({},t),{},gd({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&Pe(t[y]))return Fr(Fr({},t),{},gd({},y,t[y]+(h||0)))}return t},XCe=function(t,r,n){return At(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Gq=function(t,r,n,a,i){var o=r.props.children,l=da(o,J0).filter(function(u){return XCe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Bn(d,n);if(At(f))return u;var h=Array.isArray(f)?[G0(f),H0(f)]:[f,f],p=c.reduce(function(y,m){var j=Bn(d,m,0),b=h[0]-Math.abs(Array.isArray(j)?j[0]:j),v=h[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(b,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},JCe=function(t,r,n,a,i){var o=r.map(function(l){return Gq(t,l,n,i,a)}).filter(function(l){return!At(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Qq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Gq(t,c,u,a)||cm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Yq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Xq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},zi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!mg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Xw=new WeakMap,xx=function(t,r){if(typeof r!="function")return t;Xw.has(t)||Xw.set(t,new WeakMap);var n=Xw.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Jq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ip(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:vy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:lm(),realScaleType:"point"}:i==="category"?{scale:ip(),realScaleType:"band"}:{scale:vy(),realScaleType:"linear"};if(Dc(a)){var c="scale".concat(T0(a));return{scale:(zI[c]||lm)(),realScaleType:zI[c]?c:"point"}}return ht(a)?{scale:a}:{scale:lm(),realScaleType:"point"}},JI=1e-4,Zq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-JI,o=Math.max(a[0],a[1])+JI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},ZCe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},ePe=function(t,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},tPe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=mg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},rPe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=mg(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},nPe={sign:tPe,expand:wxe,none:Jd,silhouette:Nxe,wiggle:_xe,positive:rPe},sPe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=nPe[n],o=jxe().keys(a).value(function(l,c){return+Bn(l,c,0)}).order(S_).offset(i);return o(t)},aPe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Fr(Fr({},h.type.defaultProps),h.props):h.props,m=y.stackId,j=y.hide;if(j)return f;var b=y[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(pn(m)){var g=v.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};g.items.push(h),v.hasStack=!0,v.stackGroups[m]=g}else v.stackGroups[pg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Fr(Fr({},f),{},gd({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,j){var b=p.stackGroups[j];return Fr(Fr({},m),{},gd({},j,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:sPe(t,b.items,i)}))},y)}return Fr(Fr({},f),{},gd({},h,p))},d)},e9=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=yCe(u,i,l);return t.domain([G0(d),H0(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=bCe(f,i,l);return{niceTicks:h}}return null},ZI=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Bn(o,r.dataKey,r.domain[l]);return At(c)?null:r.scale(c)-i/2+a},iPe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},oPe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(pn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lPe=function(t){return t.reduce(function(r,n){return[G0(n.concat([r[0]]).filter(Pe)),H0(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},t9=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=lPe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},eR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tS=function(t,r,n){if(ht(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(eR.test(t[0])){var i=+eR.exec(t[0])[1];a[0]=r[0]-i}else ht(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(tR.test(t[1])){var o=+tR.exec(t[1])[1];a[1]=r[1]+o}else ht(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Sy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=UC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},rR=function(t,r,n){return!t||!t.length||Q0(t,Us(n,"type.defaultProps.domain"))?r:t},r9=function(t,r){var n=t.type.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Fr(Fr({},dt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:fP(t),value:Bn(r,a),type:c,payload:r,chartType:u,hide:d})};function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return t=cPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cPe(e){var t=uPe(e,"string");return pp(t)=="symbol"?t:t+""}function uPe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dPe(e,t){return pPe(e)||mPe(e,t)||hPe(e,t)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hPe(e,t){if(e){if(typeof e=="string")return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pPe(e){if(Array.isArray(e))return e}var ky=Math.PI/180,gPe=function(t){return t*180/Math.PI},gr=function(t,r,n,a){return{x:t+Math.cos(-ky*a)*n,y:r+Math.sin(-ky*a)*n}},s9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},xPe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Jn(t.cx,o,o/2),f=Jn(t.cy,l,l/2),h=s9(o,l,n),p=Jn(t.innerRadius,h,0),y=Jn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(j,b){var v=r[b],g=v.domain,w=v.reversed,N;if(At(v.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[p,y]),w&&(N=[N[1],N[0]]);else{N=v.range;var _=N,S=dPe(_,2);c=S[0],u=S[1]}var C=Jq(v,i),P=C.realScaleType,k=C.scale;k.domain(g).range(N),Zq(k);var A=e9(k,Ii(Ii({},v),{},{realScaleType:P})),O=Ii(Ii(Ii({},v),A),{},{range:N,radius:y,realScaleType:P,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Ii(Ii({},j),{},n9({},b,O))},{})},vPe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},yPe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=vPe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:gPe(u),angleInRadian:u}},bPe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},jPe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},aR=function(t,r){var n=t.x,a=t.y,i=yPe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=bPe(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?Ii(Ii({},r),{},{radius:o,angle:jPe(p,r)}):null},a9=function(t){return!x.isValidElement(t)&&!ht(t)&&typeof t!="boolean"?t.className:""};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}var wPe=["offset"];function NPe(e){return CPe(e)||kPe(e)||SPe(e)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e,t){if(e){if(typeof e=="string")return rS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(e,t)}}function kPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CPe(e){if(Array.isArray(e))return rS(e)}function rS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PPe(e,t){if(e==null)return{};var r=EPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){APe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function APe(e,t,r){return t=OPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OPe(e){var t=TPe(e,"string");return gp(t)=="symbol"?t:t+""}function TPe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}var IPe=function(t){var r=t.value,n=t.formatter,a=At(t.children)?r:t.children;return ht(n)?n(a):a},RPe=function(t,r){var n=Xn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},MPe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,j=(f+h)/2,b=RPe(p,y),v=b>=0?1:-1,g,w;a==="insideStart"?(g=p+v*o,w=m):a==="insideEnd"?(g=y-v*o,w=!m):a==="end"&&(g=y+v*o,w=m),w=b<=0?w:!w;var N=gr(u,d,j,g),_=gr(u,d,j,g+(w?1:-1)*359),S="M".concat(N.x,",").concat(N.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),C=At(t.id)?pg("recharts-radial-line-"):t.id;return F.createElement("text",xp({},n,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:C,d:S})),F.createElement("textPath",{xlinkHref:"#".concat(C)},r))},$Pe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=gr(o,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var j=(c+u)/2,b=gr(o,l,j,h),v=b.x,g=b.y;return{x:v,y:g,textAnchor:"middle",verticalAnchor:"middle"}},DPe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,j=m*a,b=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var g={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return cn(cn({},g),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return cn(cn({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-j,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return cn(cn({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:l+u+j,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return cn(cn({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?cn({x:l+j,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):i==="insideRight"?cn({x:l+u-j,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideTop"?cn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},S):i==="insideBottom"?cn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?cn({x:l+j,y:c+h,textAnchor:v,verticalAnchor:y},S):i==="insideTopRight"?cn({x:l+u-j,y:c+h,textAnchor:b,verticalAnchor:y},S):i==="insideBottomLeft"?cn({x:l+j,y:c+d-h,textAnchor:v,verticalAnchor:p},S):i==="insideBottomRight"?cn({x:l+u-j,y:c+d-h,textAnchor:b,verticalAnchor:p},S):Bf(i)&&(Pe(i.x)||Jl(i.x))&&(Pe(i.y)||Jl(i.y))?cn({x:l+Jn(i.x,u),y:c+Jn(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):cn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},LPe=function(t){return"cx"in t&&Pe(t.cx)};function wn(e){var t=e.offset,r=t===void 0?5:t,n=PPe(e,wPe),a=cn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||At(l)&&At(c)&&!x.isValidElement(u)&&!ht(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var p;if(ht(u)){if(p=x.createElement(u,a),x.isValidElement(p))return p}else p=IPe(a);var y=LPe(i),m=dt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return MPe(a,p,m);var j=y?$Pe(a):DPe(a);return F.createElement(Fc,xp({className:wt("recharts-label",f)},m,j,{breakAll:h}),p)}wn.displayName="Label";var i9=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,j=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(Pe(m)&&Pe(j)){if(Pe(f)&&Pe(h))return{x:f,y:h,width:m,height:j};if(Pe(p)&&Pe(y))return{x:p,y,width:m,height:j}}return Pe(f)&&Pe(h)?{x:f,y:h,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},FPe=function(t,r){return t?t===!0?F.createElement(wn,{key:"label-implicit",viewBox:r}):pn(t)?F.createElement(wn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===wn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(wn,{key:"label-implicit",content:t,viewBox:r}):ht(t)?F.createElement(wn,{key:"label-implicit",content:t,viewBox:r}):Bf(t)?F.createElement(wn,xp({viewBox:r},t,{key:"label-implicit"})):null:null},UPe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=i9(t),o=da(a,wn).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=FPe(t.label,r||i);return[l].concat(NPe(o))};wn.parseViewBox=i9;wn.renderCallByParent=UPe;function BPe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var VPe=BPe;const qPe=Yt(VPe);function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}var zPe=["valueAccessor"],WPe=["data","dataKey","clockWise","id","textBreakAll"];function KPe(e){return YPe(e)||QPe(e)||GPe(e)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(e,t){if(e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function QPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YPe(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){XPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XPe(e,t,r){return t=JPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JPe(e){var t=ZPe(e,"string");return vp(t)=="symbol"?t:t+""}function ZPe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cR(e,t){if(e==null)return{};var r=eEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tEe=function(t){return Array.isArray(t.value)?qPe(t.value):t.value};function al(e){var t=e.valueAccessor,r=t===void 0?tEe:t,n=cR(e,zPe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=cR(n,WPe);return!a||!a.length?null:F.createElement(Zt,{className:"recharts-label-list"},a.map(function(d,f){var h=At(i)?r(d,f):Bn(d&&d.payload,i),p=At(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(wn,Cy({},dt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:wn.parseViewBox(At(o)?d:lR(lR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}al.displayName="LabelList";function rEe(e,t){return e?e===!0?F.createElement(al,{key:"labelList-implicit",data:t}):F.isValidElement(e)||ht(e)?F.createElement(al,{key:"labelList-implicit",data:t,content:e}):Bf(e)?F.createElement(al,Cy({data:t},e,{key:"labelList-implicit"})):null:null}function nEe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=da(n,al).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=rEe(e.label,t);return[i].concat(KPe(a))}al.renderCallByParent=nEe;function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){sEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sEe(e,t,r){return t=aEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aEe(e){var t=iEe(e,"string");return yp(t)=="symbol"?t:t+""}function iEe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oEe=function(t,r){var n=Xn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},vx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/ky,h=u?i:i+o*f,p=gr(r,n,d,h),y=gr(r,n,a,h),m=u?i-o*f:i,j=gr(r,n,d*Math.cos(f*ky),m);return{center:p,circleTangency:y,lineTangency:j,theta:f}},o9=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=oEe(o,l),u=o+c,d=gr(r,n,i,o),f=gr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=gr(r,n,a,o),y=gr(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},lEe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xn(d-u),h=vx({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,j=vx({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=j.circleTangency,v=j.lineTangency,g=j.theta,w=c?Math.abs(u-d):Math.abs(u-d)-m-g;if(w<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):o9({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var _=vx({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,C=_.lineTangency,P=_.theta,k=vx({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=k.circleTangency,O=k.lineTangency,R=k.theta,M=c?Math.abs(u-d):Math.abs(u-d)-P-R;if(M<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},cEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},l9=function(t){var r=dR(dR({},cEe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=wt("recharts-sector",h),y=o-i,m=Jn(l,y,0,!0),j;return m>0&&Math.abs(d-f)<360?j=lEe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):j=o9({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),F.createElement("path",sS({},dt(r,!0),{className:p,d:j,role:"img"}))};function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){uEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uEe(e,t,r){return t=dEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dEe(e){var t=fEe(e,"string");return bp(t)=="symbol"?t:t+""}function fEe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mR={curveBasisClosed:uxe,curveBasisOpen:dxe,curveBasis:cxe,curveBumpX:Qge,curveBumpY:Yge,curveLinearClosed:fxe,curveLinear:R0,curveMonotoneX:hxe,curveMonotoneY:mxe,curveNatural:pxe,curveStep:gxe,curveStepAfter:vxe,curveStepBefore:xxe},yx=function(t){return t.x===+t.x&&t.y===+t.y},kh=function(t){return t.x},Ch=function(t){return t.y},hEe=function(t,r){if(ht(t))return t;var n="curve".concat(T0(t));return(n==="curveMonotone"||n==="curveBump")&&r?mR["".concat(n).concat(r==="vertical"?"Y":"X")]:mR[n]||R0},mEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=hEe(n,l),f=u?i.filter(function(m){return yx(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return yx(m)}):o,y=f.map(function(m,j){return hR(hR({},m),{},{base:p[j]})});return l==="vertical"?h=cx().y(Ch).x1(kh).x0(function(m){return m.base.x}):h=cx().x(kh).y1(Ch).y0(function(m){return m.base.y}),h.defined(yx).curve(d),h(y)}return l==="vertical"&&Pe(o)?h=cx().y(Ch).x1(kh).x0(o):Pe(o)?h=cx().x(kh).y1(Ch).y0(o):h=rV().x(kh).y(Ch),h.defined(yx).curve(d),h(f)},iS=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?mEe(t):a;return x.createElement("path",aS({},dt(t,!1),Jv(t),{className:wt("recharts-curve",r),d:o,ref:i}))},c9={exports:{}},pEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gEe=pEe,xEe=gEe;function u9(){}function d9(){}d9.resetWarningCache=u9;var vEe=function(){function e(n,a,i,o,l,c){if(c!==xEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:d9,resetWarningCache:u9};return r.PropTypes=r,r};c9.exports=vEe();var yEe=c9.exports;const Ht=Yt(yEe),{getOwnPropertyNames:bEe,getOwnPropertySymbols:jEe}=Object,{hasOwnProperty:wEe}=Object.prototype;function Jw(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function bx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function NEe(e){return e!=null?e[Symbol.toStringTag]:void 0}function pR(e){return bEe(e).concat(jEe(e))}const _Ee=Object.hasOwn||((e,t)=>wEe.call(e,t));function eu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const SEe="__v",kEe="__o",CEe="_owner",{getOwnPropertyDescriptor:gR,keys:xR}=Object;function PEe(e,t){return e.byteLength===t.byteLength&&Py(new Uint8Array(e),new Uint8Array(t))}function EEe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function AEe(e,t){return e.byteLength===t.byteLength&&Py(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function OEe(e,t){return eu(e.getTime(),t.getTime())}function TEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function IEe(e,t){return e===t}function vR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const REe=eu;function MEe(e,t,r){const n=xR(e);let a=n.length;if(xR(t).length!==a)return!1;for(;a-- >0;)if(!f9(e,t,r,n[a]))return!1;return!0}function Ph(e,t,r){const n=pR(e);let a=n.length;if(pR(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!f9(e,t,r,i)||(o=gR(e,i),l=gR(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function $Ee(e,t){return eu(e.valueOf(),t.valueOf())}function DEe(e,t){return e.source===t.source&&e.flags===t.flags}function yR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Py(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function LEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function f9(e,t,r,n){return(n===CEe||n===kEe||n===SEe)&&(e.$$typeof||t.$$typeof)?!0:_Ee(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const FEe="[object ArrayBuffer]",UEe="[object Arguments]",BEe="[object Boolean]",VEe="[object DataView]",qEe="[object Date]",zEe="[object Error]",WEe="[object Map]",KEe="[object Number]",HEe="[object Object]",GEe="[object RegExp]",QEe="[object Set]",YEe="[object String]",XEe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},JEe="[object URL]",ZEe=Object.prototype.toString;function eAe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(j,b,v){if(j===b)return!0;if(j==null||b==null)return!1;const g=typeof j;if(g!==typeof b)return!1;if(g!=="object")return g==="number"?l(j,b,v):g==="function"?i(j,b,v):!1;const w=j.constructor;if(w!==b.constructor)return!1;if(w===Object)return c(j,b,v);if(Array.isArray(j))return t(j,b,v);if(w===Date)return n(j,b,v);if(w===RegExp)return d(j,b,v);if(w===Map)return o(j,b,v);if(w===Set)return f(j,b,v);const N=ZEe.call(j);if(N===qEe)return n(j,b,v);if(N===GEe)return d(j,b,v);if(N===WEe)return o(j,b,v);if(N===QEe)return f(j,b,v);if(N===HEe)return typeof j.then!="function"&&typeof b.then!="function"&&c(j,b,v);if(N===JEe)return p(j,b,v);if(N===zEe)return a(j,b,v);if(N===UEe)return c(j,b,v);if(XEe[N])return h(j,b,v);if(N===FEe)return e(j,b,v);if(N===VEe)return r(j,b,v);if(N===BEe||N===KEe||N===YEe)return u(j,b,v);if(y){let _=y[N];if(!_){const S=NEe(j);S&&(_=y[S])}if(_)return _(j,b,v)}return!1}}function tAe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:PEe,areArraysEqual:r?Ph:EEe,areDataViewsEqual:AEe,areDatesEqual:OEe,areErrorsEqual:TEe,areFunctionsEqual:IEe,areMapsEqual:r?Jw(vR,Ph):vR,areNumbersEqual:REe,areObjectsEqual:r?Ph:MEe,arePrimitiveWrappersEqual:$Ee,areRegExpsEqual:DEe,areSetsEqual:r?Jw(yR,Ph):yR,areTypedArraysEqual:r?Jw(Py,Ph):Py,areUrlsEqual:LEe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=bx(n.areArraysEqual),i=bx(n.areMapsEqual),o=bx(n.areObjectsEqual),l=bx(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function rAe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function nAe({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const sAe=Cl();Cl({strict:!0});Cl({circular:!0});Cl({circular:!0,strict:!0});Cl({createInternalComparator:()=>eu});Cl({strict:!0,createInternalComparator:()=>eu});Cl({circular:!0,createInternalComparator:()=>eu});Cl({circular:!0,createInternalComparator:()=>eu,strict:!0});function Cl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=tAe(e),o=eAe(i),l=r?r(o):rAe(o);return nAe({circular:t,comparator:o,createState:n,equals:l,strict:a})}function aAe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):aAe(a)};requestAnimationFrame(n)}function oS(e){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oS(e)}function iAe(e){return uAe(e)||cAe(e)||lAe(e)||oAe()}function oAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lAe(e,t){if(e){if(typeof e=="string")return jR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(e,t)}}function jR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uAe(e){if(Array.isArray(e))return e}function dAe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=iAe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){bR(a.bind(null,u),c);return}a(c),bR(a.bind(null,u));return}oS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return t=fAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fAe(e){var t=hAe(e,"string");return jp(t)==="symbol"?t:String(t)}function hAe(e,t){if(jp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mAe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},pAe=function(t){return t},gAe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},um=function(t,r){return Object.keys(r).reduce(function(n,a){return NR(NR({},n),{},h9({},a,t(a,r[a])))},{})},_R=function(t,r,n){return t.map(function(a){return"".concat(gAe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function xAe(e,t){return bAe(e)||yAe(e,t)||m9(e,t)||vAe()}function vAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bAe(e){if(Array.isArray(e))return e}function jAe(e){return _Ae(e)||NAe(e)||m9(e)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function NAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ae(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ey=1e-4,p9=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},g9=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},SR=function(t,r){return function(n){var a=p9(t,r);return g9(a,n)}},SAe=function(t,r){return function(n){var a=p9(t,r),i=[].concat(jAe(a.map(function(o,l){return o*l}).slice(1)),[0]);return g9(i,n)}},kR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),d=xAe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=SR(a,o),h=SR(i,l),p=SAe(a,o),y=function(b){return b>1?1:b<0?0:b},m=function(b){for(var v=b>1?1:b,g=v,w=0;w<8;++w){var N=f(g)-v,_=p(g);if(Math.abs(N-v)<Ey||_<Ey)return h(g);g=y(g-N/_)}return h(g)};return m.isStepper=!1,m},kAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*i,m=h+(p-y)*l/1e3,j=h*l/1e3+d;return Math.abs(j-f)<Ey&&Math.abs(m)<Ey?[f,0]:[j,m]};return c.isStepper=!0,c.dt=l,c},CAe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kR(a);case"spring":return kAe();default:if(a.split("(")[0]==="cubic-bezier")return kR(a)}return typeof a=="function"?a:null};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function CR(e){return AAe(e)||EAe(e)||x9(e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AAe(e){if(Array.isArray(e))return uS(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){cS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cS(e,t,r){return t=OAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=TAe(e,"string");return wp(t)==="symbol"?t:String(t)}function TAe(e,t){if(wp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IAe(e,t){return $Ae(e)||MAe(e,t)||x9(e,t)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(e,t){if(e){if(typeof e=="string")return uS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(e,t)}}function uS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $Ae(e){if(Array.isArray(e))return e}var Ay=function(t,r,n){return t+(r-t)*n},dS=function(t){var r=t.from,n=t.to;return r!==n},DAe=function e(t,r,n){var a=um(function(i,o){if(dS(o)){var l=t(o.from,o.to,o.velocity),c=IAe(l,2),u=c[0],d=c[1];return En(En({},o),{},{from:u,velocity:d})}return o},r);return n<1?um(function(i,o){return dS(o)?En(En({},o),{},{velocity:Ay(o.velocity,a[i].velocity,n),from:Ay(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const LAe=function(e,t,r,n,a){var i=mAe(e,t),o=i.reduce(function(j,b){return En(En({},j),{},cS({},b,[e[b],t[b]]))},{}),l=i.reduce(function(j,b){return En(En({},j),{},cS({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return um(function(b,v){return v.from},l)},p=function(){return!Object.values(l).filter(dS).length},y=function(b){u||(u=b);var v=b-u,g=v/r.dt;l=DAe(r,l,g),a(En(En(En({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var v=(b-d)/n,g=um(function(N,_){return Ay.apply(void 0,CR(_).concat([r(v)]))},o);if(a(En(En(En({},e),t),g)),v<1)c=requestAnimationFrame(f);else{var w=um(function(N,_){return Ay.apply(void 0,CR(_).concat([r(1)]))},o);a(En(En(En({},e),t),w))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}var FAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UAe(e,t){if(e==null)return{};var r=BAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BAe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Zw(e){return WAe(e)||zAe(e)||qAe(e)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qAe(e,t){if(e){if(typeof e=="string")return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(e,t)}}function zAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WAe(e){if(Array.isArray(e))return fS(e)}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zh(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v9(n.key),n)}}function GAe(e,t,r){return t&&HAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9(e){var t=QAe(e,"string");return lf(t)==="symbol"?t:String(t)}function QAe(e,t){if(lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hS(e,t)}function XAe(e){var t=JAe();return function(){var n=Oy(e),a;if(t){var i=Oy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mS(this,a)}}function mS(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pS(e)}function pS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}var oo=function(e){YAe(r,e);var t=XAe(r);function r(n,a){var i;KAe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(pS(i)),i.changeStyle=i.changeStyle.bind(pS(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),mS(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},mS(i);i.state={style:c?zh({},c,u):u}}else i.state={style:{}};return i}return GAe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?zh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(sAe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var j={style:c?zh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(j)}this.runAnimation(Sa(Sa({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=LAe(o,l,CAe(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,j,b){if(b===0)return m;var v=j.duration,g=j.easing,w=g===void 0?"ease":g,N=j.style,_=j.properties,S=j.onAnimationEnd,C=b>0?o[b-1]:j,P=_||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(Zw(m),[i.runJSAnimation.bind(i,{from:C.style,to:N,duration:v,easing:w}),v]);var k=_R(P,v,w),A=Sa(Sa(Sa({},C.style),N),{},{transition:k});return[].concat(Zw(m),[A,v,S]).filter(pAe)};return this.manager.start([c].concat(Zw(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=dAe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?zh({},l,c):c,j=_R(Object.keys(m),o,u);y.start([d,i,Sa(Sa({},m),{},{transition:j}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=UAe(a,FAe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,m=y.style,j=m===void 0?{}:m,b=y.className,v=x.cloneElement(p,Sa(Sa({},c),{},{style:Sa(Sa({},j),d),className:b}));return v};return u===1?f(x.Children.only(i)):F.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);oo.displayName="Animate";oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oo.propTypes={from:Ht.oneOfType([Ht.object,Ht.string]),to:Ht.oneOfType([Ht.object,Ht.string]),attributeName:Ht.string,duration:Ht.number,begin:Ht.number,easing:Ht.oneOfType([Ht.string,Ht.func]),steps:Ht.arrayOf(Ht.shape({duration:Ht.number.isRequired,style:Ht.object.isRequired,easing:Ht.oneOfType([Ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ht.func]),properties:Ht.arrayOf("string"),onAnimationEnd:Ht.func})),children:Ht.oneOfType([Ht.node,Ht.func]),isActive:Ht.bool,canBegin:Ht.bool,onAnimationEnd:Ht.func,shouldReAnimate:Ht.bool,onAnimationStart:Ht.func,onAnimationReStart:Ht.func};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function ZAe(e,t){return nOe(e)||rOe(e,t)||tOe(e,t)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(e,t){if(e){if(typeof e=="string")return AR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AR(e,t)}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nOe(e){if(Array.isArray(e))return e}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){sOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sOe(e,t,r){return t=aOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aOe(e){var t=iOe(e,"string");return Np(t)=="symbol"?t:t+""}function iOe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},oOe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},lOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hP=function(t){var r=TR(TR({},lOe),t),n=x.useRef(),a=x.useState(-1),i=ZAe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,j=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var g=wt("recharts-rectangle",p);return v?F.createElement(oo,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:v},function(w){var N=w.width,_=w.height,S=w.x,C=w.y;return F.createElement(oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:m,isActive:b,easing:y},F.createElement("path",Ty({},dt(r,!0),{className:g,d:IR(S,C,N,_,h),ref:n})))}):F.createElement("path",Ty({},dt(r,!0),{className:g,d:IR(c,u,d,f,h)}))},cOe=["points","className","baseLinePoints","connectNulls"];function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function uOe(e,t){if(e==null)return{};var r=dOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RR(e){return pOe(e)||mOe(e)||hOe(e)||fOe()}function fOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hOe(e,t){if(e){if(typeof e=="string")return gS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(e,t)}}function mOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pOe(e){if(Array.isArray(e))return gS(e)}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MR=function(t){return t&&t.x===+t.x&&t.y===+t.y},gOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){MR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),MR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},dm=function(t,r){var n=gOe(t);r&&(n=[n.reduce(function(i,o){return[].concat(RR(i),RR(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},xOe=function(t,r,n){var a=dm(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(dm(r.reverse(),n).slice(1))},vOe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=uOe(t,cOe);if(!r||!r.length)return null;var l=wt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=xOe(r,a,i);return F.createElement("g",{className:l},F.createElement("path",td({},dt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?F.createElement("path",td({},dt(o,!0),{fill:"none",d:dm(r,i)})):null,c?F.createElement("path",td({},dt(o,!0),{fill:"none",d:dm(a,i)})):null)}var d=dm(r,i);return F.createElement("path",td({},dt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}var mP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=wt("recharts-dot",i);return r===+r&&n===+n&&a===+a?x.createElement("circle",xS({},dt(t,!1),Jv(t),{className:o,cx:r,cy:n,r:a})):null};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}var yOe=["x","y","top","left","width","height","className"];function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bOe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){jOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jOe(e,t,r){return t=wOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wOe(e){var t=NOe(e,"string");return _p(t)=="symbol"?t:t+""}function NOe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Oe(e,t){if(e==null)return{};var r=SOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kOe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},COe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=_Oe(t,yOe),j=bOe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Pe(n)||!Pe(i)||!Pe(f)||!Pe(p)||!Pe(l)||!Pe(u)?null:F.createElement("path",vS({},dt(j,!0),{className:wt("recharts-cross",y),d:kOe(n,i,f,p,l,u)}))},POe=K0,EOe=Aq,AOe=Ni;function OOe(e,t){return e&&e.length?POe(e,AOe(t),EOe):void 0}var TOe=OOe;const IOe=Yt(TOe);var ROe=K0,MOe=Ni,$Oe=Oq;function DOe(e,t){return e&&e.length?ROe(e,MOe(t),$Oe):void 0}var LOe=DOe;const FOe=Yt(LOe);var UOe=["cx","cy","angle","ticks","axisLine"],BOe=["ticks","tick","angle","tickFormatter","stroke"];function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LR(e,t){if(e==null)return{};var r=VOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function zOe(e,t,r){return t&&FR(e.prototype,t),r&&FR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WOe(e,t,r){return t=Iy(t),KOe(e,y9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function KOe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HOe(e)}function HOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yS(e,t)}function Z0(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=QOe(e,"string");return cf(t)=="symbol"?t:t+""}function QOe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ej=function(e){function t(){return qOe(this,t),WOe(this,t,arguments)}return GOe(t,e),zOe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return gr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=IOe(l,function(d){return d.coordinate||0}),u=FOe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=LR(n,UOe),d=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=gr(a,i,d[0],o),h=gr(a,i,d[1],o),p=Rl(Rl(Rl({},dt(u,!1)),{},{fill:"none"},dt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return F.createElement("line",fm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=LR(a,BOe),f=this.getTickTextAnchor(),h=dt(d,!1),p=dt(o,!1),y=i.map(function(m,j){var b=n.getTickValueCoord(m),v=Rl(Rl(Rl(Rl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:j},b),{},{payload:m});return F.createElement(Zt,fm({className:wt("recharts-polar-radius-axis-tick",a9(o)),key:"tick-".concat(m.coordinate)},Lc(n.props,m,j)),t.renderTickItem(o,v,c?c(m.value,j):m.value))});return F.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:F.createElement(Zt,{className:wt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),wn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):ht(n)?o=n(a):o=F.createElement(Fc,fm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(x.PureComponent);Z0(ej,"displayName","PolarRadiusAxis");Z0(ej,"axisType","radiusAxis");Z0(ej,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){tj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w9(n.key),n)}}function XOe(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JOe(e,t,r){return t=Ry(t),ZOe(e,j9()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function ZOe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eTe(e)}function eTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function tTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bS(e,t)}function tj(e,t,r){return t=w9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=rTe(e,"string");return uf(t)=="symbol"?t:t+""}function rTe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nTe=Math.PI/180,VR=1e-5,rj=function(e){function t(){return YOe(this,t),JOe(this,t,arguments)}return tTe(t,e),XOe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=gr(i,o,l,n.coordinate),h=gr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*nTe),o;return i>VR?o=a==="outer"?"start":"end":i<-VR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ml(Ml({},dt(this.props,!1)),{},{fill:"none"},dt(l,!1));if(c==="circle")return F.createElement(mP,Wl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return gr(a,i,o,h.coordinate)});return F.createElement(vOe,Wl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=dt(this.props,!1),f=dt(o,!1),h=Ml(Ml({},d),{},{fill:"none"},dt(l,!1)),p=i.map(function(y,m){var j=n.getTickLineCoord(y),b=n.getTickTextAnchor(y),v=Ml(Ml(Ml({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:j.x2,y:j.y2});return F.createElement(Zt,Wl({className:wt("recharts-polar-angle-axis-tick",a9(o)),key:"tick-".concat(y.coordinate)},Lc(n.props,y,m)),l&&F.createElement("line",Wl({className:"recharts-polar-angle-axis-tick-line"},h,j)),o&&t.renderTickItem(o,v,c?c(y.value,m):y.value))});return F.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:F.createElement(Zt,{className:wt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):ht(n)?o=n(a):o=F.createElement(Fc,Wl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(x.PureComponent);tj(rj,"displayName","PolarAngleAxis");tj(rj,"axisType","angleAxis");tj(rj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sTe=kV,aTe=sTe(Object.getPrototypeOf,Object),iTe=aTe,oTe=fo,lTe=iTe,cTe=ho,uTe="[object Object]",dTe=Function.prototype,fTe=Object.prototype,N9=dTe.toString,hTe=fTe.hasOwnProperty,mTe=N9.call(Object);function pTe(e){if(!cTe(e)||oTe(e)!=uTe)return!1;var t=lTe(e);if(t===null)return!0;var r=hTe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&N9.call(r)==mTe}var gTe=pTe;const xTe=Yt(gTe);var vTe=fo,yTe=ho,bTe="[object Boolean]";function jTe(e){return e===!0||e===!1||yTe(e)&&vTe(e)==bTe}var wTe=jTe;const NTe=Yt(wTe);function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}function _Te(e,t){return PTe(e)||CTe(e,t)||kTe(e,t)||STe()}function STe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kTe(e,t){if(e){if(typeof e=="string")return qR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(e,t)}}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PTe(e){if(Array.isArray(e))return e}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){ETe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ETe(e,t,r){return t=ATe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ATe(e){var t=OTe(e,"string");return Sp(t)=="symbol"?t:t+""}function OTe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},TTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ITe=function(t){var r=WR(WR({},TTe),t),n=x.useRef(),a=x.useState(-1),i=_Te(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&l(g)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,j=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=wt("recharts-trapezoid",p);return b?F.createElement(oo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:b},function(g){var w=g.upperWidth,N=g.lowerWidth,_=g.height,S=g.x,C=g.y;return F.createElement(oo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:m,easing:y},F.createElement("path",My({},dt(r,!0),{className:v,d:KR(S,C,w,N,_),ref:n})))}):F.createElement("g",null,F.createElement("path",My({},dt(r,!0),{className:v,d:KR(c,u,d,f,h)})))},RTe=["option","shapeType","propTransformer","activeClassName","isActive"];function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function MTe(e,t){if(e==null)return{};var r=$Te(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){DTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DTe(e,t,r){return t=LTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LTe(e){var t=FTe(e,"string");return kp(t)=="symbol"?t:t+""}function FTe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e,t){return $y($y({},t),e)}function BTe(e,t){return e==="symbols"}function GR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement(hP,r);case"trapezoid":return F.createElement(ITe,r);case"sector":return F.createElement(l9,r);case"symbols":if(BTe(t))return F.createElement(TC,r);break;default:return null}}function VTe(e){return x.isValidElement(e)?e.props:e}function _9(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?UTe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=MTe(e,RTe),u;if(x.isValidElement(t))u=x.cloneElement(t,$y($y({},c),VTe(t)));else if(ht(t))u=t(c);else if(xTe(t)&&!NTe(t)){var d=a(t,c);u=F.createElement(GR,{shapeType:r,elementProps:d})}else{var f=c;u=F.createElement(GR,{shapeType:r,elementProps:f})}return l?F.createElement(Zt,{className:o},u):u}function nj(e,t){return t!=null&&"trapezoids"in e.props}function sj(e,t){return t!=null&&"sectors"in e.props}function Cp(e,t){return t!=null&&"points"in e.props}function qTe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function zTe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function WTe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function KTe(e,t){var r;return nj(e,t)?r=qTe:sj(e,t)?r=zTe:Cp(e,t)&&(r=WTe),r}function HTe(e,t){var r;return nj(e,t)?r="trapezoids":sj(e,t)?r="sectors":Cp(e,t)&&(r="points"),r}function GTe(e,t){if(nj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(sj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Cp(e,t)?t.payload:{}}function QTe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=HTe(r,t),i=GTe(r,t),o=n.filter(function(c,u){var d=Q0(i,c),f=r.props[a].filter(function(y){var m=KTe(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var qx;function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k9(n.key),n)}}function XTe(e,t,r){return t&&YR(e.prototype,t),r&&YR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JTe(e,t,r){return t=Dy(t),ZTe(e,S9()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function ZTe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e4e(e)}function e4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function t4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jS(e,t)}function sa(e,t,r){return t=k9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=r4e(e,"string");return df(t)=="symbol"?t:t+""}function r4e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var po=function(e){function t(r){var n;return YTe(this,t),n=JTe(this,t,[r]),sa(n,"pieRef",null),sa(n,"sectorRefs",[]),sa(n,"id",pg("recharts-pie-")),sa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ht(a)&&a()}),sa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ht(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return t4e(t,e),XTe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=dt(this.props,!1),f=dt(o,!1),h=dt(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,j){var b=(m.startAngle+m.endAngle)/2,v=gr(m.cx,m.cy,m.outerRadius+p,b),g=fr(fr(fr(fr({},d),m),{},{stroke:"none"},f),{},{index:j,textAnchor:t.getTextAnchor(v.x,m.cx)},v),w=fr(fr(fr(fr({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:j,points:[gr(m.cx,m.cy,m.outerRadius,b),v]}),N=c;return At(c)&&At(u)?N="value":At(c)&&(N=u),F.createElement(Zt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(j)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,g,Bn(m,N)))});return F.createElement(Zt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,y=fr(fr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return F.createElement(Zt,rd({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Lc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),F.createElement(_9,rd({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return F.createElement(oo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,j=[],b=i&&i[0],v=b.startAngle;return i.forEach(function(g,w){var N=h&&h[w],_=w>0?Us(g,"paddingAngle",0):0;if(N){var S=Eo(N.endAngle-N.startAngle,g.endAngle-g.startAngle),C=fr(fr({},g),{},{startAngle:v+_,endAngle:v+S(m)+_});j.push(C),v=C.endAngle}else{var P=g.endAngle,k=g.startAngle,A=Eo(0,P-k),O=A(m),R=fr(fr({},g),{},{startAngle:v+_,endAngle:v+O+_});j.push(R),v=R.endAngle}}),F.createElement(Zt,null,n.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Q0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Pe(u)||!Pe(d)||!Pe(f)||!Pe(h))return null;var m=wt("recharts-pie",l);return F.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),wn.renderCallByParent(this.props,null,!1),(!p||y)&&al.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(F.isValidElement(n))return F.cloneElement(n,a);if(ht(n))return n(a);var o=wt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return F.createElement(iS,rd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(F.isValidElement(n))return F.cloneElement(n,a);var o=i;if(ht(n)&&(o=n(a),F.isValidElement(o)))return o;var l=wt("recharts-pie-label-text",typeof n!="boolean"&&!ht(n)?n.className:"");return F.createElement(Fc,rd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);qx=po;sa(po,"displayName","Pie");sa(po,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});sa(po,"parseDeltaAngle",function(e,t){var r=Xn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});sa(po,"getRealPieData",function(e){var t=e.data,r=e.children,n=dt(e,!1),a=da(r,F0);return t&&t.length?t.map(function(i,o){return fr(fr(fr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return fr(fr({},n),i.props)}):[]});sa(po,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=s9(a,i),l=n+Jn(e.cx,a,a/2),c=r+Jn(e.cy,i,i/2),u=Jn(e.innerRadius,o,0),d=Jn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});sa(po,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?fr(fr({},t.type.defaultProps),t.props):t.props,a=qx.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=qx.parseCoordinateOfPie(n,r),m=qx.parseDeltaAngle(o,l),j=Math.abs(m),b=u;At(u)&&At(f)?(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):At(u)&&(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=a.filter(function(C){return Bn(C,b,0)!==0}).length,g=(j>=360?v:v-1)*c,w=j-v*p-g,N=a.reduce(function(C,P){var k=Bn(P,b,0);return C+(Pe(k)?k:0)},0),_;if(N>0){var S;_=a.map(function(C,P){var k=Bn(C,b,0),A=Bn(C,d,P),O=(Pe(k)?k:0)/N,R;P?R=S.endAngle+Xn(m)*c*(k!==0?1:0):R=o;var M=R+Xn(m)*((k!==0?p:0)+O*w),L=(R+M)/2,T=(y.innerRadius+y.outerRadius)/2,W=[{name:A,value:k,payload:C,dataKey:b,type:h}],E=gr(y.cx,y.cy,T,L);return S=fr(fr(fr({percent:O,cornerRadius:i,name:A,tooltipPayload:W,midAngle:L,middleRadius:T,tooltipPosition:E},C),y),{},{value:Bn(C,b),startAngle:R,endAngle:M,payload:C,paddingAngle:Xn(m)*c}),S})}return fr(fr({},y),{},{sectors:_,data:a})});var n4e=Math.ceil,s4e=Math.max;function a4e(e,t,r,n){for(var a=-1,i=s4e(n4e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var i4e=a4e,o4e=WV,XR=1/0,l4e=17976931348623157e292;function c4e(e){if(!e)return e===0?e:0;if(e=o4e(e),e===XR||e===-XR){var t=e<0?-1:1;return t*l4e}return e===e?e:0}var C9=c4e,u4e=i4e,d4e=L0,e1=C9;function f4e(e){return function(t,r,n){return n&&typeof n!="number"&&d4e(t,r,n)&&(r=n=void 0),t=e1(t),r===void 0?(r=t,t=0):r=e1(r),n=n===void 0?t<r?1:-1:e1(n),u4e(t,r,n,e)}}var h4e=f4e,m4e=h4e,p4e=m4e(),g4e=p4e;const Ly=Yt(g4e);function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return t=x4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4e(e){var t=v4e(e,"string");return Pp(t)=="symbol"?t:t+""}function v4e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y4e=["Webkit","Moz","O","ms"],b4e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=y4e.reduce(function(i,o){return ZR(ZR({},i),{},P9({},o+n,r))},{});return a[t]=r,a};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){Cs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A9(n.key),n)}}function w4e(e,t,r){return t&&tM(e.prototype,t),r&&tM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N4e(e,t,r){return t=Uy(t),_4e(e,E9()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function _4e(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S4e(e)}function S4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function k4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wS(e,t)}function Cs(e,t,r){return t=A9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=C4e(e,"string");return ff(t)=="symbol"?t:t+""}function C4e(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P4e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=lm().domain(Ly(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},rM=function(t){return t.changedTouches&&!!t.changedTouches.length},hf=function(e){function t(r){var n;return j4e(this,t),n=N4e(this,t,[r]),Cs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Cs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Cs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Cs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cs(n,"handleSlideDragStart",function(a){var i=rM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return k4e(t,e),w4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Bn(i[n],l,n);return ht(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var j=this.getIndex({startX:o+m,endX:l+m});(j.startIndex!==h||j.endIndex!==p)&&y&&y(j),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=rM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,j=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var g=this.getIndex(b),w=g.startIndex,N=g.endIndex,_=function(){var C=j.length-1;return o==="startX"&&(l>c?w%m===0:N%m===0)||l<c&&N===C||o==="endX"&&(l>c?N%m===0:w%m===0)||l>c&&N===C};this.setState(Cs(Cs({},o,u+v),"brushMoveStartX",n.pageX),function(){y&&_()&&y(g)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Cs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?F.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,j=c.endIndex,b=Math.max(n,this.props.x),v=t1(t1({},dt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),g=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[j])===null||o===void 0?void 0:o.name);return F.createElement(Zt,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return F.createElement(Zt,{className:"recharts-brush-texts"},F.createElement(Fc,Fy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(a)),F.createElement(Fc,Fy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,j=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var g=wt("recharts-brush",i),w=F.Children.count(o)===1,N=b4e("userSelect","none");return F.createElement(Zt,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||j||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return F.isValidElement(n)?i=F.cloneElement(n,a):ht(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return t1({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?P4e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);Cs(hf,"displayName","Brush");Cs(hf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var E4e=FC;function A4e(e,t){var r;return E4e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var O4e=A4e,T4e=vV,I4e=Ni,R4e=O4e,M4e=_s,$4e=L0;function D4e(e,t,r){var n=M4e(e)?T4e:R4e;return r&&$4e(e,t,r)&&(t=void 0),n(e,I4e(t))}var L4e=D4e;const F4e=Yt(L4e);var pi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},nM=UV;function U4e(e,t,r){t=="__proto__"&&nM?nM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var B4e=U4e,V4e=B4e,q4e=LV,z4e=Ni;function W4e(e,t){var r={};return t=z4e(t),q4e(e,function(n,a,i){V4e(r,a,t(n,a,i))}),r}var K4e=W4e;const H4e=Yt(K4e);function G4e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Q4e=G4e,Y4e=FC;function X4e(e,t){var r=!0;return Y4e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var J4e=X4e,Z4e=Q4e,eIe=J4e,tIe=Ni,rIe=_s,nIe=L0;function sIe(e,t,r){var n=rIe(e)?Z4e:eIe;return r&&nIe(e,t,r)&&(t=void 0),n(e,tIe(t))}var aIe=sIe;const O9=Yt(aIe);var iIe=["x","y"];function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NS.apply(this,arguments)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){oIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oIe(e,t,r){return t=lIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lIe(e){var t=cIe(e,"string");return Ep(t)=="symbol"?t:t+""}function cIe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uIe(e,t){if(e==null)return{};var r=dIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fIe(e,t){var r=e.x,n=e.y,a=uIe(e,iIe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Eh(Eh(Eh(Eh(Eh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function aM(e){return F.createElement(_9,NS({shapeType:"rectangle",propTransformer:fIe,activeClassName:"recharts-active-bar"},e))}var hIe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Pe(n)||Mpe(n);return i?t(n,a):(i||Bc(),r)}},mIe=["value","background"],T9;function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function pIe(e,t){if(e==null)return{};var r=gIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){Ko(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R9(n.key),n)}}function vIe(e,t,r){return t&&oM(e.prototype,t),r&&oM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yIe(e,t,r){return t=Vy(t),bIe(e,I9()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function bIe(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jIe(e)}function jIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function wIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_S(e,t)}function Ko(e,t,r){return t=R9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=NIe(e,"string");return mf(t)=="symbol"?t:t+""}function NIe(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tu=function(e){function t(){var r;xIe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yIe(this,t,[].concat(a)),Ko(r,"state",{isAnimationFinished:!1}),Ko(r,"id",pg("recharts-bar-")),Ko(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ko(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return wIe(t,e),vIe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=dt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,m=Gr(Gr(Gr({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(Zt,By({className:"recharts-bar-rectangle"},Lc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(aM,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return F.createElement(oo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(j,b){var v=h&&h[b];if(v){var g=Eo(v.x,j.x),w=Eo(v.y,j.y),N=Eo(v.width,j.width),_=Eo(v.height,j.height);return Gr(Gr({},j),{},{x:g(y),y:w(y),width:N(y),height:_(y)})}if(o==="horizontal"){var S=Eo(0,j.height),C=S(y);return Gr(Gr({},j),{},{y:j.y+j.height-C,height:C})}var P=Eo(0,j.width),k=P(y);return Gr(Gr({},j),{},{width:k})});return F.createElement(Zt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Q0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=dt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=pIe(u,mIe);if(!f)return null;var p=Gr(Gr(Gr(Gr(Gr({},h),{},{fill:"#eee"},f),c),Lc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(aM,By({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=da(d,J0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(j,b){var v=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:v,errorVal:Bn(j,b)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(Zt,y,f.map(function(m){return F.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var j=this.state.isAnimationFinished,b=wt("recharts-bar",o),v=l&&l.allowDataOverflow,g=c&&c.allowDataOverflow,w=v||g,N=At(m)?this.id:m;return F.createElement(Zt,{className:b},v||g?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(N)},F.createElement("rect",{x:v?u:u-f/2,y:g?d:d-h/2,width:v?f:f*2,height:g?h:h*2}))):null,F.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!p||j)&&al.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);T9=tu;Ko(tu,"displayName","Bar");Ko(tu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ko(tu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=ZCe(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,j=m!==void 0?Gr(Gr({},m),r.props):r.props,b=j.dataKey,v=j.children,g=j.minPointSize,w=y==="horizontal"?o:i,N=u?w.scale.domain():null,_=iPe({numericAxis:w}),S=da(v,F0),C=f.map(function(P,k){var A,O,R,M,L,T;u?A=ePe(u[d+k],N):(A=Bn(P,b),Array.isArray(A)||(A=[_,A]));var W=hIe(g,T9.defaultProps.minPointSize)(A[1],k);if(y==="horizontal"){var E,D=[o.scale(A[0]),o.scale(A[1])],G=D[0],J=D[1];O=ZI({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:k}),R=(E=J??G)!==null&&E!==void 0?E:void 0,M=p.size;var I=G-J;if(L=Number.isNaN(I)?0:I,T={x:O,y:o.y,width:M,height:o.height},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var Y=Xn(L||W)*(Math.abs(W)-Math.abs(L));R-=Y,L+=Y}}else{var V=[i.scale(A[0]),i.scale(A[1])],ee=V[0],pe=V[1];if(O=ee,R=ZI({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:k}),M=pe-ee,L=p.size,T={x:i.x,y:R,width:i.width,height:L},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var te=Xn(M||W)*(Math.abs(W)-Math.abs(M));M+=te}}return Gr(Gr(Gr({},P),{},{x:O,y:R,width:M,height:L,value:u?A:A[1],payload:P,background:T},S&&S[k]&&S[k].props),{},{tooltipPayload:[r9(r,P)],tooltipPosition:{x:O+M/2,y:R+L/2}})});return Gr({data:C,layout:y},h)});function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function _Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M9(n.key),n)}}function SIe(e,t,r){return t&&lM(e.prototype,t),r&&lM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){aj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aj(e,t,r){return t=M9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M9(e){var t=kIe(e,"string");return Ap(t)=="symbol"?t:t+""}function kIe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CIe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Es(u,tu);return d.reduce(function(p,y){var m=r[y],j=m.orientation,b=m.domain,v=m.padding,g=v===void 0?{}:v,w=m.mirror,N=m.reversed,_="".concat(j).concat(w?"Mirror":""),S,C,P,k,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=b[1]-b[0],R=1/0,M=m.categoricalDomain.sort(Lpe);if(M.forEach(function(V,ee){ee>0&&(R=Math.min((V||0)-(M[ee-1]||0),R))}),Number.isFinite(R)){var L=R/O,T=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=L*T/2),m.padding==="no-gap"){var W=Jn(t.barCategoryGap,L*T),E=L*T/2;S=E-W-(E-W)/T*W}}}a==="xAxis"?C=[n.left+(g.left||0)+(S||0),n.left+n.width-(g.right||0)-(S||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(g.bottom||0),n.top+(g.top||0)]:[n.top+(g.top||0)+(S||0),n.top+n.height-(g.bottom||0)-(S||0)]:C=m.range,N&&(C=[C[1],C[0]]);var D=Jq(m,i,h),G=D.scale,J=D.realScaleType;G.domain(b).range(C),Zq(G);var I=e9(G,Ma(Ma({},m),{},{realScaleType:J}));a==="xAxis"?(A=j==="top"&&!w||j==="bottom"&&w,P=n.left,k=f[_]-A*m.height):a==="yAxis"&&(A=j==="left"&&!w||j==="right"&&w,P=f[_]-A*m.width,k=n.top);var Y=Ma(Ma(Ma({},m),I),{},{realScaleType:J,x:P,y:k,scale:G,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return Y.bandSize=Sy(Y,I),!m.hide&&a==="xAxis"?f[_]+=(A?-1:1)*Y.height:m.hide||(f[_]+=(A?-1:1)*Y.width),Ma(Ma({},p),{},aj({},y,Y))},{})},$9=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},PIe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return $9({x:r,y:n},{x:a,y:i})},D9=function(){function e(t){_Ie(this,e),this.scale=t}return SIe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();aj(D9,"EPS",1e-4);var pP=function(t){var r=Object.keys(t).reduce(function(n,a){return Ma(Ma({},n),{},aj({},a,D9.create(t[a])))},{});return Ma(Ma({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return H4e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return O9(a,function(i,o){return r[o].isInRange(i)})}})};function EIe(e){return(e%180+180)%180}var AIe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=EIe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},OIe=Ni,TIe=gg,IIe=$0;function RIe(e){return function(t,r,n){var a=Object(t);if(!TIe(t)){var i=OIe(r);t=IIe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var MIe=RIe,$Ie=C9;function DIe(e){var t=$Ie(e),r=t%1;return t===t?r?t-r:t:0}var LIe=DIe,FIe=TV,UIe=Ni,BIe=LIe,VIe=Math.max;function qIe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:BIe(r);return a<0&&(a=VIe(n+a,0)),FIe(e,UIe(t),a)}var zIe=qIe,WIe=MIe,KIe=zIe,HIe=WIe(KIe),GIe=HIe;const QIe=Yt(GIe);var YIe=Bme(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gP=x.createContext(void 0),xP=x.createContext(void 0),L9=x.createContext(void 0),F9=x.createContext({}),U9=x.createContext(void 0),B9=x.createContext(0),V9=x.createContext(0),uM=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=YIe(i);return F.createElement(gP.Provider,{value:n},F.createElement(xP.Provider,{value:a},F.createElement(F9.Provider,{value:i},F.createElement(L9.Provider,{value:d},F.createElement(U9.Provider,{value:o},F.createElement(B9.Provider,{value:u},F.createElement(V9.Provider,{value:c},l)))))))},XIe=function(){return x.useContext(U9)},q9=function(t){var r=x.useContext(gP);r==null&&Bc();var n=r[t];return n==null&&Bc(),n},JIe=function(){var t=x.useContext(gP);return Ro(t)},ZIe=function(){var t=x.useContext(xP),r=QIe(t,function(n){return O9(n.domain,Number.isFinite)});return r||Ro(t)},z9=function(t){var r=x.useContext(xP);r==null&&Bc();var n=r[t];return n==null&&Bc(),n},eRe=function(){var t=x.useContext(L9);return t},tRe=function(){return x.useContext(F9)},vP=function(){return x.useContext(V9)},yP=function(){return x.useContext(B9)};function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function rRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K9(n.key),n)}}function sRe(e,t,r){return t&&nRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aRe(e,t,r){return t=qy(t),iRe(e,W9()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function iRe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(e)}function oRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function lRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SS(e,t)}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){bP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bP(e,t,r){return t=K9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=cRe(e,"string");return pf(t)=="symbol"?t:t+""}function cRe(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uRe(e,t){return mRe(e)||hRe(e,t)||fRe(e,t)||dRe()}function dRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(e,t){if(e){if(typeof e=="string")return hM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hM(e,t)}}function hM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mRe(e){if(Array.isArray(e))return e}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}var pRe=function(t,r){var n;return F.isValidElement(t)?n=F.cloneElement(t,r):ht(t)?n=t(r):n=F.createElement("line",kS({},r,{className:"recharts-reference-line-line"})),n},gRe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(pi(u,"discard")&&!t.y.isInRange(m))return null;var j=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?j.reverse():j}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(pi(u,"discard")&&!t.x.isInRange(v))return null;var g=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?g.reverse():g}if(a){var w=u.segment,N=w.map(function(_){return t.apply(_,{position:o})});return pi(u,"discard")&&F4e(N,function(_){return!t.isInRange(_)})?null:N}return null};function xRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=XIe(),d=q9(a),f=z9(i),h=eRe();if(!u||!h)return null;qa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=pP({x:d.scale,y:f.scale}),y=pn(t),m=pn(r),j=n&&n.length===2,b=gRe(p,y,m,j,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=uRe(b,2),g=v[0],w=g.x,N=g.y,_=v[1],S=_.x,C=_.y,P=pi(e,"hidden")?"url(#".concat(u,")"):void 0,k=fM(fM({clipPath:P},dt(e,!0)),{},{x1:w,y1:N,x2:S,y2:C});return F.createElement(Zt,{className:wt("recharts-reference-line",l)},pRe(o,k),wn.renderCallByParent(e,PIe({x1:w,y1:N,x2:S,y2:C})))}var jP=function(e){function t(){return rRe(this,t),aRe(this,t,arguments)}return lRe(t,e),sRe(t,[{key:"render",value:function(){return F.createElement(xRe,this.props)}}])}(F.Component);bP(jP,"displayName","ReferenceLine");bP(jP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CS.apply(this,arguments)}function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G9(n.key),n)}}function bRe(e,t,r){return t&&yRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jRe(e,t,r){return t=zy(t),wRe(e,H9()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function wRe(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NRe(e)}function NRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H9=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}function _Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PS(e,t)}function ij(e,t,r){return t=G9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=SRe(e,"string");return gf(t)=="symbol"?t:t+""}function SRe(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kRe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=pP({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return pi(t,"discard")&&!o.isInRange(l)?null:l},oj=function(e){function t(){return vRe(this,t),jRe(this,t,arguments)}return _Re(t,e),bRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=pn(a),d=pn(i);if(qa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=kRe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,j=y.className,b=pi(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=pM(pM({clipPath:b},dt(this.props,!0)),{},{cx:h,cy:p});return F.createElement(Zt,{className:wt("recharts-reference-dot",j)},t.renderDot(m,v),wn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(F.Component);ij(oj,"displayName","ReferenceDot");ij(oj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ij(oj,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):ht(e)?r=e(t):r=F.createElement(mP,CS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(this,arguments)}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){lj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y9(n.key),n)}}function ERe(e,t,r){return t&&PRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ARe(e,t,r){return t=Wy(t),ORe(e,Q9()?Reflect.construct(t,r||[],Wy(e).constructor):t.apply(e,r))}function ORe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TRe(e)}function TRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q9=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}function IRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AS(e,t)}function AS(e,t){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AS(e,t)}function lj(e,t,r){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=RRe(e,"string");return xf(t)=="symbol"?t:t+""}function RRe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MRe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=pP({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return pi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:$9(p,y)},cj=function(e){function t(){return CRe(this,t),ARe(this,t,arguments)}return IRe(t,e),ERe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;qa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pn(a),h=pn(i),p=pn(o),y=pn(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var j=MRe(f,h,p,y,this.props);if(!j&&!m)return null;var b=pi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(Zt,{className:wt("recharts-reference-area",c)},t.renderRect(m,xM(xM({clipPath:b},dt(this.props,!0)),j)),wn.renderCallByParent(this.props,j))}}])}(F.Component);lj(cj,"displayName","ReferenceArea");lj(cj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lj(cj,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):ht(e)?r=e(t):r=F.createElement(hP,ES({},t,{className:"recharts-reference-area-rect"})),r});function X9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function $Re(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return AIe(n,r)}function DRe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ky(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function LRe(e,t){return X9(e,t+1)}function FRe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:X9(n,u)};var m=c,j,b=function(){return j===void 0&&(j=r(y,m)),j},v=y.coordinate,g=c===0||Ky(e,v,b,d,l);g||(c=0,d=o,u+=1),g&&(d=v+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){URe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function URe(e,t,r){return t=BRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BRe(e){var t=VRe(e,"string");return Op(t)=="symbol"?t:t+""}function VRe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qRe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var j=e*(p.coordinate+e*m()/2-c);i[h]=p=Ln(Ln({},p),{},{tickCoord:j>0?p.coordinate-j*e:p.coordinate})}else i[h]=p=Ln(Ln({},p),{},{tickCoord:p.coordinate});var b=Ky(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+a),i[h]=Ln(Ln({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function zRe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Ln(Ln({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ky(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ln(Ln({},d),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(v){var g=o[v],w,N=function(){return w===void 0&&(w=r(g,v)),w};if(v===0){var _=e*(g.coordinate-e*N()/2-c);o[v]=g=Ln(Ln({},g),{},{tickCoord:_<0?g.coordinate-_*e:g.coordinate})}else o[v]=g=Ln(Ln({},g),{},{tickCoord:g.coordinate});var S=Ky(e,g.tickCoord,N,c,u);S&&(c=g.tickCoord+e*(N()/2+a),o[v]=Ln(Ln({},g),{},{isShow:!0}))},j=0;j<y;j++)m(j);return o}function wP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Pe(c)||Gf.isSsr)return LRe(a,typeof c=="number"&&Pe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?om(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(g,w){var N=ht(u)?u(g.value,w):g.value;return p==="width"?$Re(om(N,{fontSize:t,letterSpacing:r}),y,f):om(N,{fontSize:t,letterSpacing:r})[p]},j=a.length>=2?Xn(a[1].coordinate-a[0].coordinate):1,b=DRe(i,j,p);return c==="equidistantPreserveStart"?FRe(j,b,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=zRe(j,b,m,a,o,c==="preserveStartEnd"):h=qRe(j,b,m,a,o),h.filter(function(v){return v.isShow}))}var WRe=["viewBox"],KRe=["viewBox"],HRe=["ticks"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){NP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r1(e,t){if(e==null)return{};var r=GRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z9(n.key),n)}}function YRe(e,t,r){return t&&bM(e.prototype,t),r&&bM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XRe(e,t,r){return t=Hy(t),JRe(e,J9()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function JRe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZRe(e)}function ZRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J9=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function eMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OS(e,t)}function OS(e,t){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OS(e,t)}function NP(e,t,r){return t=Z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=tMe(e,"string");return vf(t)=="symbol"?t:t+""}function tMe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jf=function(e){function t(r){var n;return QRe(this,t),n=XRe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return eMe(t,e),YRe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=r1(n,WRe),l=this.props,c=l.viewBox,u=r1(l,KRe);return!md(i,c)||!md(o,u)||!md(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,m,j,b,v,g=f?-1:1,w=n.tickSize||d,N=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,j=o+ +!f*c,m=j-g*w,v=m-g*h,b=N;break;case"left":m=j=n.coordinate,y=i+ +!f*l,p=y-g*w,b=p-g*h,v=N;break;case"right":m=j=n.coordinate,y=i+ +f*l,p=y+g*w,b=p+g*h,v=N;break;default:p=y=n.coordinate,j=o+ +f*c,m=j+g*w,v=m+g*h,b=N;break}return{line:{x1:p,y1:m,x2:y,y2:j},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ln(ln(ln({},dt(this.props,!1)),dt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ln(ln({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ln(ln({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return F.createElement("line",nd({},f,{className:wt("recharts-cartesian-axis-line",Us(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=wP(ln(ln({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),j=dt(this.props,!1),b=dt(d,!1),v=ln(ln({},j),{},{fill:"none"},dt(c,!1)),g=p.map(function(w,N){var _=o.getTickLineCoord(w),S=_.line,C=_.tick,P=ln(ln(ln(ln({textAnchor:y,verticalAnchor:m},j),{},{stroke:"none",fill:u},b),C),{},{index:N,payload:w,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(Zt,nd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Lc(o.props,w,N)),c&&F.createElement("line",nd({},v,S,{className:wt("recharts-cartesian-axis-tick-line",Us(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(ht(f)?f(w.value,N):w.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=r1(f,HRe),y=h;return ht(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:F.createElement(Zt,{className:wt("recharts-cartesian-axis",u),ref:function(j){n.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=wt(a.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?o=F.cloneElement(n,ln(ln({},a),{},{className:l})):ht(n)?o=n(ln(ln({},a),{},{className:l})):o=F.createElement(Fc,nd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);NP(Jf,"displayName","CartesianAxis");NP(Jf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rMe=["x1","y1","x2","y2","key"],nMe=["offset"];function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){sMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sMe(e,t,r){return t=aMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aMe(e){var t=iMe(e,"string");return Vc(t)=="symbol"?t:t+""}function iMe(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function wM(e,t){if(e==null)return{};var r=oMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function e7(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(ht(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=wM(t,rMe),u=dt(c,!1);u.offset;var d=wM(u,nMe);r=F.createElement("line",tc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function cMe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Un(Un({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return e7(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function uMe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Un(Un({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return e7(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function dMe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?a+o-h:d[p+1]-h;if(m<=0)return null;var j=p%t.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fMe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+l-h:d[p+1]-h;if(m<=0)return null;var j=p%n.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hMe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Xq(wP(Un(Un(Un({},Jf.defaultProps),n),{},{ticks:zi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},mMe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Xq(wP(Un(Un(Un({},Jf.defaultProps),n),{},{ticks:zi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Eu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function t7(e){var t,r,n,a,i,o,l=vP(),c=yP(),u=tRe(),d=Un(Un({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Eu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Eu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Eu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Eu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Eu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Eu.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,j=d.horizontalValues,b=d.verticalValues,v=JIe(),g=ZIe();if(!Pe(p)||p<=0||!Pe(y)||y<=0||!Pe(f)||f!==+f||!Pe(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||hMe,N=d.horizontalCoordinatesGenerator||mMe,_=d.horizontalPoints,S=d.verticalPoints;if((!_||!_.length)&&ht(N)){var C=j&&j.length,P=N({yAxis:g?Un(Un({},g),{},{ticks:C?j:g.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);qa(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vc(P),"]")),Array.isArray(P)&&(_=P)}if((!S||!S.length)&&ht(w)){var k=b&&b.length,A=w({xAxis:v?Un(Un({},v),{},{ticks:k?b:v.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);qa(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vc(A),"]")),Array.isArray(A)&&(S=A)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(lMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(cMe,tc({},d,{offset:u,horizontalPoints:_,xAxis:v,yAxis:g})),F.createElement(uMe,tc({},d,{offset:u,verticalPoints:S,xAxis:v,yAxis:g})),F.createElement(dMe,tc({},d,{horizontalPoints:_})),F.createElement(fMe,tc({},d,{verticalPoints:S})))}t7.displayName="CartesianGrid";function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function pMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s7(n.key),n)}}function xMe(e,t,r){return t&&gMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vMe(e,t,r){return t=Gy(t),yMe(e,r7()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function yMe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bMe(e)}function bMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function jMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TS(e,t)}function n7(e,t,r){return t=s7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=wMe(e,"string");return yf(t)=="symbol"?t:t+""}function wMe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IS.apply(this,arguments)}function NMe(e){var t=e.xAxisId,r=vP(),n=yP(),a=q9(t);return a==null?null:x.createElement(Jf,IS({},a,{className:wt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return zi(o,!0)}}))}var uj=function(e){function t(){return pMe(this,t),vMe(this,t,arguments)}return jMe(t,e),xMe(t,[{key:"render",value:function(){return x.createElement(NMe,this.props)}}])}(x.Component);n7(uj,"displayName","XAxis");n7(uj,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function _Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o7(n.key),n)}}function kMe(e,t,r){return t&&SMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CMe(e,t,r){return t=Qy(t),PMe(e,a7()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function PMe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EMe(e)}function EMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a7=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function AMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RS(e,t)}function i7(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=OMe(e,"string");return bf(t)=="symbol"?t:t+""}function OMe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}var TMe=function(t){var r=t.yAxisId,n=vP(),a=yP(),i=z9(r);return i==null?null:x.createElement(Jf,MS({},i,{className:wt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return zi(l,!0)}}))},dj=function(e){function t(){return _Me(this,t),CMe(this,t,arguments)}return AMe(t,e),kMe(t,[{key:"render",value:function(){return x.createElement(TMe,this.props)}}])}(x.Component);i7(dj,"displayName","YAxis");i7(dj,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NM(e){return $Me(e)||MMe(e)||RMe(e)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(e,t){if(e){if(typeof e=="string")return $S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(e,t)}}function MMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Me(e){if(Array.isArray(e))return $S(e)}function $S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DS=function(t,r,n,a,i){var o=da(t,jP),l=da(t,oj),c=[].concat(NM(o),NM(l)),u=da(t,cj),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,j){if(j.props[d]===n&&pi(j.props,"extendDomain")&&Pe(j.props[f])){var b=j.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,j){if(j.props[d]===n&&pi(j.props,"extendDomain")&&Pe(j.props[p])&&Pe(j.props[y])){var b=j.props[p],v=j.props[y];return[Math.min(m[0],b,v),Math.max(m[1],b,v)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,j){return Pe(j)?[Math.min(m[0],j),Math.max(m[1],j)]:m},h)),h},l7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var j=this._events[m],b=arguments.length,v,g;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),b){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,d),!0;case 3:return j.fn.call(j.context,d,f),!0;case 4:return j.fn.call(j.context,d,f,h),!0;case 5:return j.fn.call(j.context,d,f,h,p),!0;case 6:return j.fn.call(j.context,d,f,h,p,y),!0}for(g=1,v=new Array(b-1);g<b;g++)v[g-1]=arguments[g];j.fn.apply(j.context,v)}else{var w=j.length,N;for(g=0;g<w;g++)switch(j[g].once&&this.removeListener(u,j[g].fn,void 0,!0),b){case 1:j[g].fn.call(j[g].context);break;case 2:j[g].fn.call(j[g].context,d);break;case 3:j[g].fn.call(j[g].context,d,f);break;case 4:j[g].fn.call(j[g].context,d,f,h);break;default:if(!v)for(N=1,v=new Array(b-1);N<b;N++)v[N-1]=arguments[N];j[g].fn.apply(j[g].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,j=[],b=y.length;m<b;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&j.push(y[m]);j.length?this._events[p]=j.length===1?j[0]:j:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(l7);var DMe=l7.exports;const LMe=Yt(DMe);var n1=new LMe,s1="recharts.syncMouseEvents";function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function FMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c7(n.key),n)}}function BMe(e,t,r){return t&&UMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a1(e,t,r){return t=c7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c7(e){var t=VMe(e,"string");return Tp(t)=="symbol"?t:t+""}function VMe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qMe=function(){function e(){FMe(this,e),a1(this,"activeIndex",0),a1(this,"coordinateList",[]),a1(this,"layout","horizontal")}return BMe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function zMe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Pe(n)&&Pe(a))return!0}return!1}function WMe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function u7(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=gr(t,r,n,a),l=gr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function KMe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=gr(l,c,u,f),p=gr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return u7(t);return[{x:n,y:a},{x:i,y:o}]}function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){HMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HMe(e,t,r){return t=GMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GMe(e){var t=QMe(e,"string");return Ip(t)=="symbol"?t:t+""}function QMe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YMe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,m=iS;if(h==="ScatterChart")y=o,m=COe;else if(h==="BarChart")y=WMe(f,o,c,d),m=hP;else if(f==="radial"){var j=u7(o),b=j.cx,v=j.cy,g=j.radius,w=j.startAngle,N=j.endAngle;y={cx:b,cy:v,startAngle:w,endAngle:N,innerRadius:g,outerRadius:g},m=l9}else y={points:KMe(f,o,c)},m=iS;var _=jx(jx(jx(jx({stroke:"#ccc",pointerEvents:"none"},c),y),dt(p,!1)),{},{payload:l,payloadIndex:u,className:wt("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,_):x.createElement(m,_)}var XMe=["item"],JMe=["children","className","width","height","style","compact","title","desc"];function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(this,arguments)}function SM(e,t){return t$e(e)||e$e(e,t)||f7(e,t)||ZMe()}function ZMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function t$e(e){if(Array.isArray(e))return e}function kM(e,t){if(e==null)return{};var r=r$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h7(n.key),n)}}function a$e(e,t,r){return t&&s$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$e(e,t,r){return t=Yy(t),o$e(e,d7()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function o$e(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l$e(e)}function l$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d7=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function c$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LS(e,t)}function wf(e){return f$e(e)||d$e(e)||f7(e)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7(e,t){if(e){if(typeof e=="string")return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}}function d$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f$e(e){if(Array.isArray(e))return FS(e)}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){it(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function it(e,t,r){return t=h7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=h$e(e,"string");return jf(t)=="symbol"?t:t+""}function h$e(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m$e={xAxis:["bottom","top"],yAxis:["left","right"]},p$e={width:"100%",height:"100%"},m7={x:0,y:0};function wx(e){return e}var g$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},x$e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return fe(fe(fe({},a),gr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return fe(fe(fe({},a),gr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return m7},fj=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(wf(l),wf(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(a)&&Pe(i)?t.slice(a,i+1):[]};function p7(e){return e==="number"?[0,"auto"]:void 0}var US=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=fj(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=m_(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(wf(c),[r9(u,h)]):c},[])},PM=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=g$e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=HCe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=US(t,r,d,f),p=x$e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},v$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Yq(d,i);return n.reduce(function(y,m){var j,b=m.type.defaultProps!==void 0?fe(fe({},m.type.defaultProps),m.props):m.props,v=b.type,g=b.dataKey,w=b.allowDataOverflow,N=b.allowDuplicatedCategory,_=b.scale,S=b.ticks,C=b.includeHidden,P=b[o];if(y[P])return y;var k=fj(t.data,{graphicalItems:a.filter(function(I){var Y,V=o in I.props?I.props[o]:(Y=I.type.defaultProps)===null||Y===void 0?void 0:Y[o];return V===P}),dataStartIndex:c,dataEndIndex:u}),A=k.length,O,R,M;zMe(b.domain,w,v)&&(O=tS(b.domain,null,w),p&&(v==="number"||_!=="auto")&&(M=cm(k,g,"category")));var L=p7(v);if(!O||O.length===0){var T,W=(T=b.domain)!==null&&T!==void 0?T:L;if(g){if(O=cm(k,g,v),v==="category"&&p){var E=Dpe(O);N&&E?(R=O,O=Ly(0,A)):N||(O=rR(W,O,m).reduce(function(I,Y){return I.indexOf(Y)>=0?I:[].concat(wf(I),[Y])},[]))}else if(v==="category")N?O=O.filter(function(I){return I!==""&&!At(I)}):O=rR(W,O,m).reduce(function(I,Y){return I.indexOf(Y)>=0||Y===""||At(Y)?I:[].concat(wf(I),[Y])},[]);else if(v==="number"){var D=JCe(k,a.filter(function(I){var Y,V,ee=o in I.props?I.props[o]:(Y=I.type.defaultProps)===null||Y===void 0?void 0:Y[o],pe="hide"in I.props?I.props.hide:(V=I.type.defaultProps)===null||V===void 0?void 0:V.hide;return ee===P&&(C||!pe)}),g,i,d);D&&(O=D)}p&&(v==="number"||_!=="auto")&&(M=cm(k,g,"category"))}else p?O=Ly(0,A):l&&l[P]&&l[P].hasStack&&v==="number"?O=h==="expand"?[0,1]:t9(l[P].stackGroups,c,u):O=Qq(k,a.filter(function(I){var Y=o in I.props?I.props[o]:I.type.defaultProps[o],V="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return Y===P&&(C||!V)}),v,d,!0);if(v==="number")O=DS(f,O,P,i,S),W&&(O=tS(W,O,w));else if(v==="category"&&W){var G=W,J=O.every(function(I){return G.indexOf(I)>=0});J&&(O=G)}}return fe(fe({},y),{},it({},P,fe(fe({},b),{},{axisType:i,domain:O,categoricalDomain:M,duplicateDomain:R,originalDomain:(j=b.domain)!==null&&j!==void 0?j:L,isCategorical:p,layout:d})))},{})},y$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=fj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=Yq(d,i),m=-1;return n.reduce(function(j,b){var v=b.type.defaultProps!==void 0?fe(fe({},b.type.defaultProps),b.props):b.props,g=v[o],w=p7("number");if(!j[g]){m++;var N;return y?N=Ly(0,p):l&&l[g]&&l[g].hasStack?(N=t9(l[g].stackGroups,c,u),N=DS(f,N,g,i)):(N=tS(w,Qq(h,n.filter(function(_){var S,C,P=o in _.props?_.props[o]:(S=_.type.defaultProps)===null||S===void 0?void 0:S[o],k="hide"in _.props?_.props.hide:(C=_.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===g&&!k}),"number",d),a.defaultProps.allowDataOverflow),N=DS(f,N,g,i)),fe(fe({},j),{},it({},g,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Us(m$e,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:w,isCategorical:y,layout:d})))}return j},{})},b$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=da(d,i),p={};return h&&h.length?p=v$e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=y$e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},j$e=function(t){var r=Ro(t),n=zi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:UC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Sy(r,n)}},EM=function(t){var r=t.children,n=t.defaultShowTooltip,a=Es(r,hf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},w$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},AM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},N$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Es(f,hf),y=Es(f,mc),m=Object.keys(c).reduce(function(N,_){var S=c[_],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},N),{},it({},C,N[C]+S.width)):N},{left:h.left||0,right:h.right||0}),j=Object.keys(o).reduce(function(N,_){var S=o[_],C=S.orientation;return!S.mirror&&!S.hide?fe(fe({},N),{},it({},C,Us(N,"".concat(C))+S.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=fe(fe({},j),m),v=b.bottom;p&&(b.bottom+=p.props.height||hf.defaultProps.height),y&&r&&(b=YCe(b,a,n,r));var g=u-b.left-b.right,w=d-b.top-b.bottom;return fe(fe({brushBottom:v},b),{},{width:Math.max(g,0),height:Math.max(w,0)})},_$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},g7=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var g=v.graphicalItems,w=v.stackGroups,N=v.offset,_=v.updateId,S=v.dataStartIndex,C=v.dataEndIndex,P=b.barSize,k=b.layout,A=b.barGap,O=b.barCategoryGap,R=b.maxBarSize,M=AM(k),L=M.numericAxisName,T=M.cateAxisName,W=w$e(g),E=[];return g.forEach(function(D,G){var J=fj(b.data,{graphicalItems:[D],dataStartIndex:S,dataEndIndex:C}),I=D.type.defaultProps!==void 0?fe(fe({},D.type.defaultProps),D.props):D.props,Y=I.dataKey,V=I.maxBarSize,ee=I["".concat(L,"Id")],pe=I["".concat(T,"Id")],te={},ve=c.reduce(function(K,Z){var le=v["".concat(Z.axisType,"Map")],Ee=I["".concat(Z.axisType,"Id")];le&&le[Ee]||Z.axisType==="zAxis"||Bc();var ke=le[Ee];return fe(fe({},K),{},it(it({},Z.axisType,ke),"".concat(Z.axisType,"Ticks"),zi(ke)))},te),ie=ve[T],B=ve["".concat(T,"Ticks")],me=w&&w[ee]&&w[ee].hasStack&&oPe(D,w[ee].stackGroups),Q=Ki(D.type).indexOf("Bar")>=0,q=Sy(ie,B),xe=[],tt=W&&GCe({barSize:P,stackGroups:w,totalSize:_$e(ve,T)});if(Q){var at,ft,Wt=At(V)?R:V,$t=(at=(ft=Sy(ie,B,!0))!==null&&ft!==void 0?ft:Wt)!==null&&at!==void 0?at:0;xe=QCe({barGap:A,barCategoryGap:O,bandSize:$t!==q?$t:q,sizeList:tt[pe],maxBarSize:Wt}),$t!==q&&(xe=xe.map(function(K){return fe(fe({},K),{},{position:fe(fe({},K.position),{},{offset:K.position.offset-$t/2})})}))}var nn=D&&D.type&&D.type.getComposedData;nn&&E.push({props:fe(fe({},nn(fe(fe({},ve),{},{displayedData:J,props:b,dataKey:Y,item:D,bandSize:q,barPosition:xe,offset:N,stackedData:me,layout:k,dataStartIndex:S,dataEndIndex:C}))),{},it(it(it({key:D.key||"item-".concat(G)},L,ve[L]),T,ve[T]),"animationId",_)),childIndex:Qpe(D,b.children),item:D})}),E},p=function(b,v){var g=b.props,w=b.dataStartIndex,N=b.dataEndIndex,_=b.updateId;if(!QT({props:g}))return null;var S=g.children,C=g.layout,P=g.stackOffset,k=g.data,A=g.reverseStackOrder,O=AM(C),R=O.numericAxisName,M=O.cateAxisName,L=da(S,n),T=aPe(k,L,"".concat(R,"Id"),"".concat(M,"Id"),P,A),W=c.reduce(function(I,Y){var V="".concat(Y.axisType,"Map");return fe(fe({},I),{},it({},V,b$e(g,fe(fe({},Y),{},{graphicalItems:L,stackGroups:Y.axisType===R&&T,dataStartIndex:w,dataEndIndex:N}))))},{}),E=N$e(fe(fe({},W),{},{props:g,graphicalItems:L}),v==null?void 0:v.legendBBox);Object.keys(W).forEach(function(I){W[I]=d(g,W[I],E,I.replace("Map",""),r)});var D=W["".concat(M,"Map")],G=j$e(D),J=h(g,fe(fe({},W),{},{dataStartIndex:w,dataEndIndex:N,updateId:_,graphicalItems:L,stackGroups:T,offset:E}));return fe(fe({formattedGraphicalItems:J,graphicalItems:L,offset:E,stackGroups:T},G),W)},y=function(j){function b(v){var g,w,N;return n$e(this,b),N=i$e(this,b,[v]),it(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(N,"accessibilityManager",new qMe),it(N,"handleLegendBBoxUpdate",function(_){if(_){var S=N.state,C=S.dataStartIndex,P=S.dataEndIndex,k=S.updateId;N.setState(fe({legendBBox:_},p({props:N.props,dataStartIndex:C,dataEndIndex:P,updateId:k},fe(fe({},N.state),{},{legendBBox:_}))))}}),it(N,"handleReceiveSyncEvent",function(_,S,C){if(N.props.syncId===_){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(S)}}),it(N,"handleBrushChange",function(_){var S=_.startIndex,C=_.endIndex;if(S!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return fe({dataStartIndex:S,dataEndIndex:C},p({props:N.props,dataStartIndex:S,dataEndIndex:C,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),it(N,"handleMouseEnter",function(_){var S=N.getMouseInfo(_);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var P=N.props.onMouseEnter;ht(P)&&P(C,_)}}),it(N,"triggeredAfterMouseMove",function(_){var S=N.getMouseInfo(_),C=S?fe(fe({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var P=N.props.onMouseMove;ht(P)&&P(C,_)}),it(N,"handleItemMouseEnter",function(_){N.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),it(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),it(N,"handleMouseMove",function(_){_.persist(),N.throttleTriggeredAfterMouseMove(_)}),it(N,"handleMouseLeave",function(_){N.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var C=N.props.onMouseLeave;ht(C)&&C(S,_)}),it(N,"handleOuterEvent",function(_){var S=Gpe(_),C=Us(N.props,"".concat(S));if(S&&ht(C)){var P,k;/.*touch.*/i.test(S)?k=N.getMouseInfo(_.changedTouches[0]):k=N.getMouseInfo(_),C((P=k)!==null&&P!==void 0?P:{},_)}}),it(N,"handleClick",function(_){var S=N.getMouseInfo(_);if(S){var C=fe(fe({},S),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var P=N.props.onClick;ht(P)&&P(C,_)}}),it(N,"handleMouseDown",function(_){var S=N.props.onMouseDown;if(ht(S)){var C=N.getMouseInfo(_);S(C,_)}}),it(N,"handleMouseUp",function(_){var S=N.props.onMouseUp;if(ht(S)){var C=N.getMouseInfo(_);S(C,_)}}),it(N,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),it(N,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseDown(_.changedTouches[0])}),it(N,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&N.handleMouseUp(_.changedTouches[0])}),it(N,"handleDoubleClick",function(_){var S=N.props.onDoubleClick;if(ht(S)){var C=N.getMouseInfo(_);S(C,_)}}),it(N,"handleContextMenu",function(_){var S=N.props.onContextMenu;if(ht(S)){var C=N.getMouseInfo(_);S(C,_)}}),it(N,"triggerSyncEvent",function(_){N.props.syncId!==void 0&&n1.emit(s1,N.props.syncId,_,N.eventEmitterSymbol)}),it(N,"applySyncEvent",function(_){var S=N.props,C=S.layout,P=S.syncMethod,k=N.state.updateId,A=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)N.setState(fe({dataStartIndex:A,dataEndIndex:O},p({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:k},N.state)));else if(_.activeTooltipIndex!==void 0){var R=_.chartX,M=_.chartY,L=_.activeTooltipIndex,T=N.state,W=T.offset,E=T.tooltipTicks;if(!W)return;if(typeof P=="function")L=P(E,_);else if(P==="value"){L=-1;for(var D=0;D<E.length;D++)if(E[D].value===_.activeLabel){L=D;break}}var G=fe(fe({},W),{},{x:W.left,y:W.top}),J=Math.min(R,G.x+G.width),I=Math.min(M,G.y+G.height),Y=E[L]&&E[L].value,V=US(N.state,N.props.data,L),ee=E[L]?{x:C==="horizontal"?E[L].coordinate:J,y:C==="horizontal"?I:E[L].coordinate}:m7;N.setState(fe(fe({},_),{},{activeLabel:Y,activeCoordinate:ee,activePayload:V,activeTooltipIndex:L}))}else N.setState(_)}),it(N,"renderCursor",function(_){var S,C=N.state,P=C.isTooltipActive,k=C.activeCoordinate,A=C.activePayload,O=C.offset,R=C.activeTooltipIndex,M=C.tooltipAxisBandSize,L=N.getTooltipEventType(),T=(S=_.props.active)!==null&&S!==void 0?S:P,W=N.props.layout,E=_.key||"_recharts-cursor";return F.createElement(YMe,{key:E,activeCoordinate:k,activePayload:A,activeTooltipIndex:R,chartName:r,element:_,isActive:T,layout:W,offset:O,tooltipAxisBandSize:M,tooltipEventType:L})}),it(N,"renderPolarAxis",function(_,S,C){var P=Us(_,"type.axisType"),k=Us(N.state,"".concat(P,"Map")),A=_.type.defaultProps,O=A!==void 0?fe(fe({},A),_.props):_.props,R=k&&k[O["".concat(P,"Id")]];return x.cloneElement(_,fe(fe({},R),{},{className:wt(P,R.className),key:_.key||"".concat(S,"-").concat(C),ticks:zi(R,!0)}))}),it(N,"renderPolarGrid",function(_){var S=_.props,C=S.radialLines,P=S.polarAngles,k=S.polarRadius,A=N.state,O=A.radiusAxisMap,R=A.angleAxisMap,M=Ro(O),L=Ro(R),T=L.cx,W=L.cy,E=L.innerRadius,D=L.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(P)?P:zi(L,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(k)?k:zi(M,!0).map(function(G){return G.coordinate}),cx:T,cy:W,innerRadius:E,outerRadius:D,key:_.key||"polar-grid",radialLines:C})}),it(N,"renderLegend",function(){var _=N.state.formattedGraphicalItems,S=N.props,C=S.children,P=S.width,k=S.height,A=N.props.margin||{},O=P-(A.left||0)-(A.right||0),R=Hq({children:C,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!R)return null;var M=R.item,L=kM(R,XMe);return x.cloneElement(M,fe(fe({},L),{},{chartWidth:P,chartHeight:k,margin:A,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),it(N,"renderTooltip",function(){var _,S=N.props,C=S.children,P=S.accessibilityLayer,k=Es(C,Ra);if(!k)return null;var A=N.state,O=A.isTooltipActive,R=A.activeCoordinate,M=A.activePayload,L=A.activeLabel,T=A.offset,W=(_=k.props.active)!==null&&_!==void 0?_:O;return x.cloneElement(k,{viewBox:fe(fe({},T),{},{x:T.left,y:T.top}),active:W,label:L,payload:W?M:[],coordinate:R,accessibilityLayer:P})}),it(N,"renderBrush",function(_){var S=N.props,C=S.margin,P=S.data,k=N.state,A=k.offset,O=k.dataStartIndex,R=k.dataEndIndex,M=k.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:xx(N.handleBrushChange,_.props.onChange),data:P,x:Pe(_.props.x)?_.props.x:A.left,y:Pe(_.props.y)?_.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:Pe(_.props.width)?_.props.width:A.width,startIndex:O,endIndex:R,updateId:"brush-".concat(M)})}),it(N,"renderReferenceElement",function(_,S,C){if(!_)return null;var P=N,k=P.clipPathId,A=N.state,O=A.xAxisMap,R=A.yAxisMap,M=A.offset,L=_.type.defaultProps||{},T=_.props,W=T.xAxisId,E=W===void 0?L.xAxisId:W,D=T.yAxisId,G=D===void 0?L.yAxisId:D;return x.cloneElement(_,{key:_.key||"".concat(S,"-").concat(C),xAxis:O[E],yAxis:R[G],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:k})}),it(N,"renderActivePoints",function(_){var S=_.item,C=_.activePoint,P=_.basePoint,k=_.childIndex,A=_.isRange,O=[],R=S.props.key,M=S.item.type.defaultProps!==void 0?fe(fe({},S.item.type.defaultProps),S.item.props):S.item.props,L=M.activeDot,T=M.dataKey,W=fe(fe({index:k,dataKey:T,cx:C.x,cy:C.y,r:4,fill:fP(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},dt(L,!1)),Jv(L));return O.push(b.renderActiveDot(L,W,"".concat(R,"-activePoint-").concat(k))),P?O.push(b.renderActiveDot(L,fe(fe({},W),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(k))):A&&O.push(null),O}),it(N,"renderGraphicChild",function(_,S,C){var P=N.filterFormatItem(_,S,C);if(!P)return null;var k=N.getTooltipEventType(),A=N.state,O=A.isTooltipActive,R=A.tooltipAxis,M=A.activeTooltipIndex,L=A.activeLabel,T=N.props.children,W=Es(T,Ra),E=P.props,D=E.points,G=E.isRange,J=E.baseLine,I=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,Y=I.activeDot,V=I.hide,ee=I.activeBar,pe=I.activeShape,te=!!(!V&&O&&W&&(Y||ee||pe)),ve={};k!=="axis"&&W&&W.props.trigger==="click"?ve={onClick:xx(N.handleItemMouseEnter,_.props.onClick)}:k!=="axis"&&(ve={onMouseLeave:xx(N.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:xx(N.handleItemMouseEnter,_.props.onMouseEnter)});var ie=x.cloneElement(_,fe(fe({},P.props),ve));function B(Z){return typeof R.dataKey=="function"?R.dataKey(Z.payload):null}if(te)if(M>=0){var me,Q;if(R.dataKey&&!R.allowDuplicatedCategory){var q=typeof R.dataKey=="function"?B:"payload.".concat(R.dataKey.toString());me=m_(D,q,L),Q=G&&J&&m_(J,q,L)}else me=D==null?void 0:D[M],Q=G&&J&&J[M];if(pe||ee){var xe=_.props.activeIndex!==void 0?_.props.activeIndex:M;return[x.cloneElement(_,fe(fe(fe({},P.props),ve),{},{activeIndex:xe})),null,null]}if(!At(me))return[ie].concat(wf(N.renderActivePoints({item:P,activePoint:me,basePoint:Q,childIndex:M,isRange:G})))}else{var tt,at=(tt=N.getItemByXY(N.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:ie},ft=at.graphicalItem,Wt=ft.item,$t=Wt===void 0?_:Wt,nn=ft.childIndex,K=fe(fe(fe({},P.props),ve),{},{activeIndex:nn});return[x.cloneElement($t,K),null,null]}return G?[ie,null,null]:[ie,null]}),it(N,"renderCustomized",function(_,S,C){return x.cloneElement(_,fe(fe({key:"recharts-customized-".concat(C)},N.props),N.state))}),it(N,"renderMap",{CartesianGrid:{handler:wx,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:wx},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:wx},YAxis:{handler:wx},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((g=v.id)!==null&&g!==void 0?g:pg("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=KV(N.triggeredAfterMouseMove,(w=v.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return c$e(b,j),a$e(b,[{key:"componentDidMount",value:function(){var g,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,w=g.children,N=g.data,_=g.height,S=g.layout,C=Es(w,Ra);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=US(this.state,N,P,k),O=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+_)/2,M=S==="horizontal",L=M?{x:O,y:R}:{y:O,x:R},T=this.state.formattedGraphicalItems.find(function(E){var D=E.item;return D.type.name==="Scatter"});T&&(L=fe(fe({},L),T.props.points[P].tooltipPosition),A=T.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:L};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var N,_;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(g){g_([Es(g.children,Ra)],[Es(this.props.children,Ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=Es(this.props.children,Ra);if(g&&typeof g.props.shared=="boolean"){var w=g.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),_=j_e(N),S={chartX:Math.round(g.pageX-_.left),chartY:Math.round(g.pageY-_.top)},C=N.width/w.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,C);if(!P)return null;var k=this.state,A=k.xAxisMap,O=k.yAxisMap,R=this.getTooltipEventType(),M=PM(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&A&&O){var L=Ro(A).scale,T=Ro(O).scale,W=L&&L.invert?L.invert(S.chartX):null,E=T&&T.invert?T.invert(S.chartY):null;return fe(fe({},S),{},{xValue:W,yValue:E},M)}return M?fe(fe({},S),M):null}},{key:"inRange",value:function(g,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,S=g/N,C=w/N;if(_==="horizontal"||_==="vertical"){var P=this.state.offset,k=S>=P.left&&S<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return k?{x:S,y:C}:null}var A=this.state,O=A.angleAxisMap,R=A.radiusAxisMap;if(O&&R){var M=Ro(O);return aR({x:S,y:C},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,w=this.getTooltipEventType(),N=Es(g,Ra),_={};N&&w==="axis"&&(N.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Jv(this.props,this.handleOuterEvent);return fe(fe({},S),_)}},{key:"addListener",value:function(){n1.on(s1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){n1.removeListener(s1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,w,N){for(var _=this.state.formattedGraphicalItems,S=0,C=_.length;S<C;S++){var P=_[S];if(P.item===g||P.props.key===g.key||w===Ki(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,w=this.state.offset,N=w.left,_=w.top,S=w.height,C=w.width;return F.createElement("defs",null,F.createElement("clipPath",{id:g},F.createElement("rect",{x:N,y:_,height:S,width:C})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(w,N){var _=SM(N,2),S=_[0],C=_[1];return fe(fe({},w),{},it({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(w,N){var _=SM(N,2),S=_[0],C=_[1];return fe(fe({},w),{},it({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[g])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(g){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[g])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(g){var w=this.state,N=w.formattedGraphicalItems,_=w.activeItem;if(N&&N.length)for(var S=0,C=N.length;S<C;S++){var P=N[S],k=P.props,A=P.item,O=A.type.defaultProps!==void 0?fe(fe({},A.type.defaultProps),A.props):A.props,R=Ki(A.type);if(R==="Bar"){var M=(k.data||[]).find(function(E){return oOe(g,E)});if(M)return{graphicalItem:P,payload:M}}else if(R==="RadialBar"){var L=(k.data||[]).find(function(E){return aR(g,E)});if(L)return{graphicalItem:P,payload:L}}else if(nj(P,_)||sj(P,_)||Cp(P,_)){var T=QTe({graphicalItem:P,activeTooltipItem:_,itemData:O.data}),W=O.activeIndex===void 0?T:O.activeIndex;return{graphicalItem:fe(fe({},P),{},{childIndex:W}),payload:Cp(P,_)?O.data[T]:P.props.data[T]}}}return null}},{key:"render",value:function(){var g=this;if(!QT(this))return null;var w=this.props,N=w.children,_=w.className,S=w.width,C=w.height,P=w.style,k=w.compact,A=w.title,O=w.desc,R=kM(w,JMe),M=dt(R,!1);if(k)return F.createElement(uM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(v_,sd({},M,{width:S,height:C,title:A,desc:O}),this.renderClipPath(),XT(N,this.renderMap)));if(this.props.accessibilityLayer){var L,T;M.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,M.role=(T=this.props.role)!==null&&T!==void 0?T:"application",M.onKeyDown=function(E){g.accessibilityManager.keyboardEvent(E)},M.onFocus=function(){g.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return F.createElement(uM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",sd({className:wt("recharts-wrapper",_),style:fe({position:"relative",cursor:"default",width:S,height:C},P)},W,{ref:function(D){g.container=D}}),F.createElement(v_,sd({},M,{width:S,height:C,title:A,desc:O,style:p$e}),this.renderClipPath(),XT(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);it(y,"displayName",r),it(y,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),it(y,"getDerivedStateFromProps",function(j,b){var v=j.dataKey,g=j.data,w=j.children,N=j.width,_=j.height,S=j.layout,C=j.stackOffset,P=j.margin,k=b.dataStartIndex,A=b.dataEndIndex;if(b.updateId===void 0){var O=EM(j);return fe(fe(fe({},O),{},{updateId:0},p(fe(fe({props:j},O),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:g,prevWidth:N,prevHeight:_,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:w})}if(v!==b.prevDataKey||g!==b.prevData||N!==b.prevWidth||_!==b.prevHeight||S!==b.prevLayout||C!==b.prevStackOffset||!md(P,b.prevMargin)){var R=EM(j),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},L=fe(fe({},PM(b,g,S)),{},{updateId:b.updateId+1}),T=fe(fe(fe({},R),M),L);return fe(fe(fe({},T),p(fe({props:j},T),b)),{},{prevDataKey:v,prevData:g,prevWidth:N,prevHeight:_,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:w})}if(!g_(w,b.prevChildren)){var W,E,D,G,J=Es(w,hf),I=J&&(W=(E=J.props)===null||E===void 0?void 0:E.startIndex)!==null&&W!==void 0?W:k,Y=J&&(D=(G=J.props)===null||G===void 0?void 0:G.endIndex)!==null&&D!==void 0?D:A,V=I!==k||Y!==A,ee=!At(g),pe=ee&&!V?b.updateId:b.updateId+1;return fe(fe({updateId:pe},p(fe(fe({props:j},b),{},{updateId:pe,dataStartIndex:I,dataEndIndex:Y}),b)),{},{prevChildren:w,dataStartIndex:I,dataEndIndex:Y})}return null}),it(y,"renderActiveDot",function(j,b,v){var g;return x.isValidElement(j)?g=x.cloneElement(j,b):ht(j)?g=j(b):g=F.createElement(mP,b),F.createElement(Zt,{className:"recharts-active-dot",key:v},g)});var m=x.forwardRef(function(b,v){return F.createElement(y,sd({},b,{ref:v}))});return m.displayName=y.displayName,m},S$e=g7({chartName:"BarChart",GraphicalChild:tu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:uj},{axisType:"yAxis",AxisComp:dj}],formatAxisMap:CIe}),k$e=g7({chartName:"PieChart",GraphicalChild:po,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rj},{axisType:"radiusAxis",AxisComp:ej}],formatAxisMap:xPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Nx={VERIFIED:"#22c55e",PENDING_VERIFICATION:"#eab308",PENDING_PAYMENT:"#6b7280",REJECTED:"#ef4444"};function C$e(){const{adminPath:e}=Jp(),t=`/${e}`,{data:r}=de({queryKey:["/api/admin/facilities"]}),{data:n}=de({queryKey:["/api/admin/announcements"]}),{data:a}=de({queryKey:["/api/admin/gallery"]}),{data:i}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:o}=de({queryKey:["/api/admin/careers"]}),{data:l}=de({queryKey:["/api/admin/rules"]}),{data:c}=de({queryKey:["/api/admin/bookings"]}),{data:u}=de({queryKey:["/api/admin/users"]}),d=(c==null?void 0:c.filter(N=>N.paymentStatus==="PENDING_VERIFICATION").length)||0,f=(c==null?void 0:c.filter(N=>N.status==="CONFIRMED").length)||0,h=(c==null?void 0:c.filter(N=>N.paymentStatus==="VERIFIED").reduce((N,_)=>N+(_.totalPrice||0),0))||0,p=[{name:"Verified",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="VERIFIED").length)||0,color:Nx.VERIFIED},{name:"Pending Verification",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="PENDING_VERIFICATION").length)||0,color:Nx.PENDING_VERIFICATION},{name:"Awaiting Payment",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="PENDING_PAYMENT").length)||0,color:Nx.PENDING_PAYMENT},{name:"Rejected",value:(c==null?void 0:c.filter(N=>N.paymentStatus==="REJECTED").length)||0,color:Nx.REJECTED}].filter(N=>N.value>0),y=(r==null?void 0:r.map(N=>({name:N.name.length>15?N.name.slice(0,12)+"...":N.name,fullName:N.name,bookings:(c==null?void 0:c.filter(_=>_.facilityId===N.id).length)||0,revenue:(c==null?void 0:c.filter(_=>_.facilityId===N.id&&_.paymentStatus==="VERIFIED").reduce((_,S)=>_+(S.totalPrice||0),0))||0})))||[],m=(c==null?void 0:c.slice().sort((N,_)=>{const S=new Date(`${N.date} ${N.startTime}`);return new Date(`${_.date} ${_.startTime}`).getTime()-S.getTime()}).slice(0,5))||[],j=[{label:"Total Bookings",value:(c==null?void 0:c.length)||0,icon:xr,color:"text-blue-500",bgColor:"bg-blue-500/10",trend:`${f} confirmed`},{label:"Pending Verification",value:d,icon:Bt,color:"text-amber-500",bgColor:"bg-amber-500/10",trend:d>0?"Action needed":"All clear"},{label:"Verified Revenue",value:`PKR ${h.toLocaleString()}`,icon:vv,color:"text-green-500",bgColor:"bg-green-500/10",trend:`${(c==null?void 0:c.filter(N=>N.paymentStatus==="VERIFIED").length)||0} payments`},{label:"Total Users",value:(u==null?void 0:u.length)||0,icon:Nr,color:"text-purple-500",bgColor:"bg-purple-500/10",trend:`${(u==null?void 0:u.filter(N=>N.role==="ADMIN"||N.role==="SUPER_ADMIN").length)||0} admins`}],b=[{label:"Facilities",value:(r==null?void 0:r.length)||0,icon:Wr,color:"text-blue-500"},{label:"Pricing Tiers",value:(i==null?void 0:i.length)||0,icon:vv,color:"text-green-500"},{label:"Announcements",value:(n==null?void 0:n.length)||0,icon:_c,color:"text-amber-500"},{label:"Career Listings",value:(o==null?void 0:o.length)||0,icon:Om,color:"text-purple-500"},{label:"Rules & Policies",value:(l==null?void 0:l.length)||0,icon:ts,color:"text-red-500"},{label:"Gallery Images",value:(a==null?void 0:a.length)||0,icon:la,color:"text-indigo-500"}],v=N=>{switch(N){case"VERIFIED":return s.jsx(ue,{className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ue,{className:"bg-amber-500",children:"Pending"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});default:return s.jsx(ue,{variant:"secondary",children:"Awaiting"})}},g=(N,_)=>N==="CONFIRMED"&&_==="VERIFIED"?s.jsx(ue,{className:"bg-green-600",children:"Confirmed"}):N==="CANCELLED"?s.jsx(ue,{variant:"destructive",children:"Cancelled"}):s.jsx(ue,{variant:"secondary",children:"Tentative"}),w=N=>{if(!N||!r)return"Unknown";const _=r.find(S=>S.id===N);return(_==null?void 0:_.name)||"Unknown"};return s.jsx(st,{title:"Dashboard",children:s.jsxs("div",{className:"space-y-6",children:[d>0&&s.jsx(se,{className:"border-amber-500 bg-amber-50 dark:bg-amber-900/20","data-testid":"alert-pending-verification",children:s.jsxs(ae,{className:"flex flex-wrap items-center gap-4 p-4",children:[s.jsx(Tn,{className:"h-5 w-5 text-amber-600 shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-medium text-amber-800 dark:text-amber-200",children:[d," booking",d>1?"s":""," pending payment verification"]}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Review and verify payments to confirm bookings."})]}),s.jsx(ge,{href:`${t}/bookings`,children:s.jsxs($,{size:"sm",variant:"outline","data-testid":"button-view-pending",children:["View Pending ",s.jsx(pa,{className:"w-4 h-4 ml-1"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.map(N=>{const _=N.icon;return s.jsx(se,{"data-testid":`card-stat-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:N.label}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:N.value}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(LQ,{className:"w-3 h-3"}),N.trend]})]}),s.jsx("div",{className:`p-3 rounded-full ${N.bgColor}`,children:s.jsx(_,{className:`w-6 h-6 ${N.color}`})})]})})},N.label)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsx(We,{className:"text-lg",children:"Bookings by Facility"}),s.jsx(It,{children:"Total bookings and revenue per facility"})]}),s.jsx(ae,{children:y.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(G4,{width:"100%",height:"100%",children:s.jsxs(S$e,{data:y,margin:{top:10,right:10,left:-10,bottom:0},children:[s.jsx(t7,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(uj,{dataKey:"name",tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(dj,{tick:{fontSize:11},className:"text-muted-foreground"}),s.jsx(Ra,{formatter:(N,_)=>[_==="revenue"?`PKR ${N.toLocaleString()}`:N,_==="revenue"?"Revenue":"Bookings"],labelFormatter:N=>{const _=y.find(S=>S.name===N);return(_==null?void 0:_.fullName)||N},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(tu,{dataKey:"bookings",fill:"#3b82f6",radius:[4,4,0,0],name:"Bookings"})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No booking data available"})})]}),s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsx(We,{className:"text-lg",children:"Payment Status Distribution"}),s.jsx(It,{children:"Overview of payment statuses across all bookings"})]}),s.jsx(ae,{children:p.length>0?s.jsx("div",{className:"h-[300px]",children:s.jsx(G4,{width:"100%",height:"100%",children:s.jsxs(k$e,{children:[s.jsx(po,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:p.map((N,_)=>s.jsx(F0,{fill:N.color},`cell-${_}`))}),s.jsx(Ra,{formatter:N=>[N,"Bookings"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(mc,{})]})})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs(se,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(We,{className:"text-lg",children:"Recent Bookings"}),s.jsx(It,{children:"Latest booking activity"})]}),s.jsx(ge,{href:`${t}/bookings`,children:s.jsxs($,{variant:"outline",size:"sm","data-testid":"button-view-all-bookings",children:["View All ",s.jsx(pa,{className:"w-4 h-4 ml-1"})]})})]}),s.jsx(ae,{children:m.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Booking ID"}),s.jsx(ce,{children:"Date / Time"}),s.jsx(ce,{children:"Facility"}),s.jsx(ce,{children:"Amount"}),s.jsx(ce,{children:"Payment"}),s.jsx(ce,{children:"Status"})]})}),s.jsx(Tr,{children:m.map(N=>{var _;return s.jsxs(Ze,{"data-testid":`row-recent-booking-${N.id}`,children:[s.jsxs(ne,{className:"font-mono text-xs",children:[N.id.slice(0,8),"..."]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-sm font-medium",children:N.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.startTime," - ",N.endTime]})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-sm",children:w(N.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",N.resourceId]})]}),s.jsx(ne,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((_=N.totalPrice)==null?void 0:_.toLocaleString())||0]})}),s.jsx(ne,{children:v(N.paymentStatus)}),s.jsx(ne,{children:g(N.status,N.paymentStatus)})]},N.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings yet"})})]}),s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsx(We,{className:"text-lg",children:"Content Overview"}),s.jsx(It,{children:"Quick stats on website content managed through the admin panel"})]}),s.jsx(ae,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:b.map(N=>{const _=N.icon;return s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50","data-testid":`stat-${N.label.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(_,{className:`w-8 h-8 mx-auto mb-2 ${N.color}`}),s.jsx("p",{className:"text-2xl font-bold",children:N.value}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.label})]},N.label)})})})]})]})})}var hj="Switch",[P$e]=gn(hj),[E$e,A$e]=P$e(hj),x7=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),y=ut(t,g=>p(g)),m=x.useRef(!1),j=h?d||!!h.closest("form"):!0,[b,v]=ss({prop:a,defaultProp:i??!1,onChange:u,caller:hj});return s.jsxs(E$e,{scope:r,checked:b,disabled:l,children:[s.jsx(Re.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":j7(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ne(e.onClick,g=>{v(w=>!w),j&&(m.current=g.isPropagationStopped(),m.current||g.stopPropagation())})}),j&&s.jsx(b7,{control:h,bubbles:!m.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});x7.displayName=hj;var v7="SwitchThumb",y7=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=A$e(v7,r);return s.jsx(Re.span,{"data-state":j7(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});y7.displayName=v7;var O$e="SwitchBubbleInput",b7=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),l=ut(o,i),c=o0(r),u=Eb(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});b7.displayName=O$e;function j7(e){return e?"checked":"unchecked"}var w7=x7,T$e=y7;const Qt=x.forwardRef(({className:e,...t},r)=>s.jsx(w7,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(T$e,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qt.displayName=w7.displayName;const i1={hero:{title:"Hero Section",description:"The main banner section at the top of the homepage.",fields:[{key:"hero_eyebrow",label:"Eyebrow Text",type:"text",placeholder:"Target Launch: Q4 2026"},{key:"hero_title",label:"Main Title",type:"textarea",placeholder:"A bright, premium multi-sport arena..."},{key:"hero_subtitle",label:"Subtitle",type:"textarea",placeholder:"The Quarterdeck brings state-of-the-art..."},{key:"hero_launch_date",label:"Launch Date (for countdown)",type:"date"},{key:"hero_cta_1",label:"Primary Button Text",type:"text",placeholder:"Explore Facilities"},{key:"hero_cta_2",label:"Secondary Button Text",type:"text",placeholder:"View Site Updates"},{key:"hero_status_active",label:"Status Badge 1",type:"text",placeholder:"Construction Active"},{key:"hero_status_updates",label:"Status Badge 2",type:"text",placeholder:"Transparent progress updates"},{key:"hero_status_booking",label:"Status Badge 3",type:"text",placeholder:"Early booking & waitlists planned"}]},about:{title:"About Section",description:"Information about The Quarterdeck's vision and team.",fields:[{key:"about_title",label:"Section Title",type:"text",placeholder:"About The Quarterdeck"},{key:"about_subtitle",label:"Section Subtitle",type:"textarea",placeholder:"Our core vision..."},{key:"about_vision_title",label:"Vision Card Title",type:"text",placeholder:"Vision & Philosophy"},{key:"about_vision_content",label:"Vision Content",type:"textarea",placeholder:"The Quarterdeck is born from..."},{key:"about_vision_content_2",label:"Vision Content (Paragraph 2)",type:"textarea"},{key:"about_tags",label:"Keyword Tags (comma-separated)",type:"text",placeholder:"World-Class Courts,Community Focus,Transparency,All-Ages Friendly"},{key:"about_team_title",label:"Team Card Title",type:"text",placeholder:"The Project Team"},{key:"about_team_content",label:"Team Content",type:"textarea"},{key:"about_team_credits",label:"Team Credits (pipe-separated)",type:"textarea",placeholder:"Lead Architect: Studio 78|Structural Engineering: Eng. Solutions Pvt.|Padel Court Consultant: International Padel Federation"}]},facilities:{title:"Facilities Section",description:"Overview of available sports facilities.",fields:[{key:"facilities_title",label:"Section Title",type:"text",placeholder:"World-Class Facilities"},{key:"facilities_subtitle",label:"Section Subtitle",type:"textarea"},{key:"facilities_cta",label:"CTA Button Text",type:"text",placeholder:"Check Court Availability"}]},membership:{title:"Membership Section",description:"Membership options and benefits.",fields:[{key:"membership_title",label:"Section Title",type:"text",placeholder:"Membership Options"},{key:"membership_subtitle",label:"Section Subtitle",type:"textarea"},{key:"membership_cta",label:"CTA Button Text",type:"text",placeholder:"Explore Membership"}]},contact:{title:"Contact Information",description:"Contact details displayed across the site.",fields:[{key:"contact_title",label:"Section Title",type:"text",placeholder:"Get In Touch"},{key:"contact_subtitle",label:"Section Subtitle",type:"textarea"},{key:"contact_email",label:"Email Address",type:"email",placeholder:"info@thequarterdeck.pk"},{key:"contact_phone",label:"Phone Number",type:"text",placeholder:"+92 51 1234567"},{key:"contact_address",label:"Physical Address",type:"textarea"},{key:"contact_hours",label:"Operating Hours",type:"text"}]},updates:{title:"Updates Section",description:"Construction updates and progress section.",fields:[{key:"updates_title",label:"Section Title",type:"text",placeholder:"Construction Updates"},{key:"updates_subtitle",label:"Section Subtitle",type:"textarea"},{key:"updates_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Roadmap"}]},gallery:{title:"Gallery Section",description:"Progress photos and renders section.",fields:[{key:"gallery_title",label:"Section Title",type:"text",placeholder:"Gallery & Progress Photos"},{key:"gallery_subtitle",label:"Section Subtitle",type:"textarea"},{key:"gallery_cta",label:"CTA Button Text",type:"text",placeholder:"View Full Gallery"}]},careers:{title:"Careers Page",description:"Content for the careers/jobs section.",fields:[{key:"careers_title",label:"Page Title",type:"text",placeholder:"Join Our Team"},{key:"careers_subtitle",label:"Page Subtitle",type:"textarea"},{key:"careers_cta",label:"CTA Button Text",type:"text",placeholder:"View Open Positions"}]},rules:{title:"Rules Page",description:"Club rules and etiquette content.",fields:[{key:"rules_title",label:"Page Title",type:"text",placeholder:"Club Rules & Etiquette"},{key:"rules_subtitle",label:"Page Subtitle",type:"textarea"},{key:"rules_cta",label:"CTA Button Text",type:"text",placeholder:"View All Rules"}]},events:{title:"Events Page",description:"Content for events and programs section.",fields:[{key:"events_title",label:"Page Title",type:"text",placeholder:"Events & Programs"},{key:"events_subtitle",label:"Page Subtitle",type:"textarea"}]},leaderboard:{title:"Leaderboard Page",description:"Content for the leaderboard section.",fields:[{key:"leaderboard_title",label:"Page Title",type:"text",placeholder:"Leaderboard"},{key:"leaderboard_subtitle",label:"Page Subtitle",type:"textarea"}]},coming_soon:{title:"Coming Soon Page",description:"Content for the pre-launch Coming Soon page.",fields:[{key:"coming_soon_title",label:"Page Title",type:"text",placeholder:"Something Amazing Is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",type:"textarea"},{key:"coming_soon_description",label:"Description",type:"textarea"},{key:"coming_soon_cta",label:"CTA Button Text",type:"text",placeholder:"Join the Waitlist"},{key:"coming_soon_launch_date",label:"Launch Date",type:"date"},{key:"coming_soon_location",label:"Location Text",type:"text"}]},social:{title:"Social Media Links",description:"Social media profile URLs.",fields:[{key:"social_facebook",label:"Facebook URL",type:"text"},{key:"social_instagram",label:"Instagram URL",type:"text"},{key:"social_twitter",label:"Twitter/X URL",type:"text"},{key:"social_linkedin",label:"LinkedIn URL",type:"text"},{key:"social_youtube",label:"YouTube URL",type:"text"}]},footer:{title:"Footer Content",description:"Footer text and copyright information.",fields:[{key:"footer_tagline",label:"Tagline",type:"text"},{key:"footer_copyright",label:"Copyright Text",type:"text"},{key:"footer_disclaimer",label:"Disclaimer Text",type:"textarea"}]},visibility:{title:"Section Visibility & Order",description:"Control which sections are displayed on the homepage and their display order.",fields:[]}},I$e=[{key:"section_construction_status_visible",orderKey:"section_construction_status_order",label:"Construction Status Panel",description:"Hero section construction progress card",defaultOrder:0},{key:"section_about_visible",orderKey:"section_about_order",label:"About Section",description:"Vision, philosophy and team info",defaultOrder:1},{key:"section_facilities_visible",orderKey:"section_facilities_order",label:"Facilities Section",description:"Sports facility cards",defaultOrder:2},{key:"section_updates_visible",orderKey:"section_updates_order",label:"Construction Updates",description:"Progress timeline and milestones",defaultOrder:3},{key:"section_gallery_visible",orderKey:"section_gallery_order",label:"Gallery Section",description:"Photo gallery preview",defaultOrder:4},{key:"section_membership_visible",orderKey:"section_membership_order",label:"Membership Section",description:"Membership tiers and pricing",defaultOrder:5},{key:"section_rules_visible",orderKey:"section_rules_order",label:"Rules Section",description:"Club rules and safety",defaultOrder:6},{key:"section_careers_visible",orderKey:"section_careers_order",label:"Careers Section",description:"Job openings preview",defaultOrder:7}];function R$e(){const{toast:e}=mt(),[t,r]=x.useState({}),[n,a]=x.useState(new Set),[i,o]=x.useState(new Set),{data:l,isLoading:c}=de({queryKey:["/api/admin/cms"]});x.useEffect(()=>{if(l){const v={};l.forEach(g=>{v[g.key]=g.content||""}),r(g=>({...v,...g}))}},[l]);const u=be({mutationFn:async v=>await ye("POST","/api/admin/cms",{key:v.key,title:v.title,content:v.content}),onSuccess:(v,g)=>{re.invalidateQueries({queryKey:["/api/admin/cms"]}),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),a(w=>{const N=new Set(w);return N.delete(g.key),N}),o(w=>new Set(w).add(g.key)),setTimeout(()=>{o(w=>{const N=new Set(w);return N.delete(g.key),N})},2e3),e({title:"Content saved successfully"})},onError:(v,g)=>{a(w=>{const N=new Set(w);return N.delete(g.key),N}),e({title:"Failed to save content",variant:"destructive"})}}),d=v=>{const g=l==null?void 0:l.find(w=>w.key===v);return(g==null?void 0:g.content)??void 0},f=v=>Ae[v]||"",h=v=>{const g=d(v);return g!==void 0&&g!==""},p=v=>{const g=d(v)||"",w=t[v];return w!==void 0&&w!==g},y=(v,g)=>{r(w=>({...w,[v]:g}))},m=(v,g)=>{const w=t[v]??d(v)??"";a(N=>new Set(N).add(v)),u.mutate({key:v,content:w,title:g})},j=v=>{i1[v].fields.forEach(w=>{((t[w.key]??d(w.key)??"")||p(w.key))&&m(w.key,w.label)})},b=v=>{const g=f(v);r(w=>({...w,[v]:g}))};return c?s.jsx(st,{title:"Site Content",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(st,{title:"Site Content",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(se,{children:[s.jsx(Be,{children:s.jsx(We,{children:"Edit Site Content"})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vA,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Saved in database"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ts,{className:"w-4 h-4 text-amber-600"}),s.jsx("span",{className:"text-sm",children:"Using default value"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Unsaved changes"})]})]}),s.jsxs(Vs,{defaultValue:"hero",className:"w-full",children:[s.jsx(ws,{className:"flex flex-wrap h-auto gap-1 mb-6",children:Object.entries(i1).map(([v,g])=>s.jsx(Lt,{value:v,className:"text-xs","data-testid":`tab-${v}`,children:g.title},v))}),Object.entries(i1).map(([v,g])=>s.jsxs(Ft,{value:v,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),v!=="visibility"&&s.jsxs($,{variant:"outline",onClick:()=>j(v),"data-testid":`button-save-all-${v}`,children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})]}),v==="visibility"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Toggle sections on or off and set their display order on the homepage. Lower numbers appear first. Changes are saved automatically."}),I$e.slice().sort((w,N)=>{const _=parseInt(t[w.orderKey]??d(w.orderKey)??String(w.defaultOrder),10),S=parseInt(t[N.orderKey]??d(N.orderKey)??String(N.defaultOrder),10);return _-S}).map(w=>{const N=d(w.key),_=(t[w.key]??N??"true").toLowerCase()==="true",S=n.has(w.key)||n.has(w.orderKey),C=i.has(w.key)||i.has(w.orderKey),P=t[w.orderKey]??d(w.orderKey)??String(w.defaultOrder);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[_?s.jsx(as,{className:"w-5 h-5 text-green-600 shrink-0"}):s.jsx(eo,{className:"w-5 h-5 text-muted-foreground shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(z,{htmlFor:w.key,className:"font-medium cursor-pointer",children:w.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{htmlFor:w.orderKey,className:"text-xs text-muted-foreground whitespace-nowrap",children:"Order:"}),s.jsx(X,{id:w.orderKey,type:"number",min:"1",max:"10",className:"w-16 text-center",value:P,onChange:k=>{const A=k.target.value;r(O=>({...O,[w.orderKey]:A}))},onBlur:()=>{const k=t[w.orderKey]??String(w.defaultOrder);a(A=>new Set(A).add(w.orderKey)),u.mutate({key:w.orderKey,content:k,title:`${w.label} Order`})},"data-testid":`input-${w.orderKey}`})]}),C&&s.jsxs(ue,{className:"bg-green-500 text-xs",children:[s.jsx(Tm,{className:"w-3 h-3 mr-1"}),"Saved"]}),S&&s.jsx(Ie,{className:"w-4 h-4 animate-spin"}),s.jsx(Qt,{id:w.key,checked:_,onCheckedChange:k=>{const A=k?"true":"false";r(O=>({...O,[w.key]:A})),a(O=>new Set(O).add(w.key)),u.mutate({key:w.key,content:A,title:w.label})},disabled:S,"data-testid":`toggle-${w.key}`})]})]},w.key)})]}):s.jsx("div",{className:"space-y-6",children:g.fields.map(w=>{const N=d(w.key),_=f(w.key),S=t[w.key]??N??"",C=h(w.key),P=p(w.key);return s.jsxs("div",{className:"space-y-2 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{htmlFor:w.key,className:"font-medium",children:w.label}),i.has(w.key)?s.jsxs(ue,{className:"bg-green-500 text-xs",children:[s.jsx(Tm,{className:"w-3 h-3 mr-1"}),"Saved"]}):P?s.jsxs(ue,{variant:"outline",className:"text-blue-600 border-blue-600 text-xs",children:[s.jsx(Tn,{className:"w-3 h-3 mr-1"}),"Unsaved"]}):C?s.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600 text-xs",children:[s.jsx(vA,{className:"w-3 h-3 mr-1"}),"Database"]}):_?s.jsxs(ue,{variant:"outline",className:"text-amber-600 border-amber-600 text-xs",children:[s.jsx(ts,{className:"w-3 h-3 mr-1"}),"Default"]}):null]}),s.jsxs("div",{className:"flex items-center gap-1",children:[_&&!C&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>b(w.key),className:"text-xs",title:"Use default value",children:"Reset"}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>m(w.key,w.label),disabled:n.has(w.key),"data-testid":`button-save-${w.key}`,children:n.has(w.key)?s.jsx(Ie,{className:"w-4 h-4 animate-spin"}):s.jsx(nr,{className:"w-4 h-4"})})]})]}),_&&!C&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded border-l-2 border-amber-500",children:[s.jsx("span",{className:"font-medium",children:"Currently showing on website: "}),s.jsx("span",{className:"italic",children:_.length>150?_.substring(0,150)+"...":_})]}),w.type==="textarea"?s.jsx(ct,{id:w.key,value:S,onChange:k=>y(w.key,k.target.value),placeholder:w.placeholder||_||"Enter content...",rows:4,className:P?"border-blue-500":"","data-testid":`input-${w.key}`}):s.jsx(X,{id:w.key,type:w.type==="date"?"date":w.type==="email"?"email":"text",value:S,onChange:k=>y(w.key,k.target.value),placeholder:w.placeholder||_||"Enter content...",className:P?"border-blue-500":"","data-testid":`input-${w.key}`})]},w.key)})})]},v))]})]})]})})})}const OM=[{key:"coming_soon_launch_date",label:"Launch Date",description:"The countdown timer on the Coming Soon page counts down to this date",type:"date",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_launch_date||"2025-12-25"},{key:"coming_soon_title",label:"Main Title",description:"The large heading on the Coming Soon page",type:"text",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_title||"Something Extraordinary is Coming"},{key:"coming_soon_subtitle",label:"Subtitle",description:"The description text below the main title",type:"textarea",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_subtitle||"Premium sports and recreation complex launching soon in Islamabad"},{key:"coming_soon_location",label:"Location",description:"The location displayed at the bottom of the page",type:"text",pageRef:"/coming-soon",defaultValue:Ae.coming_soon_location||"Sector F-7, Islamabad"},{key:"hero_eyebrow",label:"Launch Badge Text",description:"The small badge text shown above the countdown (e.g., 'Target Launch: Q4 2025')",type:"text",pageRef:"/coming-soon",defaultValue:Ae.hero_eyebrow||"Target Launch: Q4 2025"}];function M$e(){const{toast:e}=mt(),[t,r]=x.useState({}),[n,a]=x.useState(new Set),{data:i,isLoading:o}=de({queryKey:["/api/cms/bulk"]}),{data:l,isLoading:c}=de({queryKey:["/api/admin/site-settings"]});x.useEffect(()=>{if(!o&&!c){const b={};OM.forEach(v=>{const g=i==null?void 0:i.find(N=>N.key===v.key),w=l==null?void 0:l.find(N=>N.key===v.key);b[v.key]=(g==null?void 0:g.content)||(w==null?void 0:w.value)||v.defaultValue}),r(b)}},[i,l,o,c]);const u=be({mutationFn:async({key:b,value:v})=>await ye("POST","/api/admin/cms",{key:b,content:v}),onSuccess:(b,v)=>{re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(g=>{const w=new Set(g);return w.delete(v.key),w}),e({title:"Setting saved successfully"})},onError:()=>{e({title:"Failed to save setting",variant:"destructive"})}}),d=(b,v)=>{r(g=>({...g,[b]:v})),a(g=>new Set(g).add(b))},f=b=>{u.mutate({key:b,value:t[b]})},h=async()=>{const b=Array.from(n).map(v=>ye("POST","/api/admin/cms",{key:v,content:t[v]}));try{await Promise.all(b),re.invalidateQueries({queryKey:["/api/cms/bulk"]}),re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),a(new Set),e({title:"All changes saved successfully"})}catch{e({title:"Failed to save some settings",variant:"destructive"})}},p=b=>{if(n.has(b))return"edited";const v=i==null?void 0:i.find(w=>w.key===b),g=l==null?void 0:l.find(w=>w.key===b);return v||g?"database":"default"},y=b=>{switch(b){case"database":return s.jsx(ue,{className:"bg-green-500 text-xs",children:"From Database"});case"edited":return s.jsx(ue,{className:"bg-amber-500 text-xs",children:"Edited (Unsaved)"});default:return s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Using Default"})}},m=t.coming_soon_launch_date?new Date(t.coming_soon_launch_date):new Date("2025-12-25"),j=rne(m,new Date);return o||c?s.jsx(st,{title:"Coming Soon Page",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Coming Soon Page",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage the Coming Soon page content and countdown timer."}),s.jsxs("a",{href:"/coming-soon",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(as,{className:"w-3 h-3"})," View Coming Soon Page",s.jsx(Zi,{className:"w-3 h-3"})]})]}),n.size>0&&s.jsxs($,{onClick:h,"data-testid":"button-save-all-coming-soon",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"})," Save All Changes (",n.size,")"]})]}),s.jsxs(se,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"w-5 h-5"}),"Countdown Status"]}),s.jsx(It,{children:"Current countdown configuration"})]}),s.jsx(ae,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:j}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Until Launch"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:rs(m,"MMMM d, yyyy")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Launch Date"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-background",children:[s.jsx("div",{className:"text-xl font-semibold",children:j>0?"Counting Down":"Launched!"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]})})]}),s.jsx("div",{className:"grid gap-6",children:OM.map(b=>{const v=p(b.key);return s.jsxs(se,{children:[s.jsx(Be,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs(We,{className:"text-base flex items-center gap-2",children:[b.label,y(v)]}),s.jsx(It,{className:"mt-1",children:b.description})]}),s.jsxs("a",{href:b.pageRef,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary flex items-center gap-1 hover:underline whitespace-nowrap",children:["View on site ",s.jsx(Zi,{className:"w-3 h-3"})]})]})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex gap-3",children:[b.type==="textarea"?s.jsx(ct,{value:t[b.key]||"",onChange:g=>d(b.key,g.target.value),rows:3,className:"flex-1","data-testid":`input-${b.key}`}):b.type==="date"?s.jsx(X,{type:"date",value:t[b.key]||"",onChange:g=>d(b.key,g.target.value),className:"flex-1","data-testid":`input-${b.key}`}):s.jsx(X,{value:t[b.key]||"",onChange:g=>d(b.key,g.target.value),className:"flex-1","data-testid":`input-${b.key}`}),s.jsx($,{variant:"outline",onClick:()=>f(b.key),disabled:!n.has(b.key)||u.isPending,"data-testid":`button-save-${b.key}`,children:s.jsx(nr,{className:"w-4 h-4"})})]}),b.key==="coming_soon_launch_date"&&t[b.key]&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Formatted: ",rs(new Date(t[b.key]),"EEEE, MMMM d, yyyy")]})]})]},b.key)})})]})})}function $$e(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState("details"),[l,c]=x.useState(!1),[u,d]=x.useState(null),f=x.useRef(null),[h,p]=x.useState({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),[y,m]=x.useState({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""}),[j,b]=x.useState({label:"",price:0,icon:""}),[v,g]=x.useState(null),{data:w,isLoading:N}=de({queryKey:["/api/admin/facilities"]}),{data:_}=de({queryKey:["/api/admin/venues"]}),{data:S,refetch:C}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"venues"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const q=await fetch(`/api/admin/facilities/${t.id}/venues`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch");return q.json()},enabled:!!(t!=null&&t.id)}),{data:P,refetch:k}=de({queryKey:["/api/admin/facilities",t==null?void 0:t.id,"addons"],queryFn:async()=>{if(!(t!=null&&t.id))return[];const q=await fetch(`/api/admin/facilities/${t.id}/addons`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch");return q.json()},enabled:!!(t!=null&&t.id)}),A=be({mutationFn:async q=>await ye("POST","/api/admin/facilities",q),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility created successfully"}),a(!1),G()},onError:()=>{e({title:"Failed to create facility",variant:"destructive"})}}),O=be({mutationFn:async({id:q,data:xe})=>await ye("PATCH",`/api/admin/facilities/${q}`,xe),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility updated successfully"}),a(!1),r(null),G()},onError:()=>{e({title:"Failed to update facility",variant:"destructive"})}}),R=be({mutationFn:async q=>await ye("DELETE",`/api/admin/facilities/${q}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/facilities"]}),e({title:"Facility deleted successfully"})},onError:()=>{e({title:"Failed to delete facility",variant:"destructive"})}}),M=be({mutationFn:async q=>await ye("POST",`/api/admin/facilities/${q.facilityId}/venues`,q),onSuccess:()=>{C(),e({title:"Venue added to facility"}),I()},onError:()=>{e({title:"Failed to add venue",variant:"destructive"})}}),L=be({mutationFn:async({id:q,data:xe})=>await ye("PATCH",`/api/admin/facility-venues/${q}`,xe),onSuccess:()=>{C(),e({title:"Venue settings updated"})},onError:()=>{e({title:"Failed to update venue settings",variant:"destructive"})}}),T=be({mutationFn:async q=>await ye("DELETE",`/api/admin/facility-venues/${q}`),onSuccess:()=>{C(),e({title:"Venue removed from facility"})},onError:()=>{e({title:"Failed to remove venue",variant:"destructive"})}}),W=be({mutationFn:async q=>await ye("POST",`/api/admin/facilities/${q.facilityId}/addons`,q),onSuccess:()=>{k(),e({title:"Add-on created successfully"}),Y()},onError:()=>{e({title:"Failed to create add-on",variant:"destructive"})}}),E=be({mutationFn:async({id:q,data:xe})=>await ye("PATCH",`/api/admin/facility-addons/${q}`,xe),onSuccess:()=>{k(),e({title:"Add-on updated successfully"}),Y()},onError:()=>{e({title:"Failed to update add-on",variant:"destructive"})}}),D=be({mutationFn:async q=>await ye("DELETE",`/api/admin/facility-addons/${q}`),onSuccess:()=>{k(),e({title:"Add-on deleted successfully"})},onError:()=>{e({title:"Failed to delete add-on",variant:"destructive"})}}),G=()=>{p({slug:"",name:"",description:"",category:"",basePrice:0,minPlayers:1,resourceCount:1,requiresCertification:!1,isRestricted:!1,isHidden:!1,status:"PLANNED",imageUrl:"",aboutContent:"",features:[],amenities:[],keywords:[],quickInfo:{},pricingNotes:"",certificationInfo:"",galleryImages:[],howToPlayContent:"",scoringRulesContent:"",winningCriteriaContent:"",pointsSystemContent:""}),o("details"),d(null),f.current&&(f.current.value="")},J=async q=>{var tt;const xe=(tt=q.target.files)==null?void 0:tt[0];if(xe){if(!["image/jpeg","image/png","image/webp"].includes(xe.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(xe.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const at=new FormData;at.append("image",xe);const ft=await fetch("/api/admin/upload",{method:"POST",body:at,credentials:"include"});if(!ft.ok){let $t="Upload failed";try{$t=(await ft.json()).message||$t}catch{$t=ft.statusText||$t}throw new Error($t)}const Wt=await ft.json();d({name:xe.name,url:Wt.imageUrl}),p($t=>({...$t,imageUrl:Wt.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(at){e({title:"Upload failed",description:at.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1)}}},I=()=>{m({venueId:"",status:"PLANNED",resourceCount:1,priceOverride:""})},Y=()=>{b({label:"",price:0,icon:""}),g(null)},V=()=>{t&&(v?E.mutate({id:v.id,data:j}):W.mutate({facilityId:t.id,...j}))},ee=q=>{g(q),b({label:q.label,price:q.price,icon:q.icon||""})},pe=q=>{r(q),p({slug:q.slug,name:q.name,description:q.description||"",category:q.category||"",basePrice:q.basePrice,minPlayers:q.minPlayers||1,resourceCount:q.resourceCount||1,requiresCertification:q.requiresCertification||!1,isRestricted:q.isRestricted||!1,isHidden:q.isHidden||!1,status:q.status||"PLANNED",imageUrl:q.imageUrl||"",aboutContent:q.aboutContent||"",features:Array.isArray(q.features)?q.features:[],amenities:Array.isArray(q.amenities)?q.amenities:[],keywords:Array.isArray(q.keywords)?q.keywords:[],quickInfo:q.quickInfo&&typeof q.quickInfo=="object"&&!Array.isArray(q.quickInfo)?q.quickInfo:{},pricingNotes:q.pricingNotes||"",certificationInfo:q.certificationInfo||"",galleryImages:Array.isArray(q.galleryImages)?q.galleryImages:[],howToPlayContent:q.howToPlayContent||"",scoringRulesContent:q.scoringRulesContent||"",winningCriteriaContent:q.winningCriteriaContent||"",pointsSystemContent:q.pointsSystemContent||""}),o("details"),a(!0)},te=()=>{t?O.mutate({id:t.id,data:h}):A.mutate(h)},ve=()=>{!t||!y.venueId||M.mutate({facilityId:t.id,venueId:y.venueId,status:y.status,resourceCount:y.resourceCount,priceOverride:y.priceOverride?parseInt(y.priceOverride):null})},ie=q=>{switch(q){case"ACTIVE":return s.jsx(ue,{className:"bg-green-500",children:"Active"});case"OPENING_SOON":return s.jsx(ue,{className:"bg-amber-500",children:"Opening Soon"});case"COMING_SOON":return s.jsx(ue,{className:"bg-amber-500",children:"Coming Soon"});case"PLANNED":default:return s.jsx(ue,{variant:"secondary",children:"Planned"})}},B=q=>{const xe=_==null?void 0:_.find(tt=>tt.id===q);return(xe==null?void 0:xe.name)||"Unknown Venue"},me=(S==null?void 0:S.map(q=>q.venueId))||[],Q=(_==null?void 0:_.filter(q=>!me.includes(q.id)))||[];return N?s.jsx(st,{title:"Facilities",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Facilities",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facilities available for booking at The Quarterdeck."}),s.jsxs(yt,{open:n,onOpenChange:q=>{a(q),q||(r(null),G())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-facility",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Facility"]})}),s.jsxs(vt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Facility":"Add New Facility"})}),s.jsxs(Vs,{value:i,onValueChange:o,children:[s.jsxs(ws,{className:"grid w-full grid-cols-4",children:[s.jsxs(Lt,{value:"details",className:"flex items-center gap-2",children:[s.jsx(Hk,{className:"w-4 h-4"}),"Details"]}),s.jsxs(Lt,{value:"content",className:"flex items-center gap-2",children:[s.jsx(ts,{className:"w-4 h-4"}),"Content"]}),s.jsxs(Lt,{value:"venues",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(js,{className:"w-4 h-4"}),"Venues",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]}),s.jsxs(Lt,{value:"addons",className:"flex items-center gap-2",disabled:!t,children:[s.jsx(PQ,{className:"w-4 h-4"}),"Add-ons",!t&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Save first)"})]})]}),s.jsxs(Ft,{value:"details",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"name",children:"Name"}),s.jsx(X,{id:"name",value:h.name,onChange:q=>p({...h,name:q.target.value}),"data-testid":"input-facility-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(X,{id:"slug",value:h.slug,onChange:q=>p({...h,slug:q.target.value}),"data-testid":"input-facility-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:h.description,onChange:q=>p({...h,description:q.target.value}),rows:3,"data-testid":"input-facility-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"category",children:"Category"}),s.jsx(X,{id:"category",value:h.category,onChange:q=>p({...h,category:q.target.value}),placeholder:"e.g., Indoor Court, Precision Sport","data-testid":"input-facility-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"status",children:"Default Status"}),s.jsxs(kt,{value:h.status,onValueChange:q=>p({...h,status:q}),children:[s.jsx(Nt,{"data-testid":"select-facility-status",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"PLANNED",children:"Planned"}),s.jsx(Se,{value:"OPENING_SOON",children:"Opening Soon"}),s.jsx(Se,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"basePrice",children:"Base Price (PKR)"}),s.jsx(X,{id:"basePrice",type:"number",value:h.basePrice,onChange:q=>p({...h,basePrice:parseInt(q.target.value)||0}),"data-testid":"input-facility-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"minPlayers",children:"Min Players"}),s.jsx(X,{id:"minPlayers",type:"number",value:h.minPlayers,onChange:q=>p({...h,minPlayers:parseInt(q.target.value)||1}),"data-testid":"input-facility-min-players"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"resourceCount",children:"Default Resource Count"}),s.jsx(X,{id:"resourceCount",type:"number",value:h.resourceCount,onChange:q=>p({...h,resourceCount:parseInt(q.target.value)||1}),"data-testid":"input-facility-resource-count"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Facility Image"}),s.jsxs("div",{className:"border rounded-md p-3 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:J,className:"hidden","data-testid":"input-facility-image-file"}),s.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>{var q;return(q=f.current)==null?void 0:q.click()},disabled:l,"data-testid":"button-upload-facility-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Upload"]})}),s.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"or"}),s.jsx(X,{id:"imageUrl",value:h.imageUrl,onChange:q=>p({...h,imageUrl:q.target.value}),placeholder:"Enter image URL...",className:"flex-1","data-testid":"input-facility-image-url"})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(Sn,{className:"w-4 h-4"}),u.name]}),h.imageUrl&&s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-full h-24 object-cover",onError:q=>{q.target.style.display="none"}})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"requiresCertification",checked:h.requiresCertification,onCheckedChange:q=>p({...h,requiresCertification:q})}),s.jsx(z,{htmlFor:"requiresCertification",children:"Requires Certification"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isRestricted",checked:h.isRestricted,onCheckedChange:q=>p({...h,isRestricted:q})}),s.jsx(z,{htmlFor:"isRestricted",children:"Restricted Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isHidden",checked:h.isHidden,onCheckedChange:q=>p({...h,isHidden:q}),"data-testid":"switch-is-hidden"}),s.jsx(z,{htmlFor:"isHidden",children:"Hide from Public"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:te,disabled:A.isPending||O.isPending,"data-testid":"button-save-facility",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsxs(Ft,{value:"content",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"aboutContent",children:"About / Extended Description"}),s.jsx(ct,{id:"aboutContent",value:h.aboutContent,onChange:q=>p({...h,aboutContent:q.target.value}),placeholder:"Detailed information about the facility...",rows:4,"data-testid":"input-about-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Features (one per line)"}),s.jsx(ct,{value:(h.features||[]).join(`
`),onChange:q=>p({...h,features:q.target.value.split(`
`).filter(xe=>xe.trim())}),placeholder:`Professional lighting
Climate controlled
Premium equipment`,rows:4,"data-testid":"input-features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each feature on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Amenities (one per line)"}),s.jsx(ct,{value:(h.amenities||[]).join(`
`),onChange:q=>p({...h,amenities:q.target.value.split(`
`).filter(xe=>xe.trim())}),placeholder:`Changing rooms
Shower facilities
Equipment rental`,rows:4,"data-testid":"input-amenities"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter each amenity on a new line"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Keywords (comma-separated)"}),s.jsx(X,{value:(h.keywords||[]).join(", "),onChange:q=>p({...h,keywords:q.target.value.split(",").map(xe=>xe.trim()).filter(xe=>xe)}),placeholder:"padel, tennis, racquet sports, indoor","data-testid":"input-keywords"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for SEO and search"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Quick Info (key: value pairs, one per line)"}),s.jsx(ct,{value:Object.entries(h.quickInfo||{}).map(([q,xe])=>`${q}: ${xe}`).join(`
`),onChange:q=>{const xe={};q.target.value.split(`
`).forEach(tt=>{const at=tt.indexOf(":");if(at>0){const ft=tt.substring(0,at).trim(),Wt=tt.substring(at+1).trim();ft&&(xe[ft]=Wt)}}),p({...h,quickInfo:xe})},placeholder:`Hours: 6AM - 11PM
Courts: 4
Surface: Artificial Turf`,rows:4,"data-testid":"input-quick-info"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Key: Value (one per line). These appear in the Quick Info sidebar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"pricingNotes",children:"Pricing Notes"}),s.jsx(ct,{id:"pricingNotes",value:h.pricingNotes,onChange:q=>p({...h,pricingNotes:q.target.value}),placeholder:"Special pricing conditions, discounts, or package information...",rows:3,"data-testid":"input-pricing-notes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"certificationInfo",children:"Certification Requirements"}),s.jsx(ct,{id:"certificationInfo",value:h.certificationInfo,onChange:q=>p({...h,certificationInfo:q.target.value}),placeholder:"Required certifications, safety training, or prerequisites...",rows:3,"data-testid":"input-certification-info"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Gallery Images (URLs, one per line)"}),s.jsx(ct,{value:(h.galleryImages||[]).join(`
`),onChange:q=>p({...h,galleryImages:q.target.value.split(`
`).filter(xe=>xe.trim())}),placeholder:`/uploads/facility1.jpg
/uploads/facility2.jpg`,rows:3,"data-testid":"input-gallery-images"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Educational Content"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Help players understand the sport with detailed guides."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"howToPlayContent",children:"How To Play"}),s.jsx(ct,{id:"howToPlayContent",value:h.howToPlayContent,onChange:q=>p({...h,howToPlayContent:q.target.value}),placeholder:"Explain how the sport/game is played, basic rules, court layout, equipment needed...",rows:5,"data-testid":"input-how-to-play"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the basics of how to play this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"scoringRulesContent",children:"Scoring Rules"}),s.jsx(ct,{id:"scoringRulesContent",value:h.scoringRulesContent,onChange:q=>p({...h,scoringRulesContent:q.target.value}),placeholder:"Explain how points are scored, game structure (sets, games), point values...",rows:5,"data-testid":"input-scoring-rules"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how scoring works in this sport."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"winningCriteriaContent",children:"Winning Criteria"}),s.jsx(ct,{id:"winningCriteriaContent",value:h.winningCriteriaContent,onChange:q=>p({...h,winningCriteriaContent:q.target.value}),placeholder:"Explain how to determine the winner, tiebreakers, match formats...",rows:5,"data-testid":"input-winning-criteria"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe how winners are determined."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"pointsSystemContent",children:"Points & Ranking System"}),s.jsx(ct,{id:"pointsSystemContent",value:h.pointsSystemContent,onChange:q=>p({...h,pointsSystemContent:q.target.value}),placeholder:"Explain how leaderboard points are awarded, ranking system, tournament points...",rows:5,"data-testid":"input-points-system"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the points and ranking system at The Quarterdeck."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:te,disabled:A.isPending||O.isPending,"data-testid":"button-save-facility-content",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]}),s.jsx(Ft,{value:"venues",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Venue"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Venue"}),s.jsxs(kt,{value:y.venueId,onValueChange:q=>m({...y,venueId:q}),children:[s.jsx(Nt,{"data-testid":"select-venue",children:s.jsx(Ct,{placeholder:"Select venue..."})}),s.jsx(_t,{children:Q.length===0?s.jsx(Se,{value:"none",disabled:!0,children:"No venues available"}):Q.map(q=>s.jsxs(Se,{value:q.id,children:[q.name," (",q.city,")"]},q.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Status at Venue"}),s.jsxs(kt,{value:y.status,onValueChange:q=>m({...y,status:q}),children:[s.jsx(Nt,{"data-testid":"select-venue-status",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"PLANNED",children:"Planned"}),s.jsx(Se,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(Se,{value:"ACTIVE",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Resource Count at Venue"}),s.jsx(X,{type:"number",value:y.resourceCount,onChange:q=>m({...y,resourceCount:parseInt(q.target.value)||1}),"data-testid":"input-venue-resource-count"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Price Override (PKR)"}),s.jsx(X,{type:"number",value:y.priceOverride,onChange:q=>m({...y,priceOverride:q.target.value}),placeholder:`Leave empty to use base price (${h.basePrice})`,"data-testid":"input-venue-price-override"})]})]}),s.jsxs($,{onClick:ve,disabled:!y.venueId||M.isPending,"data-testid":"button-add-venue",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Assigned Venues"}),!S||S.length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No venues assigned to this facility yet. Add a venue above to configure venue-specific settings."}):s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Venue"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{children:"Resources"}),s.jsx(ce,{children:"Price"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:S.map(q=>s.jsxs(Ze,{"data-testid":`row-venue-${q.id}`,children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{className:"w-4 h-4 text-muted-foreground"}),B(q.venueId)]})}),s.jsx(ne,{children:s.jsxs(kt,{value:q.status||"PLANNED",onValueChange:xe=>L.mutate({id:q.id,data:{status:xe}}),children:[s.jsx(Nt,{className:"w-32","data-testid":`select-fv-status-${q.id}`,children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"PLANNED",children:"Planned"}),s.jsx(Se,{value:"COMING_SOON",children:"Coming Soon"}),s.jsx(Se,{value:"ACTIVE",children:"Active"})]})]})}),s.jsx(ne,{children:s.jsx(X,{type:"number",className:"w-20",value:q.resourceCount||1,onChange:xe=>L.mutate({id:q.id,data:{resourceCount:parseInt(xe.target.value)||1}}),"data-testid":`input-fv-resources-${q.id}`})}),s.jsx(ne,{children:s.jsx(X,{type:"number",className:"w-28",value:q.priceOverride||"",placeholder:h.basePrice.toString(),onChange:xe=>L.mutate({id:q.id,data:{priceOverride:xe.target.value?parseInt(xe.target.value):null}}),"data-testid":`input-fv-price-${q.id}`})}),s.jsx(ne,{className:"text-right",children:s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Remove this venue from the facility?")&&T.mutate(q.id)},"data-testid":`button-remove-venue-${q.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})})]},q.id))})]})]})]})}),s.jsx(Ft,{value:"addons",className:"space-y-4 py-4",children:t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:v?"Edit Add-on":"Add New Add-on"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Label"}),s.jsx(X,{value:j.label,onChange:q=>b({...j,label:q.target.value}),placeholder:"e.g., Equipment Rental","data-testid":"input-addon-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Price (PKR)"}),s.jsx(X,{type:"number",value:j.price,onChange:q=>b({...j,price:parseInt(q.target.value)||0}),placeholder:"0","data-testid":"input-addon-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Icon (optional)"}),s.jsx(X,{value:j.icon,onChange:q=>b({...j,icon:q.target.value}),placeholder:"e.g., Target, Coffee","data-testid":"input-addon-icon"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{onClick:V,disabled:!j.label||W.isPending||E.isPending,"data-testid":"button-save-addon",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),v?"Update Add-on":"Add Add-on"]}),v&&s.jsx($,{variant:"outline",onClick:Y,children:"Cancel"})]})]}),s.jsxs("div",{className:"rounded-lg border",children:[s.jsx("h4",{className:"font-medium p-4 border-b",children:"Facility Add-ons"}),!P||P.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No add-ons configured for this facility yet."}):s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Label"}),s.jsx(ce,{children:"Price"}),s.jsx(ce,{children:"Icon"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:P.map(q=>s.jsxs(Ze,{"data-testid":`row-addon-${q.id}`,children:[s.jsx(ne,{className:"font-medium",children:q.label}),s.jsxs(ne,{children:["PKR ",q.price.toLocaleString()]}),s.jsx(ne,{children:q.icon||"-"}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>ee(q),"data-testid":`button-edit-addon-${q.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this add-on?")&&D.mutate(q.id)},"data-testid":`button-delete-addon-${q.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},q.id))})]})]})]})})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Name"}),s.jsx(ce,{children:"Category"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{children:"Base Price"}),s.jsx(ce,{children:"Courts/Resources"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[w==null?void 0:w.map(q=>s.jsxs(Ze,{"data-testid":`row-facility-${q.id}`,children:[s.jsx(ne,{className:"font-medium",children:q.name}),s.jsx(ne,{children:q.category||"-"}),s.jsx(ne,{children:ie(q.status)}),s.jsxs(ne,{children:["PKR ",q.basePrice.toLocaleString()]}),s.jsx(ne,{children:q.resourceCount}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>pe(q),"data-testid":`button-edit-facility-${q.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this facility?")&&R.mutate(q.id)},"data-testid":`button-delete-facility-${q.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},q.id)),(!w||w.length===0)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No facilities found. Add your first facility to get started."})})]})]})})})]})})}function D$e(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...y}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,j=x.useMemo(()=>y,Object.values(y));return s.jsx(m.Provider,{value:j,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=x.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,L$e(a,...t)]}function L$e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var F$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N7=F$e.reduce((e,t)=>{const r=Lb(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_P="Progress",SP=100,[U$e]=D$e(_P),[B$e,V$e]=U$e(_P),_7=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=q$e,...o}=e;(a||a===0)&&!TM(a)&&console.error(z$e(`${a}`,"Progress"));const l=TM(a)?a:SP;n!==null&&!IM(n,l)&&console.error(W$e(`${n}`,"Progress"));const c=IM(n,l)?n:null,u=Xy(c)?i(c,l):void 0;return s.jsx(B$e,{scope:r,value:c,max:l,children:s.jsx(N7.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":C7(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});_7.displayName=_P;var S7="ProgressIndicator",k7=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=V$e(S7,r);return s.jsx(N7.div,{"data-state":C7(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});k7.displayName=S7;function q$e(e,t){return`${Math.round(e/t*100)}%`}function C7(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xy(e){return typeof e=="number"}function TM(e){return Xy(e)&&!isNaN(e)&&e>0}function IM(e,t){return Xy(e)&&!isNaN(e)&&e<=t&&e>=0}function z$e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${SP}\`.`}function W$e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${SP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var P7=_7,K$e=k7;const BS=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(P7,{ref:n,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(K$e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));BS.displayName=P7.displayName;function H$e(){const{toast:e}=mt(),[t,r]=x.useState(new Set),[n,a]=x.useState(null),[i,o]=x.useState({}),{data:l,isLoading:c}=de({queryKey:["/api/admin/construction-phases"]});x.useEffect(()=>{if(l){const m={};l.forEach(j=>{m[j.id]={...j}}),o(m)}},[l]);const u=be({mutationFn:async({id:m,data:j})=>{const b={...j,progress:j.progress!==void 0?Number(j.progress):void 0,isActive:j.status==="IN_PROGRESS",isComplete:j.status==="COMPLETE"||j.progress===100};return await ye("PATCH",`/api/admin/construction-phases/${m}`,b)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/construction-phases"]}),e({title:"Phase updated successfully"}),a(null)},onError:()=>{e({title:"Failed to update phase",variant:"destructive"})}}),d=(m,j,b)=>{o(v=>({...v,[m]:{...v[m],[j]:b}}))},f=m=>{u.mutate({id:m,data:i[m]})},h=m=>{switch(m){case"COMPLETE":return s.jsx(Sn,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return s.jsx(x3,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Bt,{className:"w-5 h-5 text-muted-foreground"})}},p=m=>{switch(m){case"COMPLETE":return s.jsx(ue,{className:"bg-green-500",children:"Complete"});case"IN_PROGRESS":return s.jsx(ue,{className:"bg-amber-500",children:"In Progress"});default:return s.jsx(ue,{variant:"secondary",children:"Not Started"})}},y=()=>{if(!l||l.length===0)return 0;const m=l.reduce((j,b)=>j+(b.progress||0),0);return Math.round(m/l.length)};return c?s.jsx(st,{title:"Construction Status",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Construction Status",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage construction phases and milestones. Changes automatically update the public roadmap."}),s.jsxs("a",{href:"/roadmap",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 mt-1 hover:underline",children:[s.jsx(as,{className:"w-3 h-3"})," View Public Roadmap",s.jsx(Zi,{className:"w-3 h-3"})]})]})}),s.jsxs(se,{className:"border-primary/20 bg-primary/5",children:[s.jsxs(Be,{children:[s.jsx(We,{children:"Overall Project Progress"}),s.jsx(It,{children:"Combined progress across all construction phases"})]}),s.jsx(ae,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold",children:[y(),"%"]}),s.jsxs("span",{className:"text-muted-foreground",children:[(l==null?void 0:l.filter(m=>m.status==="COMPLETE").length)||0," of ",(l==null?void 0:l.length)||0," phases complete"]})]}),s.jsx(BS,{value:y(),className:"h-3"})]})})]}),s.jsx("div",{className:"space-y-4",children:l==null?void 0:l.sort((m,j)=>(m.sortOrder||0)-(j.sortOrder||0)).map(m=>{const j=i[m.id]||m,b=n===m.id;return s.jsxs(se,{className:`transition-all ${b?"ring-2 ring-primary":""}`,children:[s.jsxs(Be,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(j.status),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[j.label,": ",j.title,p(j.status)]}),s.jsx(It,{children:j.timeframe||"No timeframe set"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-semibold",children:[j.progress||0,"%"]}),s.jsx($,{variant:b?"default":"outline",size:"sm",onClick:()=>a(b?null:m.id),"data-testid":`button-edit-phase-${m.id}`,children:b?"Cancel":"Edit"}),b&&s.jsxs($,{size:"sm",onClick:()=>f(m.id),disabled:u.isPending,"data-testid":`button-save-phase-${m.id}`,children:[s.jsx(nr,{className:"w-4 h-4 mr-1"})," Save"]})]})]}),s.jsx(BS,{value:j.progress||0,className:"mt-3"})]}),b&&s.jsxs(ae,{className:"border-t pt-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Phase Label"}),s.jsx(X,{value:j.label||"",onChange:v=>d(m.id,"label",v.target.value),"data-testid":`input-phase-label-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Phase Title"}),s.jsx(X,{value:j.title||"",onChange:v=>d(m.id,"title",v.target.value),"data-testid":`input-phase-title-${m.id}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Status"}),s.jsxs(kt,{value:j.status,onValueChange:v=>{const g=v==="COMPLETE"?100:v==="NOT_STARTED"?0:j.progress;d(m.id,"status",v),d(m.id,"progress",g),d(m.id,"isComplete",v==="COMPLETE"),d(m.id,"isActive",v==="IN_PROGRESS")},children:[s.jsx(Nt,{"data-testid":`select-phase-status-${m.id}`,children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"NOT_STARTED",children:"Not Started"}),s.jsx(Se,{value:"IN_PROGRESS",children:"In Progress"}),s.jsx(Se,{value:"COMPLETE",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Progress (%)"}),s.jsx(X,{type:"number",min:"0",max:"100",value:j.progress||0,onChange:v=>{const g=Math.min(100,Math.max(0,parseInt(v.target.value)||0));d(m.id,"progress",g),g===100?(d(m.id,"status","COMPLETE"),d(m.id,"isComplete",!0),d(m.id,"isActive",!1)):g>0?(d(m.id,"status","IN_PROGRESS"),d(m.id,"isComplete",!1),d(m.id,"isActive",!0)):(d(m.id,"status","NOT_STARTED"),d(m.id,"isComplete",!1),d(m.id,"isActive",!1))},"data-testid":`input-phase-progress-${m.id}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Timeframe"}),s.jsx(X,{value:j.timeframe||"",onChange:v=>d(m.id,"timeframe",v.target.value),placeholder:"e.g., March - August 2024","data-testid":`input-phase-timeframe-${m.id}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Milestones (one per line)"}),s.jsx(ct,{value:(j.milestones||[]).join(`
`),onChange:v=>d(m.id,"milestones",v.target.value.split(`
`).filter(g=>g.trim())),rows:4,placeholder:"Enter milestones, one per line","data-testid":`input-phase-milestones-${m.id}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix with [x] for completed milestones, [ ] for pending"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Highlights (one per line)"}),s.jsx(ct,{value:(j.highlights||[]).join(`
`),onChange:v=>d(m.id,"highlights",v.target.value.split(`
`).filter(g=>g.trim())),rows:2,placeholder:"Key achievements or notes","data-testid":`input-phase-highlights-${m.id}`})]})]}),!b&&s.jsx(ae,{className:"pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Milestones"}),s.jsxs("ul",{className:"space-y-1",children:[(j.milestones||[]).slice(0,4).map((v,g)=>s.jsxs("li",{className:"text-sm flex items-center gap-2",children:[s.jsx(Sn,{className:`w-3 h-3 ${v.startsWith("[x]")?"text-green-500":"text-muted-foreground"}`}),s.jsx("span",{className:v.startsWith("[x]")?"line-through text-muted-foreground":"",children:v.replace(/^\[(x| )\] /,"")})]},g)),(j.milestones||[]).length>4&&s.jsxs("li",{className:"text-sm text-muted-foreground",children:["+",j.milestones.length-4," more..."]})]})]}),(j.highlights||[]).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Highlights"}),s.jsx("ul",{className:"space-y-1",children:(j.highlights||[]).map((v,g)=>s.jsx("li",{className:"text-sm text-muted-foreground",children:v},g))})]})]})})]},m.id)})}),s.jsx(se,{className:"border-dashed",children:s.jsxs(ae,{className:"py-6 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Construction phases are automatically synced with the public roadmap page."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When you update progress or mark milestones as complete, the changes will be immediately visible to visitors."})]})})]})})}function G$e(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState(null),[h,p]=x.useState(null),[y,m]=x.useState({facilityId:"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),{data:j,isLoading:b}=de({queryKey:["/api/admin/events"]}),{data:v}=de({queryKey:["/api/admin/facilities"]}),g=be({mutationFn:async T=>await ye("POST","/api/admin/events",T),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event created successfully"}),a(!1),k()},onError:()=>{e({title:"Failed to create event",variant:"destructive"})}}),w=be({mutationFn:async({id:T,data:W})=>await ye("PATCH",`/api/admin/events/${T}`,W),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event updated successfully"}),a(!1),r(null),k()},onError:()=>{e({title:"Failed to update event",variant:"destructive"})}}),N=be({mutationFn:async T=>await ye("DELETE",`/api/admin/events/${T}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events"]}),re.invalidateQueries({queryKey:["/api/events"]}),e({title:"Event deleted successfully"})},onError:()=>{e({title:"Failed to delete event",variant:"destructive"})}}),{data:_,isLoading:S}=de({queryKey:["/api/admin/events",d==null?void 0:d.id,"registrations"],queryFn:async()=>{const T=await fetch(`/api/admin/events/${d==null?void 0:d.id}/registrations`,{credentials:"include"});if(!T.ok)throw new Error("Failed to fetch registrations");return T.json()},enabled:!!d}),C=be({mutationFn:async({registrationId:T,status:W,notes:E})=>await ye("POST",`/api/admin/event-registrations/${T}/verify-payment`,{status:W,notes:E}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/events",d==null?void 0:d.id,"registrations"]}),e({title:"Payment status updated"}),p(null)},onError:()=>{e({title:"Failed to update payment status",variant:"destructive"})}}),P=T=>{switch(T){case"VERIFIED":return s.jsx(ue,{className:"bg-green-500",children:"Verified"});case"PENDING":return s.jsx(ue,{variant:"secondary",children:"Awaiting Payment"});case"PENDING_VERIFICATION":return s.jsx(ue,{className:"bg-amber-500",children:"Needs Verification"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});case"NOT_REQUIRED":default:return s.jsx(ue,{variant:"outline",children:"Free"})}},k=()=>{var T;m({facilityId:((T=v==null?void 0:v[0])==null?void 0:T.id)||"",title:"",description:"",type:"CLASS",instructor:"",scheduleDay:"",scheduleTime:"",scheduleDatetime:"",price:0,capacity:20,enrollmentDeadline:"",imageUrl:"",slug:"",isActive:!0}),c(null),u.current&&(u.current.value="")},A=async T=>{var E;const W=(E=T.target.files)==null?void 0:E[0];if(W){if(!["image/jpeg","image/png","image/webp"].includes(W.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(W.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const D=new FormData;D.append("image",W);const G=await fetch("/api/admin/upload",{method:"POST",body:D,credentials:"include"});if(!G.ok){let I="Upload failed";try{I=(await G.json()).message||I}catch{I=G.statusText||I}throw new Error(I)}const J=await G.json();c({name:W.name,url:J.imageUrl}),m(I=>({...I,imageUrl:J.imageUrl})),u.current&&(u.current.value=""),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(D){e({title:"Upload failed",description:D.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},O=T=>{r(T),m({facilityId:T.facilityId,title:T.title,description:T.description||"",type:T.type,instructor:T.instructor||"",scheduleDay:T.scheduleDay||"",scheduleTime:T.scheduleTime||"",scheduleDatetime:T.scheduleDatetime?rs(new Date(T.scheduleDatetime),"yyyy-MM-dd'T'HH:mm"):"",price:T.price||0,capacity:T.capacity||20,enrollmentDeadline:T.enrollmentDeadline?rs(new Date(T.enrollmentDeadline),"yyyy-MM-dd"):"",imageUrl:T.imageUrl||"",slug:T.slug||"",isActive:T.isActive??!0}),a(!0)},R=()=>{if(!y.facilityId){e({title:"Please select a facility",variant:"destructive"});return}t?w.mutate({id:t.id,data:y}):g.mutate(y)},M=T=>{switch(T){case"ACADEMY":return s.jsx(ue,{className:"bg-purple-500",children:"Academy"});case"TOURNAMENT":return s.jsx(ue,{className:"bg-orange-500",children:"Tournament"});case"CLASS":return s.jsx(ue,{className:"bg-blue-500",children:"Class"});case"SOCIAL":return s.jsx(ue,{className:"bg-green-500",children:"Social"});default:return s.jsx(ue,{variant:"secondary",children:T})}},L=T=>{var W;return((W=v==null?void 0:v.find(E=>E.id===T))==null?void 0:W.name)||"Unknown"};return b?s.jsx(st,{title:"Events & Academies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Events & Academies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage events, academies, tournaments, and classes at The Quarterdeck."}),s.jsxs(yt,{open:n,onOpenChange:T=>{a(T),T||(r(null),k())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-event",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Event"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Event":"Add New Event"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Event Title"}),s.jsx(X,{id:"title",value:y.title,onChange:T=>m({...y,title:T.target.value}),placeholder:"e.g., Beginner Padel Academy","data-testid":"input-event-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"type",children:"Event Type"}),s.jsxs(kt,{value:y.type,onValueChange:T=>m({...y,type:T}),children:[s.jsx(Nt,{"data-testid":"select-event-type",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"ACADEMY",children:"Academy (Ongoing Program)"}),s.jsx(Se,{value:"TOURNAMENT",children:"Tournament"}),s.jsx(Se,{value:"CLASS",children:"Class (One-time)"}),s.jsx(Se,{value:"SOCIAL",children:"Social Event"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"facilityId",children:"Facility"}),s.jsxs(kt,{value:y.facilityId,onValueChange:T=>m({...y,facilityId:T}),children:[s.jsx(Nt,{"data-testid":"select-event-facility",children:s.jsx(Ct,{placeholder:"Select facility"})}),s.jsx(_t,{children:v==null?void 0:v.map(T=>s.jsx(Se,{value:T.id,children:T.name},T.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"instructor",children:"Instructor/Host"}),s.jsx(X,{id:"instructor",value:y.instructor,onChange:T=>m({...y,instructor:T.target.value}),placeholder:"e.g., Coach Ahmad","data-testid":"input-event-instructor"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:y.description,onChange:T=>m({...y,description:T.target.value}),rows:3,placeholder:"Describe the event, what participants will learn, etc.","data-testid":"input-event-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"scheduleDay",children:"Schedule Day"}),s.jsx(X,{id:"scheduleDay",value:y.scheduleDay,onChange:T=>m({...y,scheduleDay:T.target.value}),placeholder:"e.g., Mon, Wed, Fri","data-testid":"input-event-schedule-day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"scheduleTime",children:"Schedule Time"}),s.jsx(X,{id:"scheduleTime",value:y.scheduleTime,onChange:T=>m({...y,scheduleTime:T.target.value}),placeholder:"e.g., 6:00 PM - 8:00 PM","data-testid":"input-event-schedule-time"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"scheduleDatetime",children:"Specific Date/Time"}),s.jsx(X,{id:"scheduleDatetime",type:"datetime-local",value:y.scheduleDatetime,onChange:T=>m({...y,scheduleDatetime:T.target.value}),"data-testid":"input-event-datetime"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(X,{id:"price",type:"number",value:y.price,onChange:T=>m({...y,price:parseInt(T.target.value)||0}),"data-testid":"input-event-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"capacity",children:"Capacity"}),s.jsx(X,{id:"capacity",type:"number",value:y.capacity,onChange:T=>m({...y,capacity:parseInt(T.target.value)||20}),"data-testid":"input-event-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"enrollmentDeadline",children:"Enrollment Deadline"}),s.jsx(X,{id:"enrollmentDeadline",type:"date",value:y.enrollmentDeadline,onChange:T=>m({...y,enrollmentDeadline:T.target.value}),"data-testid":"input-event-deadline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Event Image"}),s.jsxs(Vs,{defaultValue:"upload",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsxs(Lt,{value:"upload",className:"flex items-center gap-2",children:[s.jsx(lr,{className:"w-4 h-4"}),"Upload"]}),s.jsxs(Lt,{value:"url",className:"flex items-center gap-2",children:[s.jsx(Xk,{className:"w-4 h-4"}),"URL"]})]}),s.jsxs(Ft,{value:"upload",className:"space-y-3",children:[s.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:A,className:"hidden","data-testid":"input-event-image-file"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{var T;return(T=u.current)==null?void 0:T.click()},disabled:i,className:"w-full","data-testid":"button-upload-event-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Choose Image"]})}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(Sn,{className:"w-4 h-4"}),l.name]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Max 5MB. JPEG, PNG, or WebP."})]}),s.jsx(Ft,{value:"url",className:"space-y-3",children:s.jsx(X,{id:"imageUrl",value:y.imageUrl,onChange:T=>m({...y,imageUrl:T.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-event-image-url"})})]}),y.imageUrl&&s.jsx("div",{className:"mt-3 rounded-md border overflow-hidden",children:s.jsx("img",{src:y.imageUrl,alt:"Preview",className:"w-full h-32 object-cover",onError:T=>{T.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"URL Slug"}),s.jsx(X,{id:"slug",value:y.slug,onChange:T=>m({...y,slug:T.target.value}),placeholder:"beginner-padel-academy","data-testid":"input-event-slug"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx(Qt,{id:"isActive",checked:y.isActive,onCheckedChange:T=>m({...y,isActive:T})}),s.jsx(z,{htmlFor:"isActive",children:"Active (visible on website)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:R,disabled:g.isPending||w.isPending,"data-testid":"button-save-event",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Event"}),s.jsx(ce,{children:"Type"}),s.jsx(ce,{children:"Facility"}),s.jsx(ce,{children:"Schedule"}),s.jsx(ce,{children:"Capacity"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[j==null?void 0:j.map(T=>s.jsxs(Ze,{"data-testid":`row-event-${T.id}`,children:[s.jsx(ne,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:T.title}),T.instructor&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",T.instructor]})]})}),s.jsx(ne,{children:M(T.type)}),s.jsx(ne,{children:L(T.facilityId)}),s.jsx(ne,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[T.scheduleDay&&s.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[s.jsx(xr,{className:"w-3 h-3"}),T.scheduleDay]}),T.scheduleTime&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Bt,{className:"w-3 h-3"}),T.scheduleTime]})]})}),s.jsx(ne,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3"}),T.enrolledCount||0,"/",T.capacity]})}),s.jsx(ne,{children:T.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>f(T),title:"View registrations","data-testid":`button-view-registrations-${T.id}`,children:s.jsx(as,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>O(T),"data-testid":`button-edit-event-${T.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this event?")&&N.mutate(T.id)},"data-testid":`button-delete-event-${T.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},T.id)),(!j||j.length===0)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No events found. Add your first event to get started."})})]})]})})}),s.jsx(yt,{open:!!d,onOpenChange:T=>!T&&f(null),children:s.jsxs(vt,{className:"max-w-4xl max-h-[80vh] overflow-auto",children:[s.jsxs(bt,{children:[s.jsxs(jt,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-5 h-5"}),"Registrations - ",d==null?void 0:d.title]}),s.jsx(_n,{children:d!=null&&d.price&&d.price>0?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ll,{className:"w-4 h-4"}),"Paid event: PKR ",d.price.toLocaleString()]}):"Free event - no payment required"})]}),S?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ie,{className:"w-6 h-6 animate-spin"})}):_&&_.length>0?s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Name"}),s.jsx(ce,{children:"Email"}),s.jsx(ce,{children:"Phone"}),s.jsx(ce,{children:"Payment"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:_.map(T=>s.jsxs(Ze,{"data-testid":`row-registration-${T.id}`,children:[s.jsx(ne,{className:"font-medium",children:T.fullName}),s.jsx(ne,{children:T.email}),s.jsx(ne,{children:T.phone||"-"}),s.jsx(ne,{children:P(T.paymentStatus)}),s.jsx(ne,{children:s.jsx(ue,{variant:T.status==="REGISTERED"?"default":"secondary",children:T.status})}),s.jsxs(ne,{className:"text-right",children:[T.paymentProofUrl&&s.jsx($,{variant:"ghost",size:"icon",onClick:()=>window.open(T.paymentProofUrl||"","_blank"),title:"View payment proof","data-testid":`button-view-proof-${T.id}`,children:s.jsx(Zi,{className:"w-4 h-4"})}),T.paymentStatus==="PENDING_VERIFICATION"&&s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>C.mutate({registrationId:T.id,status:"VERIFIED"}),disabled:C.isPending,title:"Approve payment","data-testid":`button-approve-payment-${T.id}`,children:s.jsx(pr,{className:"w-4 h-4 text-green-600"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>C.mutate({registrationId:T.id,status:"REJECTED",notes:"Payment not verified"}),disabled:C.isPending,title:"Reject payment","data-testid":`button-reject-payment-${T.id}`,children:s.jsx(xi,{className:"w-4 h-4 text-destructive"})})]})]})]},T.id))})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Tn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No registrations yet for this event."]})]})})]})})}function Q$e(){const{toast:e}=mt(),{adminPath:t}=Jp(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState({name:"",tier:"silver",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),[c,u]=x.useState(""),{data:d,isLoading:f}=de({queryKey:["/api/admin/pricing-tiers"]}),{data:h}=de({queryKey:["/api/admin/membership-tiers"]}),p=()=>{re.invalidateQueries({queryKey:["/api/admin/pricing-tiers"]}),re.invalidateQueries({queryKey:["/api/pricing-tiers"]})},y=be({mutationFn:async S=>await ye("POST","/api/admin/pricing-tiers",S),onSuccess:()=>{p(),e({title:"Pricing tier created successfully"}),i(!1),b()},onError:()=>{e({title:"Failed to create pricing tier",variant:"destructive"})}}),m=be({mutationFn:async({id:S,data:C})=>await ye("PATCH",`/api/admin/pricing-tiers/${S}`,C),onSuccess:()=>{p(),e({title:"Pricing tier updated successfully"}),i(!1),n(null),b()},onError:()=>{e({title:"Failed to update pricing tier",variant:"destructive"})}}),j=be({mutationFn:async S=>await ye("DELETE",`/api/admin/pricing-tiers/${S}`),onSuccess:()=>{p(),e({title:"Pricing tier deleted successfully"})},onError:()=>{e({title:"Failed to delete pricing tier",variant:"destructive"})}}),b=()=>{l({name:"",tier:"SILVER",price:0,billingPeriod:"yearly",benefits:[],isPopular:!1,sortOrder:0,isActive:!0}),u("")},v=S=>{n(S),l({name:S.name,tier:S.tier,price:S.price,billingPeriod:S.billingPeriod||"yearly",benefits:S.benefits||[],isPopular:S.isPopular||!1,sortOrder:S.sortOrder||0,isActive:S.isActive??!0}),i(!0)},g=()=>{r?m.mutate({id:r.id,data:o}):y.mutate(o)},w=()=>{c.trim()&&(l({...o,benefits:[...o.benefits,c.trim()]}),u(""))},N=S=>{l({...o,benefits:o.benefits.filter((C,P)=>P!==S)})},_=S=>{switch(S){case"FOUNDING":return s.jsx(ue,{className:"bg-amber-600",children:"Founding"});case"GOLD":return s.jsx(ue,{className:"bg-yellow-500",children:"Gold"});case"SILVER":return s.jsx(ue,{className:"bg-gray-400",children:"Silver"});default:return s.jsx(ue,{variant:"secondary",children:"Guest"})}};return f?s.jsx(st,{title:"Pricing Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Pricing Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage membership pricing tiers and their benefits."}),s.jsx(ge,{href:`/${t}/membership-tiers`,children:s.jsxs($,{variant:"link",size:"sm",className:"p-0 h-auto text-primary","data-testid":"link-manage-tiers",children:[s.jsx(Rm,{className:"w-3 h-3 mr-1"})," Manage Tier Definitions"]})})]}),s.jsxs(yt,{open:a,onOpenChange:S=>{i(S),S||(n(null),b())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-pricing-tier",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Pricing Tier"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:r?"Edit Pricing Tier":"Add New Pricing Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"name",children:"Display Name"}),s.jsx(X,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-tier-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"tier",children:"Tier Level"}),s.jsxs(kt,{value:o.tier,onValueChange:S=>l({...o,tier:S}),children:[s.jsx(Nt,{"data-testid":"select-tier-level",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[h==null?void 0:h.filter(S=>S.isActive).map(S=>s.jsx(Se,{value:S.slug,"data-testid":`select-tier-${S.slug}`,children:S.displayName},S.id)),(!h||h.length===0)&&s.jsxs(s.Fragment,{children:[s.jsx(Se,{value:"founding",children:"Founding"}),s.jsx(Se,{value:"gold",children:"Gold"}),s.jsx(Se,{value:"silver",children:"Silver"}),s.jsx(Se,{value:"guest",children:"Guest"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"price",children:"Price (PKR)"}),s.jsx(X,{id:"price",type:"number",value:o.price,onChange:S=>l({...o,price:parseInt(S.target.value)||0}),"data-testid":"input-tier-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"billingPeriod",children:"Billing Period"}),s.jsxs(kt,{value:o.billingPeriod,onValueChange:S=>l({...o,billingPeriod:S}),children:[s.jsx(Nt,{"data-testid":"select-billing-period",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"monthly",children:"Monthly"}),s.jsx(Se,{value:"yearly",children:"Yearly"}),s.jsx(Se,{value:"lifetime",children:"Lifetime"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{value:c,onChange:S=>u(S.target.value),placeholder:"Add a benefit",onKeyDown:S=>S.key==="Enter"&&(S.preventDefault(),w()),"data-testid":"input-benefit"}),s.jsx($,{type:"button",onClick:w,variant:"secondary",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.benefits.map((S,C)=>s.jsxs(ue,{variant:"secondary",className:"px-2 py-1",children:[S,s.jsx("button",{type:"button",onClick:()=>N(C),className:"ml-2 text-muted-foreground hover:text-foreground",children:""})]},C))})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:o.sortOrder,onChange:S=>l({...o,sortOrder:parseInt(S.target.value)||0}),"data-testid":"input-sort-order"})]})}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isPopular",checked:o.isPopular,onCheckedChange:S=>l({...o,isPopular:S})}),s.jsx(z,{htmlFor:"isPopular",children:"Mark as Popular"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isActive",checked:o.isActive,onCheckedChange:S=>l({...o,isActive:S})}),s.jsx(z,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs($,{onClick:g,disabled:y.isPending||m.isPending,"data-testid":"button-save-tier",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),r?"Update":"Create"]})]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Name"}),s.jsx(ce,{children:"Tier"}),s.jsx(ce,{children:"Price"}),s.jsx(ce,{children:"Billing"}),s.jsx(ce,{children:"Benefits"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[d==null?void 0:d.map(S=>{var C;return s.jsxs(Ze,{"data-testid":`row-tier-${S.id}`,children:[s.jsxs(ne,{className:"font-medium",children:[S.name,S.isPopular&&s.jsx(xa,{className:"inline w-4 h-4 ml-2 text-amber-500"})]}),s.jsx(ne,{children:_(S.tier)}),s.jsxs(ne,{children:["PKR ",S.price.toLocaleString()]}),s.jsx(ne,{className:"capitalize",children:S.billingPeriod}),s.jsxs(ne,{children:[((C=S.benefits)==null?void 0:C.length)||0," benefits"]}),s.jsx(ne,{children:S.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>v(S),"data-testid":`button-edit-tier-${S.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this pricing tier?")&&j.mutate(S.id)},"data-testid":`button-delete-tier-${S.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},S.id)}),(!d||d.length===0)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No pricing tiers found. Add your first tier to get started."})})]})]})})})]})})}function Y$e(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),[l,c]=x.useState(""),{data:u,isLoading:d}=de({queryKey:["/api/admin/membership-tiers"]}),f=()=>{re.invalidateQueries({queryKey:["/api/admin/membership-tiers"]}),re.invalidateQueries({queryKey:["/api/membership-tiers"]})},h=be({mutationFn:async _=>await ye("POST","/api/admin/membership-tiers",_),onSuccess:()=>{f(),e({title:"Membership tier created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create membership tier",variant:"destructive"})}}),p=be({mutationFn:async({id:_,data:S})=>await ye("PATCH",`/api/admin/membership-tiers/${_}`,S),onSuccess:()=>{f(),e({title:"Membership tier updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update membership tier",variant:"destructive"})}}),y=be({mutationFn:async _=>await ye("DELETE",`/api/admin/membership-tiers/${_}`),onSuccess:()=>{f(),e({title:"Membership tier deleted successfully"})},onError:()=>{e({title:"Failed to delete membership tier",variant:"destructive"})}}),m=()=>{o({slug:"",displayName:"",description:"",color:"#6B7280",discountPercent:0,guestPassesIncluded:0,benefits:[],sortOrder:0,isActive:!0}),c("")},j=_=>{r(_),o({slug:_.slug,displayName:_.displayName,description:_.description||"",color:_.color||"#6B7280",discountPercent:_.discountPercent||0,guestPassesIncluded:_.guestPassesIncluded||0,benefits:_.benefits||[],sortOrder:_.sortOrder||0,isActive:_.isActive??!0}),a(!0)},b=()=>{t?p.mutate({id:t.id,data:i}):h.mutate(i)},v=()=>{l.trim()&&(o({...i,benefits:[...i.benefits,l.trim()]}),c(""))},g=_=>{o({...i,benefits:i.benefits.filter((S,C)=>C!==_)})},w=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");if(d)return s.jsx(st,{title:"Membership Tiers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const N=[...u||[]].sort((_,S)=>(_.sortOrder||0)-(S.sortOrder||0));return s.jsx(st,{title:"Membership Tiers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define membership tier types with their names, colors, discount percentages, and benefits."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"These tiers are used throughout the website for pricing and membership management."})]}),s.jsxs(yt,{open:n,onOpenChange:_=>{a(_),_||(r(null),m())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-tier",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Tier"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Membership Tier":"Add New Membership Tier"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"displayName",children:"Display Name"}),s.jsx(X,{id:"displayName",value:i.displayName,onChange:_=>{const S=_.target.value;o({...i,displayName:S,slug:i.slug||w(S)})},placeholder:"e.g., Platinum Member","data-testid":"input-display-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"Slug (URL-friendly ID)"}),s.jsx(X,{id:"slug",value:i.slug,onChange:_=>o({...i,slug:w(_.target.value)}),placeholder:"e.g., platinum","data-testid":"input-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:i.description,onChange:_=>o({...i,description:_.target.value}),placeholder:"Brief description of this membership tier","data-testid":"input-description"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"color",children:"Tier Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{id:"color",type:"color",value:i.color,onChange:_=>o({...i,color:_.target.value}),className:"w-12 h-9 p-1 cursor-pointer","data-testid":"input-color"}),s.jsx(X,{value:i.color,onChange:_=>o({...i,color:_.target.value}),placeholder:"#6B7280",className:"flex-1","data-testid":"input-color-text"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"discountPercent",children:"Discount % (Off-Peak)"}),s.jsx(X,{id:"discountPercent",type:"number",min:"0",max:"100",value:i.discountPercent,onChange:_=>o({...i,discountPercent:parseInt(_.target.value)||0}),"data-testid":"input-discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"guestPasses",children:"Guest Passes/Month"}),s.jsx(X,{id:"guestPasses",type:"number",min:"0",value:i.guestPassesIncluded,onChange:_=>o({...i,guestPassesIncluded:parseInt(_.target.value)||0}),"data-testid":"input-guest-passes"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Benefits"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{value:l,onChange:_=>c(_.target.value),placeholder:"Add a benefit",onKeyDown:_=>_.key==="Enter"&&(_.preventDefault(),v()),"data-testid":"input-benefit"}),s.jsx($,{type:"button",onClick:v,variant:"secondary","data-testid":"button-add-benefit",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((_,S)=>s.jsxs(ue,{variant:"secondary",className:"px-2 py-1","data-testid":`badge-benefit-${S}`,children:[_,s.jsx("button",{type:"button",onClick:()=>g(S),className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":`button-remove-benefit-${S}`,children:"x"})]},S))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:_=>o({...i,sortOrder:parseInt(_.target.value)||0}),"data-testid":"input-sort-order"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Qt,{id:"isActive",checked:i.isActive,onCheckedChange:_=>o({...i,isActive:_}),"data-testid":"switch-is-active"}),s.jsx(z,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),s.jsx($,{onClick:b,disabled:h.isPending||p.isPending,"data-testid":"button-save-tier",children:h.isPending||p.isPending?"Saving...":t?"Update Tier":"Create Tier"})]})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsx(We,{children:"Membership Tier Definitions"}),s.jsx(It,{children:"Configure the properties of each membership tier. Changes here affect how tiers are displayed across the website."})]}),s.jsx(ae,{children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{className:"w-12",children:"Order"}),s.jsx(ce,{children:"Name"}),s.jsx(ce,{children:"Slug"}),s.jsx(ce,{children:"Color"}),s.jsx(ce,{children:"Discount"}),s.jsx(ce,{children:"Guest Passes"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[N.map(_=>s.jsxs(Ze,{"data-testid":`row-tier-${_.id}`,children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ld,{className:"w-4 h-4"}),_.sortOrder]})}),s.jsx(ne,{className:"font-medium","data-testid":`text-tier-name-${_.id}`,children:_.displayName}),s.jsx(ne,{children:s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded","data-testid":`text-tier-slug-${_.id}`,children:_.slug})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:_.color||"#6B7280"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:_.color})]})}),s.jsxs(ne,{children:[_.discountPercent,"%"]}),s.jsx(ne,{children:_.guestPassesIncluded}),s.jsx(ne,{children:s.jsx(ue,{variant:_.isActive?"default":"secondary","data-testid":`badge-status-${_.id}`,children:_.isActive?"Active":"Inactive"})}),s.jsx(ne,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>j(_),"data-testid":`button-edit-tier-${_.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this tier?")&&y.mutate(_.id)},disabled:y.isPending,"data-testid":`button-delete-tier-${_.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})})]},_.id)),N.length===0&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'No membership tiers defined yet. Click "Add Tier" to create one.'})})]})]})})]})]})})}function X$e(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",content:"",category:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/announcements"]}),u=be({mutationFn:async m=>await ye("POST","/api/admin/announcements",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create announcement",variant:"destructive"})}}),d=be({mutationFn:async({id:m,data:j})=>await ye("PATCH",`/api/admin/announcements/${m}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update announcement",variant:"destructive"})}}),f=be({mutationFn:async m=>await ye("DELETE",`/api/admin/announcements/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/announcements"]}),e({title:"Announcement deleted successfully"})},onError:()=>{e({title:"Failed to delete announcement",variant:"destructive"})}}),h=()=>{o({title:"",content:"",category:"",isActive:!0})},p=m=>{r(m),o({title:m.title,content:m.content||"",category:m.category||"",isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(st,{title:"Announcements",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Announcements",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage announcements and updates shown on the website."}),s.jsxs(yt,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-announcement",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Announcement"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Announcement":"Add New Announcement"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title"}),s.jsx(X,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-announcement-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"content",children:"Content"}),s.jsx(ct,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:5,"data-testid":"input-announcement-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"category",children:"Category"}),s.jsx(X,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., Construction, Events, General","data-testid":"input-announcement-category"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-announcement",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Title"}),s.jsx(ce,{children:"Category"}),s.jsx(ce,{children:"Published"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[l==null?void 0:l.map(m=>s.jsxs(Ze,{"data-testid":`row-announcement-${m.id}`,children:[s.jsx(ne,{className:"font-medium",children:m.title}),s.jsx(ne,{children:m.category||"-"}),s.jsx(ne,{children:m.publishedAt?rs(new Date(m.publishedAt),"MMM d, yyyy"):"-"}),s.jsx(ne,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-announcement-${m.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this announcement?")&&f.mutate(m.id)},"data-testid":`button-delete-announcement-${m.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No announcements found. Add your first announcement to get started."})})]})]})})})]})})}function J$e(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/careers"]}),u=be({mutationFn:async m=>await ye("POST","/api/admin/careers",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create career listing",variant:"destructive"})}}),d=be({mutationFn:async({id:m,data:j})=>await ye("PATCH",`/api/admin/careers/${m}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update career listing",variant:"destructive"})}}),f=be({mutationFn:async m=>await ye("DELETE",`/api/admin/careers/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/careers"]}),e({title:"Career listing deleted successfully"})},onError:()=>{e({title:"Failed to delete career listing",variant:"destructive"})}}),h=()=>{o({title:"",department:"",location:"Islamabad",type:"Full-time",description:"",requirements:"",salary:"",isActive:!0})},p=m=>{r(m),o({title:m.title,department:m.department||"",location:m.location||"Islamabad",type:m.type||"Full-time",description:m.description||"",requirements:m.requirements||"",salary:m.salary||"",isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(st,{title:"Careers",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Careers",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage job listings and career opportunities at The Quarterdeck."}),s.jsxs(yt,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-career",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Job Listing"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Job Listing":"Add New Job Listing"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Job Title"}),s.jsx(X,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-career-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"department",children:"Department"}),s.jsx(X,{id:"department",value:i.department,onChange:m=>o({...i,department:m.target.value}),placeholder:"e.g., Operations, Sports, Admin","data-testid":"input-career-department"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"location",children:"Location"}),s.jsx(X,{id:"location",value:i.location,onChange:m=>o({...i,location:m.target.value}),"data-testid":"input-career-location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"type",children:"Employment Type"}),s.jsxs(kt,{value:i.type,onValueChange:m=>o({...i,type:m}),children:[s.jsx(Nt,{"data-testid":"select-career-type",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"Full-time",children:"Full-time"}),s.jsx(Se,{value:"Part-time",children:"Part-time"}),s.jsx(Se,{value:"Contract",children:"Contract"}),s.jsx(Se,{value:"Internship",children:"Internship"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"salary",children:"Salary Range"}),s.jsx(X,{id:"salary",value:i.salary,onChange:m=>o({...i,salary:m.target.value}),placeholder:"e.g., PKR 50,000 - 80,000 / month","data-testid":"input-career-salary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Job Description"}),s.jsx(ct,{id:"description",value:i.description,onChange:m=>o({...i,description:m.target.value}),rows:4,"data-testid":"input-career-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"requirements",children:"Requirements"}),s.jsx(ct,{id:"requirements",value:i.requirements,onChange:m=>o({...i,requirements:m.target.value}),rows:4,placeholder:"List the requirements, each on a new line","data-testid":"input-career-requirements"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-career",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Title"}),s.jsx(ce,{children:"Department"}),s.jsx(ce,{children:"Location"}),s.jsx(ce,{children:"Type"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[l==null?void 0:l.map(m=>s.jsxs(Ze,{"data-testid":`row-career-${m.id}`,children:[s.jsx(ne,{className:"font-medium",children:m.title}),s.jsx(ne,{children:m.department||"-"}),s.jsx(ne,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(js,{className:"w-3 h-3"}),m.location]})}),s.jsx(ne,{children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Om,{className:"w-3 h-3"}),m.type]})}),s.jsx(ne,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-career-${m.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this job listing?")&&f.mutate(m.id)},"data-testid":`button-delete-career-${m.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No job listings found. Add your first listing to get started."})})]})]})})})]})})}function Z$e(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState({title:"",category:"",content:"",sortOrder:0,isActive:!0}),{data:l,isLoading:c}=de({queryKey:["/api/admin/rules"]}),u=be({mutationFn:async m=>await ye("POST","/api/admin/rules",m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule created successfully"}),a(!1),h()},onError:()=>{e({title:"Failed to create rule",variant:"destructive"})}}),d=be({mutationFn:async({id:m,data:j})=>await ye("PATCH",`/api/admin/rules/${m}`,j),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule updated successfully"}),a(!1),r(null),h()},onError:()=>{e({title:"Failed to update rule",variant:"destructive"})}}),f=be({mutationFn:async m=>await ye("DELETE",`/api/admin/rules/${m}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/rules"]}),e({title:"Rule deleted successfully"})},onError:()=>{e({title:"Failed to delete rule",variant:"destructive"})}}),h=()=>{o({title:"",category:"",content:"",sortOrder:0,isActive:!0})},p=m=>{r(m),o({title:m.title,category:m.category||"",content:m.content||"",sortOrder:m.sortOrder||0,isActive:m.isActive??!0}),a(!0)},y=()=>{t?d.mutate({id:t.id,data:i}):u.mutate(i)};return c?s.jsx(st,{title:"Rules & Policies",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Rules & Policies",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage facility rules, policies, and guidelines shown to members."}),s.jsxs(yt,{open:n,onOpenChange:m=>{a(m),m||(r(null),h())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-rule",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Rule"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Rule":"Add New Rule"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title"}),s.jsx(X,{id:"title",value:i.title,onChange:m=>o({...i,title:m.target.value}),"data-testid":"input-rule-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"category",children:"Category"}),s.jsx(X,{id:"category",value:i.category,onChange:m=>o({...i,category:m.target.value}),placeholder:"e.g., General, Safety, Booking","data-testid":"input-rule-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:i.sortOrder,onChange:m=>o({...i,sortOrder:parseInt(m.target.value)||0}),"data-testid":"input-rule-sort"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"content",children:"Content"}),s.jsx(ct,{id:"content",value:i.content,onChange:m=>o({...i,content:m.target.value}),rows:8,placeholder:"Enter the rule or policy details...","data-testid":"input-rule-content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isActive",checked:i.isActive,onCheckedChange:m=>o({...i,isActive:m})}),s.jsx(z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs($,{onClick:y,disabled:u.isPending||d.isPending,"data-testid":"button-save-rule",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"]})]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{className:"w-12",children:"Order"}),s.jsx(ce,{children:"Title"}),s.jsx(ce,{children:"Category"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[l==null?void 0:l.map(m=>s.jsxs(Ze,{"data-testid":`row-rule-${m.id}`,children:[s.jsx(ne,{children:s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ld,{className:"w-4 h-4"}),m.sortOrder]})}),s.jsx(ne,{className:"font-medium",children:m.title}),s.jsx(ne,{children:m.category?s.jsx(ue,{variant:"outline",children:m.category}):"-"}),s.jsx(ne,{children:m.isActive?s.jsx(ue,{className:"bg-green-500",children:"Active"}):s.jsx(ue,{variant:"secondary",children:"Inactive"})}),s.jsxs(ne,{className:"text-right",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>p(m),"data-testid":`button-edit-rule-${m.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this rule?")&&f.mutate(m.id)},"data-testid":`button-delete-rule-${m.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]},m.id)),(!l||l.length===0)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No rules found. Add your first rule to get started."})})]})]})})})]})})}const RM=[{section:"1. Information We Collect",content:"We collect information to provide and improve our services:",items:["Personal Information: Name, email, phone number","Membership Data: Tier, payment history, bookings","Usage Information: Facility patterns, preferences"]},{section:"2. How We Use Information",content:"Your information is used to:",items:["Process memberships and bookings","Communicate updates","Improve facilities and services"]},{section:"3. Contact",content:"For privacy inquiries, contact privacy@thequarterdeck.pk",items:[]}],MM=[{section:"1. Acceptance of Terms",content:"By using The Quarterdeck facilities, you agree to these terms.",items:[]},{section:"2. Membership",content:"Membership is subject to approval and payment of fees.",items:["Non-transferable","Valid ID required","Guest privileges vary by tier"]},{section:"3. Contact",content:"For questions, contact legal@thequarterdeck.pk",items:[]}];function eDe(){const{toast:e}=mt(),[t,r]=x.useState("privacy"),[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!1),{data:u,isLoading:d}=de({queryKey:["/api/cms/bulk"]});x.useEffect(()=>{if(u){const N=u.find(S=>S.key==="privacy_policy"),_=u.find(S=>S.key==="terms_conditions");try{N!=null&&N.content?a(JSON.parse(N.content)):a(RM)}catch{a(RM)}try{_!=null&&_.content?o(JSON.parse(_.content)):o(MM)}catch{o(MM)}}},[u]);const f=be({mutationFn:async({key:N,content:_})=>ye("POST","/api/admin/cms",{key:N,title:N==="privacy_policy"?"Privacy Policy":"Terms & Conditions",content:_,isActive:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/cms/bulk"]}),e({title:"Saved successfully"})},onError:()=>{e({title:"Failed to save",variant:"destructive"})}}),h=async()=>{c(!0);try{await f.mutateAsync({key:"privacy_policy",content:JSON.stringify(n)})}finally{c(!1)}},p=async()=>{c(!0);try{await f.mutateAsync({key:"terms_conditions",content:JSON.stringify(i)})}finally{c(!1)}},y=(N,_,S,C)=>{(N==="privacy"?a:o)(k=>k.map((A,O)=>O===_?{...A,[S]:C}:A))},m=N=>{const _={section:`${N==="privacy"?n.length+1:i.length+1}. New Section`,content:"",items:[]};N==="privacy"?a([...n,_]):o([...i,_])},j=(N,_)=>{N==="privacy"?a(S=>S.filter((C,P)=>P!==_)):o(S=>S.filter((C,P)=>P!==_))},b=(N,_,S,C)=>{(N==="privacy"?a:o)(k=>k.map((A,O)=>{if(O!==_)return A;const R=[...A.items];return R[S]=C,{...A,items:R}}))},v=(N,_)=>{(N==="privacy"?a:o)(C=>C.map((P,k)=>k!==_?P:{...P,items:[...P.items,""]}))},g=(N,_,S)=>{(N==="privacy"?a:o)(P=>P.map((k,A)=>A!==_?k:{...k,items:k.items.filter((O,R)=>R!==S)}))},w=(N,_)=>s.jsxs("div",{className:"space-y-6",children:[_.map((S,C)=>s.jsxs(se,{className:"relative",children:[s.jsx(Be,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ld,{className:"w-5 h-5 text-muted-foreground mt-2 cursor-grab"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx(z,{children:"Section Title"}),s.jsx(X,{value:S.section,onChange:P=>y(N,C,"section",P.target.value),placeholder:"1. Section Title","data-testid":`input-section-title-${C}`})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Content"}),s.jsx(ct,{value:S.content,onChange:P=>y(N,C,"content",P.target.value),placeholder:"Section content...",rows:3,"data-testid":`input-section-content-${C}`})]})]}),s.jsx($,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>j(N,C),"data-testid":`button-remove-section-${C}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})}),s.jsx(ae,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{className:"text-sm",children:"Bullet Points"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>v(N,C),"data-testid":`button-add-item-${C}`,children:[s.jsx(rr,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),S.items.length===0?s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:'No bullet points. Click "Add Item" to add one.'}):s.jsx("div",{className:"space-y-2",children:S.items.map((P,k)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{value:P,onChange:A=>b(N,C,k,A.target.value),placeholder:"Bullet point text...","data-testid":`input-item-${C}-${k}`}),s.jsx($,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive flex-shrink-0",onClick:()=>g(N,C,k),"data-testid":`button-remove-item-${C}-${k}`,children:s.jsx(ur,{className:"w-4 h-4"})})]},k))})]})})]},C)),s.jsxs($,{variant:"outline",className:"w-full",onClick:()=>m(N),"data-testid":`button-add-section-${N}`,children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Section"]})]});return d?s.jsx(st,{title:"Policy Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(st,{title:"Policy Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Privacy Policy & Terms Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit the content displayed on the Privacy Policy and Terms & Conditions pages. Changes are reflected immediately on the website."})]}),s.jsxs(Vs,{value:t,onValueChange:r,children:[s.jsxs(ws,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(Lt,{value:"privacy",className:"flex items-center gap-2","data-testid":"tab-privacy",children:[s.jsx(Fd,{className:"w-4 h-4"}),"Privacy Policy"]}),s.jsxs(Lt,{value:"terms",className:"flex items-center gap-2","data-testid":"tab-terms",children:[s.jsx(ts,{className:"w-4 h-4"}),"Terms & Conditions"]})]}),s.jsxs(Ft,{value:"privacy",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy Policy Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /privacy page."})]}),s.jsxs($,{onClick:h,disabled:l,"data-testid":"button-save-privacy",children:[l?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save Privacy Policy"]})]}),w("privacy",n)]}),s.jsxs(Ft,{value:"terms",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Terms & Conditions Sections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define sections that appear on the /terms page."})]}),s.jsxs($,{onClick:p,disabled:l,"data-testid":"button-save-terms",children:[l?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save Terms & Conditions"]})]}),w("terms",i)]})]})]})})}const Au={dimensions:{recommended:"1920 x 1080 px (16:9 aspect ratio)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",categories:{Renders:"3D architectural renders and concept designs for The Quarterdeck complex",Construction:"Progress photos from the construction site showing different phases",Facilities:"Photos of completed or in-progress facilities (courts, halls, etc.)"}};function tDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),h=async A=>{var R;const O=(R=A.target.files)==null?void 0:R[0];if(O){if(!["image/jpeg","image/png","image/webp"].includes(O.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(O.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const M=new FormData;M.append("image",O);const L=await fetch("/api/admin/upload",{method:"POST",body:M,credentials:"include"});if(!L.ok){let W="Upload failed";try{W=(await L.json()).message||W}catch{W=L.statusText||W}throw new Error(W)}const T=await L.json();c({name:O.name,url:T.imageUrl}),f(W=>({...W,imageUrl:T.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(M){e({title:"Upload failed",description:M.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:y}=de({queryKey:["/api/admin/gallery"]}),m=be({mutationFn:async A=>await ye("POST","/api/admin/gallery",A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image added successfully"}),a(!1),v()},onError:()=>{e({title:"Failed to add gallery image",variant:"destructive"})}}),j=be({mutationFn:async({id:A,data:O})=>await ye("PATCH",`/api/admin/gallery/${A}`,O),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image updated successfully"}),a(!1),r(null),v()},onError:()=>{e({title:"Failed to update gallery image",variant:"destructive"})}}),b=be({mutationFn:async A=>await ye("DELETE",`/api/admin/gallery/${A}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/gallery"]}),e({title:"Gallery image deleted successfully"})},onError:()=>{e({title:"Failed to delete gallery image",variant:"destructive"})}}),v=()=>{f({imageUrl:"",title:"",description:"",category:"Construction",sortOrder:0,isActive:!0}),c(null),u.current&&(u.current.value="")},g=A=>{r(A),f({imageUrl:A.imageUrl,title:A.title||"",description:A.description||"",category:A.category||"Construction",sortOrder:A.sortOrder||0,isActive:A.isActive??!0}),a(!0)},w=()=>{t?j.mutate({id:t.id,data:d}):m.mutate(d)},N=A=>{switch(A){case"Renders":return s.jsx(ue,{className:"bg-purple-500",children:"Renders"});case"Construction":return s.jsx(ue,{className:"bg-orange-500",children:"Construction"});case"Facilities":return s.jsx(ue,{className:"bg-blue-500",children:"Facilities"});default:return s.jsx(ue,{variant:"secondary",children:A||"Other"})}};if(y)return s.jsx(st,{title:"Gallery",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const _=(p==null?void 0:p.filter(A=>A.category==="Renders").length)||0,S=(p==null?void 0:p.filter(A=>A.category==="Construction").length)||0,C=(p==null?void 0:p.filter(A=>A.category==="Facilities").length)||0,P=(p==null?void 0:p.filter(A=>A.isActive).length)||0,k=(p==null?void 0:p.filter(A=>!A.isActive).length)||0;return s.jsx(st,{title:"Gallery",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 via-orange-500/10 to-blue-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Gallery Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage gallery images shown on the website. Images should be high-quality and relevant to The Quarterdeck."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),s.jsxs("span",{className:"text-sm",children:[_," Renders"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsxs("span",{className:"text-sm",children:[S," Construction"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsxs("span",{className:"text-sm",children:[C," Facilities"]})]}),s.jsxs("div",{className:"border-l pl-3 flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[P," Active"]}),k>0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",k," Hidden"]})]})]})]}),s.jsxs(yt,{open:n,onOpenChange:A=>{a(A),A||(r(null),v())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-gallery-image",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Image"]})}),s.jsxs(vt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Image":"Add New Image"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Nb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Image Guidelines"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-blue-700 dark:text-blue-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Recommended:"}),s.jsx("p",{className:"text-xs",children:Au.dimensions.recommended})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Formats:"}),s.jsx("p",{className:"text-xs",children:Au.formats.join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Max Size:"}),s.jsx("p",{className:"text-xs",children:Au.maxFileSize})]})]})]})]})}),s.jsxs(Vs,{defaultValue:"url",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsxs(Lt,{value:"url",className:"flex items-center gap-2","data-testid":"tab-url",children:[s.jsx(Xk,{className:"w-4 h-4"})," URL"]}),s.jsxs(Lt,{value:"upload",className:"flex items-center gap-2","data-testid":"tab-upload",children:[s.jsx(lr,{className:"w-4 h-4"})," Upload (Testing)"]})]}),s.jsx(Ft,{value:"url",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"imageUrl",children:"Image URL"}),s.jsx(X,{id:"imageUrl",value:d.imageUrl,onChange:A=>f({...d,imageUrl:A.target.value}),placeholder:"https://example.com/image.jpg","data-testid":"input-gallery-url"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a direct link to your image. Supports any publicly accessible URL."})]})}),s.jsxs(Ft,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var A;return!i&&((A=u.current)==null?void 0:A.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while your image is being uploaded."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx($,{variant:"outline",size:"sm",onClick:A=>{A.stopPropagation(),c(null),f(O=>({...O,imageUrl:""})),u.current&&(u.current.value="")},"data-testid":"button-clear-upload",children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop or click to browse"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:A=>{A.target.style.display="none"}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title"}),s.jsx(X,{id:"title",value:d.title,onChange:A=>f({...d,title:A.target.value}),placeholder:"e.g., Padel Court Construction - Week 12","data-testid":"input-gallery-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{htmlFor:"category",children:"Category"}),s.jsxs(NJ,{children:[s.jsx(_J,{asChild:!0,children:s.jsx(Ls,{className:"w-4 h-4 text-muted-foreground cursor-help"})}),s.jsx(gL,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Renders:"})," ",Au.categories.Renders]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Construction:"})," ",Au.categories.Construction]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Facilities:"})," ",Au.categories.Facilities]})]})})]})]}),s.jsxs(kt,{value:d.category,onValueChange:A=>f({...d,category:A}),children:[s.jsx(Nt,{"data-testid":"select-gallery-category",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"Renders",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Renders"]})}),s.jsx(Se,{value:"Construction",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Construction"]})}),s.jsx(Se,{value:"Facilities",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Facilities"]})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:d.description,onChange:A=>f({...d,description:A.target.value}),rows:3,"data-testid":"input-gallery-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:A=>f({...d,sortOrder:parseInt(A.target.value)||0}),"data-testid":"input-gallery-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isActive",checked:d.isActive,onCheckedChange:A=>f({...d,isActive:A})}),s.jsx(z,{htmlFor:"isActive",children:"Active (visible on website)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx($,{onClick:w,disabled:i||m.isPending||j.isPending,"data-testid":"button-save-gallery-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[p==null?void 0:p.map(A=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-gallery-${A.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[A.imageUrl?s.jsx("img",{src:A.imageUrl,alt:A.title||"Gallery image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(la,{className:"w-12 h-12 text-muted-foreground"})}),!A.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ue,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(ae,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium truncate",children:A.title||"Untitled"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:A.description||"No description"})]}),N(A.category)]}),s.jsxs("div",{className:"flex justify-end gap-1 mt-3",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>g(A),"data-testid":`button-edit-gallery-${A.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>{confirm("Are you sure you want to delete this image?")&&b.mutate(A.id)},"data-testid":`button-delete-gallery-${A.id}`,children:s.jsx(ur,{className:"w-4 h-4 text-destructive"})})]})]})]},A.id)),(!p||p.length===0)&&s.jsxs("div",{className:"col-span-full text-center text-muted-foreground py-12",children:[s.jsx(la,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No gallery images found. Add your first image to get started."})]})]})]})})}const $M=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"coming-soon",label:"Coming Soon"},{value:"about",label:"About Page"},{value:"contact",label:"Contact Page"},{value:"events",label:"Events Page"}],DM={landing:[{value:"hero",label:"Hero Background",dimensions:"1920x1080"},{value:"gallery-1",label:"Gallery Image 1",dimensions:"800x600"},{value:"gallery-2",label:"Gallery Image 2",dimensions:"800x600"},{value:"gallery-3",label:"Gallery Image 3",dimensions:"800x600"},{value:"about-bg",label:"About Section Background",dimensions:"1200x800"}],facilities:[{value:"padel-tennis",label:"Padel Tennis Header",dimensions:"1920x600"},{value:"squash",label:"Squash Courts Header",dimensions:"1920x600"},{value:"air-rifle-range",label:"Air Rifle Range Header",dimensions:"1920x600"},{value:"bridge-room",label:"Bridge Room Header",dimensions:"1920x600"},{value:"multipurpose-hall",label:"Multipurpose Hall Header",dimensions:"1920x600"}],"coming-soon":[{value:"hero",label:"Coming Soon Hero",dimensions:"1920x1080"},{value:"countdown-bg",label:"Countdown Background",dimensions:"1920x600"}],about:[{value:"hero",label:"About Hero",dimensions:"1920x600"},{value:"team",label:"Team Section Background",dimensions:"1200x800"}],contact:[{value:"hero",label:"Contact Hero",dimensions:"1920x400"},{value:"map-bg",label:"Map Background",dimensions:"1200x600"}],events:[{value:"hero",label:"Events Hero",dimensions:"1920x600"},{value:"academy-bg",label:"Academy Section",dimensions:"1200x600"}]};function rDe(){var P,k,A,O;const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef(null),[d,f]=x.useState({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),h=async R=>{var L;const M=(L=R.target.files)==null?void 0:L[0];if(M){if(!["image/jpeg","image/png","image/webp"].includes(M.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(M.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}o(!0);try{const T=new FormData;T.append("image",M);const W=await fetch("/api/admin/upload",{method:"POST",body:T,credentials:"include"});if(!W.ok){let D="Upload failed";try{D=(await W.json()).message||D}catch{D=W.statusText||D}throw new Error(D)}const E=await W.json();c({name:M.name,url:E.imageUrl}),f(D=>({...D,imageUrl:E.imageUrl})),e({title:"Upload successful",description:"Your image has been uploaded."})}catch(T){e({title:"Upload failed",description:T.message||"Failed to upload image.",variant:"destructive"})}finally{o(!1)}}},{data:p,isLoading:y}=de({queryKey:["/api/admin/site-images"]}),m=be({mutationFn:R=>ye("POST","/api/admin/site-images",R),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),v(),e({title:"Site image added successfully"})},onError:()=>{e({title:"Failed to add site image",variant:"destructive"})}}),j=be({mutationFn:({id:R,data:M})=>ye("PATCH",`/api/admin/site-images/${R}`,M),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),a(!1),v(),e({title:"Site image updated successfully"})},onError:()=>{e({title:"Failed to update site image",variant:"destructive"})}}),b=be({mutationFn:R=>ye("DELETE",`/api/admin/site-images/${R}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-images"]}),re.invalidateQueries({queryKey:["/api/site-images"]}),e({title:"Site image deleted successfully"})},onError:()=>{e({title:"Failed to delete site image",variant:"destructive"})}}),v=()=>{f({key:"",imageUrl:"",alt:"",title:"",description:"",page:"landing",section:"",dimensions:"",isActive:!0,sortOrder:0}),r(null),c(null),u.current&&(u.current.value="")},g=R=>{r(R),f({key:R.key,imageUrl:R.imageUrl,alt:R.alt||"",title:R.title||"",description:R.description||"",page:R.page,section:R.section||"",dimensions:R.dimensions||"",isActive:R.isActive??!0,sortOrder:R.sortOrder||0}),a(!0)},w=()=>{if(!d.key||!d.imageUrl||!d.page){e({title:"Missing required fields",description:"Please fill in the key, image URL, and page.",variant:"destructive"});return}t?j.mutate({id:t.id,data:d}):m.mutate(d)},N=R=>{f(M=>({...M,page:R,section:""}))},_=R=>{var L;const M=(L=DM[d.page])==null?void 0:L.find(T=>T.value===R);f(T=>({...T,section:R,dimensions:(M==null?void 0:M.dimensions)||"",key:t?T.key:`${d.page}_${R}`}))},S=R=>{const M=$M.find(T=>T.value===R),L={landing:"bg-blue-500",facilities:"bg-green-500","coming-soon":"bg-purple-500",about:"bg-amber-500",contact:"bg-teal-500",events:"bg-rose-500"};return s.jsx(ue,{className:L[R]||"bg-gray-500",children:(M==null?void 0:M.label)||R})};if(y)return s.jsx(st,{title:"Site Images",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const C=(p==null?void 0:p.reduce((R,M)=>{const L=M.page||"other";return R[L]||(R[L]=[]),R[L].push(M),R},{}))||{};return s.jsx(st,{title:"Site Images",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-green-500/10 border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-1",children:"Site Images Management"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage all website images from a central location. Upload and update images for the landing page, facility pages, coming soon pages, and more."}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 rounded",children:["Landing: ",((P=C.landing)==null?void 0:P.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-green-500/20 rounded",children:["Facilities: ",((k=C.facilities)==null?void 0:k.length)||0]}),s.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:["Coming Soon: ",((A=C["coming-soon"])==null?void 0:A.length)||0]})]})]}),s.jsxs(yt,{open:n,onOpenChange:R=>{a(R),R||v()},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-site-image",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Site Image"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Site Image":"Add New Site Image"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"page",children:"Page *"}),s.jsxs(kt,{value:d.page,onValueChange:N,children:[s.jsx(Nt,{"data-testid":"select-site-image-page",children:s.jsx(Ct,{placeholder:"Select page"})}),s.jsx(_t,{children:$M.map(R=>s.jsx(Se,{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"section",children:"Section"}),s.jsxs(kt,{value:d.section,onValueChange:_,children:[s.jsx(Nt,{"data-testid":"select-site-image-section",children:s.jsx(Ct,{placeholder:"Select section"})}),s.jsx(_t,{children:(O=DM[d.page])==null?void 0:O.map(R=>s.jsxs(Se,{value:R.value,children:[R.label," (",R.dimensions,")"]},R.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"key",children:"Unique Key *"}),s.jsx(X,{id:"key",value:d.key,onChange:R=>f({...d,key:R.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., landing_hero",disabled:!!t,"data-testid":"input-site-image-key"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This key is used to reference the image in the code."})]}),s.jsxs(Vs,{defaultValue:"upload",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsx(Lt,{value:"upload",children:"Upload File"}),s.jsx(Lt,{value:"url",children:"Use URL"})]}),s.jsxs(Ft,{value:"url",className:"space-y-2 mt-4",children:[s.jsx(z,{htmlFor:"imageUrl",children:"Image URL *"}),s.jsx(X,{id:"imageUrl",value:d.imageUrl,onChange:R=>f({...d,imageUrl:R.target.value}),placeholder:"https://...","data-testid":"input-site-image-url"})]}),s.jsxs(Ft,{value:"upload",className:"space-y-4 mt-4",children:[s.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/jpeg,image/png,image/webp",className:"hidden","data-testid":"input-file-upload"}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${l?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-muted/50"}`,onClick:()=>{var R;return!i&&((R=u.current)==null?void 0:R.click())},children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-12 h-12 mx-auto text-primary animate-spin mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Uploading..."})]}):l?s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"w-12 h-12 mx-auto text-green-600 dark:text-green-400 mb-4"}),s.jsx("p",{className:"font-medium mb-1 text-green-700 dark:text-green-300",children:"Upload Complete"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.name}),s.jsx($,{variant:"outline",size:"sm",onClick:R=>{R.stopPropagation(),c(null),f(M=>({...M,imageUrl:""})),u.current&&(u.current.value="")},children:"Upload Different Image"})]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"font-medium mb-1",children:"Click to Upload Image"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"JPEG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"PNG"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"WebP"}),s.jsx("span",{className:"px-2 py-1 bg-muted rounded",children:"Max 5MB"})]})]})})]})]}),d.imageUrl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Preview"}),s.jsx("div",{className:"rounded-md overflow-hidden border aspect-video bg-muted",children:s.jsx("img",{src:d.imageUrl,alt:"Preview",className:"w-full h-full object-cover",onError:R=>{R.target.style.display="none"}})})]}),d.dimensions&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[s.jsx(Nb,{className:"w-4 h-4 text-blue-500"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Recommended dimensions: ",s.jsx("strong",{children:d.dimensions})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title"}),s.jsx(X,{id:"title",value:d.title,onChange:R=>f({...d,title:R.target.value}),placeholder:"Image title","data-testid":"input-site-image-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"alt",children:"Alt Text"}),s.jsx(X,{id:"alt",value:d.alt,onChange:R=>f({...d,alt:R.target.value}),placeholder:"Image description for accessibility","data-testid":"input-site-image-alt"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"description",children:"Description"}),s.jsx(ct,{id:"description",value:d.description,onChange:R=>f({...d,description:R.target.value}),rows:2,"data-testid":"input-site-image-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:R=>f({...d,sortOrder:parseInt(R.target.value)||0}),"data-testid":"input-site-image-sort"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Qt,{id:"isActive",checked:d.isActive,onCheckedChange:R=>f({...d,isActive:R})}),s.jsx(z,{htmlFor:"isActive",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancel"}),s.jsx($,{onClick:w,disabled:i||m.isPending||j.isPending,"data-testid":"button-save-site-image",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Add"]})})]})]})]})]})]})}),Object.keys(C).length===0?s.jsx(se,{className:"border-dashed",children:s.jsxs(ae,{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(la,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Site Images Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-6",children:"Upload images to customize the look of your website. Images can be used for hero backgrounds, facility headers, gallery sections, and more."}),s.jsxs($,{onClick:()=>a(!0),"data-testid":"button-add-first-image",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Your First Image"]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8",children:[s.jsx("h4",{className:"font-semibold text-center mb-6",children:"Where Images Can Be Used"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[s.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Landing Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero background, gallery images, about section"}),s.jsx("p",{className:"text-xs text-blue-500 mt-2",children:"Recommended: 1920x1080 for hero"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[s.jsx("h5",{className:"font-medium text-green-700 dark:text-green-300 mb-1",children:"Facilities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Headers for each sport facility page"}),s.jsx("p",{className:"text-xs text-green-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[s.jsx("h5",{className:"font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hero and countdown backgrounds"}),s.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Recommended: 1920x1080"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx("h5",{className:"font-medium text-amber-700 dark:text-amber-300 mb-1",children:"About Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"About hero and team section"}),s.jsx("p",{className:"text-xs text-amber-500 mt-2",children:"Recommended: 1920x600"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-teal-500/10 border border-teal-500/20",children:[s.jsx("h5",{className:"font-medium text-teal-700 dark:text-teal-300 mb-1",children:"Contact Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact hero and map background"}),s.jsx("p",{className:"text-xs text-teal-500 mt-2",children:"Recommended: 1920x400"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-rose-500/10 border border-rose-500/20",children:[s.jsx("h5",{className:"font-medium text-rose-700 dark:text-rose-300 mb-1",children:"Events Page"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Events hero and academy section"}),s.jsx("p",{className:"text-xs text-rose-500 mt-2",children:"Recommended: 1920x600"})]})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-8 text-center",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"How It Works"}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 text-sm text-muted-foreground max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"1"})}),s.jsx("span",{children:'Click "Add Site Image" and select a page and section'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"2"})}),s.jsx("span",{children:"Upload your image or paste a URL"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-primary font-bold text-xs",children:"3"})}),s.jsx("span",{children:"Save and it appears on your website instantly"})]})]})]})]})}):Object.entries(C).map(([R,M])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[S(R),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",M.length," images)"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:M.map(L=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-site-image-${L.id}`,children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[L.imageUrl?s.jsx("img",{src:L.imageUrl,alt:L.alt||L.title||"Site image",className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(la,{className:"w-12 h-12 text-muted-foreground"})}),!L.isActive&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(ue,{variant:"secondary",children:"Hidden"})})]}),s.jsxs(ae,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:L.title||L.key}),s.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:L.key}),L.section&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:L.section}),L.dimensions&&s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:L.dimensions})]})}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>g(L),"data-testid":`button-edit-site-image-${L.id}`,children:[s.jsx(Kr,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx($,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>b.mutate(L.id),"data-testid":`button-delete-site-image-${L.id}`,children:s.jsx(ur,{className:"w-3 h-3"})})]})]})]},L.id))})]},R))]})})}function nDe(){var I,Y;const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,y]=x.useState(""),[m,j]=x.useState("all"),[b,v]=x.useState("all"),[g,w]=x.useState(!1),[N,_]=x.useState(null),S=x.useRef(null),C=async V=>{var te;const ee=(te=V.target.files)==null?void 0:te[0];if(!ee)return;if(ee.size>10*1024*1024){e({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(ee.type)){e({title:"Invalid file type",description:"Please upload an image (JPEG, PNG, WebP) or PDF",variant:"destructive"});return}w(!0);try{const ve=new FormData;ve.append("file",ee);const ie=await fetch("/api/admin/bookings/upload-proof",{method:"POST",body:ve,credentials:"include"});if(!ie.ok)throw new Error("Upload failed");const B=await ie.json();_({name:ee.name,url:B.url}),d(B.url),e({title:"Payment proof uploaded successfully"})}catch{e({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{w(!1)}},{data:P,isLoading:k}=de({queryKey:["/api/admin/bookings"]}),{data:A}=de({queryKey:["/api/admin/facilities"]}),O=V=>{if(!V||!A)return"Unknown";const ee=A.find(pe=>pe.id===V);return(ee==null?void 0:ee.name)||"Unknown"},R=be({mutationFn:async({id:V,data:ee})=>await ye("PATCH",`/api/admin/bookings/${V}/payment`,ee),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Booking updated successfully"}),a(!1),r(null),c("")},onError:()=>{e({title:"Failed to update booking",variant:"destructive"})}}),M=be({mutationFn:async({id:V,status:ee,cancelReason:pe})=>await ye("PATCH",`/api/admin/bookings/${V}/status`,{status:ee,cancelReason:pe}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/bookings"]}),e({title:"Status updated successfully"}),o(!1),h("")},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),L=()=>{t&&M.mutate({id:t.id,status:"CANCELLED",cancelReason:f})},T=()=>{t&&R.mutate({id:t.id,data:{paymentStatus:"VERIFIED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},W=()=>{t&&R.mutate({id:t.id,data:{paymentStatus:"REJECTED",paymentNotes:l,...u&&{paymentProofUrl:u}}})},E=V=>{switch(V){case"VERIFIED":return s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Verified"});case"PENDING_VERIFICATION":return s.jsx(ue,{variant:"default",className:"bg-yellow-600",children:"Pending Verification"});case"REJECTED":return s.jsx(ue,{variant:"destructive",children:"Rejected"});case"PENDING_PAYMENT":default:return s.jsx(ue,{variant:"secondary",children:"Awaiting Payment"})}},D=(V,ee)=>V==="CONFIRMED"&&ee==="VERIFIED"?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Confirmed"}):V==="CANCELLED"?s.jsx(ue,{variant:"destructive",children:"Cancelled"}):ee==="VERIFIED"&&V!=="CONFIRMED"?s.jsx(ue,{variant:"default",className:"bg-blue-600",children:"Payment Verified"}):ee==="PENDING_VERIFICATION"?s.jsx(ue,{variant:"default",className:"bg-amber-500",children:"Tentative - Awaiting Verification"}):s.jsx(ue,{variant:"secondary",children:"Tentative - Awaiting Payment"}),G=P==null?void 0:P.filter(V=>{var ie;const ee=O(V.facilityId),pe=V.id.toLowerCase().includes(p.toLowerCase())||ee.toLowerCase().includes(p.toLowerCase())||((ie=V.userId)==null?void 0:ie.toLowerCase().includes(p.toLowerCase())),te=m==="all"||V.paymentStatus===m,ve=b==="all"||V.status===b;return pe&&te&&ve}),J=(P==null?void 0:P.filter(V=>V.paymentStatus==="PENDING_VERIFICATION").length)||0;return k?s.jsx(st,{title:"Bookings Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Bookings Management",children:s.jsxs("div",{className:"space-y-6",children:[J>0&&s.jsx(se,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",children:s.jsxs(ae,{className:"flex items-center gap-3 p-4",children:[s.jsx(Tn,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[J," booking",J>1?"s":""," pending payment verification"]}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>j("PENDING_VERIFICATION"),className:"ml-auto","data-testid":"button-show-pending",children:"Show Pending"})]})}),s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5"}),"All Bookings (",(P==null?void 0:P.length)||0,")"]})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Hp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(X,{placeholder:"Search by ID, facility, or user...",value:p,onChange:V=>y(V.target.value),className:"pl-10","data-testid":"input-search-bookings"})]})}),s.jsxs(kt,{value:m,onValueChange:j,children:[s.jsxs(Nt,{className:"w-[180px]","data-testid":"select-payment-filter",children:[s.jsx(g3,{className:"h-4 w-4 mr-2"}),s.jsx(Ct,{placeholder:"Payment Status"})]}),s.jsxs(_t,{children:[s.jsx(Se,{value:"all",children:"All Payments"}),s.jsx(Se,{value:"PENDING_PAYMENT",children:"Awaiting Payment"}),s.jsx(Se,{value:"PENDING_VERIFICATION",children:"Pending Verification"}),s.jsx(Se,{value:"VERIFIED",children:"Verified"}),s.jsx(Se,{value:"REJECTED",children:"Rejected"})]})]}),s.jsxs(kt,{value:b,onValueChange:v,children:[s.jsx(Nt,{className:"w-[160px]","data-testid":"select-status-filter",children:s.jsx(Ct,{placeholder:"Status"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"all",children:"All Status"}),s.jsx(Se,{value:"PENDING",children:"Pending"}),s.jsx(Se,{value:"CONFIRMED",children:"Confirmed"}),s.jsx(Se,{value:"CANCELLED",children:"Cancelled"})]})]})]}),G&&G.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Booking ID"}),s.jsx(ce,{children:"Date / Time"}),s.jsx(ce,{children:"Facility"}),s.jsx(ce,{children:"Amount"}),s.jsx(ce,{children:"Payment"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{children:"Actions"})]})}),s.jsx(Tr,{children:G.map(V=>{var ee;return s.jsxs(Ze,{"data-testid":`row-booking-${V.id}`,children:[s.jsxs(ne,{className:"font-mono text-xs",children:[V.id.slice(0,8),"..."]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-sm font-medium",children:V.date}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[V.startTime," - ",V.endTime]})]}),s.jsxs(ne,{children:[s.jsx("div",{className:"text-sm",children:O(V.facilityId)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Resource #",V.resourceId]})]}),s.jsx(ne,{children:s.jsxs("span",{className:"font-medium",children:["PKR ",((ee=V.totalPrice)==null?void 0:ee.toLocaleString())||0]})}),s.jsx(ne,{children:E(V.paymentStatus)}),s.jsx(ne,{children:D(V.status,V.paymentStatus)}),s.jsx(ne,{children:s.jsx($,{size:"sm",variant:"ghost",onClick:()=>{r(V),c(V.paymentNotes||""),d(V.paymentProofUrl||""),_(null),a(!0)},"data-testid":`button-view-${V.id}`,children:s.jsx(as,{className:"h-4 w-4"})})})]},V.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bookings found matching your filters."})]})]}),s.jsx(yt,{open:n,onOpenChange:a,children:s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(jt,{children:"Booking Details"})}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Booking ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.id})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"User ID"}),s.jsx("p",{className:"font-mono text-sm",children:t.userId})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Time"}),s.jsxs("p",{className:"font-medium",children:[t.startTime," - ",t.endTime]})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Facility"}),s.jsx("p",{className:"font-medium",children:O(t.facilityId)})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Resource"}),s.jsxs("p",{className:"font-medium",children:["#",t.resourceId]})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-lg",children:["PKR ",((I=t.totalPrice)==null?void 0:I.toLocaleString())||0]})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium capitalize",children:((Y=t.paymentMethod)==null?void 0:Y.replace("_"," "))||"N/A"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Payment Status"}),s.jsx("div",{className:"mt-1",children:E(t.paymentStatus)})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Booking Status"}),s.jsx("div",{className:"mt-1",children:D(t.status,t.paymentStatus)})]})]}),s.jsxs("div",{className:"mb-4 space-y-3",children:[s.jsx(z,{children:"Payment Proof"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",ref:S,onChange:C,accept:"image/jpeg,image/png,image/webp,application/pdf",className:"hidden","data-testid":"input-file-proof"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{var V;return(V=S.current)==null?void 0:V.click()},disabled:g,className:"flex-1","data-testid":"button-upload-proof",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"h-4 w-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"h-4 w-4 mr-2"})," Upload Receipt/Screenshot"]})}),(t.paymentProofUrl||u)&&s.jsx($,{variant:"outline",size:"icon",onClick:()=>window.open(u||t.paymentProofUrl||"","_blank"),title:"View proof document","data-testid":"button-view-proof",children:s.jsx(Zi,{className:"h-4 w-4"})})]}),N&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Uploaded: ",N.name]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("div",{className:"flex-1 h-px bg-border"}),s.jsx("span",{children:"or enter URL manually"}),s.jsx("div",{className:"flex-1 h-px bg-border"})]}),s.jsx(X,{id:"paymentProofUrl",value:u,onChange:V=>{d(V.target.value),_(null)},placeholder:"Enter proof URL (receipt/transfer screenshot)","data-testid":"input-payment-proof-url"}),t.paymentProofUrl&&!u&&!N&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",s.jsx("a",{href:t.paymentProofUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View existing proof"})]})]}),t.paymentVerifiedBy&&s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Verified by: ",t.paymentVerifiedBy,t.paymentVerifiedAt&&s.jsxs(s.Fragment,{children:[" on ",rs(new Date(t.paymentVerifiedAt),"PPp")]})]}),t.paymentStatus==="VERIFIED"&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-950 rounded-md border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Receipt Available"}),t.receiptNumber&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 font-mono",children:["#",t.receiptNumber]})]}),s.jsxs($,{size:"sm",variant:"outline",onClick:()=>window.open(`/api/admin/bookings/${t.id}/receipt`,"_blank"),"data-testid":"button-view-receipt",children:[s.jsx(ts,{className:"h-4 w-4 mr-2"}),"View Receipt"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"paymentNotes",children:"Admin Notes"}),s.jsx(ct,{id:"paymentNotes",value:l,onChange:V=>c(V.target.value),placeholder:"Add notes about payment verification...",rows:3,"data-testid":"textarea-payment-notes"})]})]}),(t.paymentStatus==="PENDING_VERIFICATION"||t.paymentStatus==="PENDING_PAYMENT")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs($,{onClick:T,disabled:R.isPending,className:"flex-1 bg-green-600 hover:bg-green-500","data-testid":"button-verify-payment",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Verify Payment"]}),s.jsxs($,{onClick:W,disabled:R.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-payment",children:[s.jsx(xi,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),t.status!=="CANCELLED"&&s.jsx("div",{className:"flex gap-3 pt-4 border-t",children:s.jsxs($,{onClick:()=>{o(!0)},disabled:M.isPending,variant:"destructive","data-testid":"button-cancel-booking",children:[s.jsx(xi,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]})}),s.jsx(yt,{open:i,onOpenChange:o,children:s.jsxs(vt,{children:[s.jsx(bt,{children:s.jsx(jt,{children:"Cancel Booking"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to cancel this booking? This action cannot be undone. The user will receive an email notification about the cancellation."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cancelReason",children:"Cancellation Reason (Optional)"}),s.jsx(ct,{id:"cancelReason",value:f,onChange:V=>h(V.target.value),placeholder:"Reason for cancellation...",rows:3,"data-testid":"textarea-cancel-reason"})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx($,{variant:"outline",onClick:()=>{o(!1),h("")},"data-testid":"button-cancel-dialog-close",children:"Keep Booking"}),s.jsx($,{variant:"destructive",onClick:L,disabled:M.isPending,"data-testid":"button-confirm-cancel",children:M.isPending?"Cancelling...":"Confirm Cancellation"})]})]})]})})]})})}function sDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState("header"),[l,c]=x.useState({label:"",href:"",location:"header",sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""}),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,y]=x.useState(""),[m,j]=x.useState(""),[b,v]=x.useState(""),[g,w]=x.useState(null),N=async(I,Y,V)=>{w(V);try{const ee=new FormData;ee.append("image",I);const pe=await fetch("/api/admin/upload",{method:"POST",body:ee,credentials:"include"});if(!pe.ok){const ve=await pe.json();throw new Error(ve.message||"Upload failed")}const te=await pe.json();te.imageUrl&&(Y(te.imageUrl),e({title:"Image uploaded successfully"}))}catch(ee){e({title:"Upload failed",description:ee.message||"Failed to upload image",variant:"destructive"})}finally{w(null)}},{data:_,isLoading:S,dataUpdatedAt:C}=de({queryKey:["/api/admin/site-settings"]}),{data:P,isLoading:k}=de({queryKey:["/api/admin/navbar-items"]}),A=I=>{var Y;return((Y=_==null?void 0:_.find(V=>V.key===I))==null?void 0:Y.value)||""};x.useEffect(()=>{_&&!S&&(d(A("logo_main_url")),h(A("logo_dark_url")),y(A("favicon_url")),j(A("site_name")||"The Quarterdeck"),v(A("site_tagline")||"Sports & Recreation Complex"))},[_,S,C]);const O=be({mutationFn:async I=>{for(const Y of I)await ye("POST","/api/admin/site-settings",Y)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Branding settings saved successfully"})},onError:()=>{e({title:"Failed to save branding settings",variant:"destructive"})}}),R=be({mutationFn:async I=>await ye("POST","/api/admin/navbar-items",I),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item created successfully"}),a(!1),T()},onError:()=>{e({title:"Failed to create navigation item",variant:"destructive"})}}),M=be({mutationFn:async({id:I,data:Y})=>await ye("PATCH",`/api/admin/navbar-items/${I}`,Y),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item updated successfully"}),a(!1),r(null),T()},onError:()=>{e({title:"Failed to update navigation item",variant:"destructive"})}}),L=be({mutationFn:async I=>await ye("DELETE",`/api/admin/navbar-items/${I}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/navbar-items"]}),re.invalidateQueries({queryKey:["/api/navbar-items"]}),e({title:"Navigation item deleted successfully"})},onError:()=>{e({title:"Failed to delete navigation item",variant:"destructive"})}}),T=()=>{c({label:"",href:"",location:i,sortOrder:0,isVisible:!0,target:"_self",requiresAuth:!1,icon:""})},W=I=>{r(I),c({label:I.label,href:I.href,location:I.location||"header",sortOrder:I.sortOrder,isVisible:I.isVisible,target:I.target||"_self",requiresAuth:I.requiresAuth||!1,icon:I.icon||""}),a(!0)},E=(P==null?void 0:P.filter(I=>(I.location||"header")==="header"))||[],D=(P==null?void 0:P.filter(I=>(I.location||"header")==="footer"))||[],G=()=>{t?M.mutate({id:t.id,data:l}):R.mutate(l)},J=()=>{const I=[{key:"logo_main_url",value:u,label:"Main Logo URL",category:"branding"},{key:"logo_dark_url",value:f,label:"Dark Mode Logo URL",category:"branding"},{key:"favicon_url",value:p,label:"Favicon URL",category:"branding"},{key:"site_name",value:m,label:"Site Name",category:"branding"},{key:"site_tagline",value:b,label:"Site Tagline",category:"branding"}];O.mutate(I)};return S||k?s.jsx(st,{title:"Branding & Navigation",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Branding & Navigation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(la,{className:"h-5 w-5"}),"Site Branding"]}),s.jsx(It,{children:"Customize your site logo, favicon, and branding text. Provide URLs to your logo images."})]}),s.jsxs(ae,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"siteName",children:"Site Name"}),s.jsx(X,{id:"siteName",value:m,onChange:I=>j(I.target.value),placeholder:"The Quarterdeck","data-testid":"input-site-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"siteTagline",children:"Site Tagline"}),s.jsx(X,{id:"siteTagline",value:b,onChange:I=>v(I.target.value),placeholder:"Sports & Recreation Complex","data-testid":"input-site-tagline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"logoUrl",children:"Main Logo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{id:"logoUrl",value:u,onChange:I=>d(I.target.value),placeholder:"https://example.com/logo.png or upload","data-testid":"input-logo-url",className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",disabled:g==="logo",onClick:()=>{var I;return(I=document.getElementById("logo-upload"))==null?void 0:I.click()},"data-testid":"button-upload-logo",children:g==="logo"?s.jsx(Ie,{className:"h-4 w-4 animate-spin"}):s.jsx(lr,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:I=>{var V;const Y=(V=I.target.files)==null?void 0:V[0];Y&&N(Y,d,"logo"),I.target.value=""}})]}),u&&s.jsxs("div",{className:"mt-2 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),s.jsx("img",{src:u,alt:"Logo preview",className:"h-12 w-auto object-contain"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"logoDarkUrl",children:"Dark Mode Logo (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{id:"logoDarkUrl",value:f,onChange:I=>h(I.target.value),placeholder:"https://example.com/logo-dark.png or upload","data-testid":"input-logo-dark-url",className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",disabled:g==="logoDark",onClick:()=>{var I;return(I=document.getElementById("logo-dark-upload"))==null?void 0:I.click()},"data-testid":"button-upload-logo-dark",children:g==="logoDark"?s.jsx(Ie,{className:"h-4 w-4 animate-spin"}):s.jsx(lr,{className:"h-4 w-4"})}),s.jsx("input",{id:"logo-dark-upload",type:"file",accept:"image/*",className:"hidden",onChange:I=>{var V;const Y=(V=I.target.files)==null?void 0:V[0];Y&&N(Y,h,"logoDark"),I.target.value=""}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"faviconUrl",children:"Favicon"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{id:"faviconUrl",value:p,onChange:I=>y(I.target.value),placeholder:"https://example.com/favicon.ico or upload","data-testid":"input-favicon-url",className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",disabled:g==="favicon",onClick:()=>{var I;return(I=document.getElementById("favicon-upload"))==null?void 0:I.click()},"data-testid":"button-upload-favicon",children:g==="favicon"?s.jsx(Ie,{className:"h-4 w-4 animate-spin"}):s.jsx(lr,{className:"h-4 w-4"})}),s.jsx("input",{id:"favicon-upload",type:"file",accept:"image/*,.ico",className:"hidden",onChange:I=>{var V;const Y=(V=I.target.files)==null?void 0:V[0];Y&&N(Y,y,"favicon"),I.target.value=""}})]})]}),s.jsxs($,{onClick:J,disabled:O.isPending,"data-testid":"button-save-branding",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),O.isPending?"Saving...":"Save Branding Settings"]})]})]}),s.jsxs(se,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(CQ,{className:"h-5 w-5"}),"Navigation Items"]}),s.jsx(It,{children:"Manage header and footer navigation links."})]}),s.jsxs($,{onClick:()=>{T(),r(null),a(!0)},"data-testid":"button-add-nav-item",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.jsx(ae,{children:s.jsxs(Vs,{value:i,onValueChange:I=>o(I),children:[s.jsxs(ws,{className:"mb-4",children:[s.jsxs(Lt,{value:"header","data-testid":"tab-header-nav",children:["Top Navbar (",E.length,")"]}),s.jsxs(Lt,{value:"footer","data-testid":"tab-footer-nav",children:["Footer Links (",D.length,")"]})]}),s.jsx(Ft,{value:"header",children:E.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{className:"w-[50px]",children:"Order"}),s.jsx(ce,{children:"Label"}),s.jsx(ce,{children:"Link"}),s.jsx(ce,{children:"Visibility"}),s.jsx(ce,{children:"Actions"})]})}),s.jsx(Tr,{children:E.map(I=>s.jsxs(Ze,{"data-testid":`row-nav-${I.id}`,children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:I.sortOrder})]})}),s.jsx(ne,{className:"font-medium",children:I.label}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[I.href,I.target==="_blank"&&s.jsx(Zi,{className:"h-3 w-3"})]})}),s.jsx(ne,{children:I.isVisible?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Visible"}):s.jsx(ue,{variant:"secondary",children:"Hidden"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>W(I),"data-testid":`button-edit-nav-${I.id}`,children:s.jsx(Kr,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>L.mutate(I.id),"data-testid":`button-delete-nav-${I.id}`,children:s.jsx(ur,{className:"h-4 w-4"})})]})})]},I.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No header navigation items. Click "Add Item" to create one.'})}),s.jsx(Ft,{value:"footer",children:D.length>0?s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{className:"w-[50px]",children:"Order"}),s.jsx(ce,{children:"Label"}),s.jsx(ce,{children:"Link"}),s.jsx(ce,{children:"Visibility"}),s.jsx(ce,{children:"Actions"})]})}),s.jsx(Tr,{children:D.map(I=>s.jsxs(Ze,{"data-testid":`row-nav-footer-${I.id}`,children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ld,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:I.sortOrder})]})}),s.jsx(ne,{className:"font-medium",children:I.label}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[I.href,I.target==="_blank"&&s.jsx(Zi,{className:"h-3 w-3"})]})}),s.jsx(ne,{children:I.isVisible?s.jsx(ue,{variant:"default",className:"bg-green-600",children:"Visible"}):s.jsx(ue,{variant:"secondary",children:"Hidden"})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>W(I),"data-testid":`button-edit-nav-footer-${I.id}`,children:s.jsx(Kr,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>L.mutate(I.id),"data-testid":`button-delete-nav-footer-${I.id}`,children:s.jsx(ur,{className:"h-4 w-4"})})]})})]},I.id))})]})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No footer navigation items. Click "Add Item" to create one.'})})]})})]}),s.jsx(yt,{open:n,onOpenChange:a,children:s.jsxs(vt,{children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Navigation Item":"Add Navigation Item"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"navLabel",children:"Label"}),s.jsx(X,{id:"navLabel",value:l.label,onChange:I=>c({...l,label:I.target.value}),placeholder:"Home","data-testid":"input-nav-label"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"navHref",children:"Link URL"}),s.jsx(X,{id:"navHref",value:l.href,onChange:I=>c({...l,href:I.target.value}),placeholder:"/home or https://...","data-testid":"input-nav-href"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"navLocation",children:"Navigation Location"}),s.jsxs(kt,{value:l.location,onValueChange:I=>c({...l,location:I}),children:[s.jsx(Nt,{"data-testid":"select-nav-location",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"header",children:"Top Navbar"}),s.jsx(Se,{value:"footer",children:"Footer"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"navOrder",children:"Sort Order"}),s.jsx(X,{id:"navOrder",type:"number",value:l.sortOrder,onChange:I=>c({...l,sortOrder:parseInt(I.target.value)||0}),"data-testid":"input-nav-order"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"navTarget",children:"Link Target"}),s.jsxs(kt,{value:l.target,onValueChange:I=>c({...l,target:I}),children:[s.jsx(Nt,{"data-testid":"select-nav-target",children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"_self",children:"Same Window"}),s.jsx(Se,{value:"_blank",children:"New Window"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"navVisible",children:"Visible"}),s.jsx(Qt,{id:"navVisible",checked:l.isVisible,onCheckedChange:I=>c({...l,isVisible:I}),"data-testid":"switch-nav-visible"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"navAuth",children:"Requires Authentication"}),s.jsx(Qt,{id:"navAuth",checked:l.requiresAuth,onCheckedChange:I=>c({...l,requiresAuth:I}),"data-testid":"switch-nav-auth"})]}),s.jsxs($,{className:"w-full",onClick:G,disabled:R.isPending||M.isPending,"data-testid":"button-save-nav-item",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),t?"Update Item":"Create Item"]})]})]})})]})})}var aDe=Symbol("radix.slottable");function iDe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=aDe,t}var E7="AlertDialog",[oDe]=gn(E7,[I6]),go=I6(),A7=e=>{const{__scopeAlertDialog:t,...r}=e,n=go(t);return s.jsx(U2,{...n,...r,modal:!0})};A7.displayName=E7;var lDe="AlertDialogTrigger",O7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=go(r);return s.jsx(Q6,{...a,...n,ref:t})});O7.displayName=lDe;var cDe="AlertDialogPortal",T7=e=>{const{__scopeAlertDialog:t,...r}=e,n=go(t);return s.jsx(B2,{...n,...r})};T7.displayName=cDe;var uDe="AlertDialogOverlay",I7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=go(r);return s.jsx(e0,{...a,...n,ref:t})});I7.displayName=uDe;var xd="AlertDialogContent",[dDe,fDe]=oDe(xd),hDe=iDe("AlertDialogContent"),R7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=go(r),o=x.useRef(null),l=ut(t,o),c=x.useRef(null);return s.jsx(boe,{contentName:xd,titleName:M7,docsSlug:"alert-dialog",children:s.jsx(dDe,{scope:r,cancelRef:c,children:s.jsxs(t0,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(hDe,{children:n}),s.jsx(pDe,{contentRef:o})]})})})});R7.displayName=xd;var M7="AlertDialogTitle",$7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=go(r);return s.jsx(V2,{...a,...n,ref:t})});$7.displayName=M7;var D7="AlertDialogDescription",L7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=go(r);return s.jsx(q2,{...a,...n,ref:t})});L7.displayName=D7;var mDe="AlertDialogAction",F7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=go(r);return s.jsx(z2,{...a,...n,ref:t})});F7.displayName=mDe;var U7="AlertDialogCancel",B7=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=fDe(U7,r),i=go(r),o=ut(t,a);return s.jsx(z2,{...i,...n,ref:o})});B7.displayName=U7;var pDe=({contentRef:e})=>{const t=`\`${xd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xd}\` by passing a \`${D7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},gDe=A7,xDe=O7,vDe=T7,V7=I7,q7=R7,z7=F7,W7=B7,K7=$7,H7=L7;const Zf=gDe,kP=xDe,yDe=vDe,G7=x.forwardRef(({className:e,...t},r)=>s.jsx(V7,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));G7.displayName=V7.displayName;const ru=x.forwardRef(({className:e,...t},r)=>s.jsxs(yDe,{children:[s.jsx(G7,{}),s.jsx(q7,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ru.displayName=q7.displayName;const nu=({className:e,...t})=>s.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});nu.displayName="AlertDialogHeader";const su=({className:e,...t})=>s.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});su.displayName="AlertDialogFooter";const au=x.forwardRef(({className:e,...t},r)=>s.jsx(K7,{ref:r,className:je("text-lg font-semibold",e),...t}));au.displayName=K7.displayName;const iu=x.forwardRef(({className:e,...t},r)=>s.jsx(H7,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));iu.displayName=H7.displayName;const ou=x.forwardRef(({className:e,...t},r)=>s.jsx(z7,{ref:r,className:je(p2(),e),...t}));ou.displayName=z7.displayName;const lu=x.forwardRef(({className:e,...t},r)=>s.jsx(W7,{ref:r,className:je(p2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lu.displayName=W7.displayName;const bDe=ba({title:gt().min(1,"Title is required"),icon:gt().optional(),sortOrder:a0.number().default(0),isActive:rC().default(!0)}),jDe=ba({categoryId:gt().min(1,"Category is required"),question:gt().min(1,"Question is required"),answer:gt().min(1,"Answer is required"),sortOrder:a0.number().default(0),isActive:rC().default(!0)}),wDe=[{value:"help-circle",label:"Help Circle"},{value:"users",label:"Users"},{value:"calendar",label:"Calendar"},{value:"credit-card",label:"Credit Card"},{value:"building-2",label:"Building"},{value:"shield",label:"Shield"},{value:"clock",label:"Clock"},{value:"settings",label:"Settings"}];function NDe(){const{toast:e}=mt(),[t,r]=x.useState(!1),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,y]=x.useState(new Set),{data:m=[],isLoading:j}=de({queryKey:["/api/admin/faq/categories"]}),{data:b=[],isLoading:v}=de({queryKey:["/api/admin/faq/items"]}),g=qs({resolver:zs(bDe),defaultValues:{title:"",icon:"help-circle",sortOrder:0,isActive:!0}}),w=qs({resolver:zs(jDe),defaultValues:{categoryId:"",question:"",answer:"",sortOrder:0,isActive:!0}}),N=be({mutationFn:async E=>await ye("POST","/api/admin/faq/categories",E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category created successfully"}),r(!1),g.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),_=be({mutationFn:async({id:E,data:D})=>await ye("PATCH",`/api/admin/faq/categories/${E}`,D),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),e({title:"Category updated successfully"}),r(!1),o(null),g.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),S=be({mutationFn:async E=>await ye("DELETE",`/api/admin/faq/categories/${E}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/categories"]}),re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"Category deleted successfully"})},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),C=be({mutationFn:async E=>await ye("POST","/api/admin/faq/items",E),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item created successfully"}),a(!1),w.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),P=be({mutationFn:async({id:E,data:D})=>await ye("PATCH",`/api/admin/faq/items/${E}`,D),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item updated successfully"}),a(!1),c(null),w.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),k=be({mutationFn:async E=>await ye("DELETE",`/api/admin/faq/items/${E}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/faq/items"]}),e({title:"FAQ item deleted successfully"})},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),A=E=>{o(E),g.reset({title:E.title,icon:E.icon||"help-circle",sortOrder:E.sortOrder||0,isActive:E.isActive??!0}),r(!0)},O=E=>{c(E),w.reset({categoryId:E.categoryId,question:E.question,answer:E.answer,sortOrder:E.sortOrder||0,isActive:E.isActive??!0}),a(!0)},R=E=>{i?_.mutate({id:i.id,data:E}):N.mutate(E)},M=E=>{l?P.mutate({id:l.id,data:E}):C.mutate(E)},L=()=>{f&&(f.type==="category"?S.mutate(f.id):k.mutate(f.id),d(!1),h(null))},T=E=>{y(D=>{const G=new Set(D);return G.has(E)?G.delete(E):G.add(E),G})},W=E=>b.filter(D=>D.categoryId===E).sort((D,G)=>(D.sortOrder||0)-(G.sortOrder||0));return j||v?s.jsx(st,{title:"FAQ Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(st,{title:"FAQ Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-faq-management-title",children:"FAQ Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions and categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(yt,{open:t,onOpenChange:E=>{r(E),E||(o(null),g.reset())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{variant:"outline","data-testid":"button-add-category",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),s.jsxs(vt,{children:[s.jsx(bt,{children:s.jsx(jt,{children:i?"Edit Category":"Add Category"})}),s.jsx(Ks,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(R),className:"space-y-4",children:[s.jsx(et,{control:g.control,name:"title",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Title"}),s.jsx(Je,{children:s.jsx(X,{...E,"data-testid":"input-category-title"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:g.control,name:"icon",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Icon"}),s.jsxs(kt,{onValueChange:E.onChange,value:E.value,children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-category-icon",children:s.jsx(Ct,{placeholder:"Select an icon"})})}),s.jsx(_t,{children:wDe.map(D=>s.jsx(Se,{value:D.value,children:D.label},D.value))})]}),s.jsx(nt,{})]})}),s.jsx(et,{control:g.control,name:"sortOrder",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(X,{type:"number",...E,"data-testid":"input-category-sort-order"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:g.control,name:"isActive",render:({field:E})=>s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Je,{children:s.jsx(Qt,{checked:E.value,onCheckedChange:E.onChange,"data-testid":"switch-category-active"})}),s.jsx(z,{children:"Active"})]})}),s.jsxs($,{type:"submit",className:"w-full",disabled:N.isPending||_.isPending,"data-testid":"button-save-category",children:[(N.isPending||_.isPending)&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Update":"Create"," Category"]})]})})]})]}),s.jsxs(yt,{open:n,onOpenChange:E=>{a(E),E||(c(null),w.reset())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-faq-item",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add FAQ Item"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(jt,{children:l?"Edit FAQ Item":"Add FAQ Item"})}),s.jsx(Ks,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(M),className:"space-y-4",children:[s.jsx(et,{control:w.control,name:"categoryId",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Category"}),s.jsxs(kt,{onValueChange:E.onChange,value:E.value,children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-item-category",children:s.jsx(Ct,{placeholder:"Select a category"})})}),s.jsx(_t,{children:m.map(D=>s.jsx(Se,{value:D.id,children:D.title},D.id))})]}),s.jsx(nt,{})]})}),s.jsx(et,{control:w.control,name:"question",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Question"}),s.jsx(Je,{children:s.jsx(X,{...E,"data-testid":"input-item-question"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:w.control,name:"answer",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Answer"}),s.jsx(Je,{children:s.jsx(ct,{...E,rows:4,"data-testid":"input-item-answer"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(et,{control:w.control,name:"sortOrder",render:({field:E})=>s.jsxs(Qe,{className:"flex-1",children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(X,{type:"number",...E,"data-testid":"input-item-sort-order"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:w.control,name:"isActive",render:({field:E})=>s.jsxs(Qe,{className:"flex items-center gap-2 pt-8",children:[s.jsx(Je,{children:s.jsx(Qt,{checked:E.value,onCheckedChange:E.onChange,"data-testid":"switch-item-active"})}),s.jsx(z,{children:"Active"})]})})]}),s.jsxs($,{type:"submit",className:"w-full",disabled:C.isPending||P.isPending,"data-testid":"button-save-item",children:[(C.isPending||P.isPending)&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Update":"Create"," FAQ Item"]})]})})]})]})]})]}),m.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(Ls,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No FAQ Categories"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first category to start adding FAQ items."})]})}):s.jsx("div",{className:"space-y-4",children:m.sort((E,D)=>(E.sortOrder||0)-(D.sortOrder||0)).map(E=>s.jsxs(se,{className:"overflow-visible","data-testid":`card-category-${E.id}`,children:[s.jsx(Be,{className:"cursor-pointer",onClick:()=>T(E.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p.has(E.id)?s.jsx(Sc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(ma,{className:"w-5 h-5 text-muted-foreground"}),s.jsx(We,{className:"text-lg",children:E.title}),!E.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Inactive"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",W(E.id).length," items)"]})]}),s.jsxs("div",{className:"flex gap-2",onClick:D=>D.stopPropagation(),children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>A(E),"data-testid":`button-edit-category-${E.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{h({type:"category",id:E.id}),d(!0)},"data-testid":`button-delete-category-${E.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})]})}),p.has(E.id)&&s.jsx(ae,{className:"pt-0",children:W(E.id).length===0?s.jsx("p",{className:"text-muted-foreground text-sm py-4",children:"No FAQ items in this category."}):s.jsx("div",{className:"space-y-2",children:W(E.id).map(D=>s.jsxs("div",{className:"border rounded-md p-4 flex items-start justify-between gap-4","data-testid":`item-faq-${D.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:D.question}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:D.answer}),!D.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded mt-2 inline-block",children:"Inactive"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>O(D),"data-testid":`button-edit-item-${D.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{h({type:"item",id:D.id}),d(!0)},"data-testid":`button-delete-item-${D.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})]},D.id))})})]},E.id))}),s.jsx(Zf,{open:u,onOpenChange:d,children:s.jsxs(ru,{children:[s.jsxs(nu,{children:[s.jsx(au,{children:"Are you sure?"}),s.jsx(iu,{children:(f==null?void 0:f.type)==="category"?"This will delete the category and all its FAQ items. This action cannot be undone.":"This will delete the FAQ item. This action cannot be undone."})]}),s.jsxs(su,{children:[s.jsx(lu,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(ou,{onClick:L,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const Ah={dimensions:{recommended:"800 x 800 px (1:1 square)"},formats:["JPEG","PNG","WebP"],maxFileSize:"5 MB",dpi:"72-150 DPI (web optimized)",tips:["Use a well-lit, clear photo of the face","Avoid filters or heavy editing","Ensure the face is centered in the frame","Use a neutral or solid background if possible","Live selfie or camera capture is acceptable"]};function _De(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,d]=x.useState(null),f=x.useRef(null),[h,p]=x.useState({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),{data:y,isLoading:m}=de({queryKey:["/api/admin/users"]}),{data:j}=de({queryKey:["/api/auth/user"]}),b=(j==null?void 0:j.role)==="SUPER_ADMIN",v=be({mutationFn:async({id:k,data:A})=>await ye("PATCH",`/api/admin/users/${k}`,A),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Member updated successfully"}),a(!1),r(null),g()},onError:k=>{e({title:"Failed to update member",description:k.message||"An error occurred",variant:"destructive"})}}),g=()=>{p({firstName:"",lastName:"",phone:"",profileImageUrl:"",role:"USER",isSafetyCertified:!1,hasSignedWaiver:!1}),d(null),f.current&&(f.current.value="")},w=async k=>{var O;const A=(O=k.target.files)==null?void 0:O[0];if(A){if(!["image/jpeg","image/png","image/webp"].includes(A.type)){e({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}if(A.size>5*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 5MB.",variant:"destructive"});return}c(!0);try{const R=new FormData;R.append("image",A);const M=await fetch("/api/admin/upload",{method:"POST",body:R,credentials:"include"});if(!M.ok){let T="Upload failed";try{T=(await M.json()).message||T}catch{T=M.statusText||T}throw new Error(T)}const L=await M.json();d({name:A.name,url:L.imageUrl}),p(T=>({...T,profileImageUrl:L.imageUrl})),f.current&&(f.current.value=""),e({title:"Upload successful",description:"Profile photo has been uploaded."})}catch(R){e({title:"Upload failed",description:R.message||"Failed to upload image.",variant:"destructive"})}finally{c(!1),f.current&&(f.current.value="")}}},N=k=>{r(k),p({firstName:k.firstName||"",lastName:k.lastName||"",phone:k.phone||"",profileImageUrl:k.profileImageUrl||"",role:k.role,isSafetyCertified:k.isSafetyCertified||!1,hasSignedWaiver:k.hasSignedWaiver||!1}),d(null),f.current&&(f.current.value=""),a(!0)},_=()=>{t&&v.mutate({id:t.id,data:h})},S=y==null?void 0:y.filter(k=>{var R,M;if(!i)return!0;const A=i.toLowerCase();return`${k.firstName||""} ${k.lastName||""}`.toLowerCase().includes(A)||((R=k.email)==null?void 0:R.toLowerCase().includes(A))||((M=k.phone)==null?void 0:M.toLowerCase().includes(A))}),C=k=>{switch(k){case"SUPER_ADMIN":return"destructive";case"ADMIN":return"default";default:return"secondary"}},P=k=>{var R,M,L;const A=((R=k.firstName)==null?void 0:R.charAt(0))||"",O=((M=k.lastName)==null?void 0:M.charAt(0))||"";return(A+O).toUpperCase()||((L=k.email)==null?void 0:L.charAt(0).toUpperCase())||"?"};return s.jsx(st,{title:"Members Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-members-title",children:"Members Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage member profiles, certifications, and profile photos"})]})}),s.jsxs(se,{children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-4",children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-5 h-5"}),"All Members (",(S==null?void 0:S.length)||0,")"]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Hp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(X,{placeholder:"Search by name, email, phone...",value:i,onChange:k=>o(k.target.value),className:"pl-9","data-testid":"input-member-search"})]})]}),s.jsx(ae,{children:m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{className:"w-16",children:"Photo"}),s.jsx(ce,{children:"Name"}),s.jsx(ce,{children:"Email"}),s.jsx(ce,{children:"Phone"}),s.jsx(ce,{children:"Role"}),s.jsx(ce,{children:"Certifications"}),s.jsx(ce,{className:"w-20",children:"Actions"})]})}),s.jsxs(Tr,{children:[S==null?void 0:S.map(k=>s.jsxs(Ze,{"data-testid":`row-member-${k.id}`,children:[s.jsx(ne,{children:s.jsxs(zd,{className:"w-10 h-10",children:[s.jsx(Wd,{src:k.profileImageUrl||void 0,alt:`${k.firstName} ${k.lastName}`}),s.jsx(Kd,{children:P(k)})]})}),s.jsx(ne,{className:"font-medium",children:k.firstName||k.lastName?`${k.firstName||""} ${k.lastName||""}`.trim():s.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),s.jsx(ne,{children:k.email||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ne,{children:k.phone||s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ne,{children:s.jsx(ue,{variant:C(k.role),children:k.role})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex gap-1",children:[k.isSafetyCertified&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Safety"}),k.hasSignedWaiver&&s.jsx(ue,{variant:"outline",className:"text-xs",children:"Waiver"}),!k.isSafetyCertified&&!k.hasSignedWaiver&&s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})]})}),s.jsx(ne,{children:s.jsx($,{variant:"ghost",size:"icon",onClick:()=>N(k),"data-testid":`button-edit-member-${k.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})})})]},k.id)),(S==null?void 0:S.length)===0&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No members found"})})]})]})})]}),s.jsx(yt,{open:n,onOpenChange:k=>{a(k),k||(r(null),g())},children:s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:"Edit Member Profile"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(z,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(h3,{className:"w-4 h-4"}),"Profile Photo"]}),s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(zd,{className:"w-20 h-20",children:[s.jsx(Wd,{src:h.profileImageUrl||void 0}),s.jsx(Kd,{className:"text-xl",children:t?P(t):"?"})]}),s.jsx("div",{className:"flex-1 space-y-3",children:s.jsxs(Vs,{defaultValue:"upload",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsxs(Lt,{value:"upload","data-testid":"tab-upload",children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Upload"]}),s.jsxs(Lt,{value:"url","data-testid":"tab-url",children:[s.jsx(la,{className:"w-4 h-4 mr-2"}),"URL"]})]}),s.jsxs(Ft,{value:"upload",className:"space-y-3 mt-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:w,className:"hidden","data-testid":"input-member-image-file"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{var k;return(k=f.current)==null?void 0:k.click()},disabled:l,className:"w-full","data-testid":"button-upload-member-image",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lr,{className:"w-4 h-4 mr-2"}),"Choose File or Take Selfie"]})}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx(Sn,{className:"w-4 h-4"}),u.name]})]}),s.jsx(Ft,{value:"url",className:"space-y-3 mt-3",children:s.jsx(X,{value:h.profileImageUrl,onChange:k=>p({...h,profileImageUrl:k.target.value}),placeholder:"Enter image URL...","data-testid":"input-member-image-url"})})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Nb,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Image Guidelines:"}),s.jsxs("ul",{className:"list-disc ml-4 space-y-0.5",children:[s.jsxs("li",{children:["Dimensions: ",Ah.dimensions.recommended]}),s.jsxs("li",{children:["Formats: ",Ah.formats.join(", ")]}),s.jsxs("li",{children:["Max size: ",Ah.maxFileSize]}),s.jsxs("li",{children:["DPI: ",Ah.dpi]})]}),s.jsx("p",{className:"font-medium mt-2",children:"Tips:"}),s.jsx("ul",{className:"list-disc ml-4 space-y-0.5",children:Ah.tips.map((k,A)=>s.jsx("li",{children:k},A))})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"firstName",children:"First Name"}),s.jsx(X,{id:"firstName",value:h.firstName,onChange:k=>p({...h,firstName:k.target.value}),"data-testid":"input-member-firstname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"lastName",children:"Last Name"}),s.jsx(X,{id:"lastName",value:h.lastName,onChange:k=>p({...h,lastName:k.target.value}),"data-testid":"input-member-lastname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"phone",children:"Phone Number"}),s.jsx(X,{id:"phone",value:h.phone,onChange:k=>p({...h,phone:k.target.value}),placeholder:"+92 300 1234567","data-testid":"input-member-phone"})]}),b?s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"role",children:"Role"}),s.jsxs(kt,{value:h.role,onValueChange:k=>p({...h,role:k}),children:[s.jsx(Nt,{"data-testid":"select-member-role",children:s.jsx(Ct,{placeholder:"Select role..."})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"USER",children:"User"}),s.jsx(Se,{value:"ADMIN",children:"Admin"}),s.jsx(Se,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Role"}),s.jsxs("div",{className:"flex items-center gap-2 h-9 px-3 rounded-md border bg-muted/50",children:[s.jsx(ue,{variant:C(h.role),children:h.role}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Only super admins can change roles)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(z,{className:"text-base font-medium",children:"Certifications"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"safetyCertified",className:"font-normal",children:"Safety Certified"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has completed safety training"})]}),s.jsx(Qt,{id:"safetyCertified",checked:h.isSafetyCertified,onCheckedChange:k=>p({...h,isSafetyCertified:k}),"data-testid":"switch-safety-certified"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"signedWaiver",className:"font-normal",children:"Signed Waiver"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Member has signed liability waiver"})]}),s.jsx(Qt,{id:"signedWaiver",checked:h.hasSignedWaiver,onCheckedChange:k=>p({...h,hasSignedWaiver:k}),"data-testid":"switch-signed-waiver"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsxs($,{onClick:_,disabled:v.isPending,"data-testid":"button-save-member",children:[v.isPending&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})]})})}const o1=[{key:"instagram",label:"Instagram",icon:Zue,placeholder:"https://instagram.com/yourpage"},{key:"facebook",label:"Facebook",icon:oB,placeholder:"https://facebook.com/yourpage"},{key:"youtube",label:"YouTube",icon:rde,placeholder:"https://youtube.com/@yourchannel"},{key:"twitter",label:"Twitter/X",icon:lB,placeholder:"https://twitter.com/yourhandle"},{key:"linkedin",label:"LinkedIn",icon:ede,placeholder:"https://linkedin.com/company/yourcompany"}];function SDe(){const{toast:e}=mt(),[t,r]=x.useState(""),[n,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState({}),[f,h]=x.useState(""),[p,y]=x.useState(!1),[m,j]=x.useState(""),{data:b,isLoading:v}=de({queryKey:["/api/admin/site-settings"]}),g=P=>{var k;return((k=b==null?void 0:b.find(A=>A.key===P))==null?void 0:k.value)||""};x.useEffect(()=>{if(b&&!v){r(g("email")),a(g("phone")),o(g("address")),c(g("operating_hours"));const P={};o1.forEach(k=>{P[k.key]=g(k.key)}),d(P),h(g("whatsapp_phone")),y(g("whatsapp_button_visible")==="true"),j(g("whatsapp_message"))}},[b,v]);const w=be({mutationFn:async P=>{for(const k of P)await ye("POST","/api/admin/site-settings",k)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/site-settings"]}),re.invalidateQueries({queryKey:["/api/site-settings"]}),e({title:"Settings saved successfully"})},onError:()=>{e({title:"Failed to save settings",variant:"destructive"})}}),N=()=>{w.mutate([{key:"email",value:t,label:"Contact Email",category:"contact"},{key:"phone",value:n,label:"Contact Phone",category:"contact"},{key:"address",value:i,label:"Contact Address",category:"contact"},{key:"operating_hours",value:l,label:"Operating Hours",category:"contact"}])},_=()=>{const P=o1.map(k=>({key:k.key,value:u[k.key]||"",label:`${k.label} URL`,category:"social"}));w.mutate(P)},S=()=>{w.mutate([{key:"whatsapp_phone",value:f,label:"WhatsApp Phone",category:"whatsapp"},{key:"whatsapp_button_visible",value:p?"true":"false",label:"WhatsApp Button Visible",category:"whatsapp"},{key:"whatsapp_message",value:m,label:"WhatsApp Default Message",category:"whatsapp"}])},C=(P,k)=>{d(A=>({...A,[P]:k}))};return v?s.jsx(st,{title:"Site Settings",children:s.jsx("div",{className:"p-6",children:"Loading..."})}):s.jsx(st,{title:"Site Settings",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Site Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage contact information, social media links, and WhatsApp settings"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(jN,{className:"h-5 w-5"}),"Contact Information"]}),s.jsx(It,{children:"Update your business contact details displayed on the Contact page and footer"})]}),s.jsxs(ae,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(Ef,{className:"h-4 w-4"}),"Email Address"]}),s.jsx(X,{id:"email",type:"email",value:t,onChange:P=>r(P.target.value),placeholder:"info@thequarterdeck.pk","data-testid":"input-contact-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(Im,{className:"h-4 w-4"}),"Phone Number"]}),s.jsx(X,{id:"phone",value:n,onChange:P=>a(P.target.value),placeholder:"+92 51 1234567","data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"address",className:"flex items-center gap-2",children:[s.jsx(js,{className:"h-4 w-4"}),"Address"]}),s.jsx(ct,{id:"address",value:i,onChange:P=>o(P.target.value),placeholder:"Sector F-7, Islamabad, Pakistan",rows:2,"data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"hours",className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Operating Hours"]}),s.jsx(ct,{id:"hours",value:l,onChange:P=>c(P.target.value),placeholder:"Mon-Fri: 6:00 AM - 11:00 PM | Sat-Sun: 7:00 AM - 10:00 PM",rows:2,"data-testid":"input-operating-hours"})]}),s.jsxs($,{onClick:N,disabled:w.isPending,className:"w-full","data-testid":"button-save-contact",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Contact Info"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(jN,{className:"h-5 w-5"}),"Social Media Links"]}),s.jsx(It,{children:"Manage your social media URLs shown in the footer and Contact page"})]}),s.jsxs(ae,{className:"space-y-4",children:[o1.map(P=>{const k=P.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:P.key,className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4"}),P.label]}),s.jsx(X,{id:P.key,value:u[P.key]||"",onChange:A=>C(P.key,A.target.value),placeholder:P.placeholder,"data-testid":`input-${P.key}`})]},P.key)}),s.jsxs($,{onClick:_,disabled:w.isPending,className:"w-full","data-testid":"button-save-social",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Social Links"]})]})]}),s.jsxs(se,{children:[s.jsxs(Be,{children:[s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(tde,{className:"h-5 w-5 text-green-500"}),"WhatsApp Button"]}),s.jsx(It,{children:"Configure the floating WhatsApp button for quick customer contact"})]}),s.jsxs(ae,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"whatsapp-visible",className:"flex items-center gap-2",children:"Show WhatsApp Button"}),s.jsx(Qt,{id:"whatsapp-visible",checked:p,onCheckedChange:y,"data-testid":"switch-whatsapp-visible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"whatsapp-phone",className:"flex items-center gap-2",children:[s.jsx(Im,{className:"h-4 w-4"}),"WhatsApp Phone Number"]}),s.jsx(X,{id:"whatsapp-phone",value:f,onChange:P=>h(P.target.value),placeholder:"+92 300 1234567 (include country code)","data-testid":"input-whatsapp-phone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Include country code, e.g., +92 for Pakistan"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"whatsapp-message",className:"flex items-center gap-2",children:[s.jsx(Jk,{className:"h-4 w-4"}),"Default Message (Optional)"]}),s.jsx(ct,{id:"whatsapp-message",value:m,onChange:P=>j(P.target.value),placeholder:"Hello! I'd like to inquire about...",rows:2,"data-testid":"input-whatsapp-message"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pre-filled message when users click the WhatsApp button"})]}),s.jsxs($,{onClick:S,disabled:w.isPending,className:"w-full","data-testid":"button-save-whatsapp",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save WhatsApp Settings"]})]})]})]})]})]})})}const kDe={landing:"Landing Page",facilities:"Facilities",membership:"Membership",events:"Events",contact:"Contact",careers:"Careers",gallery:"Gallery",roadmap:"Roadmap",faq:"FAQ",rules:"Rules",leaderboard:"Leaderboard"};function CDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(null),{data:l,isLoading:c}=de({queryKey:["/api/admin/hero-sections"]});x.useEffect(()=>{if(l){const y={};l.forEach(m=>{y[m.id]={...m}}),a(y)}},[l]);const u=be({mutationFn:async({id:y,data:m})=>await ye("PATCH",`/api/admin/hero-sections/${y}`,m),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/hero-sections"]}),re.invalidateQueries({queryKey:["/api/hero-sections"]}),e({title:"Hero section updated successfully"})},onError:()=>{e({title:"Failed to update hero section",variant:"destructive"})}}),d=async(y,m)=>{o(y);try{const j=new FormData;j.append("image",m);const b=await fetch("/api/admin/upload",{method:"POST",body:j,credentials:"include"});if(!b.ok){const g=await b.json();throw new Error(g.message||"Upload failed")}const v=await b.json();v.imageUrl&&(a(g=>({...g,[y]:{...g[y],backgroundImageUrl:v.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(j){e({title:"Upload failed",description:j.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},f=(y,m,j)=>{a(b=>({...b,[y]:{...b[y],[m]:j}}))},h=y=>{const m=n[y];m&&u.mutate({id:y,data:m})},p=y=>{var j;const m=((j=n[y])==null?void 0:j.isActive)??!0;u.mutate({id:y,data:{isActive:!m}})};return c?s.jsx(st,{title:"Hero Sections",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Ie,{className:"h-6 w-6 animate-spin"})})}):s.jsx(st,{title:"Hero Sections",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Hero Sections"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage hero banners for each page. Toggle visibility, update content, and customize appearance."})]}),s.jsxs("div",{className:"space-y-4",children:[l==null?void 0:l.map(y=>{const m=t===y.id,j=n[y.id]||y,b=j.isActive??!0;return s.jsxs(se,{className:b?"":"opacity-60",children:[s.jsx(Be,{className:"cursor-pointer",onClick:()=>r(m?null:y.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(la,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx(We,{className:"text-lg",children:kDe[y.page]||y.page}),s.jsx(It,{children:y.title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:b?"default":"secondary",children:b?"Visible":"Hidden"}),s.jsx($,{variant:"ghost",size:"icon",onClick:v=>{v.stopPropagation(),p(y.id)},"data-testid":`button-toggle-hero-${y.page}`,children:b?s.jsx(as,{className:"h-4 w-4"}):s.jsx(eo,{className:"h-4 w-4"})}),m?s.jsx(Sc,{className:"h-4 w-4"}):s.jsx(ma,{className:"h-4 w-4"})]})]})}),m&&s.jsxs(ae,{className:"space-y-4 pt-0",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(X,{value:j.title||"",onChange:v=>f(y.id,"title",v.target.value),placeholder:"Hero title","data-testid":`input-hero-title-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(X,{value:j.subtitle||"",onChange:v=>f(y.id,"subtitle",v.target.value),placeholder:"Hero subtitle","data-testid":`input-hero-subtitle-${y.page}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Description"}),s.jsx(ct,{value:j.description||"",onChange:v=>f(y.id,"description",v.target.value),placeholder:"Optional description text",rows:2,"data-testid":`input-hero-description-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{value:j.backgroundImageUrl||"",onChange:v=>f(y.id,"backgroundImageUrl",v.target.value),placeholder:"https://example.com/image.jpg or upload",className:"flex-1","data-testid":`input-hero-image-${y.page}`}),s.jsx($,{variant:"outline",size:"icon",disabled:i===y.id,onClick:()=>{var v;return(v=document.getElementById(`hero-upload-${y.id}`))==null?void 0:v.click()},"data-testid":`button-upload-hero-${y.page}`,children:i===y.id?s.jsx(Ie,{className:"h-4 w-4 animate-spin"}):s.jsx(lr,{className:"h-4 w-4"})}),s.jsx("input",{id:`hero-upload-${y.id}`,type:"file",accept:"image/*",className:"hidden",onChange:v=>{var w;const g=(w=v.target.files)==null?void 0:w[0];g&&d(y.id,g),v.target.value=""}})]}),j.backgroundImageUrl&&s.jsx("div",{className:"mt-2 rounded-lg overflow-hidden h-32 bg-muted",children:s.jsx("img",{src:j.backgroundImageUrl,alt:"Preview",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Primary CTA Text"}),s.jsx(X,{value:j.ctaText||"",onChange:v=>f(y.id,"ctaText",v.target.value),placeholder:"Explore Now","data-testid":`input-hero-cta-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Primary CTA Link"}),s.jsx(X,{value:j.ctaLink||"",onChange:v=>f(y.id,"ctaLink",v.target.value),placeholder:"/facilities","data-testid":`input-hero-cta-link-${y.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Secondary CTA Text"}),s.jsx(X,{value:j.ctaSecondaryText||"",onChange:v=>f(y.id,"ctaSecondaryText",v.target.value),placeholder:"Learn More","data-testid":`input-hero-cta2-${y.page}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Secondary CTA Link"}),s.jsx(X,{value:j.ctaSecondaryLink||"",onChange:v=>f(y.id,"ctaSecondaryLink",v.target.value),placeholder:"/about","data-testid":`input-hero-cta2-link-${y.page}`})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Alignment"}),s.jsxs(kt,{value:j.alignment||"center",onValueChange:v=>f(y.id,"alignment",v),children:[s.jsx(Nt,{"data-testid":`select-hero-alignment-${y.page}`,children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"left",children:"Left"}),s.jsx(Se,{value:"center",children:"Center"}),s.jsx(Se,{value:"right",children:"Right"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Height"}),s.jsxs(kt,{value:j.height||"large",onValueChange:v=>f(y.id,"height",v),children:[s.jsx(Nt,{"data-testid":`select-hero-height-${y.page}`,children:s.jsx(Ct,{})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"small",children:"Small"}),s.jsx(Se,{value:"medium",children:"Medium"}),s.jsx(Se,{value:"large",children:"Large"}),s.jsx(Se,{value:"full",children:"Full Screen"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{children:["Overlay Opacity (",j.overlayOpacity||50,"%)"]}),s.jsx(X,{type:"range",min:"0",max:"100",value:j.overlayOpacity||50,onChange:v=>f(y.id,"overlayOpacity",parseInt(v.target.value)),className:"h-9","data-testid":`input-hero-overlay-${y.page}`})]})]}),s.jsxs($,{onClick:()=>h(y.id),disabled:u.isPending,className:"w-full","data-testid":`button-save-hero-${y.page}`,children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]},y.id)}),(!l||l.length===0)&&s.jsx(se,{children:s.jsx(ae,{className:"p-8 text-center text-muted-foreground",children:"No hero sections found. Hero sections are created automatically when pages are first accessed."})})]})]})})}const LM=[{value:"default",label:"Default"},{value:"gradient",label:"Gradient"},{value:"image",label:"With Image"},{value:"minimal",label:"Minimal"}],l1=[{value:"landing",label:"Landing Page"},{value:"facilities",label:"Facilities"},{value:"membership",label:"Membership"},{value:"events",label:"Events"},{value:"contact",label:"Contact"},{value:"footer",label:"Footer"},{value:"global",label:"Global (All Pages)"}];function PDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),{data:f,isLoading:h}=de({queryKey:["/api/admin/ctas"]});x.useEffect(()=>{if(f){const w={};f.forEach(N=>{w[N.id]={...N}}),a(w)}},[f]);const p=be({mutationFn:async({id:w,data:N})=>await ye("PATCH",`/api/admin/ctas/${w}`,N),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),re.invalidateQueries({queryKey:["/api/ctas"]}),e({title:"CTA updated successfully"})},onError:()=>{e({title:"Failed to update CTA",variant:"destructive"})}}),y=be({mutationFn:async w=>await ye("POST","/api/admin/ctas",w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),c(!1),d({key:"",title:"",subtitle:"",description:"",buttonText:"",buttonLink:"",secondaryButtonText:"",secondaryButtonLink:"",page:"landing",section:"",style:"default",isActive:!0}),e({title:"CTA created successfully"})},onError:()=>{e({title:"Failed to create CTA",variant:"destructive"})}}),m=be({mutationFn:async w=>await ye("DELETE",`/api/admin/ctas/${w}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/ctas"]}),e({title:"CTA deleted successfully"})},onError:()=>{e({title:"Failed to delete CTA",variant:"destructive"})}}),j=async(w,N)=>{o(w);try{const _=new FormData;_.append("image",N);const S=await fetch("/api/admin/upload",{method:"POST",body:_,credentials:"include"});if(!S.ok){const P=await S.json();throw new Error(P.message||"Upload failed")}const C=await S.json();C.imageUrl&&(a(P=>({...P,[w]:{...P[w],backgroundImageUrl:C.imageUrl}})),e({title:"Image uploaded successfully"}))}catch(_){e({title:"Upload failed",description:_.message||"Failed to upload image",variant:"destructive"})}finally{o(null)}},b=(w,N,_)=>{a(S=>({...S,[w]:{...S[w],[N]:_}}))},v=w=>{const N=n[w];N&&p.mutate({id:w,data:N})},g=w=>{var _;const N=((_=n[w])==null?void 0:_.isActive)??!0;p.mutate({id:w,data:{isActive:!N}})};return h?s.jsx(st,{title:"CTAs",children:s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsx(Ie,{className:"h-6 w-6 animate-spin"})})}):s.jsx(st,{title:"CTAs",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Call-to-Action Buttons"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage CTA buttons and links throughout the site. Edit button text, URLs, and styling."})]}),s.jsxs(yt,{open:l,onOpenChange:c,children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-cta",children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add CTA"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:"Create New CTA"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Key (unique identifier)"}),s.jsx(X,{value:u.key,onChange:w=>d({...u,key:w.target.value}),placeholder:"e.g., landing-membership","data-testid":"input-new-cta-key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Page"}),s.jsxs(kt,{value:u.page,onValueChange:w=>d({...u,page:w}),children:[s.jsx(Nt,{"data-testid":"select-new-cta-page",children:s.jsx(Ct,{})}),s.jsx(_t,{children:l1.map(w=>s.jsx(Se,{value:w.value,children:w.label},w.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(X,{value:u.title,onChange:w=>d({...u,title:w.target.value}),placeholder:"CTA Title","data-testid":"input-new-cta-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(X,{value:u.subtitle,onChange:w=>d({...u,subtitle:w.target.value}),placeholder:"Optional subtitle","data-testid":"input-new-cta-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Primary Button Text"}),s.jsx(X,{value:u.buttonText,onChange:w=>d({...u,buttonText:w.target.value}),placeholder:"Get Started","data-testid":"input-new-cta-button-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Primary Button Link"}),s.jsx(X,{value:u.buttonLink,onChange:w=>d({...u,buttonLink:w.target.value}),placeholder:"/membership","data-testid":"input-new-cta-button-link"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Secondary Button Text"}),s.jsx(X,{value:u.secondaryButtonText,onChange:w=>d({...u,secondaryButtonText:w.target.value}),placeholder:"Learn More","data-testid":"input-new-cta-secondary-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Secondary Button Link"}),s.jsx(X,{value:u.secondaryButtonLink,onChange:w=>d({...u,secondaryButtonLink:w.target.value}),placeholder:"/about","data-testid":"input-new-cta-secondary-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Style"}),s.jsxs(kt,{value:u.style,onValueChange:w=>d({...u,style:w}),children:[s.jsx(Nt,{"data-testid":"select-new-cta-style",children:s.jsx(Ct,{})}),s.jsx(_t,{children:LM.map(w=>s.jsx(Se,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs($,{onClick:()=>y.mutate(u),disabled:!u.key||!u.title||y.isPending,className:"w-full","data-testid":"button-create-cta",children:[y.isPending?s.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create CTA"]})]})]})]})]}),(!f||f.length===0)&&s.jsx(se,{children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(NA,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CTAs Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first call-to-action button to get started."}),s.jsxs($,{onClick:()=>c(!0),children:[s.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add CTA"]})]})}),s.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(w=>{var C;const N=t===w.id,_=n[w.id]||w,S=_.isActive??!0;return s.jsxs(se,{className:S?"":"opacity-60",children:[s.jsx(Be,{className:"cursor-pointer",onClick:()=>r(N?null:w.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(NA,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[w.title,s.jsx(ue,{variant:"outline",className:"font-mono text-xs",children:w.key})]}),s.jsxs(It,{className:"flex items-center gap-2",children:[s.jsx("span",{children:((C=l1.find(P=>P.value===w.page))==null?void 0:C.label)||w.page}),w.buttonLink&&s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Xk,{className:"h-3 w-3"}),w.buttonLink]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:S?"default":"secondary",children:S?"Active":"Inactive"}),s.jsx($,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),g(w.id)},"data-testid":`button-toggle-cta-${w.key}`,children:S?s.jsx(as,{className:"h-4 w-4"}):s.jsx(eo,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:P=>{P.stopPropagation(),confirm("Are you sure you want to delete this CTA?")&&m.mutate(w.id)},"data-testid":`button-delete-cta-${w.key}`,children:s.jsx(ur,{className:"h-4 w-4 text-destructive"})}),N?s.jsx(Sc,{className:"h-4 w-4"}):s.jsx(ma,{className:"h-4 w-4"})]})]})}),N&&s.jsxs(ae,{className:"space-y-6 pt-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Title"}),s.jsx(X,{value:_.title||"",onChange:P=>b(w.id,"title",P.target.value),"data-testid":`input-cta-title-${w.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Subtitle"}),s.jsx(X,{value:_.subtitle||"",onChange:P=>b(w.id,"subtitle",P.target.value),"data-testid":`input-cta-subtitle-${w.key}`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Description"}),s.jsx(ct,{value:_.description||"",onChange:P=>b(w.id,"description",P.target.value),"data-testid":`textarea-cta-description-${w.key}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Primary Button Text"}),s.jsx(X,{value:_.buttonText||"",onChange:P=>b(w.id,"buttonText",P.target.value),placeholder:"e.g., Get Started","data-testid":`input-cta-button-text-${w.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Primary Button Link"}),s.jsx(X,{value:_.buttonLink||"",onChange:P=>b(w.id,"buttonLink",P.target.value),placeholder:"e.g., /membership","data-testid":`input-cta-button-link-${w.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Secondary Button Text"}),s.jsx(X,{value:_.secondaryButtonText||"",onChange:P=>b(w.id,"secondaryButtonText",P.target.value),placeholder:"e.g., Learn More","data-testid":`input-cta-secondary-text-${w.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Secondary Button Link"}),s.jsx(X,{value:_.secondaryButtonLink||"",onChange:P=>b(w.id,"secondaryButtonLink",P.target.value),placeholder:"e.g., /about","data-testid":`input-cta-secondary-link-${w.key}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Page"}),s.jsxs(kt,{value:_.page||"landing",onValueChange:P=>b(w.id,"page",P),children:[s.jsx(Nt,{"data-testid":`select-cta-page-${w.key}`,children:s.jsx(Ct,{})}),s.jsx(_t,{children:l1.map(P=>s.jsx(Se,{value:P.value,children:P.label},P.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Section"}),s.jsx(X,{value:_.section||"",onChange:P=>b(w.id,"section",P.target.value),placeholder:"e.g., header, footer","data-testid":`input-cta-section-${w.key}`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Style"}),s.jsxs(kt,{value:_.style||"default",onValueChange:P=>b(w.id,"style",P),children:[s.jsx(Nt,{"data-testid":`select-cta-style-${w.key}`,children:s.jsx(Ct,{})}),s.jsx(_t,{children:LM.map(P=>s.jsx(Se,{value:P.value,children:P.label},P.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Image"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{value:_.backgroundImageUrl||"",onChange:P=>b(w.id,"backgroundImageUrl",P.target.value),placeholder:"Image URL",className:"flex-1","data-testid":`input-cta-bg-image-${w.key}`}),s.jsxs("label",{children:[s.jsx($,{variant:"outline",size:"icon",disabled:i===w.id,asChild:!0,children:s.jsx("span",{children:i===w.id?s.jsx(Ie,{className:"h-4 w-4 animate-spin"}):s.jsx(lr,{className:"h-4 w-4"})})}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P=>{var A;const k=(A=P.target.files)==null?void 0:A[0];k&&j(w.id,k)}})]})]}),_.backgroundImageUrl&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:_.backgroundImageUrl,alt:"CTA Background",className:"h-24 w-48 object-cover rounded-md border"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Background Color"}),s.jsx(X,{value:_.backgroundColor||"",onChange:P=>b(w.id,"backgroundColor",P.target.value),placeholder:"e.g., #1a1a1a or gradient","data-testid":`input-cta-bg-color-${w.key}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{checked:S,onCheckedChange:P=>b(w.id,"isActive",P),"data-testid":`switch-cta-active-${w.key}`}),s.jsx(z,{children:"Active"})]}),s.jsxs($,{onClick:()=>v(w.id),disabled:p.isPending,"data-testid":`button-save-cta-${w.key}`,children:[p.isPending?s.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]},w.id)})})]})})}const FM=[{value:"ACTIVE",label:"Active"},{value:"COMING_SOON",label:"Coming Soon"},{value:"PLANNED",label:"Planned"}];function EDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState({}),[i,o]=x.useState(!1),[l,c]=x.useState({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/venues"]});x.useEffect(()=>{if(u){const b={};u.forEach(v=>{b[v.id]={...v}}),a(b)}},[u]);const f=be({mutationFn:async({id:b,data:v})=>{const g={...v,...v.sortOrder!==void 0&&{sortOrder:Number(v.sortOrder)},...v.isDefault!==void 0&&{isDefault:!!v.isDefault}};return await ye("PATCH",`/api/admin/venues/${b}`,g)},onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue updated successfully"})},onError:b=>{console.error("Update venue error:",b),e({title:"Failed to update venue",description:b.message||"Please check your input and try again",variant:"destructive"})}}),h=be({mutationFn:async b=>await ye("POST","/api/admin/venues",{...b,sortOrder:Number(b.sortOrder),isDefault:!!b.isDefault}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),o(!1),c({name:"",slug:"",city:"",country:"Pakistan",status:"PLANNED",isDefault:!1,sortOrder:0}),e({title:"Venue created successfully"})},onError:b=>{console.error("Create venue error:",b),e({title:"Failed to create venue",description:b.message||"Please check your input and try again",variant:"destructive"})}}),p=be({mutationFn:async b=>await ye("DELETE",`/api/admin/venues/${b}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/venues"]}),re.invalidateQueries({queryKey:["/api/venues"]}),e({title:"Venue deleted successfully"})},onError:()=>{e({title:"Failed to delete venue",variant:"destructive"})}}),y=(b,v,g)=>{a(w=>({...w,[b]:{...w[b],[v]:g}}))},m=b=>{const v=n[b];if(v){const{id:g,createdAt:w,updatedAt:N,..._}=v;f.mutate({id:b,data:_})}},j=b=>b.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return d?s.jsx(st,{title:"Venues Management",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(st,{title:"Venues Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-venues-title",children:"Venue Locations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage multi-location venues (Islamabad, Lahore, Karachi, etc.)"})]}),s.jsxs(yt,{open:i,onOpenChange:o,children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-venue",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Venue"]})}),s.jsxs(vt,{className:"sm:max-w-[500px]",children:[s.jsx(bt,{children:s.jsx(jt,{children:"Add New Venue"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"new-name",children:"Venue Name"}),s.jsx(X,{id:"new-name",value:l.name,onChange:b=>{c({...l,name:b.target.value,slug:j(b.target.value)})},placeholder:"The Quarterdeck Lahore","data-testid":"input-new-venue-name"})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"new-slug",children:"Slug"}),s.jsx(X,{id:"new-slug",value:l.slug,onChange:b=>c({...l,slug:b.target.value}),placeholder:"lahore","data-testid":"input-new-venue-slug"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"new-city",children:"City"}),s.jsx(X,{id:"new-city",value:l.city,onChange:b=>c({...l,city:b.target.value}),placeholder:"Lahore","data-testid":"input-new-venue-city"})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"new-country",children:"Country"}),s.jsx(X,{id:"new-country",value:l.country,onChange:b=>c({...l,country:b.target.value}),placeholder:"Pakistan","data-testid":"input-new-venue-country"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"new-status",children:"Status"}),s.jsxs(kt,{value:l.status,onValueChange:b=>c({...l,status:b}),children:[s.jsx(Nt,{"data-testid":"select-new-venue-status",children:s.jsx(Ct,{})}),s.jsx(_t,{children:FM.map(b=>s.jsx(Se,{value:b.value,children:b.label},b.value))})]})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"new-sort",children:"Sort Order"}),s.jsx(X,{id:"new-sort",type:"number",value:l.sortOrder,onChange:b=>c({...l,sortOrder:parseInt(b.target.value)||0}),"data-testid":"input-new-venue-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{checked:l.isDefault,onCheckedChange:b=>c({...l,isDefault:b}),"data-testid":"switch-new-venue-default"}),s.jsx(z,{children:"Default venue (selected by default in booking system)"})]}),s.jsxs($,{onClick:()=>h.mutate(l),disabled:!l.name||!l.city||!l.slug||h.isPending,className:"w-full","data-testid":"button-create-venue",children:[h.isPending?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Create Venue"]})]})]})]})]}),u!=null&&u.length?s.jsx("div",{className:"grid gap-4",children:u.map(b=>{const v=t===b.id,g=n[b.id]||b;return s.jsxs(se,{className:"overflow-hidden",children:[s.jsx(Be,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(v?null:b.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Wr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(We,{className:"text-lg flex items-center gap-2",children:[b.name,b.isDefault&&s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Default"})]}),s.jsxs(It,{className:"flex items-center gap-2",children:[s.jsx(js,{className:"w-3 h-3"}),b.city,", ",b.country||"Pakistan"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{variant:b.status==="ACTIVE"?"default":b.status==="COMING_SOON"?"secondary":"outline",children:b.status==="ACTIVE"?"Active":b.status==="COMING_SOON"?"Coming Soon":"Planned"}),v?s.jsx(Sc,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(ma,{className:"w-5 h-5 text-muted-foreground"})]})]})}),v&&s.jsx(ae,{className:"border-t pt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:`name-${b.id}`,children:"Venue Name"}),s.jsx(X,{id:`name-${b.id}`,value:g.name||"",onChange:w=>y(b.id,"name",w.target.value),"data-testid":`input-venue-name-${b.id}`})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:`slug-${b.id}`,children:"Slug"}),s.jsx(X,{id:`slug-${b.id}`,value:g.slug||"",onChange:w=>y(b.id,"slug",w.target.value),"data-testid":`input-venue-slug-${b.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:`city-${b.id}`,children:"City"}),s.jsx(X,{id:`city-${b.id}`,value:g.city||"",onChange:w=>y(b.id,"city",w.target.value),"data-testid":`input-venue-city-${b.id}`})]}),s.jsxs("div",{children:[s.jsxs(z,{htmlFor:`country-${b.id}`,className:"flex items-center gap-1",children:[s.jsx(jN,{className:"w-3 h-3"})," Country"]}),s.jsx(X,{id:`country-${b.id}`,value:g.country||"Pakistan",onChange:w=>y(b.id,"country",w.target.value),"data-testid":`input-venue-country-${b.id}`})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:`status-${b.id}`,children:"Status"}),s.jsxs(kt,{value:g.status||"PLANNED",onValueChange:w=>y(b.id,"status",w),children:[s.jsx(Nt,{"data-testid":`select-venue-status-${b.id}`,children:s.jsx(Ct,{})}),s.jsx(_t,{children:FM.map(w=>s.jsx(Se,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:`sort-${b.id}`,children:"Sort Order"}),s.jsx(X,{id:`sort-${b.id}`,type:"number",value:g.sortOrder??0,onChange:w=>y(b.id,"sortOrder",parseInt(w.target.value)||0),"data-testid":`input-venue-sort-${b.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{checked:g.isDefault??!1,onCheckedChange:w=>y(b.id,"isDefault",w),"data-testid":`switch-venue-default-${b.id}`}),s.jsx(z,{children:"Default venue (auto-selected in booking system)"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs(Zf,{children:[s.jsx(kP,{asChild:!0,children:s.jsxs($,{variant:"destructive",size:"sm","data-testid":`button-delete-venue-${b.id}`,children:[s.jsx(ur,{className:"w-4 h-4 mr-2"})," Delete Venue"]})}),s.jsxs(ru,{children:[s.jsxs(nu,{children:[s.jsx(au,{children:"Delete Venue?"}),s.jsxs(iu,{children:['This will permanently delete "',b.name,'" and all associated data. This action cannot be undone.']})]}),s.jsxs(su,{children:[s.jsx(lu,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(ou,{onClick:()=>p.mutate(b.id),className:"bg-destructive text-destructive-foreground","data-testid":"button-confirm-delete",children:"Delete"})]})]})]}),s.jsxs($,{onClick:()=>m(b.id),disabled:f.isPending,"data-testid":`button-save-venue-${b.id}`,children:[f.isPending?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(nr,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]},b.id)})}):s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(js,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Venues Yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first venue location to get started"}),s.jsxs($,{onClick:()=>o(!0),"data-testid":"button-add-first-venue",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add First Venue"]})]})})]})})}function ADe(){var P,k,A;const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState("pending"),{data:p,isLoading:y}=de({queryKey:["/api/admin/membership-applications","PENDING"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=PENDING",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),{data:m,isLoading:j}=de({queryKey:["/api/admin/membership-applications","APPROVED"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=APPROVED",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),{data:b,isLoading:v}=de({queryKey:["/api/admin/membership-applications","REJECTED"],queryFn:async()=>{const O=await fetch("/api/admin/membership-applications?status=REJECTED",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch");return O.json()}}),g=be({mutationFn:async({id:O,notes:R})=>await ye("POST",`/api/admin/membership-applications/${O}/approve`,{notes:R,skipAmountVerification:!0}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),re.invalidateQueries({queryKey:["/api/memberships"]}),re.invalidateQueries({queryKey:["/api/me"]}),e({title:"Application approved",description:"Membership has been activated and user notified."}),o(!1),r(null),d("")},onError:O=>{e({title:"Failed to approve application",description:O.message||"An error occurred",variant:"destructive"})}}),w=be({mutationFn:async({id:O,notes:R})=>await ye("POST",`/api/admin/membership-applications/${O}/reject`,{notes:R}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/membership-applications"]}),e({title:"Application rejected",description:"User has been notified."}),c(!1),r(null),d("")},onError:O=>{e({title:"Failed to reject application",description:O.message||"An error occurred",variant:"destructive"})}}),N=async O=>{try{const R=await fetch(`/api/admin/membership-applications/${O.id}`,{credentials:"include"});if(R.ok){const M=await R.json();r(M),a(!0)}}catch{e({title:"Failed to load application details",variant:"destructive"})}},_=O=>{switch(O){case"PENDING":return s.jsxs(ue,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[s.jsx(Bt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"APPROVED":return s.jsxs(ue,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[s.jsx(Sn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"REJECTED":return s.jsxs(ue,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[s.jsx(xv,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(ue,{variant:"secondary",children:O})}},S=O=>O==null?"N/A":`PKR ${O.toLocaleString()}`,C=(O,R)=>R?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ie,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):!O||O.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No applications found"}):s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Applicant"}),s.jsx(ce,{children:"Tier Requested"}),s.jsx(ce,{children:"Amount"}),s.jsx(ce,{children:"Payment Method"}),s.jsx(ce,{children:"Payment Proof"}),s.jsx(ce,{children:"Submitted"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:O.map(M=>{var L,T,W;return s.jsxs(Ze,{"data-testid":`row-application-${M.id}`,children:[s.jsxs(ne,{className:"font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[((L=M.user)==null?void 0:L.firstName)||""," ",((T=M.user)==null?void 0:T.lastName)||""]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(W=M.user)==null?void 0:W.email})]}),s.jsx(ne,{children:s.jsx(ue,{variant:"secondary",children:M.tierDesired})}),s.jsx(ne,{children:S(M.paymentAmount)}),s.jsx(ne,{children:M.paymentMethod||"N/A"}),s.jsx(ne,{children:M.paymentProofUrl?s.jsxs($,{variant:"ghost",size:"sm",onClick:()=>M.paymentProofUrl&&window.open(M.paymentProofUrl,"_blank"),"data-testid":`button-view-proof-${M.id}`,children:[s.jsx(ts,{className:"w-4 h-4 mr-1"}),"View",s.jsx(Zi,{className:"w-3 h-3 ml-1"})]}):s.jsxs("span",{className:"text-muted-foreground text-sm flex items-center gap-1",children:[s.jsx(Gp,{className:"w-3 h-3"}),"No proof"]})}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(xr,{className:"w-3 h-3 text-muted-foreground"}),M.createdAt?rs(new Date(M.createdAt),"MMM d, yyyy"):"N/A"]})}),s.jsx(ne,{children:_(M.status||"PENDING")}),s.jsx(ne,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>N(M),"data-testid":`button-view-application-${M.id}`,children:s.jsx(as,{className:"w-4 h-4"})}),M.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"ghost",size:"icon",className:"text-green-600",onClick:()=>{r(M),o(!0)},"data-testid":`button-approve-${M.id}`,children:s.jsx(Sn,{className:"w-4 h-4"})}),s.jsx($,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{r(M),c(!0)},"data-testid":`button-reject-${M.id}`,children:s.jsx(xv,{className:"w-4 h-4"})})]})]})})]},M.id)})})]});return s.jsxs(st,{title:"Membership Applications",children:[s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-5 h-5"}),"Membership Applications"]})}),s.jsx(ae,{children:s.jsxs(Vs,{value:f,onValueChange:h,children:[s.jsxs(ws,{className:"mb-4",children:[s.jsxs(Lt,{value:"pending","data-testid":"tab-pending",children:["Pending",p&&p.length>0&&s.jsx(ue,{variant:"secondary",className:"ml-2",children:p.length})]}),s.jsx(Lt,{value:"approved","data-testid":"tab-approved",children:"Approved"}),s.jsx(Lt,{value:"rejected","data-testid":"tab-rejected",children:"Rejected"})]}),s.jsx(Ft,{value:"pending",children:C(p,y)}),s.jsx(Ft,{value:"approved",children:C(m,j)}),s.jsx(Ft,{value:"rejected",children:C(b,v)})]})})]}),s.jsx(yt,{open:n,onOpenChange:a,children:s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(jt,{children:"Application Details"})}),t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Applicant"}),s.jsxs("p",{className:"font-medium",children:[(P=t.user)==null?void 0:P.firstName," ",(k=t.user)==null?void 0:k.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(A=t.user)==null?void 0:A.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:_(t.status||"PENDING")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Requested Tier"}),s.jsx("p",{className:"font-medium",children:t.tierDesired})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Amount"}),s.jsx("p",{className:"font-medium",children:S(t.paymentAmount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Reference"}),s.jsx("p",{className:"font-medium",children:t.paymentReference||"N/A"})]})]}),t.paymentProofUrl&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Proof"}),s.jsx("div",{className:"mt-2",children:s.jsxs($,{variant:"outline",onClick:()=>t.paymentProofUrl&&window.open(t.paymentProofUrl,"_blank"),"data-testid":"button-view-proof-detail",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"View Payment Proof",s.jsx(Zi,{className:"w-3 h-3 ml-2"})]})})]}),t.adminNotes&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Admin Notes"}),s.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:t.adminNotes})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("label",{className:"font-medium",children:"Submitted"}),s.jsx("p",{children:t.createdAt?rs(new Date(t.createdAt),"PPpp"):"N/A"})]})]})]})}),s.jsx(yt,{open:i,onOpenChange:o,children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[s.jsx(jt,{children:"Approve Application"}),s.jsxs(_n,{children:["This will activate a ",t==null?void 0:t.tierDesired," membership for this user."]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Admin Notes (optional)"}),s.jsx(ct,{value:u,onChange:O=>d(O.target.value),placeholder:"Add any notes about this approval...",className:"mt-1","data-testid":"input-approve-notes"})]})}),s.jsxs(hc,{children:[s.jsx($,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs($,{onClick:()=>t&&g.mutate({id:t.id,notes:u}),disabled:g.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-approve",children:[g.isPending&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Approve Application"]})]})]})}),s.jsx(yt,{open:l,onOpenChange:c,children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[s.jsx(jt,{children:"Reject Application"}),s.jsx(_n,{children:"Please provide a reason for rejection. The user will be notified."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reason for Rejection"}),s.jsx(ct,{value:u,onChange:O=>d(O.target.value),placeholder:"Explain why this application is being rejected...",className:"mt-1","data-testid":"input-reject-reason"})]})}),s.jsxs(hc,{children:[s.jsx($,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsxs($,{variant:"destructive",onClick:()=>t&&w.mutate({id:t.id,notes:u}),disabled:w.isPending,"data-testid":"button-confirm-reject",children:[w.isPending&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),"Reject Application"]})]})]})})]})}function ODe(){const{toast:e}=mt(),[t,r]=x.useState("certifications"),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0}),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,y]=x.useState({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0}),[m,j]=x.useState(!1),[b,v]=x.useState({userId:"",certificationId:"",notes:""}),{data:g=[],isLoading:w}=de({queryKey:["/api/admin/certifications"]}),{data:N=[]}=de({queryKey:["/api/admin/facilities"]}),{data:_=[],isLoading:S}=de({queryKey:["/api/admin/certification-classes"]}),{data:C=[],isLoading:P}=de({queryKey:["/api/admin/user-certifications"]}),{data:k=[]}=de({queryKey:["/api/admin/users"]}),A=be({mutationFn:async B=>await ye("POST","/api/admin/certifications",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification created successfully"}),o(!1),D()},onError:()=>{e({title:"Failed to create certification",variant:"destructive"})}}),O=be({mutationFn:async({id:B,data:me})=>await ye("PATCH",`/api/admin/certifications/${B}`,me),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification updated successfully"}),o(!1),a(null),D()},onError:()=>{e({title:"Failed to update certification",variant:"destructive"})}}),R=be({mutationFn:async B=>await ye("DELETE",`/api/admin/certifications/${B}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certifications"]}),e({title:"Certification deleted successfully"})},onError:()=>{e({title:"Failed to delete certification",variant:"destructive"})}}),M=be({mutationFn:async B=>await ye("POST","/api/admin/certification-classes",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class created successfully"}),h(!1),G()},onError:B=>{console.error("Failed to create class:",B),e({title:"Failed to create class",description:B.message||"An unknown error occurred",variant:"destructive"})}}),L=be({mutationFn:async({id:B,data:me})=>await ye("PATCH",`/api/admin/certification-classes/${B}`,me),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class updated successfully"}),h(!1),d(null),G()},onError:()=>{e({title:"Failed to update class",variant:"destructive"})}}),T=be({mutationFn:async B=>await ye("DELETE",`/api/admin/certification-classes/${B}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/certification-classes"]}),e({title:"Class deleted successfully"})},onError:()=>{e({title:"Failed to delete class",variant:"destructive"})}}),W=be({mutationFn:async B=>await ye("POST","/api/admin/user-certifications",B),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification issued successfully"}),j(!1),J()},onError:()=>{e({title:"Failed to issue certification",variant:"destructive"})}}),E=be({mutationFn:async({id:B,notes:me})=>await ye("POST",`/api/admin/user-certifications/${B}/revoke`,{notes:me}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/user-certifications"]}),e({title:"Certification revoked successfully"})},onError:()=>{e({title:"Failed to revoke certification",variant:"destructive"})}}),D=()=>{c({slug:"",name:"",description:"",facilityId:"",validityMonths:12,requirements:"",icon:"",isActive:!0,sortOrder:0})},G=()=>{y({certificationId:"",title:"",description:"",instructor:"",scheduledDate:"",duration:60,capacity:10,price:0,location:"",isActive:!0})},J=()=>{v({userId:"",certificationId:"",notes:""})},I=B=>{a(B),c({slug:B.slug,name:B.name,description:B.description||"",facilityId:B.facilityId||"",validityMonths:B.validityMonths||12,requirements:B.requirements||"",icon:B.icon||"",isActive:B.isActive??!0,sortOrder:B.sortOrder||0}),o(!0)},Y=B=>{d(B),y({certificationId:B.certificationId,title:B.title,description:B.description||"",instructor:B.instructor||"",scheduledDate:B.scheduledDate?new Date(B.scheduledDate).toISOString().slice(0,16):"",duration:B.duration||60,capacity:B.capacity||10,price:B.price||0,location:B.location||"",isActive:B.isActive??!0}),h(!0)},V=()=>{n?O.mutate({id:n.id,data:l}):A.mutate(l)},ee=()=>{const B={...p,scheduledDate:p.scheduledDate?new Date(p.scheduledDate).toISOString():null,description:p.description||null,instructor:p.instructor||null,location:p.location||null};u?L.mutate({id:u.id,data:B}):M.mutate(B)},pe=B=>{var me;return((me=g.find(Q=>Q.id===B))==null?void 0:me.name)||"Unknown"},te=B=>{var me;return B?((me=N.find(Q=>Q.id===B))==null?void 0:me.name)||"Unknown":"-"},ve=B=>{const me=k.find(Q=>Q.id===B);return me?`${me.firstName||""} ${me.lastName||""}`.trim()||me.email:"Unknown"};return w||S||P?s.jsx(st,{title:"Certifications",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Certifications",children:s.jsxs(Vs,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(ws,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsxs(Lt,{value:"certifications",className:"gap-2",children:[s.jsx(di,{className:"w-4 h-4"}),"Types"]}),s.jsxs(Lt,{value:"classes",className:"gap-2",children:[s.jsx(xr,{className:"w-4 h-4"}),"Classes"]}),s.jsxs(Lt,{value:"user-certs",className:"gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Issued"]})]}),s.jsxs(Ft,{value:"certifications",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Define certification types for restricted facilities like the Air Rifle Range."}),s.jsxs(yt,{open:i,onOpenChange:B=>{o(B),B||(a(null),D())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-certification",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Certification"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:n?"Edit Certification":"Add New Certification"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-name",children:"Name"}),s.jsx(X,{id:"cert-name",value:l.name,onChange:B=>c({...l,name:B.target.value}),placeholder:"Air Rifle Safety Certification","data-testid":"input-cert-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-slug",children:"Slug"}),s.jsx(X,{id:"cert-slug",value:l.slug,onChange:B=>c({...l,slug:B.target.value}),placeholder:"air-rifle-safety","data-testid":"input-cert-slug"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-description",children:"Description"}),s.jsx(ct,{id:"cert-description",value:l.description,onChange:B=>c({...l,description:B.target.value}),rows:3,"data-testid":"input-cert-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-facility",children:"Linked Facility"}),s.jsxs(kt,{value:l.facilityId,onValueChange:B=>c({...l,facilityId:B}),children:[s.jsx(Nt,{"data-testid":"select-cert-facility",children:s.jsx(Ct,{placeholder:"Select facility"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"none",children:"None"}),N.map(B=>s.jsx(Se,{value:B.id,children:B.name},B.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-validity",children:"Validity (months)"}),s.jsx(X,{id:"cert-validity",type:"number",value:l.validityMonths,onChange:B=>c({...l,validityMonths:parseInt(B.target.value)||12}),"data-testid":"input-cert-validity"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-requirements",children:"Requirements"}),s.jsx(ct,{id:"cert-requirements",value:l.requirements,onChange:B=>c({...l,requirements:B.target.value}),placeholder:"Must complete safety course, pass written exam, demonstrate proper handling...",rows:3,"data-testid":"input-cert-requirements"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-icon",children:"Icon (lucide icon name)"}),s.jsx(X,{id:"cert-icon",value:l.icon,onChange:B=>c({...l,icon:B.target.value}),placeholder:"shield-check","data-testid":"input-cert-icon"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cert-sort",children:"Sort Order"}),s.jsx(X,{id:"cert-sort",type:"number",value:l.sortOrder,onChange:B=>c({...l,sortOrder:parseInt(B.target.value)||0}),"data-testid":"input-cert-sort"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"cert-active",checked:l.isActive,onCheckedChange:B=>c({...l,isActive:B}),"data-testid":"switch-cert-active"}),s.jsx(z,{htmlFor:"cert-active",children:"Active"})]}),s.jsxs($,{onClick:V,disabled:A.isPending||O.isPending,"data-testid":"button-submit-cert",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),n?"Update":"Create"," Certification"]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Name"}),s.jsx(ce,{children:"Facility"}),s.jsx(ce,{children:"Validity"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:g.length===0?s.jsx(Ze,{children:s.jsx(ne,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No certifications defined yet"})}):g.map(B=>s.jsxs(Ze,{children:[s.jsx(ne,{className:"font-medium",children:B.name}),s.jsx(ne,{children:te(B.facilityId)}),s.jsxs(ne,{children:[B.validityMonths," months"]}),s.jsx(ne,{children:s.jsx(ue,{variant:B.isActive?"default":"secondary",children:B.isActive?"Active":"Inactive"})}),s.jsx(ne,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>I(B),"data-testid":`button-edit-cert-${B.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>R.mutate(B.id),"data-testid":`button-delete-cert-${B.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),s.jsxs(Ft,{value:"classes",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Schedule certification classes and training sessions."}),s.jsxs(yt,{open:f,onOpenChange:B=>{h(B),B||(d(null),G())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-class",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Schedule Class"]})}),s.jsxs(vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:u?"Edit Class":"Schedule New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-cert",children:"Certification Type"}),s.jsxs(kt,{value:p.certificationId,onValueChange:B=>y({...p,certificationId:B}),children:[s.jsx(Nt,{"data-testid":"select-class-cert",children:s.jsx(Ct,{placeholder:"Select certification"})}),s.jsx(_t,{children:g.map(B=>s.jsx(Se,{value:B.id,children:B.name},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-title",children:"Class Title"}),s.jsx(X,{id:"class-title",value:p.title,onChange:B=>y({...p,title:B.target.value}),placeholder:"Air Rifle Safety Fundamentals","data-testid":"input-class-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-date",children:"Scheduled Date/Time"}),s.jsx(X,{id:"class-date",type:"datetime-local",value:p.scheduledDate,onChange:B=>y({...p,scheduledDate:B.target.value}),"data-testid":"input-class-date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-duration",children:"Duration (minutes)"}),s.jsx(X,{id:"class-duration",type:"number",value:p.duration,onChange:B=>y({...p,duration:parseInt(B.target.value)||60}),"data-testid":"input-class-duration"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-instructor",children:"Instructor"}),s.jsx(X,{id:"class-instructor",value:p.instructor,onChange:B=>y({...p,instructor:B.target.value}),"data-testid":"input-class-instructor"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-location",children:"Location"}),s.jsx(X,{id:"class-location",value:p.location,onChange:B=>y({...p,location:B.target.value}),placeholder:"Range Training Room","data-testid":"input-class-location"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-capacity",children:"Capacity"}),s.jsx(X,{id:"class-capacity",type:"number",value:p.capacity,onChange:B=>y({...p,capacity:parseInt(B.target.value)||10}),"data-testid":"input-class-capacity"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-price",children:"Price (PKR)"}),s.jsx(X,{id:"class-price",type:"number",value:p.price,onChange:B=>y({...p,price:parseInt(B.target.value)||0}),"data-testid":"input-class-price"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"class-description",children:"Description"}),s.jsx(ct,{id:"class-description",value:p.description,onChange:B=>y({...p,description:B.target.value}),rows:2,"data-testid":"input-class-description"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"class-active",checked:p.isActive,onCheckedChange:B=>y({...p,isActive:B}),"data-testid":"switch-class-active"}),s.jsx(z,{htmlFor:"class-active",children:"Active"})]}),s.jsxs($,{onClick:ee,disabled:M.isPending||L.isPending,"data-testid":"button-submit-class",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),u?"Update":"Schedule"," Class"]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Title"}),s.jsx(ce,{children:"Certification"}),s.jsx(ce,{children:"Date"}),s.jsx(ce,{children:"Instructor"}),s.jsx(ce,{children:"Capacity"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:_.length===0?s.jsx(Ze,{children:s.jsx(ne,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No classes scheduled yet"})}):_.map(B=>s.jsxs(Ze,{children:[s.jsx(ne,{className:"font-medium",children:B.title}),s.jsx(ne,{children:pe(B.certificationId)}),s.jsx(ne,{children:B.scheduledDate?new Date(B.scheduledDate).toLocaleString():"-"}),s.jsx(ne,{children:B.instructor||"-"}),s.jsxs(ne,{children:[B.enrolledCount,"/",B.capacity]}),s.jsx(ne,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>Y(B),"data-testid":`button-edit-class-${B.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>T.mutate(B.id),"data-testid":`button-delete-class-${B.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),s.jsxs(Ft,{value:"user-certs",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"View and manage issued user certifications."}),s.jsxs(yt,{open:m,onOpenChange:j,children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-issue-cert",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Issue Certification"]})}),s.jsxs(vt,{children:[s.jsx(bt,{children:s.jsx(jt,{children:"Issue Certification to User"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"issue-user",children:"User"}),s.jsxs(kt,{value:b.userId,onValueChange:B=>v({...b,userId:B}),children:[s.jsx(Nt,{"data-testid":"select-issue-user",children:s.jsx(Ct,{placeholder:"Select user"})}),s.jsx(_t,{children:k.map(B=>s.jsxs(Se,{value:B.id,children:[B.firstName," ",B.lastName," (",B.email,")"]},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"issue-cert",children:"Certification"}),s.jsxs(kt,{value:b.certificationId,onValueChange:B=>v({...b,certificationId:B}),children:[s.jsx(Nt,{"data-testid":"select-issue-cert",children:s.jsx(Ct,{placeholder:"Select certification"})}),s.jsx(_t,{children:g.map(B=>s.jsx(Se,{value:B.id,children:B.name},B.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"issue-notes",children:"Notes"}),s.jsx(ct,{id:"issue-notes",value:b.notes,onChange:B=>v({...b,notes:B.target.value}),placeholder:"Optional notes about this certification","data-testid":"input-issue-notes"})]}),s.jsxs($,{onClick:()=>W.mutate(b),disabled:W.isPending||!b.userId||!b.certificationId,"data-testid":"button-submit-issue",children:[s.jsx(di,{className:"w-4 h-4 mr-2"}),"Issue Certification"]})]})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"User"}),s.jsx(ce,{children:"Certification"}),s.jsx(ce,{children:"Certificate #"}),s.jsx(ce,{children:"Issued"}),s.jsx(ce,{children:"Expires"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:C.length===0?s.jsx(Ze,{children:s.jsx(ne,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No certifications issued yet"})}):C.map(B=>s.jsxs(Ze,{children:[s.jsx(ne,{className:"font-medium",children:ve(B.userId)}),s.jsx(ne,{children:pe(B.certificationId)}),s.jsx(ne,{className:"font-mono text-sm",children:B.certificateNumber||"-"}),s.jsx(ne,{children:B.issuedAt?new Date(B.issuedAt).toLocaleDateString():"-"}),s.jsx(ne,{children:B.expiresAt?new Date(B.expiresAt).toLocaleDateString():"Never"}),s.jsx(ne,{children:s.jsx(ue,{variant:B.status==="ACTIVE"?"default":B.status==="REVOKED"?"destructive":"secondary",children:B.status})}),s.jsx(ne,{className:"text-right",children:B.status==="ACTIVE"&&s.jsxs($,{size:"sm",variant:"ghost",onClick:()=>E.mutate({id:B.id}),"data-testid":`button-revoke-${B.id}`,children:[s.jsx(xv,{className:"w-4 h-4 mr-1"}),"Revoke"]})})]},B.id))})]})})})]})]})})}const TDe=ba({feature:gt().min(1,"Feature name is required"),foundingValue:gt().optional(),goldValue:gt().optional(),silverValue:gt().optional(),guestValue:gt().optional(),sortOrder:a0.number().default(0)});function IDe(){const{toast:e}=mt(),[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/comparison-features"]}),f=qs({resolver:zs(TDe),defaultValues:{feature:"",foundingValue:"",goldValue:"",silverValue:"",guestValue:"",sortOrder:0}}),h=be({mutationFn:async g=>await ye("POST","/api/admin/comparison-features",g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature created successfully"}),r(!1),f.reset()},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),p=be({mutationFn:async({id:g,data:w})=>await ye("PATCH",`/api/admin/comparison-features/${g}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature updated successfully"}),r(!1),a(null),f.reset()},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),y=be({mutationFn:async g=>await ye("DELETE",`/api/admin/comparison-features/${g}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/comparison-features"]}),re.invalidateQueries({queryKey:["/api/comparison-features"]}),e({title:"Feature deleted successfully"}),o(!1),c(null)},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),m=g=>{a(g),f.reset({feature:g.feature,foundingValue:g.foundingValue||"",goldValue:g.goldValue||"",silverValue:g.silverValue||"",guestValue:g.guestValue||"",sortOrder:g.sortOrder||0}),r(!0)},j=g=>{n?p.mutate({id:n.id,data:g}):h.mutate(g)},b=()=>{l&&y.mutate(l)};if(d)return s.jsx(st,{title:"Comparison Features",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const v=[...u].sort((g,w)=>(g.sortOrder||0)-(w.sortOrder||0));return s.jsx(st,{title:"Comparison Features",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-comparison-features-title",children:"Comparison Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership tier comparison table features"})]}),s.jsxs(yt,{open:t,onOpenChange:g=>{r(g),g||(a(null),f.reset())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-feature",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Feature"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(jt,{children:n?"Edit Feature":"Add Feature"})}),s.jsx(Ks,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(j),className:"space-y-4",children:[s.jsx(et,{control:f.control,name:"feature",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Feature Name"}),s.jsx(Je,{children:s.jsx(X,{...g,placeholder:"e.g., Advance Booking Window","data-testid":"input-feature-name"})}),s.jsx(nt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(et,{control:f.control,name:"foundingValue",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Founding Member Value"}),s.jsx(Je,{children:s.jsx(X,{...g,placeholder:"e.g., 14 days","data-testid":"input-founding-value"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"goldValue",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Gold Member Value"}),s.jsx(Je,{children:s.jsx(X,{...g,placeholder:"e.g., 7 days","data-testid":"input-gold-value"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"silverValue",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Silver Member Value"}),s.jsx(Je,{children:s.jsx(X,{...g,placeholder:"e.g., 5 days","data-testid":"input-silver-value"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"guestValue",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Guest Value"}),s.jsx(Je,{children:s.jsx(X,{...g,placeholder:"e.g., 2 days","data-testid":"input-guest-value"})}),s.jsx(nt,{})]})})]}),s.jsx(et,{control:f.control,name:"sortOrder",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(X,{type:"number",...g,"data-testid":"input-sort-order"})}),s.jsx(nt,{})]})}),s.jsxs($,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-feature",children:[(h.isPending||p.isPending)&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Feature"]})]})})]})]})]}),v.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(y3,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Comparison Features"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add features to display in the membership comparison table."})]})}):s.jsxs(se,{children:[s.jsx(Be,{children:s.jsx(We,{children:"Features List"})}),s.jsx(ae,{children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{className:"w-8"}),s.jsx(ce,{children:"Feature"}),s.jsx(ce,{className:"text-center",children:"Founding"}),s.jsx(ce,{className:"text-center",children:"Gold"}),s.jsx(ce,{className:"text-center",children:"Silver"}),s.jsx(ce,{className:"text-center",children:"Guest"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:v.map(g=>s.jsxs(Ze,{"data-testid":`row-feature-${g.id}`,children:[s.jsx(ne,{children:s.jsx(Ld,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(ne,{className:"font-medium",children:g.feature}),s.jsx(ne,{className:"text-center",children:g.foundingValue||"-"}),s.jsx(ne,{className:"text-center",children:g.goldValue||"-"}),s.jsx(ne,{className:"text-center",children:g.silverValue||"-"}),s.jsx(ne,{className:"text-center",children:g.guestValue||"-"}),s.jsx(ne,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(g),"data-testid":`button-edit-feature-${g.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{c(g.id),o(!0)},"data-testid":`button-delete-feature-${g.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})})]},g.id))})]})})]}),s.jsx(Zf,{open:i,onOpenChange:o,children:s.jsxs(ru,{children:[s.jsxs(nu,{children:[s.jsx(au,{children:"Are you sure?"}),s.jsx(iu,{children:"This will delete the comparison feature. This action cannot be undone."})]}),s.jsxs(su,{children:[s.jsx(lu,{disabled:y.isPending,children:"Cancel"}),s.jsxs(ou,{onClick:b,disabled:y.isPending,"data-testid":"button-confirm-delete",children:[y.isPending?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}const Q7=[{value:"clock",label:"Clock",icon:Bt},{value:"gift",label:"Gift",icon:jb},{value:"award",label:"Award",icon:di},{value:"shield",label:"Shield",icon:gi},{value:"target",label:"Target",icon:ca},{value:"zap",label:"Zap",icon:N3},{value:"heart",label:"Heart",icon:wb},{value:"ticket",label:"Ticket",icon:bv},{value:"calendar",label:"Calendar",icon:xr},{value:"trophy",label:"Trophy",icon:ms},{value:"star",label:"Star",icon:xa},{value:"crown",label:"Crown",icon:bb},{value:"users",label:"Users",icon:Nr},{value:"check",label:"Check",icon:pr}],RDe=e=>{const t=Q7.find(r=>r.value===e.toLowerCase());return(t==null?void 0:t.icon)||Ls},UM=[{value:"__all__",label:"All Members (General)"},{value:"FOUNDING",label:"Founding Members"},{value:"GOLD",label:"Gold Members"},{value:"SILVER",label:"Silver Members"},{value:"GUEST",label:"Pay-to-Play"}],MDe=ba({icon:gt().min(1,"Icon is required"),title:gt().min(1,"Title is required"),description:gt().optional(),tierId:gt().optional(),sortOrder:a0.number().default(0)});function $De(){const{toast:e}=mt(),[t,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),{data:u=[],isLoading:d}=de({queryKey:["/api/admin/member-benefits"]}),f=qs({resolver:zs(MDe),defaultValues:{icon:"gift",title:"",description:"",tierId:"",sortOrder:0}}),h=be({mutationFn:async g=>await ye("POST","/api/admin/member-benefits",g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit created successfully"}),r(!1),f.reset()},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),p=be({mutationFn:async({id:g,data:w})=>await ye("PATCH",`/api/admin/member-benefits/${g}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit updated successfully"}),r(!1),a(null),f.reset()},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),y=be({mutationFn:async g=>await ye("DELETE",`/api/admin/member-benefits/${g}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/member-benefits"]}),re.invalidateQueries({queryKey:["/api/member-benefits"]}),e({title:"Benefit deleted successfully"}),o(!1),c(null)},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}}),m=g=>{a(g),f.reset({icon:g.icon||"gift",title:g.title,description:g.description||"",tierId:g.tierId||"",sortOrder:g.sortOrder||0}),r(!0)},j=g=>{n?p.mutate({id:n.id,data:g}):h.mutate(g)},b=()=>{l&&y.mutate(l)};if(d)return s.jsx(st,{title:"Member Benefits",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ie,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});const v=[...u].sort((g,w)=>(g.sortOrder||0)-(w.sortOrder||0));return s.jsx(st,{title:"Member Benefits",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-member-benefits-title",children:"Member Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage membership benefit cards displayed on the membership page"})]}),s.jsxs(yt,{open:t,onOpenChange:g=>{r(g),g||(a(null),f.reset())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-benefit",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Add Benefit"]})}),s.jsxs(vt,{children:[s.jsx(bt,{children:s.jsx(jt,{children:n?"Edit Benefit":"Add Benefit"})}),s.jsx(Ks,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(j),className:"space-y-4",children:[s.jsx(et,{control:f.control,name:"icon",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Icon"}),s.jsxs(kt,{onValueChange:g.onChange,value:g.value,children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-benefit-icon",children:s.jsx(Ct,{placeholder:"Select an icon"})})}),s.jsx(_t,{children:Q7.map(w=>{const N=w.icon;return s.jsx(Se,{value:w.value,"data-testid":`select-icon-${w.value}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(N,{className:"w-4 h-4"}),s.jsx("span",{children:w.label})]})},w.value)})})]}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"title",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Title"}),s.jsx(Je,{children:s.jsx(X,{...g,placeholder:"e.g., Priority Booking","data-testid":"input-benefit-title"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"description",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Description"}),s.jsx(Je,{children:s.jsx(ct,{...g,placeholder:"Brief description of this benefit",rows:3,"data-testid":"input-benefit-description"})}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"tierId",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Membership Tier"}),s.jsxs(kt,{onValueChange:w=>g.onChange(w==="__all__"?null:w),value:g.value||"__all__",children:[s.jsx(Je,{children:s.jsx(Nt,{"data-testid":"select-benefit-tier",children:s.jsx(Ct,{placeholder:"Select tier (optional)"})})}),s.jsx(_t,{children:UM.map(w=>s.jsx(Se,{value:w.value,"data-testid":`select-tier-${w.value}`,children:w.label},w.value))})]}),s.jsx(nt,{})]})}),s.jsx(et,{control:f.control,name:"sortOrder",render:({field:g})=>s.jsxs(Qe,{children:[s.jsx(Xe,{children:"Sort Order"}),s.jsx(Je,{children:s.jsx(X,{type:"number",...g,"data-testid":"input-benefit-sort-order"})}),s.jsx(nt,{})]})}),s.jsxs($,{type:"submit",className:"w-full",disabled:h.isPending||p.isPending,"data-testid":"button-save-benefit",children:[(h.isPending||p.isPending)&&s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}),n?"Update":"Create"," Benefit"]})]})})]})]})]}),v.length===0?s.jsx(se,{children:s.jsxs(ae,{className:"py-12 text-center",children:[s.jsx(jb,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Member Benefits"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add benefits to display on the membership page."})]})}):s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map(g=>{var N;const w=RDe(g.icon);return s.jsxs(se,{"data-testid":`card-benefit-${g.id}`,children:[s.jsx(Be,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(w,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(g),"data-testid":`button-edit-benefit-${g.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>{c(g.id),o(!0)},"data-testid":`button-delete-benefit-${g.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})]})]})}),s.jsxs(ae,{children:[s.jsx(We,{className:"text-base mb-1",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.tierId&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-primary/10 text-primary font-medium",children:((N=UM.find(_=>_.value===g.tierId))==null?void 0:N.label)||g.tierId}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Sort: ",g.sortOrder||0]})]})]})]},g.id)})}),s.jsx(Zf,{open:i,onOpenChange:o,children:s.jsxs(ru,{children:[s.jsxs(nu,{children:[s.jsx(au,{children:"Are you sure?"}),s.jsx(iu,{children:"This will delete the member benefit. This action cannot be undone."})]}),s.jsxs(su,{children:[s.jsx(lu,{disabled:y.isPending,children:"Cancel"}),s.jsxs(ou,{onClick:b,disabled:y.isPending,"data-testid":"button-confirm-delete",children:[y.isPending?s.jsx(Ie,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete"]})]})]})})]})})}function DDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/blogs"]}),f=be({mutationFn:async v=>await ye("POST","/api/admin/blogs",v),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post created successfully"}),a(!1),y()},onError:v=>{console.error("Create blog error:",v),e({title:"Failed to create blog post",description:v.message||"Please check your input and try again",variant:"destructive"})}}),h=be({mutationFn:async({id:v,data:g})=>await ye("PATCH",`/api/admin/blogs/${v}`,g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post updated successfully"}),a(!1),r(null),y()},onError:v=>{console.error("Update blog error:",v),e({title:"Failed to update blog post",description:v.message||"Please check your input and try again",variant:"destructive"})}}),p=be({mutationFn:async v=>await ye("DELETE",`/api/admin/blogs/${v}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/blogs"]}),re.invalidateQueries({queryKey:["/api/blogs"]}),e({title:"Blog post deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete blog post",variant:"destructive"})}}),y=()=>{c({title:"",slug:"",excerpt:"",content:"",featuredImageUrl:"",author:"",category:"",tags:"",readTimeMinutes:5,isPublished:!1,isFeatured:!1,sortOrder:0})},m=v=>{var g;r(v),c({title:v.title,slug:v.slug,excerpt:v.excerpt||"",content:v.content||"",featuredImageUrl:v.featuredImageUrl||"",author:v.author||"",category:v.category||"",tags:((g=v.tags)==null?void 0:g.join(", "))||"",readTimeMinutes:v.readTimeMinutes||5,isPublished:v.isPublished??!1,isFeatured:v.isFeatured??!1,sortOrder:v.sortOrder||0}),a(!0)},j=()=>{const v={...l,readTimeMinutes:Number(l.readTimeMinutes)||5,sortOrder:Number(l.sortOrder)||0,tags:l.tags?l.tags.split(",").map(g=>g.trim()).filter(Boolean):[],publishedAt:l.isPublished?new Date().toISOString():null};t?h.mutate({id:t.id,data:v}):f.mutate(v)},b=v=>v.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return d?s.jsx(st,{title:"Blog Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Blog Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Create and manage blog posts and news articles."}),s.jsxs(yt,{open:n,onOpenChange:v=>{a(v),v||(r(null),y())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-blog",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Blog Post"]})}),s.jsxs(vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Blog Post":"Add New Blog Post"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title"}),s.jsx(X,{id:"title",value:l.title,onChange:v=>{c({...l,title:v.target.value,slug:t?l.slug:b(v.target.value)})},"data-testid":"input-blog-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"slug",children:"URL Slug"}),s.jsx(X,{id:"slug",value:l.slug,onChange:v=>c({...l,slug:v.target.value}),"data-testid":"input-blog-slug"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(z,{htmlFor:"excerpt",children:"Excerpt (Short Description)"}),s.jsx(ct,{id:"excerpt",value:l.excerpt,onChange:v=>c({...l,excerpt:v.target.value}),rows:2,"data-testid":"input-blog-excerpt"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(z,{htmlFor:"content",children:"Content"}),s.jsx(ct,{id:"content",value:l.content,onChange:v=>c({...l,content:v.target.value}),rows:10,"data-testid":"input-blog-content"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"featuredImageUrl",children:"Featured Image URL"}),s.jsx(X,{id:"featuredImageUrl",value:l.featuredImageUrl,onChange:v=>c({...l,featuredImageUrl:v.target.value}),"data-testid":"input-blog-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"author",children:"Author"}),s.jsx(X,{id:"author",value:l.author,onChange:v=>c({...l,author:v.target.value}),"data-testid":"input-blog-author"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"category",children:"Category"}),s.jsx(X,{id:"category",value:l.category,onChange:v=>c({...l,category:v.target.value}),placeholder:"e.g., News, Events, Tips","data-testid":"input-blog-category"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"tags",children:"Tags (comma-separated)"}),s.jsx(X,{id:"tags",value:l.tags,onChange:v=>c({...l,tags:v.target.value}),placeholder:"e.g., padel, tournament, tips","data-testid":"input-blog-tags"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"readTime",children:"Read Time (minutes)"}),s.jsx(X,{id:"readTime",type:"number",value:l.readTimeMinutes,onChange:v=>c({...l,readTimeMinutes:parseInt(v.target.value)||5}),"data-testid":"input-blog-readtime"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:v=>c({...l,sortOrder:parseInt(v.target.value)||0}),"data-testid":"input-blog-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isPublished",checked:l.isPublished,onCheckedChange:v=>c({...l,isPublished:v}),"data-testid":"switch-blog-published"}),s.jsx(z,{htmlFor:"isPublished",children:"Published"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:v=>c({...l,isFeatured:v}),"data-testid":"switch-blog-featured"}),s.jsx(z,{htmlFor:"isFeatured",children:"Featured"})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs($,{onClick:j,disabled:f.isPending||h.isPending,"data-testid":"button-save-blog",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Blog Post"]})})]})]})]}),s.jsx(se,{children:s.jsx(ae,{className:"p-0",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"Title"}),s.jsx(ce,{children:"Author"}),s.jsx(ce,{children:"Category"}),s.jsx(ce,{children:"Status"}),s.jsx(ce,{children:"Created"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsxs(Tr,{children:[u==null?void 0:u.map(v=>s.jsxs(Ze,{"data-testid":`row-blog-${v.id}`,children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[v.title,v.isFeatured&&s.jsx(xa,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})}),s.jsx(ne,{children:v.author||"-"}),s.jsx(ne,{children:v.category||"-"}),s.jsx(ne,{children:v.isPublished?s.jsxs(ue,{variant:"default",className:"gap-1",children:[s.jsx(as,{className:"w-3 h-3"})," Published"]}):s.jsxs(ue,{variant:"secondary",className:"gap-1",children:[s.jsx(eo,{className:"w-3 h-3"})," Draft"]})}),s.jsx(ne,{children:v.createdAt?rs(new Date(v.createdAt),"MMM d, yyyy"):"-"}),s.jsx(ne,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>m(v),"data-testid":`button-edit-blog-${v.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsxs(Zf,{open:i===v.id,onOpenChange:g=>!g&&o(null),children:[s.jsx(kP,{asChild:!0,children:s.jsx($,{size:"icon",variant:"ghost",onClick:()=>o(v.id),"data-testid":`button-delete-blog-${v.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})}),s.jsxs(ru,{children:[s.jsxs(nu,{children:[s.jsx(au,{children:"Delete Blog Post"}),s.jsxs(iu,{children:['Are you sure you want to delete "',v.title,'"? This action cannot be undone.']})]}),s.jsxs(su,{children:[s.jsx(lu,{disabled:p.isPending,children:"Cancel"}),s.jsx(ou,{onClick:()=>p.mutate(v.id),disabled:p.isPending,"data-testid":"button-confirm-delete-blog",children:p.isPending?"Deleting...":"Delete"})]})]})]})]})})]},v.id)),!(u!=null&&u.length)&&s.jsx(Ze,{children:s.jsx(ne,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'No blog posts yet. Click "Add Blog Post" to create your first one.'})})]})]})})})]})})}function LDe(){const{toast:e}=mt(),[t,r]=x.useState(null),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0}),{data:u,isLoading:d}=de({queryKey:["/api/admin/testimonials"]}),{data:f}=de({queryKey:["/api/facilities"]}),h=be({mutationFn:async g=>await ye("POST","/api/admin/testimonials",g),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial created successfully"}),a(!1),m()},onError:()=>{e({title:"Failed to create testimonial",variant:"destructive"})}}),p=be({mutationFn:async({id:g,data:w})=>await ye("PATCH",`/api/admin/testimonials/${g}`,w),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial updated successfully"}),a(!1),r(null),m()},onError:()=>{e({title:"Failed to update testimonial",variant:"destructive"})}}),y=be({mutationFn:async g=>await ye("DELETE",`/api/admin/testimonials/${g}`),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials"]}),re.invalidateQueries({queryKey:["/api/testimonials/featured"]}),e({title:"Testimonial deleted successfully"}),o(null)},onError:()=>{e({title:"Failed to delete testimonial",variant:"destructive"})}}),m=()=>{c({name:"",title:"",company:"",avatarUrl:"",quote:"",rating:5,facilityId:"",isFeatured:!1,isActive:!0,sortOrder:0})},j=g=>{r(g),c({name:g.name,title:g.title||"",company:g.company||"",avatarUrl:g.avatarUrl||"",quote:g.quote,rating:g.rating||5,facilityId:g.facilityId||"",isFeatured:g.isFeatured??!1,isActive:g.isActive??!0,sortOrder:g.sortOrder||0}),a(!0)},b=()=>{const g={...l,facilityId:l.facilityId||null};t?p.mutate({id:t.id,data:g}):h.mutate(g)},v=g=>Array.from({length:5}).map((w,N)=>s.jsx(xa,{className:`w-4 h-4 ${N<g?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},N));return d?s.jsx(st,{title:"Testimonials Management",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(st,{title:"Testimonials Management",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Manage customer testimonials and reviews displayed on the website."}),s.jsxs(yt,{open:n,onOpenChange:g=>{a(g),g||(r(null),m())},children:[s.jsx(Zr,{asChild:!0,children:s.jsxs($,{"data-testid":"button-add-testimonial",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"})," Add Testimonial"]})}),s.jsxs(vt,{className:"max-w-2xl",children:[s.jsx(bt,{children:s.jsx(jt,{children:t?"Edit Testimonial":"Add New Testimonial"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"name",children:"Name"}),s.jsx(X,{id:"name",value:l.name,onChange:g=>c({...l,name:g.target.value}),"data-testid":"input-testimonial-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Title/Role"}),s.jsx(X,{id:"title",value:l.title,onChange:g=>c({...l,title:g.target.value}),placeholder:"e.g., Founding Member","data-testid":"input-testimonial-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"company",children:"Company (Optional)"}),s.jsx(X,{id:"company",value:l.company,onChange:g=>c({...l,company:g.target.value}),"data-testid":"input-testimonial-company"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"avatarUrl",children:"Avatar URL (Optional)"}),s.jsx(X,{id:"avatarUrl",value:l.avatarUrl,onChange:g=>c({...l,avatarUrl:g.target.value}),"data-testid":"input-testimonial-avatar"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(z,{htmlFor:"quote",children:"Quote"}),s.jsx(ct,{id:"quote",value:l.quote,onChange:g=>c({...l,quote:g.target.value}),rows:4,"data-testid":"input-testimonial-quote"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"rating",children:"Rating (1-5)"}),s.jsxs(kt,{value:l.rating.toString(),onValueChange:g=>c({...l,rating:parseInt(g)}),children:[s.jsx(Nt,{"data-testid":"select-testimonial-rating",children:s.jsx(Ct,{})}),s.jsx(_t,{children:[1,2,3,4,5].map(g=>s.jsxs(Se,{value:g.toString(),"data-testid":`select-rating-${g}`,children:[g," Star",g!==1?"s":""]},g))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"facilityId",children:"Associated Facility (Optional)"}),s.jsxs(kt,{value:l.facilityId,onValueChange:g=>c({...l,facilityId:g==="none"?"":g}),children:[s.jsx(Nt,{"data-testid":"select-testimonial-facility",children:s.jsx(Ct,{placeholder:"Select facility"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"none","data-testid":"select-facility-none",children:"None"}),f==null?void 0:f.map(g=>s.jsx(Se,{value:g.id,"data-testid":`select-facility-${g.id}`,children:g.name},g.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(X,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:g=>c({...l,sortOrder:parseInt(g.target.value)||0}),"data-testid":"input-testimonial-sortorder"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isActive",checked:l.isActive,onCheckedChange:g=>c({...l,isActive:g}),"data-testid":"switch-testimonial-active"}),s.jsx(z,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qt,{id:"isFeatured",checked:l.isFeatured,onCheckedChange:g=>c({...l,isFeatured:g}),"data-testid":"switch-testimonial-featured"}),s.jsx(z,{htmlFor:"isFeatured",children:"Featured"})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsxs($,{onClick:b,disabled:h.isPending||p.isPending,"data-testid":"button-save-testimonial",children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),t?"Update":"Create"," Testimonial"]})})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u==null?void 0:u.map(g=>s.jsx(se,{"data-testid":`card-testimonial-${g.id}`,children:s.jsxs(ae,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(zd,{className:"h-12 w-12",children:[s.jsx(Wd,{src:g.avatarUrl||void 0,alt:g.name}),s.jsx(Kd,{children:g.name.charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:g.name}),g.isFeatured&&s.jsx(ue,{variant:"default",className:"text-xs",children:"Featured"}),!g.isActive&&s.jsx(ue,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),(g.title||g.company)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.title,g.title&&g.company?" at ":"",g.company]}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:v(g.rating||5)})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>j(g),"data-testid":`button-edit-testimonial-${g.id}`,children:s.jsx(Kr,{className:"w-4 h-4"})}),s.jsxs(Zf,{open:i===g.id,onOpenChange:w=>!w&&o(null),children:[s.jsx(kP,{asChild:!0,children:s.jsx($,{size:"icon",variant:"ghost",onClick:()=>o(g.id),"data-testid":`button-delete-testimonial-${g.id}`,children:s.jsx(ur,{className:"w-4 h-4"})})}),s.jsxs(ru,{children:[s.jsxs(nu,{children:[s.jsx(au,{children:"Delete Testimonial"}),s.jsxs(iu,{children:['Are you sure you want to delete the testimonial from "',g.name,'"? This action cannot be undone.']})]}),s.jsxs(su,{children:[s.jsx(lu,{disabled:y.isPending,children:"Cancel"}),s.jsx(ou,{onClick:()=>y.mutate(g.id),disabled:y.isPending,"data-testid":"button-confirm-delete-testimonial",children:y.isPending?"Deleting...":"Delete"})]})]})]})]})]}),s.jsxs("div",{className:"mt-4 relative pl-4 border-l-2 border-muted",children:[s.jsx(j3,{className:"absolute -left-2.5 -top-1 w-4 h-4 text-muted-foreground bg-card"}),s.jsx("p",{className:"text-sm italic text-muted-foreground",children:g.quote})]})]})},g.id)),!(u!=null&&u.length)&&s.jsx(se,{className:"col-span-2",children:s.jsx(ae,{className:"py-12 text-center text-muted-foreground",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})})]})]})})}const FDe={USER:"User",EDITOR:"Editor (Reception)",ADMIN:"Admin",SUPER_ADMIN:"Super Admin"},UDe={USER:"outline",EDITOR:"secondary",ADMIN:"default",SUPER_ADMIN:"destructive"};function BDe(){const{toast:e}=mt(),[t,r]=x.useState(""),[n,a]=x.useState("all"),[i,o]=x.useState(null),[l,c]=x.useState(""),[u,d]=x.useState(!1),{data:f,isLoading:h}=de({queryKey:["/api/admin/users"]}),{data:p}=de({queryKey:["/api/auth/user"]}),y=be({mutationFn:async({userId:g,role:w})=>await ye("PATCH",`/api/admin/users/${g}`,{role:w}),onSuccess:()=>{re.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Role Updated",description:"User role has been updated successfully."}),d(!1),o(null),c("")},onError:g=>{e({title:"Error",description:g.message||"Failed to update user role.",variant:"destructive"})}}),m=(f==null?void 0:f.filter(g=>{var _,S,C;const w=((_=g.email)==null?void 0:_.toLowerCase().includes(t.toLowerCase()))||((S=g.firstName)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))||((C=g.lastName)==null?void 0:C.toLowerCase().includes(t.toLowerCase())),N=n==="all"||g.role===n;return w&&N}))??[],j=g=>{o(g),c(g.role),d(!0)},b=()=>{i&&l&&y.mutate({userId:i.id,role:l})};return(p==null?void 0:p.role)==="SUPER_ADMIN"?s.jsxs(st,{title:"User Role Management",children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs(se,{children:[s.jsx(Be,{children:s.jsxs(We,{className:"flex items-center gap-2",children:[s.jsx(UQ,{className:"w-5 h-5"}),"Manage User Roles"]})}),s.jsxs(ae,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(X,{placeholder:"Search by name or email...",value:t,onChange:g=>r(g.target.value),className:"pl-9","data-testid":"input-user-search"})]}),s.jsxs(kt,{value:n,onValueChange:a,children:[s.jsx(Nt,{className:"w-[180px]","data-testid":"select-role-filter",children:s.jsx(Ct,{placeholder:"Filter by role"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"all",children:"All Roles"}),s.jsx(Se,{value:"USER",children:"Users"}),s.jsx(Se,{value:"EDITOR",children:"Editors"}),s.jsx(Se,{value:"ADMIN",children:"Admins"}),s.jsx(Se,{value:"SUPER_ADMIN",children:"Super Admins"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(se,{children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)??0})]}),s.jsx(Nr,{className:"w-8 h-8 text-muted-foreground"})]})})}),s.jsx(se,{children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Editors"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(g=>g.role==="EDITOR").length)??0})]})})}),s.jsx(se,{children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(g=>g.role==="ADMIN").length)??0})]})})}),s.jsx(se,{children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Super Admins"}),s.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.filter(g=>g.role==="SUPER_ADMIN").length)??0})]})})})]}),h?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ar,{children:[s.jsx(Or,{children:s.jsxs(Ze,{children:[s.jsx(ce,{children:"User"}),s.jsx(ce,{children:"Email"}),s.jsx(ce,{children:"Current Role"}),s.jsx(ce,{className:"text-right",children:"Actions"})]})}),s.jsx(Tr,{children:m.length===0?s.jsx(Ze,{children:s.jsx(ne,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):m.map(g=>{var w,N;return s.jsxs(Ze,{"data-testid":`row-user-${g.id}`,children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:g.profileImageUrl?s.jsx("img",{src:g.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):s.jsxs("span",{className:"text-xs font-medium",children:[(w=g.firstName)==null?void 0:w[0],(N=g.lastName)==null?void 0:N[0]]})}),s.jsxs("span",{className:"font-medium",children:[g.firstName," ",g.lastName]})]})}),s.jsx(ne,{className:"text-muted-foreground",children:g.email}),s.jsx(ne,{children:s.jsx(ue,{variant:UDe[g.role]||"outline",children:FDe[g.role]||g.role})}),s.jsx(ne,{className:"text-right",children:s.jsx($,{variant:"outline",size:"sm",onClick:()=>j(g),disabled:g.id===(p==null?void 0:p.id),"data-testid":`button-edit-role-${g.id}`,children:"Change Role"})})]},g.id)})})]})})]})]}),s.jsxs(se,{children:[s.jsx(Be,{children:s.jsx(We,{children:"Role Permissions"})}),s.jsx(ae,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"outline",children:"USER"}),s.jsx("span",{className:"font-medium",children:"Regular User"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can make bookings, register for events, and manage their own profile."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"secondary",children:"EDITOR"}),s.jsx("span",{className:"font-medium",children:"Editor (Reception Staff)"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Can view and manage bookings, process membership applications, view members, and manage certifications. Cannot edit site content, CMS, or settings."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"default",children:"ADMIN"}),s.jsx("span",{className:"font-medium",children:"Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full access to all admin features including CMS, site settings, facilities, events, and content management."})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ue,{variant:"destructive",children:"SUPER_ADMIN"}),s.jsx("span",{className:"font-medium",children:"Super Administrator"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All admin permissions plus ability to manage user roles and promote/demote other users."})]})]})})]})]}),s.jsx(yt,{open:u,onOpenChange:d,children:s.jsxs(vt,{children:[s.jsxs(bt,{children:[s.jsx(jt,{children:"Change User Role"}),s.jsxs(_n,{children:["Update the role for ",i==null?void 0:i.firstName," ",i==null?void 0:i.lastName]})]}),s.jsx("div",{className:"py-4",children:s.jsxs(kt,{value:l,onValueChange:g=>c(g),children:[s.jsx(Nt,{"data-testid":"select-new-role",children:s.jsx(Ct,{placeholder:"Select new role"})}),s.jsxs(_t,{children:[s.jsx(Se,{value:"USER",children:"User"}),s.jsx(Se,{value:"EDITOR",children:"Editor (Reception)"}),s.jsx(Se,{value:"ADMIN",children:"Admin"}),s.jsx(Se,{value:"SUPER_ADMIN",children:"Super Admin"})]})]})}),s.jsxs(hc,{children:[s.jsx($,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx($,{onClick:b,disabled:y.isPending||!l,"data-testid":"button-confirm-role-change",children:y.isPending?"Updating...":"Update Role"})]})]})})]}):s.jsx(st,{title:"User Management",children:s.jsx("div",{className:"p-6",children:s.jsx(se,{children:s.jsxs(ae,{className:"p-8 text-center",children:[s.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"Only Super Admins can manage user roles."})]})})})})}function VDe(){const{data:e,isLoading:t}=de({queryKey:["/api/blogs"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs(s.Fragment,{children:[s.jsx(ir,{}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("section",{className:"relative py-20 bg-gradient-to-b from-primary/10 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4","data-testid":"text-blog-title",children:"News & Updates"}),s.jsx("p",{className:"text-lg text-muted-foreground","data-testid":"text-blog-subtitle",children:"Stay updated with the latest news, tips, and happenings at The Quarterdeck"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsxs(se,{children:[s.jsx(Le,{className:"h-48 w-full rounded-t-lg"}),s.jsxs(Be,{children:[s.jsx(Le,{className:"h-6 w-3/4"}),s.jsx(Le,{className:"h-4 w-1/2 mt-2"})]}),s.jsxs(ae,{children:[s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-5/6 mt-2"})]})]},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're working on bringing you exciting content. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(xa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Posts"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(BM,{blog:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Latest Posts"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(BM,{blog:a},a.id))})]})]})})]}),s.jsx(or,{})]})}function BM({blog:e,featured:t=!1}){return s.jsxs(se,{className:`overflow-hidden hover-elevate transition-all ${t?"md:col-span-1":""}`,"data-testid":`card-blog-${e.id}`,children:[e.featuredImageUrl&&s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.featuredImageUrl,alt:e.title,className:"w-full h-full object-cover"}),e.category&&s.jsx(ue,{className:"absolute top-3 left-3",variant:"secondary",children:e.category})]}),s.jsxs(Be,{className:"pb-2",children:[s.jsx(ge,{href:`/blog/${e.slug}`,children:s.jsx("h3",{className:"text-xl font-semibold hover:text-primary transition-colors line-clamp-2 cursor-pointer",children:e.title})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-2",children:[e.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xr,{className:"w-3.5 h-3.5"}),rs(new Date(e.publishedAt),"MMM d, yyyy")]}),e.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bt,{className:"w-3.5 h-3.5"}),e.readTimeMinutes," min read"]})]})]}),s.jsx(ae,{className:"pb-2",children:e.excerpt&&s.jsx("p",{className:"text-muted-foreground line-clamp-3",children:e.excerpt})}),s.jsx(Bv,{className:"pt-2",children:s.jsx(ge,{href:`/blog/${e.slug}`,children:s.jsxs($,{variant:"ghost",className:"gap-2 p-0 h-auto","data-testid":`button-read-blog-${e.id}`,children:["Read More ",s.jsx(yb,{className:"w-4 h-4"})]})})})]})}function qDe(){var a;const{slug:e}=pb(),{data:t,isLoading:r,error:n}=de({queryKey:["/api/blogs",e]});return r?s.jsxs(s.Fragment,{children:[s.jsx(ir,{}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx(Le,{className:"h-8 w-1/3 mb-4"}),s.jsx(Le,{className:"h-12 w-3/4 mb-4"}),s.jsx(Le,{className:"h-6 w-1/2 mb-8"}),s.jsx(Le,{className:"h-64 w-full mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-5/6"}),s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-4/5"})]})]}),s.jsx(or,{})]}):n||!t?s.jsxs(s.Fragment,{children:[s.jsx(ir,{}),s.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The blog post you're looking for doesn't exist or has been removed."}),s.jsx(ge,{href:"/blog",children:s.jsxs($,{children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})]}),s.jsx(or,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{}),s.jsx("article",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(ge,{href:"/blog",children:s.jsxs($,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-blog",children:[s.jsx(On,{className:"w-4 h-4"}),"Back to Blog"]})}),s.jsxs("header",{className:"mb-8",children:[t.category&&s.jsx(ue,{className:"mb-4",variant:"secondary",children:t.category}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4","data-testid":"text-blogpost-title",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[t.author&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(gs,{className:"w-4 h-4"}),t.author]}),t.publishedAt&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(xr,{className:"w-4 h-4"}),rs(new Date(t.publishedAt),"MMMM d, yyyy")]}),t.readTimeMinutes&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Bt,{className:"w-4 h-4"}),t.readTimeMinutes," min read"]})]})]}),t.featuredImageUrl&&s.jsx("div",{className:"relative mb-8 rounded-lg overflow-hidden",children:s.jsx("img",{src:t.featuredImageUrl,alt:t.title,className:"w-full h-auto max-h-[500px] object-cover","data-testid":"img-blogpost-featured"})}),t.excerpt&&s.jsx("p",{className:"text-xl text-muted-foreground mb-8 font-medium border-l-4 border-primary pl-4",children:t.excerpt}),s.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none","data-testid":"content-blogpost",children:(a=t.content)==null?void 0:a.split(`
`).map((i,o)=>i.trim()&&s.jsx("p",{children:i},o))}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"mt-12 pt-8 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((i,o)=>s.jsx(ue,{variant:"outline",children:i},o))})]})]})}),s.jsx(or,{})]})}function zDe(){qr({title:"Testimonials",description:"Read what our members say about The Quarterdeck. Discover why we're Islamabad's premier sports and recreation complex."});const{data:e,isLoading:t}=de({queryKey:["/api/testimonials"]}),r=(e==null?void 0:e.filter(a=>a.isFeatured))||[],n=(e==null?void 0:e.filter(a=>!a.isFeatured))||[];return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(ir,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx(qn,{title:"What Our Members Say",subtitle:"Hear from our community about their experience at The Quarterdeck",testId:"text-testimonials-title"}),s.jsx("section",{className:"container mx-auto px-4 py-12",children:t?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>s.jsx(se,{children:s.jsxs(ae,{className:"p-6",children:[s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-5/6 mb-4"}),s.jsx(Le,{className:"h-4 w-3/4"}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx(Le,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsx(Le,{className:"h-4 w-24"}),s.jsx(Le,{className:"h-3 w-16 mt-1"})]})]})]})},a))}):(e==null?void 0:e.length)===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground",children:"We're collecting feedback from our members. Check back soon!"})]}):s.jsxs(s.Fragment,{children:[r.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(xa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),"Featured Reviews"]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map(a=>s.jsx(VM,{testimonial:a,featured:!0},a.id))})]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Member Reviews"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>s.jsx(VM,{testimonial:a},a.id))})]})]})})]}),s.jsx(or,{})]})}function VM({testimonial:e,featured:t=!1}){var n;const r=a=>{const i=a||5;return Array.from({length:5}).map((o,l)=>s.jsx(xa,{className:`w-4 h-4 ${l<i?"text-yellow-500 fill-yellow-500":"text-muted-foreground"}`},l))};return s.jsx(se,{className:`overflow-hidden hover-elevate transition-all ${t?"border-primary/20":""}`,"data-testid":`card-testimonial-${e.id}`,children:s.jsxs(ae,{className:"p-6",children:[s.jsx(j3,{className:"w-8 h-8 text-primary/20 mb-4"}),s.jsxs("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:['"',e.quote,'"']}),s.jsx("div",{className:"flex items-center gap-1 mb-4",children:r(e.rating)}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:((n=e.name)==null?void 0:n.charAt(0))||"M"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.name}),e.title&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e.title})]})]})]})})}function WDe(){const{adminPath:e,isAuthorized:t,isLoading:r}=Jp();if(r||!t)return null;const n=`/${e}`;return s.jsxs(k5,{children:[s.jsx(He,{path:`${n}/homepage`,component:R$e}),s.jsx(He,{path:`${n}/coming-soon`,component:M$e}),s.jsx(He,{path:`${n}/venues`,component:EDe}),s.jsx(He,{path:`${n}/facilities`,component:$$e}),s.jsx(He,{path:`${n}/roadmap`,component:H$e}),s.jsx(He,{path:`${n}/events`,component:G$e}),s.jsx(He,{path:`${n}/pricing`,component:Q$e}),s.jsx(He,{path:`${n}/membership-tiers`,component:Y$e}),s.jsx(He,{path:`${n}/announcements`,component:X$e}),s.jsx(He,{path:`${n}/careers`,component:J$e}),s.jsx(He,{path:`${n}/rules`,component:Z$e}),s.jsx(He,{path:`${n}/policies`,component:eDe}),s.jsx(He,{path:`${n}/gallery`,component:tDe}),s.jsx(He,{path:`${n}/site-images`,component:rDe}),s.jsx(He,{path:`${n}/hero-sections`,component:CDe}),s.jsx(He,{path:`${n}/ctas`,component:PDe}),s.jsx(He,{path:`${n}/bookings`,component:nDe}),s.jsx(He,{path:`${n}/branding`,component:sDe}),s.jsx(He,{path:`${n}/faq`,component:NDe}),s.jsx(He,{path:`${n}/members`,component:_De}),s.jsx(He,{path:`${n}/membership-applications`,component:ADe}),s.jsx(He,{path:`${n}/certifications`,component:ODe}),s.jsx(He,{path:`${n}/comparison-features`,component:IDe}),s.jsx(He,{path:`${n}/member-benefits`,component:$De}),s.jsx(He,{path:`${n}/blogs`,component:DDe}),s.jsx(He,{path:`${n}/testimonials`,component:LDe}),s.jsx(He,{path:`${n}/user-management`,component:BDe}),s.jsx(He,{path:`${n}/site-settings`,component:SDe}),s.jsx(He,{path:n,component:C$e})]})}function KDe(){const{adminPath:e,isAuthorized:t}=Jp(),[r]=Mn();return t&&e&&r.startsWith(`/${e}`)?null:s.jsxs(k5,{children:[s.jsx(He,{path:"/booking",component:Coe}),s.jsx(He,{path:"/profile",component:Foe}),s.jsx(He,{path:"/events/:slug",component:sce}),s.jsx(He,{path:"/events",component:Zle}),s.jsx(He,{path:"/leaderboard",component:ice}),s.jsx(He,{path:"/gallery",component:oce}),s.jsx(He,{path:"/vision",component:lce}),s.jsx(He,{path:"/facilities/:slug",component:wce}),s.jsx(He,{path:"/facilities",component:mce}),s.jsx(He,{path:"/roadmap",component:_ce}),s.jsx(He,{path:"/rules",component:Wce}),s.jsx(He,{path:"/careers",component:Qce}),s.jsx(He,{path:"/terms",component:Yce}),s.jsx(He,{path:"/privacy",component:Xce}),s.jsx(He,{path:"/coming-soon",component:Zce}),s.jsx(He,{path:"/contact",component:tue}),s.jsx(He,{path:"/faq",component:sue}),s.jsx(He,{path:"/membership",component:Gue}),s.jsx(He,{path:"/blog/:slug",component:qDe}),s.jsx(He,{path:"/blog",component:VDe}),s.jsx(He,{path:"/testimonials",component:zDe}),s.jsx(He,{path:"/certifications",component:Que}),s.jsx(He,{path:"/updates",component:Yue}),s.jsx(He,{path:"/login",component:mde}),s.jsx(He,{path:"/signup",component:bde}),s.jsx(He,{path:"/forgot-password",component:wde}),s.jsx(He,{path:"/verify-email",component:Sde}),s.jsx(He,{path:"/auth/callback",component:kde}),s.jsx(He,{path:"/auth/reset-password",component:_de}),s.jsx(He,{path:"/",component:roe}),s.jsx(He,{component:Xue})]})}function HDe(){return wte(),s.jsxs(s.Fragment,{children:[s.jsx(WDe,{}),s.jsx(KDe,{})]})}function GDe(){const[e,t]=x.useState(!1),r=x.useCallback(()=>{t(!0)},[]);return x.useEffect(()=>{},[]),s.jsx(UH,{client:re,children:s.jsx(wJ,{children:s.jsx(ute,{children:s.jsxs(PJ,{children:[!e&&s.jsx(jte,{onLoaded:r,minDisplayTime:800}),s.jsx(RY,{}),s.jsx(bte,{}),s.jsx(HDe,{}),s.jsx(dte,{}),s.jsx(yte,{})]})})})})}f5(document.getElementById("root")).render(s.jsx(GDe,{}));
