[u805618386@my-kul-web2051 public_html]$ # Check if there are error logs
ls -la /home/u805618386/domains/thequarterdeck.pk/logs/ 2>/dev/null
cat /home/u805618386/domains/thequarterdeck.pk/logs/error.log 2>/dev/null | tail -50

# Try running the app manually from the correct directory
cd /home/u805618386/domains/thequarterdeck.pk/public_html/
node server.js
.env file not found
/home/u805618386/domains/thequarterdeck.pk/public_html/dist/index.cjs:70
`);cl.write(E4.format.apply(E4,e))}}Object.defineProperty(dn.exports,"isWin",{get:function(){return Od},set:function(t){Od=t}});dn.exports.warnTo=function(t){var e=cl;return cl=t,e};dn.exports.getFileName=function(t){var e=t||process.env,i=e.PGPASSFILE||(Od?_4.join(e.APPDATA||"./","postgresql","pgpass.conf"):_4.join(e.HOME||"./",".pgpass"));return i};dn.exports.usePgPass=function(t,e){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:Od?!0:(e=e||"<unkn>",GG(t.mode)?t.mode&(zG|HG)?(rb('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',e),!1):!0:(rb('WARNING: password file "%s" is not a plain file',e),!1))};var KG=dn.exports.match=function(t,e){return to.slice(0,-1).reduce(function(i,r,n){return n==1&&Number(t[r]||$G)===Number(e[r])?i&&!0:i&&(e[r]==="*"||e[r]===t[r])},!0)};dn.exports.getPassword=function(t,e,i){var r,n=e.pipe(UG());function a(c){var l=XG(c);l&&YG(l)&&KG(t,l)&&(r=l[WG],n.end())}var s=function(){e.destroy(),i(r)},o=function(c){e.destroy(),rb("WARNING: error on reading file: %s",c),i(void 0)};e.on("error",o),n.on("data",a).on("end",s).on("error",o)};var XG=dn.exports.parseLine=function(t){if(t.length<11||t.match(/^\s+#/))return null;for(var e="",i="",r=0,n=0,a=0,s={},o=!1,c=function(u,p,d){var f=t.substring(p,d);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(f=f.replace(/\\([:\\])/g,"$1")),s[to[u]]=f},l=0;l<t.length-1;l+=1){if(e=t.charAt(l+1),i=t.charAt(l),o=r==ib-1,o){c(r,n);break}l>=0&&e==":"&&i!=="\\"&&(c(r,n,l+1),n=l+2,r+=1)}return s=Object.keys(s).length===ib?s:null,s},YG=dn.exports.isValidEntry=function(t){for(var e={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},i=0;i<to.length;i+=1){var r=e[i],n=t[to[i]]||"",a=r(n);if(!a)return!1}return!0}});var T4=h((Ege,nb)=>{"use strict";var _ge=require("path"),A4=require("fs"),jd=S4();nb.exports=function(t,e){var i=jd.getFileName();A4.stat(i,function(r,n){if(r||!jd.usePgPass(n,i))return e(void 0);var a=A4.createReadStream(i);jd.getPassword(t,a,e)})};nb.exports.warnTo=jd.warnTo});var I4=h((Sge,P4)=>{"use strict";var ZG=require("events").EventEmitter,C4=Xs(),ab=GN(),JG=Td(),eW=Cx(),k4=s4(),tW=sl(),iW=tb(),rW=Sx(),Md=class extends ZG{constructor(e){super(),this.connectionParameters=new eW(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let i=e||{};this._Promise=i.Promise||global.Promise,this._types=new JG(i.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!i.enableChannelBinding,this.connection=i.connection||new iW({stream:i.stream,ssl:this.connectionParameters.ssl,keepAlive:i.keepAlive||!1,keepAliveInitialDelayMillis:i.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=i.binary||tW.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=i.connectionTimeoutMillis||0}_errorAllQueries(e){let i=r=>{process.nextTick(()=>{r.handleError(e,this.connection)})};this.activeQuery&&(i(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(i),this.queryQueue.length=0}_connect(e){let i=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let n=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(n)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){i.ssl?r.requestSsl():r.startup(i.getStartupConf())}),r.on("sslconnect",function(){r.startup(i.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{let n=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(n),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(n):this._handleErrorEvent(n):this._connectionError||this._handleErrorEvent(n)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((i,r)=>{this._connect(n=>{n?r(n):i()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let i=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(r=>{if(r!==void 0){if(typeof r!="string"){i.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(r=>{i.emit("error",r)});else if(this.password!==null)e();else try{T4()(this.connectionParameters,n=>{n!==void 0&&(this.connectionParameters.password=this.password=n),e()})}catch(r){this.emit("error",r)}}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(async()=>{try{let i=await rW.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(i)}catch(i){this.emit("error",i)}})}_handleAuthSASL(e){this._checkPgPass(()=>{try{this.saslSession=ab.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(i){this.connection.emit("error",i)}})}async _handleAuthSASLContinue(e){try{await ab.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(i){this.connection.emit("error",i)}}_handleAuthSASLFinal(e){try{ab.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(i){this.connection.emit("error",i)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:i}=this;this.activeQuery=null,this.readyForQuery=!0,i&&i.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let i=this.activeQuery;if(!i){this._handleErrorEvent(e);return}this.activeQuery=null,i.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){if(this.activeQuery==null){let i=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(i);return}this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(){if(this.activeQuery==null){let e=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(e);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){let e=this.connectionParameters,i={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(i.application_name=r),e.replication&&(i.replication=""+e.replication),e.statement_timeout&&(i.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(i.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(i.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(i.options=e.options),i}cancel(e,i){if(e.activeQuery===i){let r=this.connection;this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else e.queryQueue.indexOf(i)!==-1&&e.queryQueue.splice(e.queryQueue.indexOf(i),1)}setTypeParser(e,i,r){return this._types.setTypeParser(e,i,r)}getTypeParser(e,i){return this._types.getTypeParser(e,i)}escapeIdentifier(e){return C4.escapeIdentifier(e)}escapeLiteral(e){return C4.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,i,r){let n,a,s,o,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(s=e.query_timeout||this.connectionParameters.query_timeout,a=n=e,typeof i=="function"&&(n.callback=n.callback||i)):(s=e.query_timeout||this.connectionParameters.query_timeout,n=new k4(e,i,r),n.callback||(a=new this._Promise((l,u)=>{n.callback=(p,d)=>p?u(p):l(d)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=n.callback,o=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{n.handleError(l,this.connection)}),c(l),n.callback=()=>{};let u=this.queryQueue.indexOf(n);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},s),n.callback=(l,u)=>{clearTimeout(o),c(l,u)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"),this.connection)}),a):(this.queryQueue.push(n),this._pulseQueryQueue(),a):(process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),a)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(i=>{this.connection.once("end",i)})}};Md.Query=k4;P4.exports=Md});var j4=h((Age,O4)=>{"use strict";var nW=require("events").EventEmitter,N4=function(){},R4=(t,e)=>{let i=t.findIndex(e);return i===-1?void 0:t.splice(i,1)[0]},sb=class{constructor(e,i,r){this.client=e,this.idleListener=i,this.timeoutId=r}},io=class{constructor(e){this.callback=e}};function aW(){throw new Error("Release called on client which has already been released to the pool.")}function Fd(t,e){if(e)return{callback:e,result:void 0};let i,r,n=function(s,o){s?i(s):r(o)},a=new t(function(s,o){r=s,i=o}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:n,result:a}}function sW(t,e){return function i(r){r.client=e,e.removeListener("error",i),e.on("error",()=>{t.log("additional client error after disconnection due to error",r)}),t._remove(e),t.emit("error",r,e)}}var ob=class extends nW{constructor(e,i){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||i||Dd().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(i=>{this._remove(i.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let i=this._idle.pop();clearTimeout(i.timeoutId);let r=i.client;r.ref&&r.ref();let n=i.idleListener;return this._acquireClient(r,e,n,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,i){let r=R4(this._idle,a=>a.client===e);r!==void 0&&clearTimeout(r.timeoutId),this._clients=this._clients.filter(a=>a!==e);let n=this;e.end(()=>{n.emit("remove",e),typeof i=="function"&&i()})}connect(e){if(this.ending){let n=new Error("Cannot use a pool after calling end on the pool");return e?e(n):this.Promise.reject(n)}let i=Fd(this.Promise,e),r=i.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new io(i.callback)),r;let n=(o,c,l)=>{clearTimeout(s),i.callback(o,c,l)},a=new io(n),s=setTimeout(()=>{R4(this._pendingQueue,o=>o.callback===n),a.timedOut=!0,i.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(a),r}return this.newClient(new io(i.callback)),r}newClient(e){let i=new this.Client(this.options);this._clients.push(i);let r=sW(this,i);this.log("checking client timeout");let n,a=!1;this.options.connectionTimeoutMillis&&(n=setTimeout(()=>{this.log("ending client due to timeout"),a=!0,i.connection?i.connection.stream.destroy():i.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),i.connect(s=>{if(n&&clearTimeout(n),i.on("error",r),s)this.log("client failed to connect",s),this._clients=this._clients.filter(o=>o!==i),a&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),e.timedOut||e.callback(s,void 0,N4);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let o=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(i),this._idle.findIndex(l=>l.client===i)!==-1&&this._acquireClient(i,new io((l,u,p)=>p()),r,!1)},this.options.maxLifetimeSeconds*1e3);o.unref(),i.once("end",()=>clearTimeout(o))}return this._acquireClient(i,e,r,!0)}})}_acquireClient(e,i,r,n){n&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),i.timedOut?n&&this.options.verify?this.options.verify(e,e.release):e.release():n&&this.options.verify?this.options.verify(e,a=>{if(a)return e.release(a),i.callback(a,void 0,N4);i.callback(void 0,e,e.release)}):i.callback(void 0,e,e.release)}_releaseOnce(e,i){let r=!1;return n=>{r&&aW(),r=!0,this._release(e,i,n)}}_release(e,i,r){if(e.on("error",i),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let a;this.options.idleTimeoutMillis&&this._isAboveMin()&&(a=setTimeout(()=>{this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&a.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new sb(e,i,a)),this._pulseQueue()}query(e,i,r){if(typeof e=="function"){let a=Fd(this.Promise,e);return setImmediate(function(){return a.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),a.result}typeof i=="function"&&(r=i,i=void 0);let n=Fd(this.Promise,r);return r=n.callback,this.connect((a,s)=>{if(a)return r(a);let o=!1,c=l=>{o||(o=!0,s.release(l),r(l))};s.once("error",c),this.log("dispatching query");try{s.query(e,i,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!o)return o=!0,s.release(l),l?r(l):r(void 0,u)})}catch(l){return s.release(l),r(l)}}),n.result}end(e){if(this.log("ending"),this.ending){let r=new Error("Called end on pool more than once");return e?e(r):this.Promise.reject(r)}this.ending=!0;let i=Fd(this.Promise,e);return this._endCallback=i.callback,this._pulseQueue(),i.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,i)=>e+(this._expired.has(i)?1:0),0)}get totalCount(){return this._clients.length}};O4.exports=ob});var D4=h((Tge,F4)=>{"use strict";var M4=require("events").EventEmitter,oW=require("util"),cb=Xs(),ro=F4.exports=function(t,e,i){M4.call(this),t=cb.normalizeQueryConfig(t,e,i),this.text=t.text,this.values=t.values,this.name=t.name,this.queryMode=t.queryMode,this.callback=t.callback,this.state="new",this._arrayMode=t.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(r){r==="row"&&(this._emitRowEvents=!0)}.bind(this))};oW.inherits(ro,M4);var cW={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};ro.prototype.handleError=function(t){let e=this.native.pq.resultErrorFields();if(e)for(let i in e){let r=cW[i]||i;t[r]=e[i]}this.callback?this.callback(t):this.emit("error",t),this.state="error"};ro.prototype.then=function(t,e){return this._getPromise().then(t,e)};ro.prototype.catch=function(t){return this._getPromise().catch(t)};ro.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this)),this._promise)};ro.prototype.submit=function(t){this.state="running";let e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;let i=function(r,n,a){if(t.native.arrayMode=!1,setImmediate(function(){e.emit("_done")}),r)return e.handleError(r);e._emitRowEvents&&(a.length>1?n.forEach((s,o)=>{s.forEach(c=>{e.emit("row",c,a[o])})}):n.forEach(function(s){e.emit("row",s,a)})),e.state="end",e.emit("end",a),e.callback&&e.callback(null,a)};if(process.domain&&(i=process.domain.bind(i)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let r=(this.values||[]).map(cb.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){let n=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return i(n)}return t.native.execute(this.name,r,i)}return t.native.prepare(this.name,this.text,r.length,function(n){return n?i(n):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,r,i))})}else if(this.values){if(!Array.isArray(this.values)){let n=new Error("Query values must be an array");return i(n)}let r=this.values.map(cb.prepareValue);t.native.query(this.text,r,i)}else this.queryMode==="extended"?t.native.query(this.text,[],i):t.native.query(this.text,i)}});var $4=h((Cge,U4)=>{"use strict";var L4;try{L4=require("pg-native")}catch(t){throw t}var lW=Td(),q4=require("events").EventEmitter,uW=require("util"),pW=Cx(),B4=D4(),Ii=U4.exports=function(t){q4.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new lW(t.types),this.native=new L4({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let e=this.connectionParameters=new pW(t);t.nativeConnectionString&&(e.nativeConnectionString=t.nativeConnectionString),this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};Ii.Query=B4;uW.inherits(Ii,q4);Ii.prototype._errorAllQueries=function(t){let e=i=>{process.nextTick(()=>{i.native=this.native,i.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0};Ii.prototype._connect=function(t){let e=this;if(this._connecting){process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(i,r){if(e.connectionParameters.nativeConnectionString&&(r=e.connectionParameters.nativeConnectionString),i)return t(i);e.native.connect(r,function(n){if(n)return e.native.end(),t(n);e._connected=!0,e.native.on("error",function(a){e._queryable=!1,e._errorAllQueries(a),e.emit("error",a)}),e.native.on("notification",function(a){e.emit("notification",{channel:a.relname,payload:a.extra})}),e.emit("connect"),e._pulseQueryQueue(!0),t()})})};Ii.prototype.connect=function(t){if(t){this._connect(t);return}return new this._Promise((e,i)=>{this._connect(r=>{r?i(r):e()})})};Ii.prototype.query=function(t,e,i){let r,n,a,s,o;if(t==null)throw new TypeError("Client was passed a null or undefined query");if(typeof t.submit=="function")a=t.query_timeout||this.connectionParameters.query_timeout,n=r=t,typeof e=="function"&&(t.callback=e);else if(a=t.query_timeout||this.connectionParameters.query_timeout,r=new B4(t,e,i),!r.callback){let c,l;n=new this._Promise((u,p)=>{c=u,l=p}).catch(u=>{throw Error.captureStackTrace(u),u}),r.callback=(u,p)=>u?l(u):c(p)}return a&&(o=r.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{r.handleError(c,this.connection)}),o(c),r.callback=()=>{};let l=this._queryQueue.indexOf(r);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},a),r.callback=(c,l)=>{clearTimeout(s),o(c,l)}),this._queryable?this._ending?(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"))}),n):(this._queryQueue.push(r),this._pulseQueryQueue(),n):(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"))}),n)};Ii.prototype.end=function(t){let e=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t));let i;return t||(i=new this._Promise(function(r,n){t=a=>a?n(a):r()})),this.native.end(function(){e._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{e.emit("end"),t&&t()})}),i};Ii.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};Ii.prototype._pulseQueryQueue=function(t){if(!this._connected||this._hasActiveQuery())return;let e=this._queryQueue.shift();if(!e){t||this.emit("drain");return}this._activeQuery=e,e.submit(this);let i=this;e.once("_done",function(){i._pulseQueryQueue()})};Ii.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel(function(){}):this._queryQueue.indexOf(t)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)};Ii.prototype.ref=function(){};Ii.prototype.unref=function(){};Ii.prototype.setTypeParser=function(t,e,i){return this._types.setTypeParser(t,e,i)};Ii.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}});var lb=h((kge,z4)=>{"use strict";z4.exports=$4()});var Dd=h((Ige,ll)=>{"use strict";var dW=I4(),fW=sl(),mW=tb(),hW=Px(),gW=Xs(),vW=j4(),yW=Td(),{DatabaseError:xW}=Zx(),{escapeIdentifier:bW,escapeLiteral:wW}=Xs(),_W=t=>class extends vW{constructor(i){super(i,t)}},ub=function(t){this.defaults=fW,this.Client=t,this.Query=this.Client.Query,this.Pool=_W(this.Client),this._pools=[],this.Connection=mW,this.types=al(),this.DatabaseError=xW,this.TypeOverrides=yW,this.escapeIdentifier=bW,this.escapeLiteral=wW,this.Result=hW,this.utils=gW};typeof process.env.NODE_PG_FORCE_NATIVE<"u"?ll.exports=new ub(lb()):(ll.exports=new ub(dW),Object.defineProperty(ll.exports,"native",{configurable:!0,enumerable:!1,get(){let t=null;try{t=new ub(lb())}catch(e){if(e.code!=="MODULE_NOT_FOUND")throw e}return Object.defineProperty(ll.exports,"native",{value:t}),t}}))});var qi,Nge,Rge,Oge,jge,Mge,Fge,Dge,Lge,qge,Bge,Uge,Un,Ld=I(()=>{qi=rt(Dd(),1),Nge=qi.default.Client,Rge=qi.default.Pool,Oge=qi.default.Connection,jge=qi.default.types,Mge=qi.default.Query,Fge=qi.default.DatabaseError,Dge=qi.default.escapeIdentifier,Lge=qi.default.escapeLiteral,qge=qi.default.Result,Bge=qi.default.TypeOverrides,Uge=qi.default.defaults,Un=qi.default});var H4,$r,pb,qd,db,fb=I(()=>{Ld();B();hp();Uy();By();Et();Jr();De();({Pool:H4,types:$r}=Un),pb=class extends qp{constructor(e,i,r,n,a,s,o,c){super({sql:i,params:r}),this.client=e,this.params=r,this.logger=n,this.fields=a,this._isResponseInArrayMode=o,this.customResultMapper=c,this.rawQueryConfig={name:s,text:i,types:{getTypeParser:(l,u)=>l===$r.builtins.TIMESTAMPTZ?p=>p:l===$r.builtins.TIMESTAMP?p=>p:l===$r.builtins.DATE?p=>p:l===$r.builtins.INTERVAL?p=>p:$r.getTypeParser(l,u)}},this.queryConfig={name:s,text:i,rowMode:"array",types:{getTypeParser:(l,u)=>l===$r.builtins.TIMESTAMPTZ?p=>p:l===$r.builtins.TIMESTAMP?p=>p:l===$r.builtins.DATE?p=>p:l===$r.builtins.INTERVAL?p=>p:$r.getTypeParser(l,u)}}}static[_]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return ze.startActiveSpan("drizzle.execute",async()=>{let i=_g(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,i);let{fields:r,rawQueryConfig:n,client:a,queryConfig:s,joinsNotNullableMap:o,customResultMapper:c}=this;if(!r&&!c)return ze.startActiveSpan("drizzle.driver.execute",async u=>(u?.setAttributes({"drizzle.query.name":n.name,"drizzle.query.text":n.text,"drizzle.query.params":JSON.stringify(i)}),a.query(n,i)));let l=await ze.startActiveSpan("drizzle.driver.execute",u=>(u?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(i)}),a.query(s,i)));return ze.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(u=>fP(r,u,o)))})}all(e={}){return ze.startActiveSpan("drizzle.execute",()=>{let i=_g(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,i),ze.startActiveSpan("drizzle.driver.execute",r=>(r?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(i)}),this.client.query(this.rawQueryConfig,i).then(n=>n.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},qd=class t extends Bp{constructor(e,i,r,n={}){super(i),this.client=e,this.schema=r,this.options=n,this.logger=n.logger??new mp}static[_]="NodePgSession";logger;prepareQuery(e,i,r,n,a){return new pb(this.client,e.sql,e.params,this.logger,i,r,n,a)}async transaction(e,i){let r=this.client instanceof H4?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,n=new db(this.dialect,r,this.schema);await n.execute(b`begin${i?b` ${n.getTransactionConfigSQL(i)}`:void 0}`);try{let a=await e(n);return await n.execute(b`commit`),a}catch(a){throw await n.execute(b`rollback`),a}finally{this.client instanceof H4&&r.client.release()}}async count(e){let i=await this.execute(e);return Number(i.rows[0].count)}},db=class t extends Up{static[_]="NodePgTransaction";async transaction(e){let i=`sp${this.nestedIndex+1}`,r=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await r.execute(b.raw(`savepoint ${i}`));try{let n=await e(r);return await r.execute(b.raw(`release savepoint ${i}`)),n}catch(n){throw await r.execute(b.raw(`rollback to savepoint ${i}`)),n}}}});function ul(t,e={}){let i=new Rn({casing:e.casing}),r;e.logger===!0?r=new fp:e.logger!==!1&&(r=e.logger);let n;if(e.schema){let c=XP(e.schema,ZP);n={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new mb(t,i,{logger:r}).createSession(n),o=new hb(i,s,n);return o.$client=t,o}function Bd(...t){if(typeof t[0]=="string"){let e=new Un.Pool({connectionString:t[0]});return ul(e,t[1])}if(gP(t[0])){let{connection:e,client:i,...r}=t[0];if(i)return ul(i,r);let n=typeof e=="string"?new Un.Pool({connectionString:e}):new Un.Pool(e);return ul(n,r)}return ul(t[0],t[1])}var mb,hb,V4=I(()=>{Ld();B();hp();Fp();Tp();zc();De();fb();mb=class{constructor(e,i,r={}){this.client=e,this.dialect=i,this.options=r}static[_]="NodePgDriver";createSession(e){return new qd(this.client,this.dialect,e,{logger:this.options.logger})}},hb=class extends Ds{static[_]="NodePgDatabase"};(t=>{function e(i){return ul({},i)}t.mock=e})(Bd||(Bd={}))});var Q4=I(()=>{V4();fb()});function gb(){if(process.env.PGHOST&&process.env.PGUSER&&process.env.PGPASSWORD&&process.env.PGDATABASE){let t=process.env.PGPORT||"5432";return`postgresql://${process.env.PGUSER}:${process.env.PGPASSWORD}@${process.env.PGHOST}:${t}/${process.env.PGDATABASE}`}if(process.env.DATABASE_URL)return process.env.DATABASE_URL;throw new Error("DATABASE_URL must be set or PGHOST/PGUSER/PGPASSWORD/PGDATABASE must be set. Did you forget to provision a database?")}var EW,G4,W4,me,y,Ba=I(()=>{"use strict";Q4();Ld();Da();({Pool:EW}=Un);G4=gb(),W4={connectionString:G4};G4.includes("supabase.co")&&(W4.ssl={rejectUnauthorized:!1});me=new EW(W4),y=Bd(me,{schema:cx})});var X4=h((xve,K4)=>{K4.exports=function(t){var e,i,r=[];return t.on("data",e=function(n,a){r.push(["data",n,a])}),t.on("end",i=function(n,a){r.push(["end",n,a])}),{end:function(){t.removeListener("data",e),t.removeListener("end",i)},resume:function(){this.end();for(var n=0,a=r.length;n<a;++n)t.emit.apply(t,r[n])}}}});var J4=h((bve,Z4)=>{function Y4(){}Y4.prototype.authenticate=function(t,e){throw new Error("Strategy#authenticate must be overridden by subclass")};Z4.exports=Y4});var Ud=h((yb,t2)=>{var e2=J4();yb=t2.exports=e2;yb.Strategy=e2});var bb=h((wve,r2)=>{var SW=X4(),AW=require("util"),i2=Ud();function xb(t,e){typeof t=="function"&&(e=t,t=void 0),t=t||{},i2.call(this),this.name="session",this._key=t.key||"passport",this._deserializeUser=e}AW.inherits(xb,i2);xb.prototype.authenticate=function(t,e){if(!t.session)return this.error(new Error("Login sessions require session support. Did you forget to use `express-session` middleware?"));e=e||{};var i=this,r;if(t.session[this._key]&&(r=t.session[this._key].user),r||r===0){var n=e.pauseStream?SW(t):null;this._deserializeUser(r,t,function(a,s){if(a)return i.error(a);if(!s)delete t.session[i._key].user;else{var o=t._userProperty||"user";t[o]=s}i.pass(),n&&n.resume()})}else i.pass()};r2.exports=xb});var s2=h((_ve,a2)=>{var n2=Ss();function wb(t,e){typeof t=="function"&&(e=t,t=void 0),t=t||{},this._key=t.key||"passport",this._serializeUser=e}wb.prototype.logIn=function(t,e,i,r){if(typeof i=="function"&&(r=i,i={}),i=i||{},!t.session)return r(new Error("Login sessions require session support. Did you forget to use `express-session` middleware?"));var n=this,a=t.session;t.session.regenerate(function(s){if(s)return r(s);n._serializeUser(e,t,function(o,c){if(o)return r(o);i.keepSessionInfo&&n2(t.session,a),t.session[n._key]||(t.session[n._key]={}),t.session[n._key].user=c,t.session.save(function(l){if(l)return r(l);r()})})})};wb.prototype.logOut=function(t,e,i){if(typeof e=="function"&&(i=e,e={}),e=e||{},!t.session)return i(new Error("Login sessions require session support. Did you forget to use `express-session` middleware?"));var r=this;t.session[this._key]&&delete t.session[this._key].user;var n=t.session;t.session.save(function(a){if(a)return i(a);t.session.regenerate(function(s){if(s)return i(s);e.keepSessionInfo&&n2(t.session,n),i()})})};a2.exports=wb});var _b=h((o2,c2)=>{var no=o2=c2.exports={};no.login=no.logIn=function(t,e,i){typeof e=="function"&&(i=e,e={}),e=e||{};var r=this._userProperty||"user",n=e.session===void 0?!0:e.session;if(this[r]=t,n&&this._sessionManager){if(typeof i!="function")throw new Error("req#login requires a callback function");var a=this;this._sessionManager.logIn(this,t,e,function(s){if(s)return a[r]=null,i(s);i()})}else i&&i()};no.logout=no.logOut=function(t,e){typeof t=="function"&&(e=t,t={}),t=t||{};var i=this._userProperty||"user";if(this[i]=null,this._sessionManager){if(typeof e!="function")throw new Error("req#logout requires a callback function");this._sessionManager.logOut(this,t,e)}else e&&e()};no.isAuthenticated=function(){var t=this._userProperty||"user";return!!this[t]};no.isUnauthenticated=function(){return!this.isAuthenticated()}});var u2=h((Eve,l2)=>{var $d=_b();l2.exports=function(e,i){return i=i||{},function(n,a,s){n.login=n.logIn=n.logIn||$d.logIn,n.logout=n.logOut=n.logOut||$d.logOut,n.isAuthenticated=n.isAuthenticated||$d.isAuthenticated,n.isUnauthenticated=n.isUnauthenticated||$d.isUnauthenticated,n._sessionManager=e._sm,i.userProperty&&(n._userProperty=i.userProperty);var o=i.compat===void 0?!0:i.compat;o&&(e._userProperty=i.userProperty||"user",n._passport={},n._passport.instance=e),s()}}});var f2=h((Sve,d2)=>{function p2(t,e){Error.call(this),Error.captureStackTrace(this,arguments.callee),this.name="AuthenticationError",this.message=t,this.status=e||401}p2.prototype.__proto__=Error.prototype;d2.exports=p2});var g2=h((Ave,h2)=>{var m2=require("http"),zd=_b(),TW=f2();h2.exports=function(e,i,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};var a=!0;return Array.isArray(i)||(i=[i],a=!1),function(o,c,l){o.login=o.logIn=o.logIn||zd.logIn,o.logout=o.logOut=o.logOut||zd.logOut,o.isAuthenticated=o.isAuthenticated||zd.isAuthenticated,o.isUnauthenticated=o.isUnauthenticated||zd.isUnauthenticated,o._sessionManager=e._sm;var u=[];function p(){if(n)if(a){var d=u.map(function(D){return D.challenge}),f=u.map(function(D){return D.status});return n(null,!1,d,f)}else return n(null,!1,u[0].challenge,u[0].status);var m=u[0]||{},g=m.challenge||{},w;if(r.failureFlash){var S=r.failureFlash;typeof S=="string"&&(S={type:"error",message:S}),S.type=S.type||"error";var C=S.type||g.type||"error";w=S.message||g.message||g,typeof w=="string"&&o.flash(C,w)}if(r.failureMessage&&(w=r.failureMessage,typeof w=="boolean"&&(w=g.message||g),typeof w=="string"&&(o.session.messages=o.session.messages||[],o.session.messages.push(w))),r.failureRedirect)return c.redirect(r.failureRedirect);for(var T=[],O,L,N=0,j=u.length;N<j;N++)m=u[N],g=m.challenge,L=m.status,O=O||L,typeof g=="string"&&T.push(g);if(c.statusCode=O||401,c.statusCode==401&&T.length&&c.setHeader("WWW-Authenticate",T),r.failWithError)return l(new TW(m2.STATUS_CODES[c.statusCode],O));c.end(m2.STATUS_CODES[c.statusCode])}(function d(f){var m=i[f];if(!m)return p();var g,w;if(typeof m.authenticate=="function")g=m;else{if(w=e._strategy(m),!w)return l(new Error('Unknown authentication strategy "'+m+'"'));g=Object.create(w)}g.success=function(S,C){if(n)return n(null,S,C);C=C||{};var T;if(r.successFlash){var O=r.successFlash;typeof O=="string"&&(O={type:"success",message:O}),O.type=O.type||"success";var L=O.type||C.type||"success";T=O.message||C.message||C,typeof T=="string"&&o.flash(L,T)}if(r.successMessage&&(T=r.successMessage,typeof T=="boolean"&&(T=C.message||C),typeof T=="string"&&(o.session.messages=o.session.messages||[],o.session.messages.push(T))),r.assignProperty){o[r.assignProperty]=S,r.authInfo!==!1?e.transformAuthInfo(C,o,function(N,j){if(N)return l(N);o.authInfo=j,l()}):l();return}o.logIn(S,r,function(N){if(N)return l(N);function j(){if(r.successReturnToOrRedirect){var D=r.successReturnToOrRedirect;return o.session&&o.session.returnTo&&(D=o.session.returnTo,delete o.session.returnTo),c.redirect(D)}if(r.successRedirect)return c.redirect(r.successRedirect);l()}r.authInfo!==!1?e.transformAuthInfo(C,o,function(D,Z){if(D)return l(D);o.authInfo=Z,j()}):j()})},g.fail=function(S,C){typeof S=="number"&&(C=S,S=void 0),u.push({challenge:S,status:C}),d(f+1)},g.redirect=function(S,C){c.statusCode=C||302,c.setHeader("Location",S),c.setHeader("Content-Length","0"),c.end()},g.pass=function(){l()},g.error=function(S){if(n)return n(S);l(S)},g.authenticate(o,r)})(0)}}});var x2=h((v2,y2)=>{var CW=u2(),kW=g2();v2=y2.exports=function(){return{initialize:CW,authenticate:kW}}});var w2=h((Tve,b2)=>{var PW=bb(),IW=s2();function Bi(){this._key="passport",this._strategies={},this._serializers=[],this._deserializers=[],this._infoTransformers=[],this._framework=null,this.init()}Bi.prototype.init=function(){this.framework(x2()()),this.use(new PW({key:this._key},this.deserializeUser.bind(this))),this._sm=new IW({key:this._key},this.serializeUser.bind(this))};Bi.prototype.use=function(t,e){if(e||(e=t,t=e.name),!t)throw new Error("Authentication strategies must have a name");return this._strategies[t]=e,this};Bi.prototype.unuse=function(t){return delete this._strategies[t],this};Bi.prototype.framework=function(t){return this._framework=t,this};Bi.prototype.initialize=function(t){return t=t||{},this._framework.initialize(this,t)};Bi.prototype.authenticate=function(t,e,i){return this._framework.authenticate(this,t,e,i)};Bi.prototype.authorize=function(t,e,i){e=e||{},e.assignProperty="account";var r=this._framework.authorize||this._framework.authenticate;return r(this,t,e,i)};Bi.prototype.session=function(t){return this.authenticate("session",t)};Bi.prototype.serializeUser=function(t,e,i){if(typeof t=="function")return this._serializers.push(t);var r=t;typeof e=="function"&&(i=e,e=void 0);var n=this._serializers;(function a(s,o,c){if(o==="pass"&&(o=void 0),o||c||c===0)return i(o,c);var l=n[s];if(!l)return i(new Error("Failed to serialize user into session"));function u(d,f){a(s+1,d,f)}try{var p=l.length;p==3?l(e,r,u):l(r,u)}catch(d){return i(d)}})(0)};Bi.prototype.deserializeUser=function(t,e,i){if(typeof t=="function")return this._deserializers.push(t);var r=t;typeof e=="function"&&(i=e,e=void 0);var n=this._deserializers;(function a(s,o,c){if(o==="pass"&&(o=void 0),o||c)return i(o,c);if(c===null||c===!1)return i(null,!1);var l=n[s];if(!l)return i(new Error("Failed to deserialize user out of session"));function u(d,f){a(s+1,d,f)}try{var p=l.length;p==3?l(e,r,u):l(r,u)}catch(d){return i(d)}})(0)};Bi.prototype.transformAuthInfo=function(t,e,i){if(typeof t=="function")return this._infoTransformers.push(t);var r=t;typeof e=="function"&&(i=e,e=void 0);var n=this._infoTransformers;(function a(s,o,c){if(o==="pass"&&(o=void 0),o||c)return i(o,c);var l=n[s];if(!l)return i(null,r);function u(f,m){a(s+1,f,m)}try{var p=l.length;if(p==1){var d=l(r);u(null,d)}else p==3?l(e,r,u):l(r,u)}catch(f){return i(f)}})(0)};Bi.prototype._strategy=function(t){return this._strategies[t]};b2.exports=Bi});var S2=h((Ua,E2)=>{var _2=w2(),NW=bb();Ua=E2.exports=new _2;Ua.Passport=Ua.Authenticator=_2;Ua.Strategy=Ud();Ua.strategies={};Ua.strategies.SessionStrategy=NW});var T2=h(A2=>{A2.lookup=function(t,e){if(!t)return null;for(var i=e.split("]").join("").split("["),r=0,n=i.length;r<n;r++){var a=t[i[r]];if(typeof a>"u")return null;if(typeof a!="object")return a;t=a}return null}});var P2=h((kve,k2)=>{var C2=Ud(),RW=require("util"),Hd=T2().lookup;function Eb(t,e){if(typeof t=="function"&&(e=t,t={}),!e)throw new TypeError("LocalStrategy requires a verify callback");this._usernameField=t.usernameField||"username",this._passwordField=t.passwordField||"password",C2.Strategy.call(this),this.name="local",this._verify=e,this._passReqToCallback=t.passReqToCallback}RW.inherits(Eb,C2.Strategy);Eb.prototype.authenticate=function(t,e){e=e||{};var i=Hd(t.body,this._usernameField)||Hd(t.query,this._usernameField),r=Hd(t.body,this._passwordField)||Hd(t.query,this._passwordField);if(!i||!r)return this.fail({message:e.badRequestMessage||"Missing credentials"},400);var n=this;function a(s,o,c){if(s)return n.error(s);if(!o)return n.fail(c);n.success(o,c)}try{n._passReqToCallback?this._verify(t,i,r,a):this._verify(i,r,a)}catch(s){return n.error(s)}};k2.exports=Eb});var R2=h((Sb,N2)=>{var I2=P2();Sb=N2.exports=I2;Sb.Strategy=I2});var j2=h((Pve,O2)=>{var pl=1e3,dl=pl*60,fl=dl*60,ml=fl*24,OW=ml*365.25;O2.exports=function(t,e){e=e||{};var i=typeof t;if(i==="string"&&t.length>0)return jW(t);if(i==="number"&&isNaN(t)===!1)return e.long?FW(t):MW(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function jW(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return i*OW;case"days":case"day":case"d":return i*ml;case"hours":case"hour":case"hrs":case"hr":case"h":return i*fl;case"minutes":case"minute":case"mins":case"min":case"m":return i*dl;case"seconds":case"second":case"secs":case"sec":case"s":return i*pl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function MW(t){return t>=ml?Math.round(t/ml)+"d":t>=fl?Math.round(t/fl)+"h":t>=dl?Math.round(t/dl)+"m":t>=pl?Math.round(t/pl)+"s":t+"ms"}function FW(t){return Vd(t,ml,"day")||Vd(t,fl,"hour")||Vd(t,dl,"minute")||Vd(t,pl,"second")||t+" ms"}function Vd(t,e,i){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+i:Math.ceil(t/e)+" "+i+"s"}});var Cb=h((je,M2)=>{je=M2.exports=Tb.debug=Tb.default=Tb;je.coerce=UW;je.disable=qW;je.enable=LW;je.enabled=BW;je.humanize=j2();je.names=[];je.skips=[];je.formatters={};var Ab;function DW(t){var e=0,i;for(i in t)e=(e<<5)-e+t.charCodeAt(i),e|=0;return je.colors[Math.abs(e)%je.colors.length]}function Tb(t){function e(){if(e.enabled){var i=e,r=+new Date,n=r-(Ab||r);i.diff=n,i.prev=Ab,i.curr=r,Ab=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=je.coerce(a[0]),typeof a[0]!="string"&&a.unshift("%O");var o=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(l,u){if(l==="%%")return l;o++;var p=je.formatters[u];if(typeof p=="function"){var d=a[o];l=p.call(i,d),a.splice(o,1),o--}return l}),je.formatArgs.call(i,a);var c=e.log||je.log||console.log.bind(console);c.apply(i,a)}}return e.namespace=t,e.enabled=je.enabled(t),e.useColors=je.useColors(),e.color=DW(t),typeof je.init=="function"&&je.init(e),e}function LW(t){je.save(t),je.names=[],je.skips=[];for(var e=(typeof t=="string"?t:"").split(/[\s,]+/),i=e.length,r=0;r<i;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),t[0]==="-"?je.skips.push(new RegExp("^"+t.substr(1)+"$")):je.names.push(new RegExp("^"+t+"$")))}function qW(){je.enable("")}function BW(t){var e,i;for(e=0,i=je.skips.length;e<i;e++)if(je.skips[e].test(t))return!1;for(e=0,i=je.names.length;e<i;e++)if(je.names[e].test(t))return!0;return!1}function UW(t){return t instanceof Error?t.stack||t.message:t}});var L2=h((mi,D2)=>{mi=D2.exports=Cb();mi.log=HW;mi.formatArgs=zW;mi.save=VW;mi.load=F2;mi.useColors=$W;mi.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:QW();mi.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function $W(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}mi.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function zW(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+mi.humanize(this.diff),!!e){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(a){a!=="%%"&&(r++,a==="%c"&&(n=r))}),t.splice(n,0,i)}}function HW(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function VW(t){try{t==null?mi.storage.removeItem("debug"):mi.storage.debug=t}catch{}}function F2(){var t;try{t=mi.storage.debug}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}mi.enable(F2());function QW(){try{return window.localStorage}catch{}}});var $2=h((Bt,U2)=>{var q2=require("tty"),hl=require("util");Bt=U2.exports=Cb();Bt.init=JW;Bt.log=XW;Bt.formatArgs=KW;Bt.save=YW;Bt.load=B2;Bt.useColors=WW;Bt.colors=[6,2,3,4,5,1];Bt.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var i=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(n,a){return a.toUpperCase()}),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[i]=r,t},{});var ao=parseInt(process.env.DEBUG_FD,10)||2;ao!==1&&ao!==2&&hl.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var GW=ao===1?process.stdout:ao===2?process.stderr:ZW(ao);function WW(){return"colors"in Bt.inspectOpts?!!Bt.inspectOpts.colors:q2.isatty(ao)}Bt.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,hl.inspect(t,this.inspectOpts).split(`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    

Error: DATABASE_URL must be set or PGHOST/PGUSER/PGPASSWORD/PGDATABASE must be set. Did you forget to provision a database?
    at gb (/home/u805618386/domains/thequarterdeck.pk/public_html/dist/index.cjs:70:31791)
    at /home/u805618386/domains/thequarterdeck.pk/public_html/dist/index.cjs:70:31995
    at /home/u805618386/domains/thequarterdeck.pk/public_html/dist/index.cjs:1:225
    at Object.<anonymous> (/home/u805618386/domains/thequarterdeck.pk/public_html/dist/index.cjs:147:30804)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Module.require (node:internal/modules/cjs/loader:1289:19)
    at require (node:internal/modules/helpers:182:18)

Node.js v20.19.6
[u805618386@my-kul-web2051 public_html]$
